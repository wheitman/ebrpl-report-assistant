function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(n,e)})(e)}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function asyncGeneratorStep(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(r,i)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){asyncGeneratorStep(o,r,i,s,a,"next",e)}function a(e){asyncGeneratorStep(o,r,i,s,a,"throw",e)}s(void 0)}))}}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{0:function(e,t,n){e.exports=n("zUnb")},"6Joi":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("mrSG"),o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,s=n("q/0M"),a=n("zVF4"),u=n("x7I3"),c=n("S+S0"),l=new s.Logger("@firebase/firestore");function h(){return l.logLevel}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(l.logLevel<=s.LogLevel.DEBUG){var r=t.map(p);l.debug.apply(l,i.__spreadArrays(["Firestore (7.17.1): "+e],r))}}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(l.logLevel<=s.LogLevel.ERROR){var r=t.map(p);l.error.apply(l,i.__spreadArrays(["Firestore (7.17.1): "+e],r))}}function p(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(i){return e}}function v(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (7.17.1) INTERNAL ASSERTION FAILED: "+e;throw d(t),new Error(t)}function g(e,t){e||v()}function y(e,t){return e}function m(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var _=function(){function e(){}return e.t=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=m(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function b(e,t){return e<t?-1:e>t?1:0}function k(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function w(e){return e+"\0"}var C=function(e,t,n,r,i){this.s=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i},S=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"i",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e.prototype.o=function(e){return b(this.projectId,e.projectId)||b(this.database,e.database)},e}();function E(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function I(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function T(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var x=function(){function e(e,t){this.h=e,this.u=t,this.l={}}return e.prototype.get=function(e){var t=this.h(e),n=this.l[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.u(o[0],e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.h(e),r=this.l[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.u(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.l[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.h(e),n=this.l[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.u(n[r][0],e))return 1===n.length?delete this.l[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){I(this.l,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];e(o[0],o[1])}}))},e.prototype._=function(){return T(this.l)},e}(),A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},O=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return i.__extends(t,e),t}(Error),D=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new O(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new O(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new O(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new O(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype.T=function(e){return this.seconds===e.seconds?b(this.nanoseconds,e.nanoseconds):b(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),R=function(){function e(e){this.timestamp=e}return e.I=function(t){return new e(t)},e.min=function(){return new e(new D(0,0))},e.prototype.o=function(e){return this.timestamp.T(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.m=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.A=function(){return this.timestamp},e}(),P=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&v(),void 0===n?n=e.length-t:n>e.length-t&&v(),this.segments=e,this.offset=t,this.R=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.R},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.P(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.g(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.V=function(e){return this.g(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},e.prototype.p=function(){return this.g(this.segments,this.offset,this.length-1)},e.prototype.v=function(){return this.segments[this.offset]},e.prototype.S=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype._=function(){return 0===this.length},e.prototype.D=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.C=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.F=function(){return this.segments.slice(this.offset,this.limit())},e.P=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.g=function(e,n,r){return new t(e,n,r)},t.prototype.$=function(){return this.F().join("/")},t.prototype.toString=function(){return this.$()},t.N=function(e){if(e.indexOf("//")>=0)throw new O(A.INVALID_ARGUMENT,"Invalid path ("+e+"). Paths must not contain // in them.");return new t(e.split("/").filter((function(e){return e.length>0})))},t.k=function(){return new t([])},t}(P),F=/^[_a-zA-Z][_a-zA-Z0-9]*$/,L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.g=function(e,n,r){return new t(e,n,r)},t.M=function(e){return F.test(e)},t.prototype.$=function(){return this.F().map((function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),t.M(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.$()},t.prototype.O=function(){return 1===this.length&&"__name__"===this.get(0)},t.L=function(){return new t(["__name__"])},t.q=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new O(A.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<e.length;){var a=e[i];if("\\"===a){if(i+1===e.length)throw new O(A.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new O(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new O(A.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.k=function(){return new t([])},t}(P),M=function(){function e(e){this.path=e}return e.B=function(t){return new e(N.N(t).V(5))},e.prototype.U=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===N.P(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.P=function(e,t){return N.P(e.path,t.path)},e.W=function(e){return e.length%2==0},e.j=function(t){return new e(new N(t.slice()))},e}();function V(e){return null==e}function j(e){return-0===e&&1/e==-1/0}function U(e){return"number"==typeof e&&Number.isInteger(e)&&!j(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var B=function(e,t,n,r,i,o,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.K=null};function z(e,t,n,r,i,o,s){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new B(e,t,n,r,i,o,s)}function G(e){var t=y(e);if(null===t.K){var n=t.path.$();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.$()+e.op.toString()+Ne(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return(t=e).field.$()+t.dir;var t})).join(","),V(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=xn(t.startAt)),t.endAt&&(n+="|ub:",n+=xn(t.endAt)),t.K=n}return t.K}function H(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Pn(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(o=t.filters[r],!((i=e.filters[r])instanceof kn&&o instanceof kn&&i.op===o.op&&i.field.isEqual(o.field)&&Oe(i.value,o.value)))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!On(e.startAt,t.startAt)&&On(e.endAt,t.endAt)}function q(e){return M.W(e.path)&&null===e.collectionGroup&&0===e.filters.length}var W=function(){function e(e){this.G=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return btoa(this.G)},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.G)},e.prototype.H=function(){return 2*this.G.length},e.prototype.o=function(e){return b(this.G,e.G)},e.prototype.isEqual=function(e){return this.G===e.G},e}();W.Y=new W("");var $,Q,K=function(){function e(e,t,n,r,i,o,s){void 0===i&&(i=R.min()),void 0===o&&(o=R.min()),void 0===s&&(s=W.Y),this.target=e,this.targetId=t,this.J=n,this.sequenceNumber=r,this.X=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return e.prototype.Z=function(t){return new e(this.target,this.targetId,this.J,t,this.X,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.tt=function(t,n){return new e(this.target,this.targetId,this.J,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.et=function(t){return new e(this.target,this.targetId,this.J,this.sequenceNumber,this.X,t,this.resumeToken)},e}(),Y=function(e){this.count=e};function Z(e){switch(e){case A.OK:return v();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0;default:return v()}}function X(e){if(void 0===e)return d("GRPC error has no .code"),A.UNKNOWN;switch(e){case $.OK:return A.OK;case $.CANCELLED:return A.CANCELLED;case $.UNKNOWN:return A.UNKNOWN;case $.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case $.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case $.INTERNAL:return A.INTERNAL;case $.UNAVAILABLE:return A.UNAVAILABLE;case $.UNAUTHENTICATED:return A.UNAUTHENTICATED;case $.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case $.NOT_FOUND:return A.NOT_FOUND;case $.ALREADY_EXISTS:return A.ALREADY_EXISTS;case $.PERMISSION_DENIED:return A.PERMISSION_DENIED;case $.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case $.ABORTED:return A.ABORTED;case $.OUT_OF_RANGE:return A.OUT_OF_RANGE;case $.UNIMPLEMENTED:return A.UNIMPLEMENTED;case $.DATA_LOSS:return A.DATA_LOSS;default:return v()}}(Q=$||($={}))[Q.OK=0]="OK",Q[Q.CANCELLED=1]="CANCELLED",Q[Q.UNKNOWN=2]="UNKNOWN",Q[Q.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Q[Q.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Q[Q.NOT_FOUND=5]="NOT_FOUND",Q[Q.ALREADY_EXISTS=6]="ALREADY_EXISTS",Q[Q.PERMISSION_DENIED=7]="PERMISSION_DENIED",Q[Q.UNAUTHENTICATED=16]="UNAUTHENTICATED",Q[Q.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Q[Q.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Q[Q.ABORTED=10]="ABORTED",Q[Q.OUT_OF_RANGE=11]="OUT_OF_RANGE",Q[Q.UNIMPLEMENTED=12]="UNIMPLEMENTED",Q[Q.INTERNAL=13]="INTERNAL",Q[Q.UNAVAILABLE=14]="UNAVAILABLE",Q[Q.DATA_LOSS=15]="DATA_LOSS";var J=function(){function e(e,t){this.P=e,this.root=t||te.EMPTY}return e.prototype.nt=function(t,n){return new e(this.P,this.root.nt(t,n,this.P).copy(null,null,te.st,null,null))},e.prototype.remove=function(t){return new e(this.P,this.root.remove(t,this.P).copy(null,null,te.st,null,null))},e.prototype.get=function(e){for(var t=this.root;!t._();){var n=this.P(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n._();){var r=this.P(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype._=function(){return this.root._()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.it=function(){return this.root.it()},e.prototype.rt=function(){return this.root.rt()},e.prototype.ot=function(e){return this.root.ot(e)},e.prototype.forEach=function(e){this.ot((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.ot((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.ht=function(e){return this.root.ht(e)},e.prototype.at=function(){return new ee(this.root,null,this.P,!1)},e.prototype.ut=function(e){return new ee(this.root,e,this.P,!1)},e.prototype.ct=function(){return new ee(this.root,null,this.P,!0)},e.prototype.lt=function(e){return new ee(this.root,e,this.P,!0)},e}(),ee=function(){function e(e,t,n,r){this._t=r,this.ft=[];for(var i=1;!e._();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this._t?e.left:e.right;else{if(0===i){this.ft.push(e);break}this.ft.push(e),e=this._t?e.right:e.left}}return e.prototype.dt=function(){var e=this.ft.pop(),t={key:e.key,value:e.value};if(this._t)for(e=e.left;!e._();)this.ft.push(e),e=e.right;else for(e=e.right;!e._();)this.ft.push(e),e=e.left;return t},e.prototype.wt=function(){return this.ft.length>0},e.prototype.Tt=function(){if(0===this.ft.length)return null;var e=this.ft[this.ft.length-1];return{key:e.key,value:e.value}},e}(),te=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype._=function(){return!1},e.prototype.ot=function(e){return this.left.ot(e)||e(this.key,this.value)||this.right.ot(e)},e.prototype.ht=function(e){return this.right.ht(e)||e(this.key,this.value)||this.left.ht(e)},e.prototype.min=function(){return this.left._()?this:this.left.min()},e.prototype.it=function(){return this.min().key},e.prototype.rt=function(){return this.right._()?this.key:this.right.rt()},e.prototype.nt=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.nt(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.nt(e,t,n))).Et()},e.prototype.It=function(){if(this.left._())return e.EMPTY;var t=this;return t.left.At()||t.left.left.At()||(t=t.Rt()),(t=t.copy(null,null,null,t.left.It(),null)).Et()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left._()||i.left.At()||i.left.left.At()||(i=i.Rt()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.At()&&(i=i.Pt()),i.right._()||i.right.At()||i.right.left.At()||(i=i.gt()),0===n(t,i.key)){if(i.right._())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.It())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.Et()},e.prototype.At=function(){return this.color},e.prototype.Et=function(){var e=this;return e.right.At()&&!e.left.At()&&(e=e.Vt()),e.left.At()&&e.left.left.At()&&(e=e.Pt()),e.left.At()&&e.right.At()&&(e=e.yt()),e},e.prototype.Rt=function(){var e=this.yt();return e.right.left.At()&&(e=(e=(e=e.copy(null,null,null,null,e.right.Pt())).Vt()).yt()),e},e.prototype.gt=function(){var e=this.yt();return e.left.left.At()&&(e=(e=e.Pt()).yt()),e},e.prototype.Vt=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.Pt=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.yt=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.pt=function(){var e=this.bt();return Math.pow(2,e)<=this.size+1},e.prototype.bt=function(){if(this.At()&&this.left.At())throw v();if(this.right.At())throw v();var e=this.left.bt();if(e!==this.right.bt())throw v();return e+(this.At()?0:1)},e}();te.EMPTY=null,te.RED=!0,te.st=!1,te.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw v()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.nt=function(e,t,n){return new te(e,t)},e.prototype.remove=function(e,t){return this},e.prototype._=function(){return!0},e.prototype.ot=function(e){return!1},e.prototype.ht=function(e){return!1},e.prototype.it=function(){return null},e.prototype.rt=function(){return null},e.prototype.At=function(){return!1},e.prototype.pt=function(){return!0},e.prototype.bt=function(){return 0},e}());var ne=function(){function e(e){this.P=e,this.data=new J(this.P)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.it()},e.prototype.last=function(){return this.data.rt()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.ot((function(t,n){return e(t),!1}))},e.prototype.vt=function(e,t){for(var n=this.data.ut(e[0]);n.wt();){var r=n.dt();if(this.P(r.key,e[1])>=0)return;t(r.key)}},e.prototype.St=function(e,t){var n;for(n=void 0!==t?this.data.ut(t):this.data.at();n.wt();)if(!e(n.dt().key))return},e.prototype.Dt=function(e){var t=this.data.ut(e);return t.wt()?t.dt().key:null},e.prototype.at=function(){return new re(this.data.at())},e.prototype.ut=function(e){return new re(this.data.ut(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).nt(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype._=function(){return this.data._()},e.prototype.Ct=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.at(),r=t.data.at();n.wt();){var i=n.dt().key,o=r.dt().key;if(0!==this.P(i,o))return!1}return!0},e.prototype.F=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.P);return n.data=t,n},e}(),re=function(){function e(e){this.Ft=e}return e.prototype.dt=function(){return this.Ft.dt().key},e.prototype.wt=function(){return this.Ft.wt()},e}(),ie=new J(M.P);function oe(){return ie}function se(){return oe()}var ae=new J(M.P);function ue(){return ae}var ce=new J(M.P),le=new ne(M.P);function he(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=le,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var fe=new ne(b);function de(){return fe}var pe=function(){function e(e){this.P=e?function(t,n){return e(t,n)||M.P(t.key,n.key)}:function(e,t){return M.P(e.key,t.key)},this.$t=ue(),this.Nt=new J(this.P)}return e.kt=function(t){return new e(t.P)},e.prototype.has=function(e){return null!=this.$t.get(e)},e.prototype.get=function(e){return this.$t.get(e)},e.prototype.first=function(){return this.Nt.it()},e.prototype.last=function(){return this.Nt.rt()},e.prototype._=function(){return this.Nt._()},e.prototype.indexOf=function(e){var t=this.$t.get(e);return t?this.Nt.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.Nt.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.Nt.ot((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.$t.nt(e.key,e),t.Nt.nt(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.$t.remove(e),this.Nt.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.Nt.at(),r=t.Nt.at();n.wt();){var i=n.dt().key,o=r.dt().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.P=this.P,r.$t=t,r.Nt=n,r},e}(),ve=function(){function e(){this.xt=new J(M.P)}return e.prototype.track=function(e){var t=e.doc.key,n=this.xt.get(t);n?0!==e.type&&3===n.type?this.xt=this.xt.nt(t,e):3===e.type&&1!==n.type?this.xt=this.xt.nt(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.xt=this.xt.nt(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.xt=this.xt.nt(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.xt=this.xt.remove(t):1===e.type&&2===n.type?this.xt=this.xt.nt(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.xt=this.xt.nt(t,{type:2,doc:e.doc}):v():this.xt=this.xt.nt(t,e)},e.prototype.Mt=function(){var e=[];return this.xt.ot((function(t,n){e.push(n)})),e},e}(),ge=function(){function e(e,t,n,r,i,o,s,a){this.query=e,this.docs=t,this.Ot=n,this.docChanges=r,this.Lt=i,this.fromCache=o,this.qt=s,this.Bt=a}return e.Ut=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,pe.kt(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.Lt._()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.qt===e.qt&&this.Lt.isEqual(e.Lt)&&gn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.Ot.isEqual(e.Ot)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),ye=function(){function e(e,t,n,r,i){this.X=e,this.Wt=t,this.Qt=n,this.jt=r,this.Kt=i}return e.Gt=function(t,n){var r=new Map;return r.set(t,me.zt(t,n)),new e(R.min(),r,de(),oe(),he())},e}(),me=function(){function e(e,t,n,r,i){this.resumeToken=e,this.Ht=t,this.Yt=n,this.Jt=r,this.Xt=i}return e.zt=function(t,n){return new e(W.Y,n,he(),he(),he())},e}(),_e=function(e,t,n,r){this.Zt=e,this.removedTargetIds=t,this.key=n,this.te=r},be=function(e,t){this.targetId=e,this.ee=t},ke=function(e,t,n,r){void 0===n&&(n=W.Y),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},we=function(){function e(){this.ne=0,this.se=Ee(),this.ie=W.Y,this.re=!1,this.oe=!0}return Object.defineProperty(e.prototype,"Ht",{get:function(){return this.re},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.ie},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"he",{get:function(){return 0!==this.ne},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ae",{get:function(){return this.oe},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){e.H()>0&&(this.oe=!0,this.ie=e)},e.prototype.ce=function(){var e=he(),t=he(),n=he();return this.se.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:v()}})),new me(this.ie,this.re,e,t,n)},e.prototype.le=function(){this.oe=!1,this.se=Ee()},e.prototype._e=function(e,t){this.oe=!0,this.se=this.se.nt(e,t)},e.prototype.fe=function(e){this.oe=!0,this.se=this.se.remove(e)},e.prototype.de=function(){this.ne+=1},e.prototype.we=function(){this.ne-=1},e.prototype.Te=function(){this.oe=!0,this.re=!0},e}(),Ce=function(){function e(e){this.Ee=e,this.Ie=new Map,this.me=oe(),this.Ae=Se(),this.Re=new ne(b)}return e.prototype.Pe=function(e){for(var t=0,n=e.Zt;t<n.length;t++){var r=n[t];e.te instanceof nn?this.ge(r,e.te):e.te instanceof rn&&this.Ve(r,e.key,e.te)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)this.Ve(o[i],e.key,e.te)},e.prototype.ye=function(e){var t=this;this.pe(e,(function(n){var r=t.be(n);switch(e.state){case 0:t.ve(n)&&r.ue(e.resumeToken);break;case 1:r.we(),r.he||r.le(),r.ue(e.resumeToken);break;case 2:r.we(),r.he||t.removeTarget(n);break;case 3:t.ve(n)&&(r.Te(),r.ue(e.resumeToken));break;case 4:t.ve(n)&&(t.Se(n),r.ue(e.resumeToken));break;default:v()}}))},e.prototype.pe=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ie.forEach((function(e,r){n.ve(r)&&t(r)}))},e.prototype.De=function(e){var t=e.targetId,n=e.ee.count,r=this.Ce(t);if(r){var i=r.target;if(q(i))if(0===n){var o=new M(i.path);this.Ve(t,o,new rn(o,R.min()))}else g(1===n);else this.Fe(t)!==n&&(this.Se(t),this.Re=this.Re.add(t))}},e.prototype.$e=function(e){var t=this,n=new Map;this.Ie.forEach((function(r,i){var o=t.Ce(i);if(o){if(r.Ht&&q(o.target)){var s=new M(o.target.path);null!==t.me.get(s)||t.Ne(i,s)||t.Ve(i,s,new rn(s,e))}r.ae&&(n.set(i,r.ce()),r.le())}}));var r=he();this.Ae.forEach((function(e,n){var i=!0;n.St((function(e){var n=t.Ce(e);return!n||2===n.J||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new ye(e,n,this.Re,this.me,r);return this.me=oe(),this.Ae=Se(),this.Re=new ne(b),i},e.prototype.ge=function(e,t){if(this.ve(e)){var n=this.Ne(e,t.key)?2:0;this.be(e)._e(t.key,n),this.me=this.me.nt(t.key,t),this.Ae=this.Ae.nt(t.key,this.ke(t.key).add(e))}},e.prototype.Ve=function(e,t,n){if(this.ve(e)){var r=this.be(e);this.Ne(e,t)?r._e(t,1):r.fe(t),this.Ae=this.Ae.nt(t,this.ke(t).delete(e)),n&&(this.me=this.me.nt(t,n))}},e.prototype.removeTarget=function(e){this.Ie.delete(e)},e.prototype.Fe=function(e){var t=this.be(e).ce();return this.Ee.xe(e).size+t.Yt.size-t.Xt.size},e.prototype.de=function(e){this.be(e).de()},e.prototype.be=function(e){var t=this.Ie.get(e);return t||(t=new we,this.Ie.set(e,t)),t},e.prototype.ke=function(e){var t=this.Ae.get(e);return t||(t=new ne(b),this.Ae=this.Ae.nt(e,t)),t},e.prototype.ve=function(e){var t=null!==this.Ce(e);return t||f("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.Ce=function(e){var t=this.Ie.get(e);return t&&t.he?null:this.Ee.Me(e)},e.prototype.Se=function(e){var t=this;this.Ie.set(e,new we),this.Ee.xe(e).forEach((function(n){t.Ve(e,n,null)}))},e.prototype.Ne=function(e,t){return this.Ee.xe(e).has(t)},e}();function Se(){return new J(M.P)}function Ee(){return new J(M.P)}function Ie(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Te(e){var t=Fe(e.mapValue.fields.__local_write_time__.timestampValue);return new D(t.seconds,t.nanos)}var xe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ae(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ie(e)?4:10:v()}function Oe(e,t){var n=Ae(e);if(n!==Ae(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Te(e).isEqual(Te(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Fe(e.timestampValue),r=Fe(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Me(e.bytesValue).isEqual(Me(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Le(e.geoPointValue.latitude)===Le(t.geoPointValue.latitude)&&Le(e.geoPointValue.longitude)===Le(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Le(e.integerValue)===Le(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Le(e.doubleValue),r=Le(t.doubleValue);return n===r?j(n)===j(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return k(e.arrayValue.values||[],t.arrayValue.values||[],Oe);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(E(n)!==E(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Oe(n[i],r[i])))return!1;return!0}(e,t);default:return v()}}function De(e,t){return void 0!==(e.values||[]).find((function(e){return Oe(e,t)}))}function Re(e,t){var n=Ae(e),r=Ae(t);if(n!==r)return b(n,r);switch(n){case 0:return 0;case 1:return b(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Le(e.integerValue||e.doubleValue),r=Le(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Pe(e.timestampValue,t.timestampValue);case 4:return Pe(Te(e),Te(t));case 5:return b(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Me(e),r=Me(t);return n.o(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=b(n[i],r[i]);if(0!==o)return o}return b(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=b(Le(e.latitude),Le(t.latitude));return 0!==n?n:b(Le(e.longitude),Le(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=Re(n[i],r[i]);if(o)return o}return b(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=b(r[s],o[s]);if(0!==a)return a;var u=Re(n[r[s]],i[o[s]]);if(0!==u)return u}return b(r.length,o.length)}(e.mapValue,t.mapValue);default:throw v()}}function Pe(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return b(e,t);var n=Fe(e),r=Fe(t),i=b(n.seconds,r.seconds);return 0!==i?i:b(n.nanos,r.nanos)}function Ne(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){var t=Fe(e);return"time("+t.seconds+","+t.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Me(t.bytesValue).toBase64():"referenceValue"in t?M.B(t.referenceValue).toString():"geoPointValue"in t?"geo("+(n=t.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in t?function(t){for(var n="[",r=!0,i=0,o=t.values||[];i<o.length;i++)r?r=!1:n+=",",n+=e(o[i]);return n+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var n="{",r=!0,i=0,o=Object.keys(t.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+e(t.fields[s])}return n+"}"}(t.mapValue):v();var n}(e)}function Fe(e){if(g(!!e),"string"==typeof e){var t=0,n=xe.exec(e);if(g(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Le(e.seconds),nanos:Le(e.nanos)}}function Le(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Me(e){return"string"==typeof e?W.fromBase64String(e):W.fromUint8Array(e)}function Ve(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.$()}}function je(e){return!!e&&"integerValue"in e}function Ue(e){return!!e&&"arrayValue"in e}function Be(e){return!!e&&"nullValue"in e}function ze(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ge(e){return!!e&&"mapValue"in e}var He={asc:"ASCENDING",desc:"DESCENDING"},qe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","array-contains-any":"ARRAY_CONTAINS_ANY"},We=function(e,t){this.s=e,this.Oe=t};function $e(e){return{integerValue:""+e}}function Qe(e,t){if(e.Oe){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:j(t)?"-0":t}}function Ke(e,t){return U(t)?$e(t):Qe(e,t)}function Ye(e,t){return e.Oe?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ze(e,t){return e.Oe?t.toBase64():t.toUint8Array()}function Xe(e,t){return Ye(e,t.A())}function Je(e){return g(!!e),R.I(function(e){var t=Fe(e);return new D(t.seconds,t.nanos)}(e))}function et(e,t){return function(e){return new N(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).$()}function tt(e){var t=N.N(e);return g(bt(t)),t}function nt(e,t){return et(e.s,t.path)}function rt(e,t){var n=tt(t);return g(n.get(1)===e.s.projectId),g(!n.get(3)&&!e.s.database||n.get(3)===e.s.database),new M(at(n))}function it(e,t){return et(e.s,t)}function ot(e){var t=tt(e);return 4===t.length?N.k():at(t)}function st(e){return new N(["projects",e.s.projectId,"databases",e.s.database]).$()}function at(e){return g(e.length>4&&"documents"===e.get(4)),e.V(5)}function ut(e,t,n){return{name:nt(e,t),fields:n.proto.mapValue.fields}}function ct(e,t){var n;if(t instanceof Ht)n={update:ut(e,t.key,t.value)};else if(t instanceof Yt)n={delete:nt(e,t.key)};else if(t instanceof qt)n={update:ut(e,t.key,t.data),updateMask:_t(t.Le)};else if(t instanceof $t)n={transform:{document:nt(e,t.key),fieldTransforms:t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Et)return{fieldPath:t.field.$(),setToServerValue:"REQUEST_TIME"};if(n instanceof It)return{fieldPath:t.field.$(),appendMissingElements:{values:n.elements}};if(n instanceof xt)return{fieldPath:t.field.$(),removeAllFromArray:{values:n.elements}};if(n instanceof Ot)return{fieldPath:t.field.$(),increment:n.qe};throw v()}(0,e)}))}};else{if(!(t instanceof Zt))return v();n={verify:nt(e,t.key)}}return t.Ue.Be||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Xe(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:v()}(e,t.Ue)),n}function lt(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Lt.updateTime(Je(e.updateTime)):void 0!==e.exists?Lt.exists(e.exists):Lt.We()}(t.currentDocument):Lt.We();if(t.update){var r=rt(e,t.update.name),i=new Xt({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){return new Pt((e.fieldPaths||[]).map((function(e){return L.q(e)})))}(t.updateMask);return new qt(r,i,o,n)}return new Ht(r,i,n)}if(t.delete){var s=rt(e,t.delete);return new Yt(s,n)}if(t.transform){var a=rt(e,t.transform.document),u=t.transform.fieldTransforms.map((function(t){return function(e,t){var n=null;"setToServerValue"in t?(g("REQUEST_TIME"===t.setToServerValue),n=new Et):"appendMissingElements"in t?n=new It(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new xt(t.removeAllFromArray.values||[]):"increment"in t?n=new Ot(e,t.increment):v();var r=L.q(t.fieldPath);return new Nt(r,n)}(e,t)}));return g(!0===n.exists),new $t(a,u)}if(t.verify){var c=rt(e,t.verify);return new Zt(c,n)}return v()}function ht(e,t){return{documents:[it(e,t.path)]}}function ft(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=it(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=it(e,r.p()),n.structuredQuery.from=[{collectionId:r.S()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return e instanceof kn?function(e){if("=="===e.op){if(ze(e.value))return{unaryFilter:{field:vt(e.field),op:"IS_NAN"}};if(Be(e.value))return{unaryFilter:{field:vt(e.field),op:"IS_NULL"}}}return{fieldFilter:{field:vt(e.field),op:(t=e.op,qe[t]),value:e.value}};var t}(e):v()}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return{field:vt((t=e).field),direction:(n=t.dir,He[n])};var t,n}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(e,t){return e.Oe||V(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=dt(t.startAt)),t.endAt&&(n.structuredQuery.endAt=dt(t.endAt)),n}function dt(e){return{before:e.before,values:e.position}}function pt(e){return new Tn(e.values||[],!!e.before)}function vt(e){return{fieldPath:e.$()}}function gt(e){return L.q(e.fieldPath)}function yt(e){return kn.create(gt(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return v()}}(e.fieldFilter.op),e.fieldFilter.value)}function mt(e){switch(e.unaryFilter.op){case"IS_NAN":var t=gt(e.unaryFilter.field);return kn.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=gt(e.unaryFilter.field);return kn.create(n,"==",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return v()}}function _t(e){var t=[];return e.fields.forEach((function(e){return t.push(e.$())})),{fieldPaths:t}}function bt(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var kt=function(){this.Qe=void 0};function wt(e,t,n){return e instanceof Et?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof It?Tt(e,t):e instanceof xt?At(e,t):function(e,t){var n=St(e,t),r=Dt(n)+Dt(e.qe);return je(n)&&je(e.qe)?$e(r):Qe(e.serializer,r)}(e,t)}function Ct(e,t,n){return e instanceof It?Tt(e,t):e instanceof xt?At(e,t):n}function St(e,t){return e instanceof Ot?je(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Et=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t}(kt),It=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return i.__extends(t,e),t}(kt);function Tt(e,t){for(var n=Rt(t),r=function(e){n.some((function(t){return Oe(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var xt=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return i.__extends(t,e),t}(kt);function At(e,t){for(var n=Rt(t),r=function(e){n=n.filter((function(t){return!Oe(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ot=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).serializer=t,r.qe=n,r}return i.__extends(t,e),t}(kt);function Dt(e){return Le(e.integerValue||e.doubleValue)}function Rt(e){return Ue(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Pt=function(){function e(e){this.fields=e,e.sort(L.P)}return e.prototype.je=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].D(e))return!0;return!1},e.prototype.isEqual=function(e){return k(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),Nt=function(e,t){this.field=e,this.transform=t},Ft=function(e,t){this.version=e,this.transformResults=t},Lt=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.We=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"Be",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function Mt(e,t){return void 0!==e.updateTime?t instanceof nn&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t instanceof nn}var Vt=function(){};function jt(e,t,n){return e instanceof Ht?function(e,t,n){return new nn(e.key,n.version,e.value,{hasCommittedMutations:!0})}(e,0,n):e instanceof qt?function(e,t,n){if(!Mt(e.Ue,t))return new on(e.key,n.version);var r=Wt(e,t);return new nn(e.key,n.version,r,{hasCommittedMutations:!0})}(e,t,n):e instanceof $t?function(e,t,n){if(g(null!=n.transformResults),!Mt(e.Ue,t))return new on(e.key,n.version);var r=Qt(0,t),i=function(e,t,n){var r=[];g(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],s=o.transform,a=null;t instanceof nn&&(a=t.field(o.field)),r.push(Ct(s,a,n[i]))}return r}(e.fieldTransforms,t,n.transformResults),o=n.version,s=Kt(e,r.data(),i);return new nn(e.key,o,s,{hasCommittedMutations:!0})}(e,t,n):function(e,t,n){return new rn(e.key,n.version,{hasCommittedMutations:!0})}(e,0,n)}function Ut(e,t,n,r){return e instanceof Ht?function(e,t){if(!Mt(e.Ue,t))return t;var n=Gt(t);return new nn(e.key,n,e.value,{Ke:!0})}(e,t):e instanceof qt?function(e,t){if(!Mt(e.Ue,t))return t;var n=Gt(t),r=Wt(e,t);return new nn(e.key,n,r,{Ke:!0})}(e,t):e instanceof $t?function(e,t,n,r){if(!Mt(e.Ue,t))return t;var i=Qt(0,t),o=function(e,t,n,r){for(var i=[],o=0,s=e;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof nn&&(c=n.field(a.field)),null===c&&r instanceof nn&&(c=r.field(a.field)),i.push(wt(u,c,t))}return i}(e.fieldTransforms,n,t,r),s=Kt(e,i.data(),o);return new nn(e.key,i.version,s,{Ke:!0})}(e,t,r,n):function(e,t){return Mt(e.Ue,t)?new rn(e.key,R.min()):t}(e,t)}function Bt(e,t){return e instanceof $t?function(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],s=t instanceof nn?t.field(o.field):void 0,a=St(o.transform,s||null);null!=a&&(n=null==n?(new Jt).set(o.field,a):n.set(o.field,a))}return n?n.Ge():null}(e,t):null}function zt(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.Ue.isEqual(t.Ue)&&(0===e.type?e.value.isEqual(t.value):1===e.type?e.data.isEqual(t.data)&&e.Le.isEqual(t.Le):2!==e.type||k(e.fieldTransforms,e.fieldTransforms,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof It&&t instanceof It||e instanceof xt&&t instanceof xt?k(e.elements,t.elements,Oe):e instanceof Ot&&t instanceof Ot?Oe(e.qe,t.qe):e instanceof Et&&t instanceof Et}(e.transform,t.transform)}(e,t)})))}function Gt(e){return e instanceof nn?e.version:R.min()}var Ht=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).key=t,i.value=n,i.Ue=r,i.type=0,i}return i.__extends(t,e),t}(Vt),qt=function(e){function t(t,n,r,i){var o=this;return(o=e.call(this)||this).key=t,o.data=n,o.Le=r,o.Ue=i,o.type=1,o}return i.__extends(t,e),t}(Vt);function Wt(e,t){return function(e,t){var n=new Jt(t);return e.Le.fields.forEach((function(t){if(!t._()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}})),n.Ge()}(e,t instanceof nn?t.data():Xt.empty())}var $t=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.fieldTransforms=n,r.type=2,r.Ue=Lt.exists(!0),r}return i.__extends(t,e),t}(Vt);function Qt(e,t){return t}function Kt(e,t,n){for(var r=new Jt(t),i=0;i<e.fieldTransforms.length;i++)r.set(e.fieldTransforms[i].field,n[i]);return r.Ge()}var Yt=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.Ue=n,r.type=3,r}return i.__extends(t,e),t}(Vt),Zt=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.Ue=n,r.type=4,r}return i.__extends(t,e),t}(Vt),Xt=function(){function e(e){this.proto=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e._())return this.proto;for(var t=this.proto,n=0;n<e.length-1;++n){if(!t.mapValue.fields)return null;if(!Ge(t=t.mapValue.fields[e.get(n)]))return null}return(t=(t.mapValue.fields||{})[e.S()])||null},e.prototype.isEqual=function(e){return Oe(this.proto,e.proto)},e}(),Jt=function(){function e(e){void 0===e&&(e=Xt.empty()),this.ze=e,this.He=new Map}return e.prototype.set=function(e,t){return this.Ye(e,t),this},e.prototype.delete=function(e){return this.Ye(e,null),this},e.prototype.Ye=function(e,t){for(var n=this.He,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Ae(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(e.S(),t)},e.prototype.Ge=function(){var e=this.Je(L.k(),this.He);return null!=e?new Xt(e):this.ze},e.prototype.Je=function(e,t){var n=this,r=!1,i=this.ze.field(e),o=Ge(i)?Object.assign({},i.mapValue.fields):{};return t.forEach((function(t,i){if(t instanceof Map){var s=n.Je(e.child(i),t);null!=s&&(o[i]=s,r=!0)}else null!==t?(o[i]=t,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},e}();function en(e){var t=[];return I(e.fields||{},(function(e,n){var r=new L([e]);if(Ge(n)){var i=en(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,s=i;o<s.length;o++)t.push(r.child(s[o]))}else t.push(r)})),new Pt(t)}var tn=function(e,t){this.key=e,this.version=t},nn=function(e){function t(t,n,r,i){var o=this;return(o=e.call(this,t,n)||this).Xe=r,o.Ke=!!i.Ke,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return i.__extends(t,e),t.prototype.field=function(e){return this.Xe.field(e)},t.prototype.data=function(){return this.Xe},t.prototype.Ze=function(){return this.Xe.proto},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.Ke===e.Ke&&this.hasCommittedMutations===e.hasCommittedMutations&&this.Xe.isEqual(e.Xe)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Xe.toString()+", {hasLocalMutations: "+this.Ke+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.Ke||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t}(tn),rn=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return i.__extends(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(tn),on=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(tn);function sn(e,t){if(!(e instanceof t))throw new O(A.INVALID_ARGUMENT,t.name===e.constructor.name?"Type does not match the expected instance. Did you pass '"+t.name+"' from a different Firestore SDK?":"Expected type '"+t.name+"', but was '"+e.constructor.name+"'");return e}var an=function(){function e(e,t,n,r,i,o,s,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.tn=n,this.filters=r,this.limit=i,this.en=o,this.startAt=s,this.endAt=a,this.nn=null,this.sn=null}return e.prototype.rn=function(t){return new e(t,null,this.tn.slice(),this.filters.slice(),this.limit,this.en,this.startAt,this.endAt)},e.prototype.on=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.tn.length||1===this.tn.length&&this.tn[0].field.O())},e.prototype.hn=function(){return!V(this.limit)&&"F"===this.en},e.prototype.an=function(){return!V(this.limit)&&"L"===this.en},e.prototype.un=function(){return this.tn.length>0?this.tn[0].field:null},e.prototype.cn=function(){for(var e=0,t=this.filters;e<t.length;e++){var n=t[e];if(n.ln())return n.field}return null},e.prototype._n=function(e){for(var t=0,n=this.filters;t<n.length;t++){var r=n[t];if(e.indexOf(r.op)>=0)return r.op}return null},e}();function un(e,t,n,r,i,o,s,a){return new an(e,t,n,r,i,o,s,a)}function cn(e){return new an(e)}function ln(e){return null!==e.collectionGroup}function hn(e){var t=sn(e,an);if(null===t.nn){t.nn=[];var n=t.cn(),r=t.un();if(null!==n&&null===r)n.O()||t.nn.push(new Dn(n)),t.nn.push(new Dn(L.L(),"asc"));else{for(var i=!1,o=0,s=t.tn;o<s.length;o++){var a=s[o];t.nn.push(a),a.field.O()&&(i=!0)}if(!i){var u=t.tn.length>0?t.tn[t.tn.length-1].dir:"asc";t.nn.push(new Dn(L.L(),u))}}}return t.nn}function fn(e){var t=sn(e,an);if(!t.sn)if("F"===t.en)t.sn=z(t.path,t.collectionGroup,hn(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=hn(t);r<i.length;r++){var o=i[r];n.push(new Dn(o.field,"desc"===o.dir?"asc":"desc"))}var s=t.endAt?new Tn(t.endAt.position,!t.endAt.before):null,a=t.startAt?new Tn(t.startAt.position,!t.startAt.before):null;t.sn=z(t.path,t.collectionGroup,n,t.filters,t.limit,s,a)}return t.sn}function dn(e,t,n){return new an(e.path,e.collectionGroup,e.tn.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function pn(e,t){return new an(e.path,e.collectionGroup,e.tn.slice(),e.filters.slice(),e.limit,e.en,t,e.endAt)}function vn(e,t){return new an(e.path,e.collectionGroup,e.tn.slice(),e.filters.slice(),e.limit,e.en,e.startAt,t)}function gn(e,t){return H(fn(e),fn(t))&&e.en===t.en}function yn(e){return G(fn(e))+"|lt:"+e.en}function mn(e){return"Query(target="+function(e){var t=e.path.$();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.$()+" "+t.op+" "+Ne(t.value);var t})).join(", ")+"]"),V(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return(t=e).field.$()+" ("+t.dir+")";var t})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+xn(e.startAt)),e.endAt&&(t+=", endAt: "+xn(e.endAt)),"Target("+t+")"}(fn(e))+"; limitType="+e.en+")"}function _n(e,t){return function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.U(e.collectionGroup)&&e.path.D(n):M.W(e.path)?e.path.isEqual(n):e.path.C(n)}(e,t)&&function(e,t){for(var n=0,r=e.tn;n<r.length;n++){var i=r[n];if(!i.field.O()&&null===t.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!An(e.startAt,hn(e),t)||e.endAt&&An(e.endAt,hn(e),t))}(e,t)}function bn(e){return function(t,n){for(var r=!1,i=0,o=hn(e);i<o.length;i++){var s=o[i],a=Rn(s,t,n);if(0!==a)return a;r=r||s.field.O()}return 0}}var kn=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return i.__extends(t,e),t.create=function(e,n,r){if(e.O())return"in"===n?new Cn(e,r):new wn(e,n,r);if(Be(r)){if("=="!==n)throw new O(A.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new t(e,n,r)}if(ze(r)){if("=="!==n)throw new O(A.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new t(e,n,r)}return"array-contains"===n?new Sn(e,r):"in"===n?new En(e,r):"array-contains-any"===n?new In(e,r):new t(e,n,r)},t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&Ae(this.value)===Ae(t)&&this.fn(Re(t,this.value))},t.prototype.fn=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case">":return e>0;case">=":return e>=0;default:return v()}},t.prototype.ln=function(){return["<","<=",">",">="].indexOf(this.op)>=0},t}((function(){})),wn=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=M.B(r.referenceValue),i}return i.__extends(t,e),t.prototype.matches=function(e){var t=M.P(e.key,this.key);return this.fn(t)},t}(kn),Cn=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=(n.arrayValue.values||[]).map((function(e){return M.B(e.referenceValue)})),r}return i.__extends(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(kn),Sn=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return i.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return Ue(t)&&De(t.arrayValue,this.value)},t}(kn),En=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return i.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&De(this.value.arrayValue,t)},t}(kn),In=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return i.__extends(t,e),t.prototype.matches=function(e){var t=this,n=e.field(this.field);return!(!Ue(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return De(t.value.arrayValue,e)}))},t}(kn),Tn=function(e,t){this.position=e,this.before=t};function xn(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return Ne(e)})).join(",")}function An(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],s=e.position[i];if(r=o.field.O()?M.P(M.B(s.referenceValue),n.key):Re(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function On(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Oe(e.position[n],t.position[n]))return!1;return!0}var Dn=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Rn(e,t,n){var r=e.field.O()?M.P(t.key,n.key):function(e,t,n){var r=t.field(e),i=n.field(e);return null!==r&&null!==i?Re(r,i):v()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return v()}}function Pn(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Nn=function(){function e(e,t,n,r){this.batchId=e,this.dn=t,this.baseMutations=n,this.mutations=r}return e.prototype.wn=function(e,t,n){for(var r=n.Tn,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e)&&(t=jt(o,t,r[i]))}return t},e.prototype.En=function(e,t){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(e)&&(t=Ut(i,t,t,this.dn))}for(var o=t,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(e)&&(t=Ut(u,t,o,this.dn))}return t},e.prototype.In=function(e){var t=this,n=e;return this.mutations.forEach((function(r){var i=t.En(r.key,e.get(r.key));i&&(n=n.nt(r.key,i))})),n},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),he())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&k(this.mutations,e.mutations,(function(e,t){return zt(e,t)}))&&k(this.baseMutations,e.baseMutations,(function(e,t){return zt(e,t)}))},e}(),Fn=function(){function e(e,t,n,r){this.batch=e,this.mn=t,this.Tn=n,this.An=r}return e.from=function(t,n,r){g(t.mutations.length===r.length);for(var i=ce,o=t.mutations,s=0;s<o.length;s++)i=i.nt(o[s].key,r[s].version);return new e(t,n,r,i)},e}(),Ln=function(){function e(e){var t=this;this.Rn=null,this.Pn=null,this.result=void 0,this.error=void 0,this.gn=!1,this.Vn=!1,e((function(e){t.gn=!0,t.result=e,t.Rn&&t.Rn(e)}),(function(e){t.gn=!0,t.error=e,t.Pn&&t.Pn(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.Vn&&v(),this.Vn=!0,this.gn?this.error?this.yn(n,this.error):this.pn(t,this.result):new e((function(e,i){r.Rn=function(n){r.pn(t,n).next(e,i)},r.Pn=function(t){r.yn(n,t).next(e,i)}}))},e.prototype.bn=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.vn=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.pn=function(t,n){return t?this.vn((function(){return t(n)})):e.resolve(n)},e.prototype.yn=function(t,n){return t?this.vn((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.Sn=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.Dn=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.Sn(r)},e}(),Mn=function(){function e(){this.Cn=new x((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.Fn=!1}return Object.defineProperty(e.prototype,"readTime",{get:function(){return this.$n},set:function(e){this.$n=e},enumerable:!1,configurable:!0}),e.prototype.Nn=function(e,t){this.kn(),this.readTime=t,this.Cn.set(e.key,e)},e.prototype.xn=function(e,t){this.kn(),t&&(this.readTime=t),this.Cn.set(e,null)},e.prototype.Mn=function(e,t){this.kn();var n=this.Cn.get(t);return void 0!==n?Ln.resolve(n):this.On(e,t)},e.prototype.getEntries=function(e,t){return this.Ln(e,t)},e.prototype.apply=function(e){return this.kn(),this.Fn=!0,this.qn(e)},e.prototype.kn=function(){},e}(),Vn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",jn=function(){function e(){this.Bn=[]}return e.prototype.Un=function(e){this.Bn.push(e)},e.prototype.Wn=function(){this.Bn.forEach((function(e){return e()}))},e}(),Un=function(){function e(e,t,n){this.Qn=e,this.jn=t,this.Kn=n}return e.prototype.Gn=function(e,t){var n=this;return this.jn.zn(e,t).next((function(r){return n.Hn(e,t,r)}))},e.prototype.Hn=function(e,t,n){return this.Qn.Mn(e,t).next((function(e){for(var r=0,i=n;r<i.length;r++)e=i[r].En(t,e);return e}))},e.prototype.Yn=function(e,t,n){var r=se();return t.forEach((function(e,t){for(var i=0,o=n;i<o.length;i++)t=o[i].En(e,t);r=r.nt(e,t)})),r},e.prototype.Jn=function(e,t){var n=this;return this.Qn.getEntries(e,t).next((function(t){return n.Xn(e,t)}))},e.prototype.Xn=function(e,t){var n=this;return this.jn.Zn(e,t).next((function(r){var i=n.Yn(e,t,r),o=oe();return i.forEach((function(e,t){t||(t=new rn(e,R.min())),o=o.nt(e,t)})),o}))},e.prototype.ts=function(e,t,n){return function(e){return M.W(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.es(e,t.path):ln(t)?this.ns(e,t,n):this.ss(e,t,n)},e.prototype.es=function(e,t){return this.Gn(e,new M(t)).next((function(e){var t=ue();return e instanceof nn&&(t=t.nt(e.key,e)),t}))},e.prototype.ns=function(e,t,n){var r=this,i=t.collectionGroup,o=ue();return this.Kn.rs(e,i).next((function(s){return Ln.forEach(s,(function(s){var a=t.rn(s.child(i));return r.ss(e,a,n).next((function(e){e.forEach((function(e,t){o=o.nt(e,t)}))}))})).next((function(){return o}))}))},e.prototype.ss=function(e,t,n){var r,i,o=this;return this.Qn.ts(e,t,n).next((function(n){return r=n,o.jn.os(e,t)})).next((function(t){return o.hs(e,i=t,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c),h=Ut(u,l,l,o.dn);r=h instanceof nn?r.nt(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(e,n){_n(t,n)||(r=r.remove(e))})),r}))},e.prototype.hs=function(e,t,n){for(var r=he(),i=0,o=t;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof qt&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Qn.getEntries(e,r).next((function(e){return e.forEach((function(e,t){null!==t&&t instanceof nn&&(c=c.nt(e,t))})),c}))},e}(),Bn=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.as=n,this.us=r}return e.cs=function(t,n){for(var r=he(),i=he(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),zn=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.ls=function(e){return n._s(e)},this.fs=function(e){return t.ds(e)})}return e.prototype._s=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.fs&&this.fs(e),e},e}();zn.ws=-1;var Gn=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},Hn=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Ts=e,this.Es=t,this.Is=n,this.ms=r,this.As=i,this.Rs=0,this.Ps=null,this.gs=Date.now(),this.reset()}return e.prototype.reset=function(){this.Rs=0},e.prototype.Vs=function(){this.Rs=this.As},e.prototype.ys=function(e){var t=this;this.cancel();var n=Math.floor(this.Rs+this.ps()),r=Math.max(0,Date.now()-this.gs),i=Math.max(0,n-r);i>0&&f("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Rs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ps=this.Ts.bs(this.Es,i,(function(){return t.gs=Date.now(),e()})),this.Rs*=this.ms,this.Rs<this.Is&&(this.Rs=this.Is),this.Rs>this.As&&(this.Rs=this.As)},e.prototype.vs=function(){null!==this.Ps&&(this.Ps.Ss(),this.Ps=null)},e.prototype.cancel=function(){null!==this.Ps&&(this.Ps.cancel(),this.Ps=null)},e.prototype.ps=function(){return(Math.random()-.5)*this.Rs},e}();function qn(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=$n(t)),t=Wn(e.get(n),t);return $n(t)}function Wn(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function $n(e){return e+"\x01\x01"}function Qn(e){var t=e.length;if(g(t>=2),2===t)return g("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),N.k();for(var n=t-2,r=[],i="",o=0;o<t;){var s=e.indexOf("\x01",o);switch((s<0||s>n)&&v(),e.charAt(s+1)){case"\x01":var a=e.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=e.substring(o,s),i+="\0";break;case"\x11":i+=e.substring(o,s+1);break;default:v()}o=s+2}return new N(r)}var Kn=function(){function e(){this.Ds=new Yn}return e.prototype.Cs=function(e,t){return this.Ds.add(t),Ln.resolve()},e.prototype.rs=function(e,t){return Ln.resolve(this.Ds.getEntries(t))},e}(),Yn=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.S(),n=e.p(),r=this.index[t]||new ne(N.P),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.S(),n=e.p(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new ne(N.P)).F()},e}(),Zn=function(){function e(){this.Fs=new Yn}return e.prototype.Cs=function(e,t){var n=this;if(!this.Fs.has(t)){var r=t.S(),i=t.p();e.Un((function(){n.Fs.add(t)}));var o={collectionId:r,parent:qn(i)};return Xn(e).put(o)}return Ln.resolve()},e.prototype.rs=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[w(t),""],!1,!0);return Xn(e).$s(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Qn(o.parent))}return n}))},e}();function Xn(e){return kr.Ns(e,$r.store)}var Jn=function(e){this.ks=e};function er(e,t){if(t.document)return function(e,t,n){var r=rt(e,t.name),i=Je(t.updateTime),o=new Xt({mapValue:{fields:t.fields}});return new nn(r,i,o,{hasCommittedMutations:!!n})}(e.ks,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=M.j(t.noDocument.path),r=or(t.noDocument.readTime);return new rn(n,r,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var i=M.j(t.unknownDocument.path),o=or(t.unknownDocument.version);return new on(i,o)}return v()}function tr(e,t,n){var r=nr(n),i=t.key.path.p().F();if(t instanceof nn){var o=function(e,t){return{name:nt(e,t.key),fields:t.Ze().mapValue.fields,updateTime:Ye(e,t.version.A())}}(e.ks,t);return new zr(null,null,o,t.hasCommittedMutations,r,i)}if(t instanceof rn){var s=t.key.path.F(),a=ir(t.version),u=t.hasCommittedMutations;return new zr(null,new Ur(s,a),null,u,r,i)}if(t instanceof on){var c=t.key.path.F(),l=ir(t.version);return new zr(new Br(c,l),null,null,!0,r,i)}return v()}function nr(e){var t=e.A();return[t.seconds,t.nanoseconds]}function rr(e){var t=new D(e[0],e[1]);return R.I(t)}function ir(e){var t=e.A();return new Fr(t.seconds,t.nanoseconds)}function or(e){var t=new D(e.seconds,e.nanoseconds);return R.I(t)}function sr(e,t){var n=(t.baseMutations||[]).map((function(t){return lt(e.ks,t)})),r=t.mutations.map((function(t){return lt(e.ks,t)})),i=D.fromMillis(t.localWriteTimeMs);return new Nn(t.batchId,i,n,r)}function ar(e){var t,n,r=or(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?or(e.lastLimboFreeSnapshotVersion):R.min();return void 0!==e.query.documents?(g(1===(n=e.query).documents.length),t=fn(cn(ot(n.documents[0])))):t=function(e){var t=ot(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){g(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var s=[];n.where&&(s=function e(t){return t?void 0!==t.unaryFilter?[mt(t)]:void 0!==t.fieldFilter?[yt(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e(t)})).reduce((function(e,t){return e.concat(t)})):v():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(e){return new Dn(gt((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t})));var u=null;n.limit&&(u=function(e){var t;return V(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=pt(n.startAt));var l=null;return n.endAt&&(l=pt(n.endAt)),fn(un(t,i,a,s,u,"F",c,l))}(e.query),new K(t,e.targetId,0,e.lastListenSequenceNumber,r,i,W.fromBase64String(e.resumeToken))}function ur(e,t){var n,r=ir(t.X),i=ir(t.lastLimboFreeSnapshotVersion);n=q(t.target)?ht(e.ks,t.target):ft(e.ks,t.target);var o=t.resumeToken.toBase64();return new Hr(t.targetId,G(t.target),r,o,t.sequenceNumber,i,n)}var cr=function(){function e(e,t){this.serializer=e,this.Kn=t}return e.prototype.Nn=function(e,t,n){return hr(e).put(fr(t),n)},e.prototype.xn=function(e,t){var n=hr(e),r=fr(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.xs(e,r)}))},e.prototype.Mn=function(e,t){var n=this;return hr(e).get(fr(t)).next((function(e){return n.Ms(e)}))},e.prototype.Os=function(e,t){var n=this;return hr(e).get(fr(t)).next((function(e){var t=n.Ms(e);return t?{Ls:t,size:dr(e)}:null}))},e.prototype.getEntries=function(e,t){var n=this,r=se();return this.qs(e,t,(function(e,t){var i=n.Ms(t);r=r.nt(e,i)})).next((function(){return r}))},e.prototype.Bs=function(e,t){var n=this,r=se(),i=new J(M.P);return this.qs(e,t,(function(e,t){var o=n.Ms(t);o?(r=r.nt(e,o),i=i.nt(e,dr(t))):(r=r.nt(e,null),i=i.nt(e,0))})).next((function(){return{Us:r,Ws:i}}))},e.prototype.qs=function(e,t,n){if(t._())return Ln.resolve();var r=IDBKeyRange.bound(t.first().path.F(),t.last().path.F()),i=t.at(),o=i.dt();return hr(e).Qs({range:r},(function(e,t,r){for(var s=M.j(e);o&&M.P(o,s)<0;)n(o,null),o=i.dt();o&&o.isEqual(s)&&(n(o,t),o=i.wt()?i.dt():null),o?r.js(o.path.F()):r.done()})).next((function(){for(;o;)n(o,null),o=i.wt()?i.dt():null}))},e.prototype.ts=function(e,t,n){var r=this,i=ue(),o=t.path.length+1,s={};if(n.isEqual(R.min())){var a=t.path.F();s.range=IDBKeyRange.lowerBound(a)}else{var u=t.path.F(),c=nr(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=zr.collectionReadTimeIndex}return hr(e).Qs(s,(function(e,n,s){if(e.length===o){var a=er(r.serializer,n);t.path.D(a.key.path)?a instanceof nn&&_n(t,a)&&(i=i.nt(a.key,a)):s.done()}})).next((function(){return i}))},e.prototype.Ks=function(e,t){var n=this,r=oe(),i=nr(t),o=hr(e),s=IDBKeyRange.lowerBound(i,!0);return o.Qs({index:zr.readTimeIndex,range:s},(function(e,t){var o=er(n.serializer,t);r=r.nt(o.key,o),i=t.readTime})).next((function(){return{Gs:r,readTime:rr(i)}}))},e.prototype.zs=function(e){var t=hr(e),n=R.min();return t.Qs({index:zr.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=rr(t.readTime)),r.done()})).next((function(){return n}))},e.prototype.Hs=function(t){return new e.Ys(this,!!t&&t.Js)},e.prototype.Xs=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return lr(e).get(Gr.key).next((function(e){return g(!!e),e}))},e.prototype.xs=function(e,t){return lr(e).put(Gr.key,t)},e.prototype.Ms=function(e){if(e){var t=er(this.serializer,e);return t instanceof rn&&t.version.isEqual(R.min())?null:t}return null},e}();function lr(e){return kr.Ns(e,Gr.store)}function hr(e){return kr.Ns(e,zr.store)}function fr(e){return e.path.F()}function dr(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw v();t=e.noDocument}return JSON.stringify(t).length}cr.Ys=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Zs=t,r.Js=n,r.ti=new x((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return i.__extends(t,e),t.prototype.qn=function(e){var t=this,n=[],r=0,i=new ne((function(e,t){return b(e.$(),t.$())}));return this.Cn.forEach((function(o,s){var a=t.ti.get(o);if(s){var u=tr(t.Zs.serializer,s,t.readTime);i=i.add(o.path.p());var c=dr(u);r+=c-a,n.push(t.Zs.Nn(e,o,u))}else if(r-=a,t.Js){var l=tr(t.Zs.serializer,new rn(o,R.min()),t.readTime);n.push(t.Zs.Nn(e,o,l))}else n.push(t.Zs.xn(e,o))})),i.forEach((function(r){n.push(t.Zs.Kn.Cs(e,r))})),n.push(this.Zs.updateMetadata(e,r)),Ln.Sn(n)},t.prototype.On=function(e,t){var n=this;return this.Zs.Os(e,t).next((function(e){return null===e?(n.ti.set(t,0),null):(n.ti.set(t,e.size),e.Ls)}))},t.prototype.Ln=function(e,t){var n=this;return this.Zs.Bs(e,t).next((function(e){var t=e.Us;return e.Ws.forEach((function(e,t){n.ti.set(e,t)})),t}))},t}(Mn);var pr=function(){function e(e){this.ei=e}return e.prototype.next=function(){return this.ei+=2,this.ei},e.ni=function(){return new e(0)},e.si=function(){return new e(-1)},e}(),vr=function(){function e(e,t){this.ii=e,this.serializer=t}return e.prototype.ri=function(e){var t=this;return this.oi(e).next((function(n){var r=new pr(n.highestTargetId);return n.highestTargetId=r.next(),t.hi(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.ai=function(e){return this.oi(e).next((function(e){return R.I(new D(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.ui=function(e){return this.oi(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.ci=function(e,t,n){var r=this;return this.oi(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.A()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.hi(e,i)}))},e.prototype.li=function(e,t){var n=this;return this._i(e,t).next((function(){return n.oi(e).next((function(r){return r.targetCount+=1,n.fi(t,r),n.hi(e,r)}))}))},e.prototype.di=function(e,t){return this._i(e,t)},e.prototype.wi=function(e,t){var n=this;return this.Ti(e,t.targetId).next((function(){return gr(e).delete(t.targetId)})).next((function(){return n.oi(e)})).next((function(t){return g(t.targetCount>0),t.targetCount-=1,n.hi(e,t)}))},e.prototype.Ei=function(e,t,n){var r=this,i=0,o=[];return gr(e).Qs((function(s,a){var u=ar(a);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.wi(e,u)))})).next((function(){return Ln.Sn(o)})).next((function(){return i}))},e.prototype.pe=function(e,t){return gr(e).Qs((function(e,n){var r=ar(n);t(r)}))},e.prototype.oi=function(e){return yr(e).get(Wr.key).next((function(e){return g(null!==e),e}))},e.prototype.hi=function(e,t){return yr(e).put(Wr.key,t)},e.prototype._i=function(e,t){return gr(e).put(ur(this.serializer,t))},e.prototype.fi=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.Ii=function(e){return this.oi(e).next((function(e){return e.targetCount}))},e.prototype.mi=function(e,t){var n=G(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return gr(e).Qs({range:r,index:Hr.queryTargetsIndexName},(function(e,n,r){var o=ar(n);H(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.Ai=function(e,t,n){var r=this,i=[],o=mr(e);return t.forEach((function(t){var s=qn(t.path);i.push(o.put(new qr(n,s))),i.push(r.ii.Ri(e,n,t))})),Ln.Sn(i)},e.prototype.Pi=function(e,t,n){var r=this,i=mr(e);return Ln.forEach(t,(function(t){var o=qn(t.path);return Ln.Sn([i.delete([n,o]),r.ii.gi(e,n,t)])}))},e.prototype.Ti=function(e,t){var n=mr(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.Vi=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=mr(e),i=he();return r.Qs({range:n,yi:!0},(function(e,t,n){var r=Qn(e[1]),o=new M(r);i=i.add(o)})).next((function(){return i}))},e.prototype.pi=function(e,t){var n=qn(t.path),r=IDBKeyRange.bound([n],[w(n)],!1,!0),i=0;return mr(e).Qs({index:qr.documentTargetsIndex,yi:!0,range:r},(function(e,t,n){0!==e[0]&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.Me=function(e,t){return gr(e).get(t).next((function(e){return e?ar(e):null}))},e}();function gr(e){return kr.Ns(e,Hr.store)}function yr(e){return kr.Ns(e,Wr.store)}function mr(e){return kr.Ns(e,qr.store)}var _r="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",br=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).bi=t,r.vi=n,r}return i.__extends(t,e),t}(jn),kr=function(){function e(t,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Ts=o,this.window=s,this.document=a,this.Si=c,this.Di=l,this.Ci=null,this.Fi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.$i=null,this.inForeground=!1,this.Ni=null,this.ki=null,this.xi=Number.NEGATIVE_INFINITY,this.Mi=function(e){return Promise.resolve()},!e.Oi())throw new O(A.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.ii=new Sr(this,i),this.Li=n+"main",this.serializer=new Jn(u),this.qi=new vr(this.ii,this.serializer),this.Kn=new Zn,this.Qn=new cr(this.serializer,this.Kn),this.window&&this.window.localStorage?this.Bi=this.window.localStorage:(this.Bi=null,!1===l&&d("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.Ns=function(e,t){if(e instanceof br)return Zr.Ns(e.bi,t);throw v()},e.prototype.start=function(){var e=this;return Zr.Ui(this.Li,Pr,new Nr(this.serializer)).then((function(t){return e.Wi=t,e.Qi()})).then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new O(A.FAILED_PRECONDITION,_r);return e.ji(),e.Ki(),e.Gi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qi.ui(t)}))})).then((function(t){e.Ci=new zn(t,e.Si)})).then((function(){e.Fi=!0})).catch((function(t){return e.Wi&&e.Wi.close(),Promise.reject(t)}))},e.prototype.zi=function(e){var t=this;return this.Mi=function(n){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.Hi?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.Yi=function(e){var t=this;this.Wi.Ji((function(n){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.Xi=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ts.Zi((function(){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Hi?[4,this.Qi()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.Qi=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Cr(t).put(new Kr(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.tr(t).next((function(t){t||(e.isPrimary=!1,e.Ts.er((function(){return e.Mi(!1)})))}))})).next((function(){return e.nr(t)})).next((function(n){return e.isPrimary&&!n?e.sr(t).next((function(){return!1})):!!n&&e.ir(t).next((function(){return!0}))}))})).catch((function(t){if(ei(t))return f("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return f("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Ts.er((function(){return e.Mi(t)})),e.isPrimary=t}))},e.prototype.tr=function(e){var t=this;return wr(e).get(Lr.key).next((function(e){return Ln.resolve(t.rr(e))}))},e.prototype.or=function(e){return Cr(e).delete(this.clientId)},e.prototype.hr=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o=this;return i.__generator(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.ar(this.xi,18e5)?[3,2]:(this.xi=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var n=e.Ns(t,Kr.store);return n.$s().next((function(e){var t=o.ur(e,18e5),r=e.filter((function(e){return-1===t.indexOf(e)}));return Ln.forEach(r,(function(e){return n.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Bi)for(n=0,r=t;n<r.length;n++)this.Bi.removeItem(this.cr(r[n].clientId));i.label=2;case 2:return[2]}}))}))},e.prototype.Gi=function(){var e=this;this.ki=this.Ts.bs("client_metadata_refresh",4e3,(function(){return e.Qi().then((function(){return e.hr()})).then((function(){return e.Gi()}))}))},e.prototype.rr=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.nr=function(e){var t=this;return this.Di?Ln.resolve(!0):wr(e).get(Lr.key).next((function(n){if(null!==n&&t.ar(n.leaseTimestampMs,5e3)&&!t.lr(n.ownerId)){if(t.rr(n)&&t.networkEnabled)return!0;if(!t.rr(n)){if(!n.allowTabSynchronization)throw new O(A.FAILED_PRECONDITION,_r);return!1}}return!(!t.networkEnabled||!t.inForeground)||Cr(e).$s().next((function(e){return void 0===t.ur(e,5e3).find((function(e){return!(t.clientId===e.clientId||!(!t.networkEnabled&&e.networkEnabled||!t.inForeground&&e.inForeground&&t.networkEnabled===e.networkEnabled))}))}))})).next((function(e){return t.isPrimary!==e&&f("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype._r=function(){return i.__awaiter(this,void 0,void 0,(function(){var e=this;return i.__generator(this,(function(t){switch(t.label){case 0:return this.Fi=!1,this.dr(),this.ki&&(this.ki.cancel(),this.ki=null),this.wr(),this.Tr(),[4,this.runTransaction("shutdown","readwrite",(function(t){return e.sr(t).next((function(){return e.or(t)}))})).catch((function(e){f("IndexedDbPersistence","Proceeding with shutdown despite failure: ",e)}))];case 1:return t.sent(),this.Wi.close(),this.Er(),[2]}}))}))},e.prototype.ur=function(e,t){var n=this;return e.filter((function(e){return n.ar(e.updateTimeMs,t)&&!n.lr(e.clientId)}))},e.prototype.Ir=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Cr(t).$s().next((function(t){return e.ur(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"Hi",{get:function(){return this.Fi},enumerable:!1,configurable:!0}),e.prototype.mr=function(e){return Tr.Ar(e,this.serializer,this.Kn,this.ii)},e.prototype.Rr=function(){return this.qi},e.prototype.Pr=function(){return this.Qn},e.prototype.gr=function(){return this.Kn},e.prototype.runTransaction=function(e,t,n){var r,i=this;return f("IndexedDbPersistence","Starting transaction:",e),this.Wi.runTransaction("readonly"===t?"readonly":"readwrite",Yr,(function(o){return r=new br(o,i.Ci?i.Ci.next():zn.ws),"readwrite-primary"===t?i.tr(r).next((function(e){return!!e||i.nr(r)})).next((function(t){if(!t)throw d("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Ts.er((function(){return i.Mi(!1)})),new O(A.FAILED_PRECONDITION,Vn);return n(r)})).next((function(e){return i.ir(r).next((function(){return e}))})):i.Vr(r).next((function(){return n(r)}))})).then((function(e){return r.Wn(),e}))},e.prototype.Vr=function(e){var t=this;return wr(e).get(Lr.key).next((function(e){if(null!==e&&t.ar(e.leaseTimestampMs,5e3)&&!t.lr(e.ownerId)&&!t.rr(e)&&!(t.Di||t.allowTabSynchronization&&e.allowTabSynchronization))throw new O(A.FAILED_PRECONDITION,_r)}))},e.prototype.ir=function(e){var t=new Lr(this.clientId,this.allowTabSynchronization,Date.now());return wr(e).put(Lr.key,t)},e.Oi=function(){return Zr.Oi()},e.prototype.sr=function(e){var t=this,n=wr(e);return n.get(Lr.key).next((function(e){return t.rr(e)?(f("IndexedDbPersistence","Releasing primary lease."),n.delete(Lr.key)):Ln.resolve()}))},e.prototype.ar=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(d("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.ji=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ni=function(){e.Ts.Zi((function(){return e.inForeground="visible"===e.document.visibilityState,e.Qi()}))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground="visible"===this.document.visibilityState)},e.prototype.wr=function(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)},e.prototype.Ki=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.$i=function(){t.dr(),t.Ts.Zi((function(){return t._r()}))},this.window.addEventListener("unload",this.$i))},e.prototype.Tr=function(){this.$i&&(this.window.removeEventListener("unload",this.$i),this.$i=null)},e.prototype.lr=function(e){var t;try{var n=null!==(null===(t=this.Bi)||void 0===t?void 0:t.getItem(this.cr(e)));return f("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return d("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.dr=function(){if(this.Bi)try{this.Bi.setItem(this.cr(this.clientId),String(Date.now()))}catch(e){d("Failed to set zombie client id.",e)}},e.prototype.Er=function(){if(this.Bi)try{this.Bi.removeItem(this.cr(this.clientId))}catch(e){}},e.prototype.cr=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function wr(e){return kr.Ns(e,Lr.store)}function Cr(e){return kr.Ns(e,Kr.store)}var Sr=function(){function e(e,t){this.db=e,this.yr=new vi(this,t)}return e.prototype.pr=function(e){var t=this.br(e);return this.db.Rr().Ii(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.br=function(e){var t=0;return this.vr(e,(function(e){t++})).next((function(){return t}))},e.prototype.pe=function(e,t){return this.db.Rr().pe(e,t)},e.prototype.vr=function(e,t){return this.Sr(e,(function(e,n){return t(n)}))},e.prototype.Ri=function(e,t,n){return Er(e,n)},e.prototype.gi=function(e,t,n){return Er(e,n)},e.prototype.Ei=function(e,t,n){return this.db.Rr().Ei(e,t,n)},e.prototype.Dr=function(e,t){return Er(e,t)},e.prototype.Cr=function(e,t){return function(e,t){var n=!1;return Rr(e).Fr((function(r){return xr(e,r,t).next((function(e){return e&&(n=!0),Ln.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.$r=function(e,t){var n=this,r=this.db.Pr().Hs(),i=[],o=0;return this.Sr(e,(function(s,a){if(a<=t){var u=n.Cr(e,s).next((function(t){if(!t)return o++,r.Mn(e,s).next((function(){return r.xn(s),mr(e).delete([0,qn(s.path)])}))}));i.push(u)}})).next((function(){return Ln.Sn(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.Z(e.vi);return this.db.Rr().di(e,n)},e.prototype.Nr=function(e,t){return Er(e,t)},e.prototype.Sr=function(e,t){var n,r=mr(e),i=zn.ws;return r.Qs({index:qr.documentTargetsIndex},(function(e,r){var o=r.path,s=r.sequenceNumber;0===e[0]?(i!==zn.ws&&t(new M(Qn(n)),i),i=s,n=o):i=zn.ws})).next((function(){i!==zn.ws&&t(new M(Qn(n)),i)}))},e.prototype.kr=function(e){return this.db.Pr().Xs(e)},e}();function Er(e,t){return mr(e).put(function(e,t){return new qr(0,qn(e.path),t)}(t,e.vi))}function Ir(e,t){var n=e.projectId;return e.i||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Tr=function(){function e(e,t,n,r){this.userId=e,this.serializer=t,this.Kn=n,this.ii=r,this.xr={}}return e.Ar=function(t,n,r,i){return g(""!==t.uid),new e(t.Mr()?t.uid:"",n,r,i)},e.prototype.Or=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Or(e).Qs({index:Vr.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.Lr=function(e,t,n,r){var i=this,o=Dr(e),s=Or(e);return s.add({}).next((function(a){g("number"==typeof a);for(var u=new Nn(a,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return ct(e.ks,t)})),i=n.mutations.map((function(t){return ct(e.ks,t)}));return new Vr(t,n.batchId,n.dn.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new ne((function(e,t){return b(e.$(),t.$())})),f=0,d=r;f<d.length;f++){var p=d[f],v=jr.key(i.userId,p.key.path,a);h=h.add(p.key.path.p()),l.push(s.put(c)),l.push(o.put(v,jr.PLACEHOLDER))}return h.forEach((function(t){l.push(i.Kn.Cs(e,t))})),e.Un((function(){i.xr[a]=u.keys()})),Ln.Sn(l).next((function(){return u}))}))},e.prototype.qr=function(e,t){var n=this;return Or(e).get(t).next((function(e){return e?(g(e.userId===n.userId),sr(n.serializer,e)):null}))},e.prototype.Br=function(e,t){var n=this;return this.xr[t]?Ln.resolve(this.xr[t]):this.qr(e,t).next((function(e){if(e){var r=e.keys();return n.xr[t]=r,r}return null}))},e.prototype.Ur=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Or(e).Qs({index:Vr.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(g(t.batchId>=r),o=sr(n.serializer,t)),i.done()})).next((function(){return o}))},e.prototype.Wr=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Or(e).Qs({index:Vr.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.Qr=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Or(e).$s(Vr.userMutationsIndex,n).next((function(e){return e.map((function(e){return sr(t.serializer,e)}))}))},e.prototype.zn=function(e,t){var n=this,r=jr.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Dr(e).Qs({range:i},(function(r,i,s){var a=r[0],u=r[2],c=Qn(r[1]);if(a===n.userId&&t.path.isEqual(c))return Or(e).get(u).next((function(e){if(!e)throw v();g(e.userId===n.userId),o.push(sr(n.serializer,e))}));s.done()})).next((function(){return o}))},e.prototype.Zn=function(e,t){var n=this,r=new ne(b),i=[];return t.forEach((function(t){var o=jr.prefixForPath(n.userId,t.path),s=IDBKeyRange.lowerBound(o),a=Dr(e).Qs({range:s},(function(e,i,o){var s=e[0],a=e[2],u=Qn(e[1]);s===n.userId&&t.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),Ln.Sn(i).next((function(){return n.jr(e,r)}))},e.prototype.os=function(e,t){var n=this,r=t.path,i=r.length+1,o=jr.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new ne(b);return Dr(e).Qs({range:s},(function(e,t,o){var s=e[0],u=e[2],c=Qn(e[1]);s===n.userId&&r.D(c)?c.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.jr(e,a)}))},e.prototype.jr=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Or(e).get(t).next((function(e){if(null===e)throw v();g(e.userId===n.userId),r.push(sr(n.serializer,e))})))})),Ln.Sn(i).next((function(){return r}))},e.prototype.Kr=function(e,t){var n=this;return Ar(e.bi,this.userId,t).next((function(r){return e.Un((function(){n.Gr(t.batchId)})),Ln.forEach(r,(function(t){return n.ii.Dr(e,t)}))}))},e.prototype.Gr=function(e){delete this.xr[e]},e.prototype.zr=function(e){var t=this;return this.Or(e).next((function(n){if(!n)return Ln.resolve();var r=IDBKeyRange.lowerBound(jr.prefixForUser(t.userId)),i=[];return Dr(e).Qs({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Qn(e[1]);i.push(o)}else r.done()})).next((function(){g(0===i.length)}))}))},e.prototype.pi=function(e,t){return xr(e,this.userId,t)},e.prototype.Hr=function(e){var t=this;return Rr(e).get(this.userId).next((function(e){return e||new Mr(t.userId,-1,"")}))},e}();function xr(e,t,n){var r=jr.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Dr(e).Qs({range:o,yi:!0},(function(e,n,r){e[0]===t&&e[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function Ar(e,t,n){var r=e.store(Vr.store),i=e.store(jr.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Qs({range:s},(function(e,t,n){return a++,n.delete()}));o.push(u.next((function(){g(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=jr.key(t,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Ln.Sn(o).next((function(){return c}))}function Or(e){return kr.Ns(e,Vr.store)}function Dr(e){return kr.Ns(e,jr.store)}function Rr(e){return kr.Ns(e,Mr.store)}var Pr=10,Nr=function(){function e(e){this.serializer=e}return e.prototype.createOrUpgrade=function(e,t,n,r){var i=this;g(n<r&&n>=0&&r<=Pr);var o=new ti(t);n<1&&r>=1&&(function(e){e.createObjectStore(Lr.store)}(e),function(e){e.createObjectStore(Mr.store,{keyPath:Mr.keyPath}),e.createObjectStore(Vr.store,{keyPath:Vr.keyPath,autoIncrement:!0}).createIndex(Vr.userMutationsIndex,Vr.userMutationsKeyPath,{unique:!0}),e.createObjectStore(jr.store)}(e),Qr(e),function(e){e.createObjectStore(zr.store)}(e));var s=Ln.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(qr.store),e.deleteObjectStore(Hr.store),e.deleteObjectStore(Wr.store)}(e),Qr(e)),s=s.next((function(){return function(e){var t=e.store(Wr.store),n=new Wr(0,0,R.min().A(),0);return t.put(Wr.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(e,t){return t.store(Vr.store).$s().next((function(n){e.deleteObjectStore(Vr.store),e.createObjectStore(Vr.store,{keyPath:Vr.keyPath,autoIncrement:!0}).createIndex(Vr.userMutationsIndex,Vr.userMutationsKeyPath,{unique:!0});var r=t.store(Vr.store),i=n.map((function(e){return r.put(e)}));return Ln.Sn(i)}))}(e,o)}))),s=s.next((function(){!function(e){e.createObjectStore(Kr.store,{keyPath:Kr.keyPath})}(e)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(e){e.createObjectStore(Gr.store)}(e),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(e,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(zr.store);t.createIndex(zr.readTimeIndex,zr.readTimeIndexPath,{unique:!1}),t.createIndex(zr.collectionReadTimeIndex,zr.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),s},e.prototype.addDocumentGlobal=function(e){var t=0;return e.store(zr.store).Qs((function(e,n){t+=dr(n)})).next((function(){var n=new Gr(t);return e.store(Gr.store).put(Gr.key,n)}))},e.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(Mr.store),r=e.store(Vr.store);return n.$s().next((function(n){return Ln.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.$s(Vr.userMutationsIndex,i).next((function(r){return Ln.forEach(r,(function(r){g(r.userId===n.userId);var i=sr(t.serializer,r);return Ar(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ensureSequenceNumbers=function(e){var t=e.store(qr.store),n=e.store(zr.store);return e.store(Wr.store).get(Wr.key).next((function(e){var r=[];return n.Qs((function(n,i){var o=new N(n),s=function(e){return[0,qn(e)]}(o);r.push(t.get(s).next((function(n){return n?Ln.resolve():function(n){return t.put(new qr(0,qn(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return Ln.Sn(r)}))}))},e.prototype.createCollectionParentIndex=function(e,t){e.createObjectStore($r.store,{keyPath:$r.keyPath});var n=t.store($r.store),r=new Yn,i=function(e){if(r.add(e)){var t=e.S(),i=e.p();return n.put({collectionId:t,parent:qn(i)})}};return t.store(zr.store).Qs({yi:!0},(function(e,t){var n=new N(e);return i(n.p())})).next((function(){return t.store(jr.store).Qs({yi:!0},(function(e,t){var n=Qn(e[1]);return i(n.p())}))}))},e.prototype.rewriteCanonicalIds=function(e){var t=this,n=e.store(Hr.store);return n.Qs((function(e,r){var i=ar(r),o=ur(t.serializer,i);return n.put(o)}))},e}(),Fr=function(e,t){this.seconds=e,this.nanoseconds=t},Lr=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Lr.store="owner",Lr.key="owner";var Mr=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Mr.store="mutationQueues",Mr.keyPath="userId";var Vr=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Vr.store="mutations",Vr.keyPath="batchId",Vr.userMutationsIndex="userMutationsIndex",Vr.userMutationsKeyPath=["userId","batchId"];var jr=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,qn(t)]},e.key=function(e,t,n){return[e,qn(t),n]},e}();jr.store="documentMutations",jr.PLACEHOLDER=new jr;var Ur=function(e,t){this.path=e,this.readTime=t},Br=function(e,t){this.path=e,this.version=t},zr=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};zr.store="remoteDocuments",zr.readTimeIndex="readTimeIndex",zr.readTimeIndexPath="readTime",zr.collectionReadTimeIndex="collectionReadTimeIndex",zr.collectionReadTimeIndexPath=["parentPath","readTime"];var Gr=function(e){this.byteSize=e};Gr.store="remoteDocumentGlobal",Gr.key="remoteDocumentGlobalKey";var Hr=function(e,t,n,r,i,o,s){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Hr.store="targets",Hr.keyPath="targetId",Hr.queryTargetsIndexName="queryTargetsIndex",Hr.queryTargetsKeyPath=["canonicalId","targetId"];var qr=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};qr.store="targetDocuments",qr.keyPath=["targetId","path"],qr.documentTargetsIndex="documentTargetsIndex",qr.documentTargetsKeyPath=["path","targetId"];var Wr=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Wr.key="targetGlobalKey",Wr.store="targetGlobal";var $r=function(e,t){this.collectionId=e,this.parent=t};function Qr(e){e.createObjectStore(qr.store,{keyPath:qr.keyPath}).createIndex(qr.documentTargetsIndex,qr.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Hr.store,{keyPath:Hr.keyPath}).createIndex(Hr.queryTargetsIndexName,Hr.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Wr.store)}$r.store="collectionParents",$r.keyPath=["collectionId","parent"];var Kr=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Kr.store="clientMetadata",Kr.keyPath="clientId";var Yr=i.__spreadArrays(i.__spreadArrays(i.__spreadArrays([Mr.store,Vr.store,jr.store,zr.store,Hr.store,Lr.store,Wr.store,qr.store],[Kr.store]),[Gr.store]),[$r.store]),Zr=function(){function e(t){this.db=t,12.2===e.Yr(a.getUA())&&d("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.Ui=function(t,n,r){return f("SimpleDb","Opening database:",t),new Ln((function(i,o){var s=indexedDB.open(t,n);s.onsuccess=function(t){i(new e(t.target.result))},s.onblocked=function(){o(new O(A.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(e){var t=e.target.error;o("VersionError"===t.name?new O(A.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):t)},s.onupgradeneeded=function(e){f("SimpleDb",'Database "'+t+'" requires upgrade from version:',e.oldVersion),r.createOrUpgrade(e.target.result,s.transaction,e.oldVersion,Pr).next((function(){f("SimpleDb","Database upgrade to version "+Pr+" complete")}))}})).bn()},e.delete=function(e){return f("SimpleDb","Removing database:",e),ri(window.indexedDB.deleteDatabase(e)).bn()},e.Oi=function(){if("undefined"==typeof indexedDB)return!1;if(e.Jr())return!0;var t=a.getUA(),n=e.Yr(t),r=0<n&&n<10,i=e.Xr(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.Jr=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Zr)},e.Ns=function(e,t){return e.store(t)},e.Yr=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Xr=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.Ji=function(e){this.db.onversionchange=function(t){return e(t)}},e.prototype.runTransaction=function(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,s,a,u;return i.__generator(this,(function(c){switch(c.label){case 0:r="readonly"===e,o=0,s=function(){var e,s,u,c,l;return i.__generator(this,(function(i){switch(i.label){case 0:++o,e=ti.open(a.db,r?"readonly":"readwrite",t),i.label=1;case 1:return i.trys.push([1,3,,4]),s=n(e).catch((function(t){return e.abort(t),Ln.reject(t)})).bn(),u={},s.catch((function(){})),[4,e.to];case 2:return[2,(u.value=(i.sent(),s),u)];case 3:return f("SimpleDb","Transaction failed with error: %s. Retrying: %s.",(c=i.sent()).message,l="FirebaseError"!==c.name&&o<3),l?[3,4]:[2,{value:Promise.reject(c)}];case 4:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db.close()},e}(),Xr=function(){function e(e){this.eo=e,this.no=!1,this.so=null}return Object.defineProperty(e.prototype,"gn",{get:function(){return this.no},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"io",{get:function(){return this.so},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.eo=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.no=!0},e.prototype.js=function(e){this.so=e},e.prototype.delete=function(){return ri(this.eo.delete())},e}(),Jr=function(e){function t(t){var n=this;return(n=e.call(this,A.UNAVAILABLE,"IndexedDB transaction failed: "+t)||this).name="IndexedDbTransactionError",n}return i.__extends(t,e),t}(O);function ei(e){return"IndexedDbTransactionError"===e.name}var ti=function(){function e(e){var t=this;this.transaction=e,this.aborted=!1,this.ro=new Gn,this.transaction.oncomplete=function(){t.ro.resolve()},this.transaction.onabort=function(){e.error?t.ro.reject(new Jr(e.error)):t.ro.resolve()},this.transaction.onerror=function(e){var n=oi(e.target.error);t.ro.reject(new Jr(n))}}return e.open=function(t,n,r){return new e(t.transaction(r,n))},Object.defineProperty(e.prototype,"to",{get:function(){return this.ro.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ro.reject(e),this.aborted||(f("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new ni(t)},e}(),ni=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(f("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(f("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ri(n)},e.prototype.add=function(e){return f("SimpleDb","ADD",this.store.name,e,e),ri(this.store.add(e))},e.prototype.get=function(e){var t=this;return ri(this.store.get(e)).next((function(n){return void 0===n&&(n=null),f("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return f("SimpleDb","DELETE",this.store.name,e),ri(this.store.delete(e))},e.prototype.count=function(){return f("SimpleDb","COUNT",this.store.name),ri(this.store.count())},e.prototype.$s=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.oo(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.ho=function(e,t){f("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.yi=!1;var r=this.cursor(n);return this.oo(r,(function(e,t,n){return n.delete()}))},e.prototype.Qs=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.oo(r,t)},e.prototype.Fr=function(e){var t=this.cursor({});return new Ln((function(n,r){t.onerror=function(e){var t=oi(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.oo=function(e,t){var n=[];return new Ln((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Xr(i),s=t(i.primaryKey,i.value,o);if(s instanceof Ln){var a=s.catch((function(e){return o.done(),Ln.reject(e)}));n.push(a)}o.gn?r():null===o.io?i.continue():i.continue(o.io)}else r()}})).next((function(){return Ln.Sn(n)}))},e.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.yi?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function ri(e){return new Ln((function(t,n){e.onsuccess=function(e){t(e.target.result)},e.onerror=function(e){var t=oi(e.target.error);n(t)}}))}var ii=!1;function oi(e){var t=Zr.Yr(a.getUA());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new O("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ii||(ii=!0,setTimeout((function(){throw r}),0)),r}}return e}function si(){return"undefined"!=typeof window?window:null}var ai=function(){function e(e,t,n,r,i){this.ao=e,this.Es=t,this.uo=n,this.op=r,this.co=i,this.lo=new Gn,this.then=this.lo.promise.then.bind(this.lo.promise),this.lo.promise.catch((function(e){}))}return e._o=function(t,n,r,i,o){var s=new e(t,n,Date.now()+r,i,o);return s.start(r),s},e.prototype.start=function(e){var t=this;this.fo=setTimeout((function(){return t.do()}),e)},e.prototype.Ss=function(){return this.do()},e.prototype.cancel=function(e){null!==this.fo&&(this.clearTimeout(),this.lo.reject(new O(A.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.do=function(){var e=this;this.ao.Zi((function(){return null!==e.fo?(e.clearTimeout(),e.op().then((function(t){return e.lo.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.fo&&(this.co(this),clearTimeout(this.fo),this.fo=null)},e}(),ui=function(){function e(){var e=this;this.wo=Promise.resolve(),this.To=[],this.Eo=!1,this.Io=[],this.mo=null,this.Ao=!1,this.Ro=[],this.Po=new Hn(this,"async_queue_retry"),this.Vo=function(){return e.Po.vs()};var t=si();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vo)}return Object.defineProperty(e.prototype,"yo",{get:function(){return this.Eo},enumerable:!1,configurable:!0}),e.prototype.Zi=function(e){this.enqueue(e)},e.prototype.po=function(e){this.bo(),this.vo(e)},e.prototype.So=function(e){return this.bo(),this.vo(e)},e.prototype.Do=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(n){switch(n.label){case 0:return this.bo(),this.Eo?[3,2]:(this.Eo=!0,(t=si())&&t.removeEventListener("visibilitychange",this.Vo),[4,this.So(e)]);case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},e.prototype.enqueue=function(e){return this.bo(),this.Eo?new Promise((function(e){})):this.vo(e)},e.prototype.er=function(e){var t=this;this.To.push(e),this.Zi((function(){return t.Co()}))},e.prototype.Co=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t=this;return i.__generator(this,(function(n){switch(n.label){case 0:if(0===this.To.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.To[0]()];case 2:return n.sent(),this.To.shift(),this.Po.reset(),[3,4];case 3:if(!ei(e=n.sent()))throw e;return f("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.To.length>0&&this.Po.ys((function(){return t.Co()})),n.label=5;case 5:return[2]}}))}))},e.prototype.vo=function(e){var t=this,n=this.wo.then((function(){return t.Ao=!0,e().catch((function(e){throw t.mo=e,t.Ao=!1,d("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.Ao=!1,e}))}));return this.wo=n,n},e.prototype.bs=function(e,t,n){var r=this;this.bo(),this.Ro.indexOf(e)>-1&&(t=0);var i=ai._o(this,e,t,n,(function(e){return r.Fo(e)}));return this.Io.push(i),i},e.prototype.bo=function(){this.mo&&v()},e.prototype.$o=function(){},e.prototype.No=function(){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(t){switch(t.label){case 0:return[4,e=this.wo];case 1:t.sent(),t.label=2;case 2:if(e!==this.wo)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.ko=function(e){for(var t=0,n=this.Io;t<n.length;t++)if(n[t].Es===e)return!0;return!1},e.prototype.xo=function(e){var t=this;return this.No().then((function(){t.Io.sort((function(e,t){return e.uo-t.uo}));for(var n=0,r=t.Io;n<r.length;n++){var i=r[n];if(i.Ss(),"all"!==e&&i.Es===e)break}return t.No()}))},e.prototype.Mo=function(e){this.Ro.push(e)},e.prototype.Fo=function(e){var t=this.Io.indexOf(e);this.Io.splice(t,1)},e}();function ci(e,t){if(d("AsyncQueue",t+": "+e),ei(e))return new O(A.UNAVAILABLE,t+": "+e);throw e}function li(e,t){var n=e[1],r=t[1],i=b(e[0],t[0]);return 0===i?b(n,r):i}var hi=function(){function e(e){this.Oo=e,this.buffer=new ne(li),this.Lo=0}return e.prototype.qo=function(){return++this.Lo},e.prototype.Bo=function(e){var t=[e,this.qo()];if(this.buffer.size<this.Oo)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();li(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),fi={Uo:!1,Wo:0,Qo:0,jo:0},di=function(){function e(e,t,n){this.Ko=e,this.Go=t,this.zo=n}return e.Ho=function(t){return new e(t,e.Yo,e.Jo)},e}();di.Xo=-1,di.Zo=1048576,di.th=41943040,di.Yo=10,di.Jo=1e3,di.eh=new di(di.th,di.Yo,di.Jo),di.nh=new di(di.Xo,0,0);var pi=function(){function e(e,t){this.yr=e,this.ao=t,this.sh=!1,this.ih=null}return e.prototype.start=function(e){this.yr.params.Ko!==di.Xo&&this.rh(e)},e.prototype.stop=function(){this.ih&&(this.ih.cancel(),this.ih=null)},Object.defineProperty(e.prototype,"Hi",{get:function(){return null!==this.ih},enumerable:!1,configurable:!0}),e.prototype.rh=function(e){var t=this,n=this.sh?3e5:6e4;f("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ih=this.ao.bs("lru_garbage_collection",n,(function(){return i.__awaiter(t,void 0,void 0,(function(){var t;return i.__generator(this,(function(n){switch(n.label){case 0:this.ih=null,this.sh=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.oh(this.yr)];case 2:return n.sent(),[3,7];case 3:return ei(t=n.sent())?(f("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,_i(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.rh(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),vi=function(){function e(e,t){this.hh=e,this.params=t}return e.prototype.ah=function(e,t){return this.hh.pr(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.uh=function(e,t){var n=this;if(0===t)return Ln.resolve(zn.ws);var r=new hi(t);return this.hh.pe(e,(function(e){return r.Bo(e.sequenceNumber)})).next((function(){return n.hh.vr(e,(function(e){return r.Bo(e)}))})).next((function(){return r.maxValue}))},e.prototype.Ei=function(e,t,n){return this.hh.Ei(e,t,n)},e.prototype.$r=function(e,t){return this.hh.$r(e,t)},e.prototype.lh=function(e,t){var n=this;return this.params.Ko===di.Xo?(f("LruGarbageCollector","Garbage collection skipped; disabled"),Ln.resolve(fi)):this.kr(e).next((function(r){return r<n.params.Ko?(f("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Ko),fi):n._h(e,t)}))},e.prototype.kr=function(e){return this.hh.kr(e)},e.prototype._h=function(e,t){var n,r,i,o,a,u,c,l=this,d=Date.now();return this.ah(e,this.params.Go).next((function(t){return t>l.params.zo?(f("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.zo+" from "+t),r=l.params.zo):r=t,o=Date.now(),l.uh(e,r)})).next((function(r){return n=r,a=Date.now(),l.Ei(e,n,t)})).next((function(t){return i=t,u=Date.now(),l.$r(e,n)})).next((function(e){return c=Date.now(),h()<=s.LogLevel.DEBUG&&f("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-d)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+e+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-d)+"ms"),Ln.resolve({Uo:!0,Wo:r,Qo:i,jo:e})}))},e}(),gi=function(){function e(e,t,n){this.persistence=e,this.fh=t,this.dh=new J(b),this.wh=new x((function(e){return G(e)}),H),this.Th=R.min(),this.jn=e.mr(n),this.Eh=e.Pr(),this.qi=e.Rr(),this.Ih=new Un(this.Eh,this.jn,this.persistence.gr()),this.fh.mh(this.Ih)}return e.prototype.Ah=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o=this;return i.__generator(this,(function(i){switch(i.label){case 0:return t=this.jn,n=this.Ih,[4,this.persistence.runTransaction("Handle user change","readonly",(function(r){var i;return o.jn.Qr(r).next((function(s){return i=s,t=o.persistence.mr(e),n=new Un(o.Eh,t,o.persistence.gr()),t.Qr(r)})).next((function(e){for(var t=[],o=[],s=he(),a=0,u=i;a<u.length;a++){var c=u[a];t.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];o.push(p.batchId);for(var v=0,g=p.mutations;v<g.length;v++)s=s.add(g[v].key)}return n.Jn(r,s).next((function(e){return{Rh:e,Ph:t,gh:o}}))}))}))];case 1:return r=i.sent(),[2,(this.jn=t,this.Ih=n,this.fh.mh(this.Ih),r)]}}))}))},e.prototype.Vh=function(e){var t,n=this,r=D.now(),i=e.reduce((function(e,t){return e.add(t.key)}),he());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(o){return n.Ih.Jn(o,i).next((function(i){t=i;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Bt(c,t.get(c.key));null!=l&&s.push(new qt(c.key,l,en(l.proto.mapValue),Lt.exists(!0)))}return n.jn.Lr(o,r,s,e)}))})).then((function(e){var n=e.In(t);return{batchId:e.batchId,Cn:n}}))},e.prototype.yh=function(e){var t=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=e.batch.keys(),i=t.Eh.Hs({Js:!0});return t.ph(n,e,i).next((function(){return i.apply(n)})).next((function(){return t.jn.zr(n)})).next((function(){return t.Ih.Jn(n,r)}))}))},e.prototype.bh=function(e){var t=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return t.jn.qr(n,e).next((function(e){return g(null!==e),r=e.keys(),t.jn.Kr(n,e)})).next((function(){return t.jn.zr(n)})).next((function(){return t.Ih.Jn(n,r)}))}))},e.prototype.Wr=function(){var e=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.jn.Wr(t)}))},e.prototype.ai=function(){var e=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qi.ai(t)}))},e.prototype.vh=function(t){var n=this,r=t.X,i=this.dh;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(o){var s=n.Eh.Hs({Js:!0});i=n.dh;var a=[];t.Wt.forEach((function(t,s){var u=i.get(s);if(u){a.push(n.qi.Pi(o,t.Xt,s).next((function(){return n.qi.Ai(o,t.Yt,s)})));var c=t.resumeToken;if(c.H()>0){var l=u.tt(c,r).Z(o.vi);i=i.nt(s,l),e.Sh(u,l,t)&&a.push(n.qi.di(o,l))}}}));var u=oe(),c=he();if(t.jt.forEach((function(e,t){c=c.add(e)})),a.push(s.getEntries(o,c).next((function(e){t.jt.forEach((function(i,c){var l=e.get(i);c instanceof rn&&c.version.isEqual(R.min())?(s.xn(i,r),u=u.nt(i,c)):null==l||c.version.o(l.version)>0||0===c.version.o(l.version)&&l.hasPendingWrites?(s.Nn(c,r),u=u.nt(i,c)):f("LocalStore","Ignoring outdated watch update for ",i,". Current version:",l.version," Watch version:",c.version),t.Kt.has(i)&&a.push(n.persistence.ii.Nr(o,i))}))}))),!r.isEqual(R.min())){var l=n.qi.ai(o).next((function(e){return n.qi.ci(o,o.vi,r)}));a.push(l)}return Ln.Sn(a).next((function(){return s.apply(o)})).next((function(){return n.Ih.Xn(o,u)}))})).then((function(e){return n.dh=i,e}))},e.Sh=function(e,t,n){return g(t.resumeToken.H()>0),0===e.resumeToken.H()||t.X.m()-e.X.m()>=this.Dh||n.Yt.size+n.Jt.size+n.Xt.size>0},e.prototype.Ch=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o,s,a,u,c=this;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Ln.forEach(e,(function(e){return Ln.forEach(e.as,(function(n){return c.persistence.ii.Ri(t,e.targetId,n)})).next((function(){return Ln.forEach(e.us,(function(n){return c.persistence.ii.gi(t,e.targetId,n)}))}))}))}))];case 1:return i.sent(),[3,3];case 2:if(!ei(t=i.sent()))throw t;return f("LocalStore","Failed to update sequence numbers: "+t),[3,3];case 3:for(n=0,r=e;n<r.length;n++)s=(o=r[n]).targetId,o.fromCache||(a=this.dh.get(s),u=a.et(a.X),this.dh=this.dh.nt(s,u));return[2]}}))}))},e.prototype.Fh=function(e){var t=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===e&&(e=-1),t.jn.Ur(n,e)}))},e.prototype.$h=function(e){var t=this;return this.persistence.runTransaction("read document","readonly",(function(n){return t.Ih.Gn(n,e)}))},e.prototype.Nh=function(e){var t=this;return this.persistence.runTransaction("Allocate target","readwrite",(function(n){var r;return t.qi.mi(n,e).next((function(i){return i?Ln.resolve(r=i):t.qi.ri(n).next((function(i){return r=new K(e,i,0,n.vi),t.qi.li(n,r).next((function(){return r}))}))}))})).then((function(n){var r=t.dh.get(n.targetId);return(null===r||n.X.o(r.X)>0)&&(t.dh=t.dh.nt(n.targetId,n),t.wh.set(e,n.targetId)),n}))},e.prototype.mi=function(e,t){var n=this.wh.get(t);return void 0!==n?Ln.resolve(this.dh.get(n)):this.qi.mi(e,t)},e.prototype.kh=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s=this;return i.__generator(this,(function(i){switch(i.label){case 0:n=this.dh.get(e),r=t?"readwrite":"readwrite-primary",i.label=1;case 1:return i.trys.push([1,4,,5]),t?[3,3]:[4,this.persistence.runTransaction("Release target",r,(function(e){return s.persistence.ii.removeTarget(e,n)}))];case 2:i.sent(),i.label=3;case 3:return[3,5];case 4:if(!ei(o=i.sent()))throw o;return f("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return this.dh=this.dh.remove(e),this.wh.delete(n.target),[2]}}))}))},e.prototype.xh=function(e,t){var n=this,r=R.min(),i=he();return this.persistence.runTransaction("Execute query","readonly",(function(o){return n.mi(o,fn(e)).next((function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,n.qi.Vi(o,e.targetId).next((function(e){i=e}))})).next((function(){return n.fh.ts(o,e,t?r:R.min(),t?i:he())})).next((function(e){return{documents:e,Mh:i}}))}))},e.prototype.ph=function(e,t,n){var r=this,i=t.batch,o=i.keys(),s=Ln.resolve();return o.forEach((function(r){s=s.next((function(){return n.Mn(e,r)})).next((function(e){var o=e,s=t.An.get(r);g(null!==s),(!o||o.version.o(s)<0)&&(o=i.wn(r,o,t))&&n.Nn(o,t.mn)}))})),s.next((function(){return r.jn.Kr(e,i)}))},e.prototype.oh=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.lh(n,t.dh)}))},e}();function yi(e,t,n){return new gi(e,t,n)}function mi(e,t){var n=y(e),r=y(n.qi),i=n.dh.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Me(e,t).next((function(e){return e?e.target:null}))}))}function _i(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){if(e.code!==A.FAILED_PRECONDITION||e.message!==Vn)throw e;return f("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}gi.Dh=3e8;var bi=function(){function e(){this.Oh=new ne(ki.Lh),this.qh=new ne(ki.Bh)}return e.prototype._=function(){return this.Oh._()},e.prototype.Ri=function(e,t){var n=new ki(e,t);this.Oh=this.Oh.add(n),this.qh=this.qh.add(n)},e.prototype.Uh=function(e,t){var n=this;e.forEach((function(e){return n.Ri(e,t)}))},e.prototype.gi=function(e,t){this.Wh(new ki(e,t))},e.prototype.Qh=function(e,t){var n=this;e.forEach((function(e){return n.gi(e,t)}))},e.prototype.jh=function(e){var t=this,n=new M(new N([])),r=new ki(n,e),i=new ki(n,e+1),o=[];return this.qh.vt([r,i],(function(e){t.Wh(e),o.push(e.key)})),o},e.prototype.Kh=function(){var e=this;this.Oh.forEach((function(t){return e.Wh(t)}))},e.prototype.Wh=function(e){this.Oh=this.Oh.delete(e),this.qh=this.qh.delete(e)},e.prototype.Gh=function(e){var t=new M(new N([])),n=new ki(t,e),r=new ki(t,e+1),i=he();return this.qh.vt([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.pi=function(e){var t=new ki(e,0),n=this.Oh.Dt(t);return null!==n&&e.isEqual(n.key)},e}(),ki=function(){function e(e,t){this.key=e,this.zh=t}return e.Lh=function(e,t){return M.P(e.key,t.key)||b(e.zh,t.zh)},e.Bh=function(e,t){return b(e.zh,t.zh)||M.P(e.key,t.key)},e}();function wi(e,t){if(0!==t.length)throw new O(A.INVALID_ARGUMENT,"Function "+e+"() does not support arguments, but was called with "+Ui(t.length,"argument")+".")}function Ci(e,t,n){if(t.length!==n)throw new O(A.INVALID_ARGUMENT,"Function "+e+"() requires "+Ui(n,"argument")+", but was called with "+Ui(t.length,"argument")+".")}function Si(e,t,n){if(t.length<n)throw new O(A.INVALID_ARGUMENT,"Function "+e+"() requires at least "+Ui(n,"argument")+", but was called with "+Ui(t.length,"argument")+".")}function Ei(e,t,n,r){if(t.length<n||t.length>r)throw new O(A.INVALID_ARGUMENT,"Function "+e+"() requires between "+n+" and "+r+" arguments, but was called with "+Ui(t.length,"argument")+".")}function Ii(e,t,n,r){Ri(e,t,ji(n)+" argument",r)}function Ti(e,t,n,r){void 0!==r&&Ii(e,t,n,r)}function xi(e,t,n,r){Ri(e,t,n+" option",r)}function Ai(e,t,n,r){void 0!==r&&xi(e,t,n,r)}function Oi(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var u=a[s];if(u===r)return;o.push(Ni(u))}var c=Ni(r);throw new O(A.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+e+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(e,0,n,r,i)}function Di(e,t,n,r){if(!t.some((function(e){return e===r})))throw new O(A.INVALID_ARGUMENT,"Invalid value "+Ni(r)+" provided to function "+e+"() for its "+ji(n)+" argument. Acceptable values: "+t.join(", "));return r}function Ri(e,t,n,r){if(!("object"===t?Pi(r):"non-empty string"===t?"string"==typeof r&&""!==r:typeof r===t)){var i=Ni(r);throw new O(A.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" to be of type "+t+", but it was: "+i)}}function Pi(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Ni(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":v()}function Fi(e,t,n){if(void 0===n)throw new O(A.INVALID_ARGUMENT,"Function "+e+"() requires a valid "+ji(t)+" argument, but it was undefined.")}function Li(e,t,n){I(t,(function(t,r){if(n.indexOf(t)<0)throw new O(A.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))}))}function Mi(e,t,n,r){var i=Ni(r);return new O(A.INVALID_ARGUMENT,"Function "+e+"() requires its "+ji(n)+" argument to be a "+t+", but it was: "+i)}function Vi(e,t,n){if(n<=0)throw new O(A.INVALID_ARGUMENT,"Function "+e+"() requires its "+ji(t)+" argument to be a positive number, but it was: "+n+".")}function ji(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function Ui(e,t){return e+" "+t+(1===e?"":"s")}function Bi(){if("undefined"==typeof Uint8Array)throw new O(A.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function zi(){if("undefined"==typeof atob)throw new O(A.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Gi=function(){function e(e){zi(),this.Hh=e}return e.fromBase64String=function(t){Ci("Blob.fromBase64String",arguments,1),Ii("Blob.fromBase64String","string",1,t),zi();try{return new e(W.fromBase64String(t))}catch(t){throw new O(A.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){if(Ci("Blob.fromUint8Array",arguments,1),Bi(),!(t instanceof Uint8Array))throw Mi("Blob.fromUint8Array","Uint8Array",1,t);return new e(W.fromUint8Array(t))},e.prototype.toBase64=function(){return Ci("Blob.toBase64",arguments,0),zi(),this.Hh.toBase64()},e.prototype.toUint8Array=function(){return Ci("Blob.toUint8Array",arguments,0),Bi(),this.Hh.toUint8Array()},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this.Hh.isEqual(e.Hh)},e}(),Hi=function(e){!function(e,t,n,r){if(!(t instanceof Array)||t.length<1)throw new O(A.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+Ui(1,"element")+".")}(0,e);for(var t=0;t<e.length;++t)if(Ii("FieldPath","string",t,e[t]),0===e[t].length)throw new O(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Yh=new L(e)},qi=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.call(this,t)||this}return i.__extends(t,e),t.documentId=function(){return new t(L.L().$())},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Mi("isEqual","FieldPath",1,e);return this.Yh.isEqual(e.Yh)},t}(Hi),Wi=new RegExp("[~\\*/\\[\\]]"),$i=function(){this.Jh=this},Qi=function(e){function t(t){var n=this;return(n=e.call(this)||this).Xh=t,n}return i.__extends(t,e),t.prototype.Zh=function(e){if(2!==e.ta)throw e.ea(1===e.ta?this.Xh+"() can only appear at the top level of your update data":this.Xh+"() cannot be used with set() unless you pass {merge:true}");return e.Le.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}($i);function Ki(e,t,n){return new co({ta:3,na:t.settings.na,methodName:e.Xh,sa:n},t.s,t.serializer,t.ignoreUndefinedProperties)}var Yi=function(e){function t(t){var n=this;return(n=e.call(this)||this).Xh=t,n}return i.__extends(t,e),t.prototype.Zh=function(e){return new Nt(e.path,new Et)},t.prototype.isEqual=function(e){return e instanceof t},t}($i),Zi=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Xh=t,r.ia=n,r}return i.__extends(t,e),t.prototype.Zh=function(e){var t=Ki(this,e,!0),n=this.ia.map((function(e){return go(e,t)})),r=new It(n);return new Nt(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}($i),Xi=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Xh=t,r.ia=n,r}return i.__extends(t,e),t.prototype.Zh=function(e){var t=Ki(this,e,!0),n=this.ia.map((function(e){return go(e,t)})),r=new xt(n);return new Nt(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}($i),Ji=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Xh=t,r.ra=n,r}return i.__extends(t,e),t.prototype.Zh=function(e){var t=new Ot(e.serializer,Ke(e.serializer,this.ra));return new Nt(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}($i),eo=function(e){function t(){return e.call(this)||this}return i.__extends(t,e),t.delete=function(){return wi("FieldValue.delete",arguments),new to(new Qi("FieldValue.delete"))},t.serverTimestamp=function(){return wi("FieldValue.serverTimestamp",arguments),new to(new Yi("FieldValue.serverTimestamp"))},t.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Si("FieldValue.arrayUnion",arguments,1),new to(new Zi("FieldValue.arrayUnion",e))},t.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Si("FieldValue.arrayRemove",arguments,1),new to(new Xi("FieldValue.arrayRemove",e))},t.increment=function(e){return Ii("FieldValue.increment","number",1,e),Ci("FieldValue.increment",arguments,1),new to(new Ji("FieldValue.increment",e))},t}($i),to=function(e){function t(t){var n=this;return(n=e.call(this)||this).Jh=t,n.Xh=t.Xh,n}return i.__extends(t,e),t.prototype.Zh=function(e){return this.Jh.Zh(e)},t.prototype.isEqual=function(e){return e instanceof t&&this.Jh.isEqual(e.Jh)},t}(eo),no=function(){function e(e,t){if(Ci("GeoPoint",arguments,2),Ii("GeoPoint","number",1,e),Ii("GeoPoint","number",2,t),!isFinite(e)||e<-90||e>90)throw new O(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new O(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this.oa=e,this.ha=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this.oa},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this.ha},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.oa===e.oa&&this.ha===e.ha},e.prototype.T=function(e){return b(this.oa,e.oa)||b(this.ha,e.ha)},e}();function ro(e){return new We(e,!0)}var io=/^__.*__$/,oo=function(e,t,n){this.aa=e,this.ua=t,this.ca=n},so=function(){function e(e,t,n){this.data=e,this.Le=t,this.fieldTransforms=n}return e.prototype.la=function(e,t){var n=[];return n.push(null!==this.Le?new qt(e,this.data,this.Le,t):new Ht(e,this.data,t)),this.fieldTransforms.length>0&&n.push(new $t(e,this.fieldTransforms)),n},e}(),ao=function(){function e(e,t,n){this.data=e,this.Le=t,this.fieldTransforms=n}return e.prototype.la=function(e,t){var n=[new qt(e,this.data,this.Le,t)];return this.fieldTransforms.length>0&&n.push(new $t(e,this.fieldTransforms)),n},e}();function uo(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw v()}}var co=function(){function e(e,t,n,r,i,o){this.settings=e,this.s=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this._a(),this.fieldTransforms=i||[],this.Le=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ta",{get:function(){return this.settings.ta},enumerable:!1,configurable:!0}),e.prototype.fa=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.s,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Le)},e.prototype.da=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.fa({path:n,sa:!1});return r.wa(e),r},e.prototype.Ta=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.fa({path:n,sa:!1});return r._a(),r},e.prototype.Ea=function(e){return this.fa({path:void 0,sa:!0})},e.prototype.ea=function(e){return wo(e,this.settings.methodName,this.settings.Ia||!1,this.path,this.settings.na)},e.prototype.contains=function(e){return void 0!==this.Le.find((function(t){return e.D(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.D(t.field)}))},e.prototype._a=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.wa(this.path.get(e))},e.prototype.wa=function(e){if(0===e.length)throw this.ea("Document fields must not be empty");if(uo(this.ta)&&io.test(e))throw this.ea('Document fields cannot begin and end with "__"')},e}(),lo=function(){function e(e,t,n){this.s=e,this.ignoreUndefinedProperties=t,this.serializer=n||ro(e)}return e.prototype.ma=function(e,t,n,r){return void 0===r&&(r=!1),new co({ta:e,methodName:t,na:n,path:L.k(),sa:!1,Ia:r},this.s,this.serializer,this.ignoreUndefinedProperties)},e}();function ho(e,t,n,r,i,o){void 0===o&&(o={});var s=e.ma(o.merge||o.mergeFields?2:0,t,n,i);_o("Data must be an object, but it was:",s,r);var a,u,c=yo(r,s);if(o.merge)a=new Pt(s.Le),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=f[h],p=void 0;if(d instanceof Hi)p=d.Yh;else{if("string"!=typeof d)throw v();p=ko(t,d,n)}if(!s.contains(p))throw new O(A.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");Co(l,p)||l.push(p)}a=new Pt(l),u=s.fieldTransforms.filter((function(e){return a.je(e.field)}))}else a=null,u=s.fieldTransforms;return new so(new Xt(c),a,u)}function fo(e,t,n,r){var i=e.ma(1,t,n);_o("Data must be an object, but it was:",i,r);var o=[],s=new Jt;I(r,(function(e,r){var a=ko(t,e,n),u=i.Ta(a);if(r instanceof $i&&r.Jh instanceof Qi)o.push(a);else{var c=go(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new Pt(o);return new ao(s.Ge(),a,i.fieldTransforms)}function po(e,t,n,r,i,o){var s=e.ma(1,t,n),a=[bo(t,r,n)],u=[i];if(o.length%2!=0)throw new O(A.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(bo(t,o[c])),u.push(o[c+1]);for(var l=[],h=new Jt,f=a.length-1;f>=0;--f)if(!Co(l,a[f])){var d=a[f],p=u[f],v=s.Ta(d);if(p instanceof $i&&p.Jh instanceof Qi)l.push(d);else{var g=go(p,v);null!=g&&(l.push(d),h.set(d,g))}}var y=new Pt(l);return new ao(h.Ge(),y,s.fieldTransforms)}function vo(e,t,n,r){return void 0===r&&(r=!1),go(n,e.ma(r?4:3,t))}function go(e,t){if(mo(e))return _o("Unsupported field value:",t,e),yo(e,t);if(e instanceof $i)return function(e,t){if(!uo(t.ta))throw t.ea(e.Xh+"() can only be used with update() and set()");if(!t.path)throw t.ea(e.Xh+"() is not currently supported inside arrays");var n=e.Zh(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(t.path&&t.Le.push(t.path),e instanceof Array){if(t.settings.sa&&4!==t.ta)throw t.ea("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var s=go(o[i],t.Ea(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===e)return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ke(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=D.fromDate(e);return{timestampValue:Ye(t.serializer,n)}}if(e instanceof D){var r=new D(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ye(t.serializer,r)}}if(e instanceof no)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Gi)return{bytesValue:Ze(t.serializer,e)};if(e instanceof oo){var i=t.s,o=e.aa;if(!o.isEqual(i))throw t.ea("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:et(e.aa||t.s,e.ua.path)}}if(void 0===e&&t.ignoreUndefinedProperties)return null;throw t.ea("Unsupported field value: "+Ni(e))}(e,t)}function yo(e,t){var n={};return T(e)?t.path&&t.path.length>0&&t.Le.push(t.path):I(e,(function(e,r){var i=go(r,t.da(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function mo(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof D||e instanceof no||e instanceof Gi||e instanceof oo||e instanceof $i)}function _o(e,t,n){if(!mo(n)||!Pi(n)){var r=Ni(n);throw t.ea("an object"===r?e+" a custom object":e+" "+r)}}function bo(e,t,n){if(t instanceof Hi)return t.Yh;if("string"==typeof t)return ko(e,t);throw wo("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}function ko(e,t,n){try{return function(e){if(e.search(Wi)>=0)throw new O(A.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(qi.bind.apply(qi,i.__spreadArrays([void 0],e.split("."))))}catch(i){throw new O(A.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(t).Yh}catch(t){throw wo((r=t)instanceof Error?r.message:r.toString(),e,!1,void 0,n)}var r}function wo(e,t,n,r,i){var o=r&&!r._(),s=void 0!==i,a="Function "+t+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new O(A.INVALID_ARGUMENT,(a+=". ")+e+u)}function Co(e,t){return e.some((function(e){return e.isEqual(t)}))}var So=function(){function e(e){this.uid=e}return e.prototype.Mr=function(){return null!=this.uid},e.prototype.Aa=function(){return this.Mr()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();So.UNAUTHENTICATED=new So(null),So.Ra=new So("google-credentials-uid"),So.Pa=new So("first-party-uid");var Eo=function(e,t){this.user=t,this.type="OAuth",this.ga={},this.ga.Authorization="Bearer "+e},Io=function(){function e(){this.Va=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.ya=function(){},e.prototype.pa=function(e){this.Va=e,e(So.UNAUTHENTICATED)},e.prototype.ba=function(){this.Va=null},e}(),To=function(){function e(e){var t=this;this.va=null,this.currentUser=So.UNAUTHENTICATED,this.Sa=!1,this.Da=0,this.Va=null,this.forceRefresh=!1,this.va=function(){t.Da++,t.currentUser=t.Ca(),t.Sa=!0,t.Va&&t.Va(t.currentUser)},this.Da=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.va):(this.va(null),e.get().then((function(e){t.auth=e,t.va&&t.auth.addAuthTokenListener(t.va)}),(function(){})))}return e.prototype.getToken=function(){var e=this,t=this.Da,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.Da!==t?(f("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(g("string"==typeof n.accessToken),new Eo(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.ya=function(){this.forceRefresh=!0},e.prototype.pa=function(e){this.Va=e,this.Sa&&e(this.currentUser)},e.prototype.ba=function(){this.auth&&this.auth.removeAuthTokenListener(this.va),this.va=null,this.Va=null},e.prototype.Ca=function(){var e=this.auth&&this.auth.getUid();return g(null===e||"string"==typeof e),new So(e)},e}(),xo=function(){function e(e,t){this.Fa=e,this.$a=t,this.type="FirstParty",this.user=So.Pa}return Object.defineProperty(e.prototype,"ga",{get:function(){var e={"X-Goog-AuthUser":this.$a},t=this.Fa.auth.Na([]);return t&&(e.Authorization=t),e},enumerable:!1,configurable:!0}),e}(),Ao=function(){function e(e,t){this.Fa=e,this.$a=t}return e.prototype.getToken=function(){return Promise.resolve(new xo(this.Fa,this.$a))},e.prototype.pa=function(e){e(So.Pa)},e.prototype.ba=function(){},e.prototype.ya=function(){},e}(),Oo=function(){function e(e,t,n,r,i,o){this.Ts=e,this.ka=n,this.xa=r,this.Ma=i,this.listener=o,this.state=0,this.Oa=0,this.La=null,this.stream=null,this.Po=new Hn(e,t)}return e.prototype.qa=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.Ba=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.Ua()},e.prototype.stop=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.qa()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.Wa=function(){this.state=0,this.Po.reset()},e.prototype.Qa=function(){var e=this;this.Ba()&&null===this.La&&(this.La=this.Ts.bs(this.ka,6e4,(function(){return e.ja()})))},e.prototype.Ka=function(e){this.Ga(),this.stream.send(e)},e.prototype.ja=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.Ba()?[2,this.close(0)]:[2]}))}))},e.prototype.Ga=function(){this.La&&(this.La.cancel(),this.La=null)},e.prototype.close=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return this.Ga(),this.Po.cancel(),this.Oa++,3!==e?this.Po.reset():t&&t.code===A.RESOURCE_EXHAUSTED?(d(t.toString()),d("Using maximum backoff delay to prevent overloading the backend."),this.Po.Vs()):t&&t.code===A.UNAUTHENTICATED&&this.Ma.ya(),null!==this.stream&&(this.za(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ha(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.za=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.Ya(this.Oa),n=this.Oa;this.Ma.getToken().then((function(t){e.Oa===n&&e.Ja(t)}),(function(n){t((function(){var t=new O(A.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Xa(t)}))}))},e.prototype.Ja=function(e){var t=this,n=this.Ya(this.Oa);this.stream=this.Za(e),this.stream.tu((function(){n((function(){return t.state=2,t.listener.tu()}))})),this.stream.Ha((function(e){n((function(){return t.Xa(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.Ua=function(){var e=this;this.state=4,this.Po.ys((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.Xa=function(e){return f("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.Ya=function(e){var t=this;return function(n){t.Ts.Zi((function(){return t.Oa===e?n():(f("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Do=function(e){function t(t,n,r,i,o){var s=this;return(s=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return i.__extends(t,e),t.prototype.Za=function(e){return this.xa.eu("Listen",e)},t.prototype.onMessage=function(e){this.Po.reset();var t=function(e,t){var n;if("targetChange"in t){var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:v()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.Oe?(g(void 0===t||"string"==typeof t),W.fromBase64String(t||"")):(g(void 0===t||t instanceof Uint8Array),W.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){var t=void 0===e.code?A.UNKNOWN:X(e.code);return new O(t,e.message||"")}(s);n=new ke(r,i,o,a||null)}else if("documentChange"in t){var u=t.documentChange,c=rt(e,u.document.name),l=Je(u.document.updateTime),h=new Xt({mapValue:{fields:u.document.fields}}),f=new nn(c,l,h,{});n=new _e(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if("documentDelete"in t){var d=t.documentDelete,p=rt(e,d.document),y=d.readTime?Je(d.readTime):R.min(),m=new rn(p,y);n=new _e([],d.removedTargetIds||[],m.key,m)}else if("documentRemove"in t){var _=t.documentRemove,b=rt(e,_.document);n=new _e([],_.removedTargetIds||[],b,null)}else{if(!("filter"in t))return v();var k=t.filter,w=new Y(k.count||0);n=new be(k.targetId,w)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return R.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?R.min():t.readTime?Je(t.readTime):R.min()}(e);return this.listener.nu(t,n)},t.prototype.su=function(e){var t={};t.database=st(this.serializer),t.addTarget=function(e,t){var n,r=t.target;return(n=q(r)?{documents:ht(e,r)}:{query:ft(e,r)}).targetId=t.targetId,t.resumeToken.H()>0&&(n.resumeToken=Ze(e,t.resumeToken)),n}(this.serializer,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return v()}}(0,t.J);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.Ka(t)},t.prototype.iu=function(e){var t={};t.database=st(this.serializer),t.removeTarget=e,this.Ka(t)},t}(Oo),Ro=function(e){function t(t,n,r,i,o){var s=this;return(s=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.ru=!1,s}return i.__extends(t,e),Object.defineProperty(t.prototype,"ou",{get:function(){return this.ru},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.ru=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.za=function(){this.ru&&this.hu([])},t.prototype.Za=function(e){return this.xa.eu("Write",e)},t.prototype.onMessage=function(e){if(g(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.Po.reset();var t=function(e,t){return e&&e.length>0?(g(void 0!==t),e.map((function(e){return function(e,t){var n=Je(e.updateTime?e.updateTime:t);n.isEqual(R.min())&&(n=Je(t));var r=null;return e.transformResults&&e.transformResults.length>0&&(r=e.transformResults),new Ft(n,r)}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Je(e.commitTime);return this.listener.au(n,t)}return g(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.uu()},t.prototype.cu=function(){var e={};e.database=st(this.serializer),this.Ka(e)},t.prototype.hu=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return ct(t.serializer,e)}))};this.Ka(n)},t}(Oo),Po=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).credentials=t,r.serializer=n,r.lu=!1,r}return i.__extends(t,e),t.prototype._u=function(){if(this.lu)throw new O(A.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.start=function(e){this.xa=e},t.prototype.fu=function(e,t){var n=this;return this._u(),this.credentials.getToken().then((function(r){return n.xa.fu(e,t,r)})).catch((function(e){throw e.code===A.UNAUTHENTICATED&&n.credentials.ya(),e}))},t.prototype.du=function(e,t){var n=this;return this._u(),this.credentials.getToken().then((function(r){return n.xa.du(e,t,r)})).catch((function(e){throw e.code===A.UNAUTHENTICATED&&n.credentials.ya(),e}))},t}((function(){})),No=function(){function e(e){this.wu=e,this.Tu=new Map,this.mutations=[],this.Eu=!1,this.Iu=null,this.mu=new Set}return e.prototype.Au=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:if(this.Ru(),this.mutations.length>0)throw new O(A.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a;return i.__generator(this,(function(i){switch(i.label){case 0:return n=y(e),r={database:st(n.serializer),documents:t.map((function(e){return nt(n.serializer,e)}))},[4,n.du("BatchGetDocuments",r)];case 1:return o=i.sent(),s=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){g(!!t.found);var n=rt(e,t.found.name),r=Je(t.found.updateTime),i=new Xt({mapValue:{fields:t.found.fields}});return new nn(n,r,i,{})}(e,t):"missing"in t?function(e,t){g(!!t.missing),g(!!t.readTime);var n=rt(e,t.missing),r=Je(t.readTime);return new rn(n,r)}(e,t):v()}(n.serializer,e);s.set(t.key.toString(),t)})),a=[],[2,(t.forEach((function(e){var t=s.get(e.toString());g(!!t),a.push(t)})),a)]}}))}))}(this.wu,e)];case 1:return[2,((t=r.sent()).forEach((function(e){e instanceof rn||e instanceof nn?n.Pu(e):v()})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.la(e,this.Ue(e))),this.mu.add(e)},e.prototype.update=function(e,t){try{this.write(t.la(e,this.gu(e)))}catch(e){this.Iu=e}this.mu.add(e)},e.prototype.delete=function(e){this.write([new Yt(e,this.Ue(e))]),this.mu.add(e)},e.prototype.commit=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t=this;return i.__generator(this,(function(n){switch(n.label){case 0:if(this.Ru(),this.Iu)throw this.Iu;return e=this.Tu,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=new M(N.N(n));t.mutations.push(new Zt(r,t.Ue(r)))})),[4,function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r;return i.__generator(this,(function(i){switch(i.label){case 0:return n=y(e),r={database:st(n.serializer),writes:t.map((function(e){return ct(n.serializer,e)}))},[4,n.fu("Commit",r)];case 1:return i.sent(),[2]}}))}))}(this.wu,this.mutations)];case 1:return n.sent(),this.Eu=!0,[2]}}))}))},e.prototype.Pu=function(e){var t;if(e instanceof nn)t=e.version;else{if(!(e instanceof rn))throw v();t=R.min()}var n=this.Tu.get(e.key.toString());if(n){if(!t.isEqual(n))throw new O(A.ABORTED,"Document version changed between two reads.")}else this.Tu.set(e.key.toString(),t)},e.prototype.Ue=function(e){var t=this.Tu.get(e.toString());return!this.mu.has(e)&&t?Lt.updateTime(t):Lt.We()},e.prototype.gu=function(e){var t=this.Tu.get(e.toString());if(!this.mu.has(e)&&t){if(t.isEqual(R.min()))throw new O(A.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Lt.updateTime(t)}return Lt.exists(!0)},e.prototype.write=function(e){this.Ru(),this.mutations=this.mutations.concat(e)},e.prototype.Ru=function(){},e}(),Fo=function(){function e(e,t){this.ao=e,this.Vu=t,this.state="Unknown",this.yu=0,this.pu=null,this.bu=!0}return e.prototype.vu=function(){var e=this;0===this.yu&&(this.Su("Unknown"),this.pu=this.ao.bs("online_state_timeout",1e4,(function(){return e.pu=null,e.Du("Backend didn't respond within 10 seconds."),e.Su("Offline"),Promise.resolve()})))},e.prototype.Cu=function(e){"Online"===this.state?this.Su("Unknown"):(this.yu++,this.yu>=1&&(this.Fu(),this.Du("Connection failed 1 times. Most recent error: "+e.toString()),this.Su("Offline")))},e.prototype.set=function(e){this.Fu(),this.yu=0,"Online"===e&&(this.bu=!1),this.Su(e)},e.prototype.Su=function(e){e!==this.state&&(this.state=e,this.Vu(e))},e.prototype.Du=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.bu?(d(t),this.bu=!1):f("OnlineStateTracker",t)},e.prototype.Fu=function(){null!==this.pu&&(this.pu.cancel(),this.pu=null)},e}(),Lo=function(){function e(e,t,n,r,o){var s=this;this.$u=e,this.wu=t,this.ao=n,this.Nu=[],this.ku=new Map,this.xu=null,this.Mu=new Set,this.Ou=o,this.Ou.Lu((function(e){n.Zi((function(){return i.__awaiter(s,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.qu()?(f("RemoteStore","Restarting streams for network reachability change."),[4,this.Bu()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Uu=new Fo(n,r),this.Wu=function(e,t,n){var r=y(e);return r._u(),new Do(t,r.xa,r.credentials,r.serializer,n)}(this.wu,n,{tu:this.Qu.bind(this),Ha:this.ju.bind(this),nu:this.Ku.bind(this)}),this.Gu=function(e,t,n){var r=y(e);return r._u(),new Ro(t,r.xa,r.credentials,r.serializer,n)}(this.wu,n,{tu:this.zu.bind(this),Ha:this.Hu.bind(this),uu:this.Yu.bind(this),au:this.au.bind(this)})}return e.prototype.start=function(){return this.enableNetwork()},e.prototype.enableNetwork=function(){return this.Mu.delete(0),this.Ju()},e.prototype.Ju=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.qu()?(this.Xu()?this.Zu():this.Uu.set("Unknown"),[4,this.tc()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.disableNetwork=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Mu.add(0),[4,this.ec()];case 1:return e.sent(),this.Uu.set("Offline"),[2]}}))}))},e.prototype.ec=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return[4,this.Gu.stop()];case 1:return e.sent(),[4,this.Wu.stop()];case 2:return e.sent(),this.Nu.length>0&&(f("RemoteStore","Stopping write stream with "+this.Nu.length+" pending writes"),this.Nu=[]),this.nc(),[2]}}))}))},e.prototype._r=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return f("RemoteStore","RemoteStore shutting down."),this.Mu.add(5),[4,this.ec()];case 1:return e.sent(),this.Ou._r(),this.Uu.set("Unknown"),[2]}}))}))},e.prototype.listen=function(e){this.ku.has(e.targetId)||(this.ku.set(e.targetId,e),this.Xu()?this.Zu():this.Wu.Ba()&&this.sc(e))},e.prototype.ic=function(e){this.ku.delete(e),this.Wu.Ba()&&this.rc(e),0===this.ku.size&&(this.Wu.Ba()?this.Wu.Qa():this.qu()&&this.Uu.set("Unknown"))},e.prototype.Me=function(e){return this.ku.get(e)||null},e.prototype.xe=function(e){return this.oc.xe(e)},e.prototype.sc=function(e){this.xu.de(e.targetId),this.Wu.su(e)},e.prototype.rc=function(e){this.xu.de(e),this.Wu.iu(e)},e.prototype.Zu=function(){this.xu=new Ce(this),this.Wu.start(),this.Uu.vu()},e.prototype.Xu=function(){return this.qu()&&!this.Wu.qa()&&this.ku.size>0},e.prototype.qu=function(){return 0===this.Mu.size},e.prototype.nc=function(){this.xu=null},e.prototype.Qu=function(){return i.__awaiter(this,void 0,void 0,(function(){var e=this;return i.__generator(this,(function(t){return this.ku.forEach((function(t,n){e.sc(t)})),[2]}))}))},e.prototype.ju=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.nc(),this.Xu()?(this.Uu.Cu(e),this.Zu()):this.Uu.set("Unknown"),[2]}))}))},e.prototype.Ku=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:if(this.Uu.set("Online"),!(e instanceof ke&&2===e.state&&e.cause))return[3,6];i.label=1;case 1:return i.trys.push([1,3,,5]),[4,this.hc(e)];case 2:return i.sent(),[3,5];case 3:return n=i.sent(),f("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),[4,this.ac(n)];case 4:return i.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof _e?this.xu.Pe(e):e instanceof be?this.xu.De(e):this.xu.ye(e),t.isEqual(R.min()))return[3,13];i.label=7;case 7:return i.trys.push([7,11,,13]),[4,this.$u.ai()];case 8:return r=i.sent(),t.o(r)>=0?[4,this.uc(t)]:[3,10];case 9:i.sent(),i.label=10;case 10:return[3,13];case 11:return f("RemoteStore","Failed to raise snapshot:",o=i.sent()),[4,this.ac(o)];case 12:return i.sent(),[3,13];case 13:return[2]}}))}))},e.prototype.ac=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n=this;return i.__generator(this,(function(r){switch(r.label){case 0:if(!ei(e))throw e;return this.Mu.add(1),[4,this.ec()];case 1:return r.sent(),this.Uu.set("Offline"),t||(t=function(){return n.$u.ai()}),this.ao.er((function(){return i.__awaiter(n,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return f("RemoteStore","Retrying IndexedDB access"),[4,t()];case 1:return e.sent(),this.Mu.delete(1),[4,this.Ju()];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))},e.prototype.cc=function(e){var t=this;return e().catch((function(n){return t.ac(n,e)}))},e.prototype.uc=function(e){var t=this,n=this.xu.$e(e);return n.Wt.forEach((function(n,r){if(n.resumeToken.H()>0){var i=t.ku.get(r);i&&t.ku.set(r,i.tt(n.resumeToken,e))}})),n.Qt.forEach((function(e){var n=t.ku.get(e);if(n){t.ku.set(e,n.tt(W.Y,n.X)),t.rc(e);var r=new K(n.target,e,1,n.sequenceNumber);t.sc(r)}})),this.oc.vh(n)},e.prototype.hc=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:t=e.cause,n=0,r=e.targetIds,i.label=1;case 1:return n<r.length?this.ku.has(o=r[n])?[4,this.oc.lc(o,t)]:[3,3]:[3,5];case 2:i.sent(),this.ku.delete(o),this.xu.removeTarget(o),i.label=3;case 3:i.label=4;case 4:return n++,[3,1];case 5:return[2]}}))}))},e.prototype.tc=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t,n;return i.__generator(this,(function(r){switch(r.label){case 0:e=this.Nu.length>0?this.Nu[this.Nu.length-1].batchId:-1,r.label=1;case 1:if(!this._c())return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,this.$u.Fh(e)];case 3:return null===(t=r.sent())?(0===this.Nu.length&&this.Gu.Qa(),[3,7]):(e=t.batchId,this.fc(t),[3,6]);case 4:return n=r.sent(),[4,this.ac(n)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return this.dc()&&this.wc(),[2]}}))}))},e.prototype._c=function(){return this.qu()&&this.Nu.length<10},e.prototype.Tc=function(){return this.Nu.length},e.prototype.fc=function(e){this.Nu.push(e),this.Gu.Ba()&&this.Gu.ou&&this.Gu.hu(e.mutations)},e.prototype.dc=function(){return this.qu()&&!this.Gu.qa()&&this.Nu.length>0},e.prototype.wc=function(){this.Gu.start()},e.prototype.zu=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.Gu.cu(),[2]}))}))},e.prototype.Yu=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t;return i.__generator(this,(function(n){for(e=0,t=this.Nu;e<t.length;e++)this.Gu.hu(t[e].mutations);return[2]}))}))},e.prototype.au=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o=this;return i.__generator(this,(function(i){switch(i.label){case 0:return n=this.Nu.shift(),r=Fn.from(n,e,t),[4,this.cc((function(){return o.oc.Ec(r)}))];case 1:return i.sent(),[4,this.tc()];case 2:return i.sent(),[2]}}))}))},e.prototype.Hu=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return e&&this.Gu.ou?[4,this.Ic(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return this.dc()&&this.wc(),[2]}}))}))},e.prototype.Ic=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r=this;return i.__generator(this,(function(i){switch(i.label){case 0:return Z(n=e.code)&&n!==A.ABORTED?(t=this.Nu.shift(),this.Gu.Wa(),[4,this.cc((function(){return r.oc.mc(t.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,this.tc()];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))},e.prototype.Ac=function(){return new No(this.wu)},e.prototype.Bu=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Mu.add(4),[4,this.ec()];case 1:return e.sent(),this.Uu.set("Unknown"),this.Gu.Wa(),this.Wu.Wa(),this.Mu.delete(4),[4,this.Ju()];case 2:return e.sent(),[2]}}))}))},e.prototype.Rc=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.ao.$o(),f("RemoteStore","RemoteStore received new credentials"),this.Mu.add(3),[4,this.ec()];case 1:return t.sent(),this.Uu.set("Unknown"),[4,this.oc.Rc(e)];case 2:return t.sent(),this.Mu.delete(3),[4,this.Ju()];case 3:return t.sent(),[2]}}))}))},e.prototype.Pc=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return e?(this.Mu.delete(2),[4,this.Ju()]):[3,2];case 1:return t.sent(),[3,5];case 2:return e?[3,4]:(this.Mu.add(2),[4,this.ec()]);case 3:t.sent(),this.Uu.set("Unknown"),t.label=4;case 4:t.label=5;case 5:return[2]}}))}))},e}();function Mo(e,t){return"firestore_clients_"+e+"_"+t}function Vo(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.Mr()&&(r+="_"+t.uid),r}function jo(e,t){return"firestore_targets_"+e+"_"+t}var Uo=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.gc=function(t,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new O(i.error.code,i.error.message)),o?new e(t,n,i.state,s):(d("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Vc=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Bo=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.gc=function(t,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new O(r.error.code,r.error.message)),i?new e(t,r.state,o):(d("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Vc=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),zo=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.gc=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=de(),s=0;i&&s<r.activeTargetIds.length;++s)i=U(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new e(t,o):(d("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Go=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.gc=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(d("SharedClientState","Failed to parse online state: "+t),null)},e}(),Ho=function(){function e(){this.activeTargetIds=de()}return e.prototype.yc=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.pc=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Vc=function(){var e={activeTargetIds:this.activeTargetIds.F(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),qo=function(){function e(e,t,n,r,i){this.window=e,this.Ts=t,this.persistenceKey=n,this.bc=r,this.oc=null,this.Vu=null,this.ls=null,this.vc=this.Sc.bind(this),this.Dc=new J(b),this.Hi=!1,this.Cc=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Fc=Mo(this.persistenceKey,this.bc),this.$c=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Dc=this.Dc.nt(this.bc,new Ho),this.Nc=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.kc=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.xc=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Mc=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.vc)}return e.Oi=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t,n,r,o,s,a,u,c,l,h=this;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.oc.Ir()];case 1:for(e=i.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.bc&&(o=this.getItem(Mo(this.persistenceKey,r)))&&(s=zo.gc(r,o))&&(this.Dc=this.Dc.nt(s.clientId,s));for(this.Oc(),(a=this.storage.getItem(this.Mc))&&(u=this.Lc(a))&&this.qc(u),c=0,l=this.Cc;c<l.length;c++)this.Sc(l[c]);return this.Cc=[],this.window.addEventListener("unload",(function(){return h._r()})),this.Hi=!0,[2]}}))}))},e.prototype.ds=function(e){this.setItem(this.$c,JSON.stringify(e))},e.prototype.Bc=function(){return this.Uc(this.Dc)},e.prototype.Wc=function(e){var t=!1;return this.Dc.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.Qc=function(e){this.jc(e,"pending")},e.prototype.Kc=function(e,t,n){this.jc(e,t,n),this.Gc(e)},e.prototype.zc=function(e){var t="not-current";if(this.Wc(e)){var n=this.storage.getItem(jo(this.persistenceKey,e));if(n){var r=Bo.gc(e,n);r&&(t=r.state)}}return this.Hc.yc(e),this.Oc(),t},e.prototype.Yc=function(e){this.Hc.pc(e),this.Oc()},e.prototype.Jc=function(e){return this.Hc.activeTargetIds.has(e)},e.prototype.Xc=function(e){this.removeItem(jo(this.persistenceKey,e))},e.prototype.Zc=function(e,t,n){this.tl(e,t,n)},e.prototype.Ah=function(e,t,n){var r=this;t.forEach((function(e){r.Gc(e)})),this.currentUser=e,n.forEach((function(e){r.Qc(e)}))},e.prototype.el=function(e){this.nl(e)},e.prototype._r=function(){this.Hi&&(this.window.removeEventListener("storage",this.vc),this.removeItem(this.Fc),this.Hi=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return f("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){f("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){f("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Sc=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(f("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Fc)return void d("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ts.er((function(){return i.__awaiter(t,void 0,void 0,(function(){var e,t,r,o,s,a;return i.__generator(this,(function(i){if(this.Hi){if(null!==n.key)if(this.Nc.test(n.key)){if(null==n.newValue)return e=this.sl(n.key),[2,this.il(e,null)];if(t=this.rl(n.key,n.newValue))return[2,this.il(t.clientId,t)]}else if(this.kc.test(n.key)){if(null!==n.newValue&&(r=this.ol(n.key,n.newValue)))return[2,this.hl(r)]}else if(this.xc.test(n.key)){if(null!==n.newValue&&(o=this.al(n.key,n.newValue)))return[2,this.ul(o)]}else if(n.key===this.Mc){if(null!==n.newValue&&(s=this.Lc(n.newValue)))return[2,this.qc(s)]}else n.key===this.$c&&(a=function(e){var t=zn.ws;if(null!=e)try{var n=JSON.parse(e);g("number"==typeof n),t=n}catch(e){d("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==zn.ws&&this.ls(a)}else this.Cc.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Hc",{get:function(){return this.Dc.get(this.bc)},enumerable:!1,configurable:!0}),e.prototype.Oc=function(){this.setItem(this.Fc,this.Hc.Vc())},e.prototype.jc=function(e,t,n){var r=new Uo(this.currentUser,e,t,n),i=Vo(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Vc())},e.prototype.Gc=function(e){var t=Vo(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.nl=function(e){this.storage.setItem(this.Mc,JSON.stringify({clientId:this.bc,onlineState:e}))},e.prototype.tl=function(e,t,n){var r=jo(this.persistenceKey,e),i=new Bo(e,t,n);this.setItem(r,i.Vc())},e.prototype.sl=function(e){var t=this.Nc.exec(e);return t?t[1]:null},e.prototype.rl=function(e,t){var n=this.sl(e);return zo.gc(n,t)},e.prototype.ol=function(e,t){var n=this.kc.exec(e),r=Number(n[1]);return Uo.gc(new So(void 0!==n[2]?n[2]:null),r,t)},e.prototype.al=function(e,t){var n=this.xc.exec(e),r=Number(n[1]);return Bo.gc(r,t)},e.prototype.Lc=function(e){return Go.gc(e)},e.prototype.hl=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.oc.cl(e.batchId,e.state,e.error)]:(f("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.ul=function(e){return this.oc.ll(e.targetId,e.state,e.error)},e.prototype.il=function(e,t){var n=this,r=t?this.Dc.nt(e,t):this.Dc.remove(e),i=this.Uc(this.Dc),o=this.Uc(r),s=[],a=[];return o.forEach((function(e){i.has(e)||s.push(e)})),i.forEach((function(e){o.has(e)||a.push(e)})),this.oc._l(s,a).then((function(){n.Dc=r}))},e.prototype.qc=function(e){this.Dc.get(e.clientId)&&this.Vu(e.onlineState)},e.prototype.Uc=function(e){var t=de();return e.forEach((function(e,n){t=t.Ct(n.activeTargetIds)})),t},e}(),Wo=function(){function e(){this.fl=new Ho,this.dl={},this.Vu=null,this.ls=null}return e.prototype.Qc=function(e){},e.prototype.Kc=function(e,t,n){},e.prototype.zc=function(e){return this.fl.yc(e),this.dl[e]||"not-current"},e.prototype.Zc=function(e,t,n){this.dl[e]=t},e.prototype.Yc=function(e){this.fl.pc(e)},e.prototype.Jc=function(e){return this.fl.activeTargetIds.has(e)},e.prototype.Xc=function(e){delete this.dl[e]},e.prototype.Bc=function(){return this.fl.activeTargetIds},e.prototype.Wc=function(e){return this.fl.activeTargetIds.has(e)},e.prototype.start=function(){return this.fl=new Ho,Promise.resolve()},e.prototype.Ah=function(e,t,n){},e.prototype.el=function(e){},e.prototype._r=function(){},e.prototype.ds=function(e){},e}(),$o=function(e){this.key=e},Qo=function(e){this.key=e},Ko=function(){function e(e,t){this.query=e,this.wl=t,this.Tl=null,this.Ht=!1,this.El=he(),this.Lt=he(),this.Il=bn(e),this.ml=new pe(this.Il)}return Object.defineProperty(e.prototype,"Al",{get:function(){return this.wl},enumerable:!1,configurable:!0}),e.prototype.Rl=function(e,t){var n=this,r=t?t.Pl:new ve,i=t?t.ml:this.ml,o=t?t.Lt:this.Lt,s=i,a=!1,u=this.query.hn()&&i.size===this.query.limit?i.last():null,c=this.query.an()&&i.size===this.query.limit?i.first():null;if(e.ot((function(e,t){var l=i.get(e),h=t instanceof nn?t:null;h&&(h=_n(n.query,h)?h:null);var f=!!l&&n.Lt.has(l.key),d=!!h&&(h.Ke||n.Lt.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.gl(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.Il(h,u)>0||c&&n.Il(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(e):o.delete(e)):(s=s.delete(e),o=o.delete(e)))})),this.query.hn()||this.query.an())for(;s.size>this.query.limit;){var l=this.query.hn()?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ml:s,Pl:r,Vl:a,Lt:o}},e.prototype.gl=function(e,t){return e.Ke&&t.hasCommittedMutations&&!t.Ke},e.prototype.qn=function(e,t,n){var r=this,i=this.ml;this.ml=e.ml,this.Lt=e.Lt;var o=e.Pl.Mt();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return v()}};return n(e)-n(t)}(e.type,t.type)||r.Il(e.doc,t.doc)})),this.yl(n);var s=t?this.pl():[],a=0===this.El.size&&this.Ht?1:0,u=a!==this.Tl;return this.Tl=a,0!==o.length||u?{snapshot:new ge(this.query,e.ml,i,o,e.Lt,0===a,u,!1),bl:s}:{bl:s}},e.prototype.vl=function(e){return this.Ht&&"Offline"===e?(this.Ht=!1,this.qn({ml:this.ml,Pl:new ve,Lt:this.Lt,Vl:!1},!1)):{bl:[]}},e.prototype.Sl=function(e){return!this.wl.has(e)&&!!this.ml.has(e)&&!this.ml.get(e).Ke},e.prototype.yl=function(e){var t=this;e&&(e.Yt.forEach((function(e){return t.wl=t.wl.add(e)})),e.Jt.forEach((function(e){})),e.Xt.forEach((function(e){return t.wl=t.wl.delete(e)})),this.Ht=e.Ht)},e.prototype.pl=function(){var e=this;if(!this.Ht)return[];var t=this.El;this.El=he(),this.ml.forEach((function(t){e.Sl(t.key)&&(e.El=e.El.add(t.key))}));var n=[];return t.forEach((function(t){e.El.has(t)||n.push(new Qo(t))})),this.El.forEach((function(e){t.has(e)||n.push(new $o(e))})),n},e.prototype.Dl=function(e){this.wl=e.Mh,this.El=he();var t=this.Rl(e.documents);return this.qn(t,!0)},e.prototype.Cl=function(){return ge.Ut(this.query,this.ml,this.Lt,0===this.Tl)},e}(),Yo=function(){function e(e,t,n,r){this.ao=e,this.wu=t,this.updateFunction=n,this.lo=r,this.Fl=5,this.Po=new Hn(this.ao,"transaction_retry")}return e.prototype.run=function(){this.$l()},e.prototype.$l=function(){var e=this;this.Po.ys((function(){return i.__awaiter(e,void 0,void 0,(function(){var e,t,n=this;return i.__generator(this,(function(r){return e=new No(this.wu),(t=this.Nl(e))&&t.then((function(t){n.ao.Zi((function(){return e.commit().then((function(){n.lo.resolve(t)})).catch((function(e){n.kl(e)}))}))})).catch((function(e){n.kl(e)})),[2]}))}))}))},e.prototype.Nl=function(e){try{var t=this.updateFunction(e);return!V(t)&&t.catch&&t.then?t:(this.lo.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.lo.reject(e),null}},e.prototype.kl=function(e){var t=this;this.Fl>0&&this.xl(e)?(this.Fl-=1,this.ao.Zi((function(){return t.$l(),Promise.resolve()}))):this.lo.reject(e)},e.prototype.xl=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Z(t)}return!1},e}(),Zo=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Xo=function(e){this.key=e,this.Ml=!1},Jo=function(){function e(e,t,n,r,i,o){this.$u=e,this.Ol=t,this.wu=n,this.Ll=r,this.currentUser=i,this.ql=o,this.Bl=null,this.Ul=new x((function(e){return yn(e)}),gn),this.Wl=new Map,this.Ql=[],this.jl=new J(M.P),this.Kl=new Map,this.Gl=new bi,this.zl={},this.Hl=new Map,this.Yl=pr.si(),this.onlineState="Unknown",this.Jl=void 0}return Object.defineProperty(e.prototype,"Xl",{get:function(){return!0===this.Jl},enumerable:!1,configurable:!0}),e.prototype.subscribe=function(e){this.Bl=e},e.prototype.listen=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return this.Zl("listen()"),(n=this.Ul.get(e))?(this.Ll.zc(n.targetId),t=n.view.Cl(),[3,4]):[3,1];case 1:return[4,this.$u.Nh(fn(e))];case 2:return r=i.sent(),o=this.Ll.zc(r.targetId),[4,this.t_(e,r.targetId,"current"===o)];case 3:t=i.sent(),this.Xl&&this.Ol.listen(r),i.label=4;case 4:return[2,t]}}))}))},e.prototype.t_=function(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,s,a,u,c;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.$u.xh(e,!0)];case 1:return r=i.sent(),o=new Ko(e,r.Mh),s=o.Rl(r.documents),a=me.zt(t,n&&"Offline"!==this.onlineState),u=o.qn(s,this.Xl,a),this.e_(t,u.bl),c=new Zo(e,t,o),[2,(this.Ul.set(e,c),this.Wl.has(t)?this.Wl.get(t).push(e):this.Wl.set(t,[e]),u.snapshot)]}}))}))},e.prototype.ic=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this.Zl("unlisten()"),t=this.Ul.get(e),(n=this.Wl.get(t.targetId)).length>1?[2,(this.Wl.set(t.targetId,n.filter((function(t){return!gn(t,e)}))),void this.Ul.delete(e))]:this.Xl?(this.Ll.Yc(t.targetId),this.Ll.Wc(t.targetId)?[3,2]:[4,this.$u.kh(t.targetId,!1).then((function(){r.Ll.Xc(t.targetId),r.Ol.ic(t.targetId),r.n_(t.targetId)})).catch(_i)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.n_(t.targetId),[4,this.$u.kh(t.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},e.prototype.write=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:this.Zl("write()"),i.label=1;case 1:return i.trys.push([1,5,,6]),[4,this.$u.Vh(e)];case 2:return n=i.sent(),this.Ll.Qc(n.batchId),this.s_(n.batchId,t),[4,this.i_(n.Cn)];case 3:return i.sent(),[4,this.Ol.tc()];case 4:return i.sent(),[3,6];case 5:return r=i.sent(),o=ci(r,"Failed to persist write"),t.reject(o),[3,6];case 6:return[2]}}))}))},e.prototype.runTransaction=function(e,t,n){new Yo(e,this.wu,t,n).run()},e.prototype.vh=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:this.Zl("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.$u.vh(e)];case 2:return t=r.sent(),e.Wt.forEach((function(e,t){var r=n.Kl.get(t);r&&(g(e.Yt.size+e.Jt.size+e.Xt.size<=1),e.Yt.size>0?r.Ml=!0:e.Jt.size>0?g(r.Ml):e.Xt.size>0&&(g(r.Ml),r.Ml=!1))})),[4,this.i_(t,e)];case 3:return r.sent(),[3,6];case 4:return[4,_i(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.vl=function(e,t){if(this.Xl&&0===t||!this.Xl&&1===t){this.Zl("applyOnlineStateChange()");var n=[];this.Ul.forEach((function(t,r){var i=r.view.vl(e);i.snapshot&&n.push(i.snapshot)})),this.Bl.r_(e),this.Bl.nu(n),this.onlineState=e,this.Xl&&this.Ll.el(e)}},e.prototype.lc=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a,u=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this.Zl("rejectListens()"),this.Ll.Zc(e,"rejected",t),n=this.Kl.get(e),(r=n&&n.key)?(o=(o=new J(M.P)).nt(r,new rn(r,R.min())),s=he().add(r),a=new ye(R.min(),new Map,new ne(b),o,s),[4,this.vh(a)]):[3,2];case 1:return i.sent(),this.jl=this.jl.remove(r),this.Kl.delete(e),this.o_(),[3,4];case 2:return[4,this.$u.kh(e,!1).then((function(){return u.n_(e,t)})).catch(_i)];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))},e.prototype.Ec=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n;return i.__generator(this,(function(r){switch(r.label){case 0:this.Zl("applySuccessfulWrite()"),t=e.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.$u.yh(e)];case 2:return n=r.sent(),this.h_(t,null),this.a_(t),this.Ll.Kc(t,"acknowledged"),[4,this.i_(n)];case 3:return r.sent(),[3,6];case 4:return[4,_i(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.mc=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:this.Zl("rejectFailedWrite()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.$u.bh(e)];case 2:return n=r.sent(),this.h_(e,t),this.a_(e),this.Ll.Kc(e,"rejected",t),[4,this.i_(n)];case 3:return r.sent(),[3,6];case 4:return[4,_i(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.u_=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:this.Ol.qu()||f("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.$u.Wr()];case 2:return-1===(t=i.sent())?[2,void e.resolve()]:((n=this.Hl.get(t)||[]).push(e),this.Hl.set(t,n),[3,4]);case 3:return r=i.sent(),o=ci(r,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}}))}))},e.prototype.a_=function(e){(this.Hl.get(e)||[]).forEach((function(e){e.resolve()})),this.Hl.delete(e)},e.prototype.c_=function(e){this.Hl.forEach((function(t){t.forEach((function(t){t.reject(new O(A.CANCELLED,e))}))})),this.Hl.clear()},e.prototype.s_=function(e,t){var n=this.zl[this.currentUser.Aa()];n||(n=new J(b)),n=n.nt(e,t),this.zl[this.currentUser.Aa()]=n},e.prototype.h_=function(e,t){var n=this.zl[this.currentUser.Aa()];if(n){var r=n.get(e);r&&(t?r.reject(t):r.resolve(),n=n.remove(e)),this.zl[this.currentUser.Aa()]=n}},e.prototype.n_=function(e,t){var n=this;void 0===t&&(t=null),this.Ll.Yc(e);for(var r=0,i=this.Wl.get(e);r<i.length;r++){var o=i[r];this.Ul.delete(o),t&&this.Bl.l_(o,t)}this.Wl.delete(e),this.Xl&&this.Gl.jh(e).forEach((function(e){n.Gl.pi(e)||n.__(e)}))},e.prototype.__=function(e){var t=this.jl.get(e);null!==t&&(this.Ol.ic(t),this.jl=this.jl.remove(e),this.Kl.delete(t),this.o_())},e.prototype.e_=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];i instanceof $o?(this.Gl.Ri(i.key,e),this.f_(i)):i instanceof Qo?(f("SyncEngine","Document no longer in limbo: "+i.key),this.Gl.gi(i.key,e),this.Gl.pi(i.key)||this.__(i.key)):v()}},e.prototype.f_=function(e){var t=e.key;this.jl.get(t)||(f("SyncEngine","New document in limbo: "+t),this.Ql.push(t),this.o_())},e.prototype.o_=function(){for(;this.Ql.length>0&&this.jl.size<this.ql;){var e=this.Ql.shift(),t=this.Yl.next();this.Kl.set(t,new Xo(e)),this.jl=this.jl.nt(e,t),this.Ol.listen(new K(fn(cn(e.path)),t,2,zn.ws))}},e.prototype.d_=function(){return this.jl},e.prototype.w_=function(){return this.Ql},e.prototype.i_=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s=this;return i.__generator(this,(function(i){switch(i.label){case 0:return n=[],r=[],o=[],this.Ul.forEach((function(i,a){o.push(Promise.resolve().then((function(){var t=a.view.Rl(e);return t.Vl?s.$u.xh(a.query,!1).then((function(e){return a.view.Rl(e.documents,t)})):t})).then((function(e){var i=t&&t.Wt.get(a.targetId),o=a.view.qn(e,s.Xl,i);if(s.e_(a.targetId,o.bl),o.snapshot){s.Xl&&s.Ll.Zc(a.targetId,o.snapshot.fromCache?"not-current":"current"),n.push(o.snapshot);var u=Bn.cs(a.targetId,o.snapshot);r.push(u)}})))})),[4,Promise.all(o)];case 1:return i.sent(),this.Bl.nu(n),[4,this.$u.Ch(r)];case 2:return i.sent(),[2]}}))}))},e.prototype.Zl=function(e){},e.prototype.Rc=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(n){switch(n.label){case 0:return this.currentUser.isEqual(e)?[3,3]:(f("SyncEngine","User change. New user:",e.Aa()),[4,this.$u.Ah(e)]);case 1:return t=n.sent(),this.currentUser=e,this.c_("'waitForPendingWrites' promise is rejected due to a user change."),this.Ll.Ah(e,t.Ph,t.gh),[4,this.i_(t.Rh)];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},e.prototype.xe=function(e){var t=this.Kl.get(e);if(t&&t.Ml)return he().add(t.key);var n=he(),r=this.Wl.get(e);if(!r)return n;for(var i=0,o=r;i<o.length;i++){var s=this.Ul.get(o[i]);n=n.Ct(s.view.Al)}return n},e}();function es(e,t,n,r,i,o,s){var a=new Jo(e,t,n,r,i,o);return s&&(a.Jl=!0),a}function ts(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,(n=y(e)).$u.xh(t.query,!0)];case 1:return r=i.sent(),o=t.view.Dl(r),[2,(n.Xl&&n.e_(t.targetId,o.bl),o)]}}))}))}function ns(e,t,n,r){return i.__awaiter(this,void 0,void 0,(function(){var o,s;return i.__generator(this,(function(i){switch(i.label){case 0:return(o=y(e)).Zl("applyBatchState()"),[4,function(e,t){var n=y(e),r=y(n.jn);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Br(e,t).next((function(t){return t?n.Ih.Jn(e,t):Ln.resolve(null)}))}))}(o.$u,t)];case 1:return null===(s=i.sent())?[3,6]:"pending"!==n?[3,3]:[4,o.Ol.tc()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(o.h_(t,r||null),function(e,t){y(y(e).jn).Gr(t)}(o.$u,t)):v(),i.label=4;case 4:return[4,o.i_(s)];case 5:return i.sent(),[3,7];case 6:f("SyncEngine","Cannot apply mutation batch with id: "+t),i.label=7;case 7:return[2]}}))}))}function rs(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a,u,c;return i.__generator(this,(function(i){switch(i.label){case 0:return n=y(e),!0!==t||!0===n.Jl?[3,3]:(r=n.Ll.Bc(),[4,is(n,r.F())]);case 1:return o=i.sent(),n.Jl=!0,[4,n.Ol.Pc(!0)];case 2:for(i.sent(),s=0,a=o;s<a.length;s++)n.Ol.listen(a[s]);return[3,7];case 3:return!1!==t||!1===n.Jl?[3,7]:(u=[],c=Promise.resolve(),n.Wl.forEach((function(e,t){n.Ll.Jc(t)?u.push(t):c=c.then((function(){return n.n_(t),n.$u.kh(t,!0)})),n.Ol.ic(t)})),[4,c]);case 4:return i.sent(),[4,is(n,u)];case 5:return i.sent(),function(e){var t=y(e);t.Kl.forEach((function(e,n){t.Ol.ic(n)})),t.Gl.Kh(),t.Kl=new Map,t.jl=new J(M.P)}(n),n.Jl=!1,[4,n.Ol.Pc(!1)];case 6:i.sent(),i.label=7;case 7:return[2]}}))}))}function is(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a,u,c,l,h,f,d,p,v;return i.__generator(this,(function(i){switch(i.label){case 0:n=y(e),r=[],o=[],s=0,a=t,i.label=1;case 1:return s<a.length?(c=void 0,(l=n.Wl.get(u=a[s]))&&0!==l.length?[4,n.$u.Nh(fn(l[0]))]:[3,7]):[3,13];case 2:c=i.sent(),h=0,f=l,i.label=3;case 3:return h<f.length?(d=n.Ul.get(f[h]),[4,ts(n,d)]):[3,6];case 4:(p=i.sent()).snapshot&&o.push(p.snapshot),i.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,mi(n.$u,u)];case 8:return v=i.sent(),[4,n.$u.Nh(v)];case 9:return c=i.sent(),[4,n.t_(os(v),u,!1)];case 10:i.sent(),i.label=11;case 11:r.push(c),i.label=12;case 12:return s++,[3,1];case 13:return[2,(n.Bl.nu(o),r)]}}))}))}function os(e){return un(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function ss(e){var t=y(e);return y(y(t.$u).persistence).Ir()}function as(e,t,n,r){return i.__awaiter(this,void 0,void 0,(function(){var o,s,a;return i.__generator(this,(function(i){switch(i.label){case 0:return(o=y(e)).Jl?(f("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Wl.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,function(e){var t=y(e),n=y(t.Eh);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ks(e,t.Th)})).then((function(e){var n=e.Gs;return t.Th=e.readTime,n}))}(o.$u)];case 3:return s=i.sent(),a=ye.Gt(t,"current"===n),[4,o.i_(s,a)];case 4:return i.sent(),[3,8];case 5:return[4,o.$u.kh(t,!0)];case 6:return i.sent(),o.n_(t,r),[3,8];case 7:v(),i.label=8;case 8:return[2]}}))}))}function us(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,s,a,u,c,l,h,d;return i.__generator(this,(function(p){switch(p.label){case 0:if(!(r=y(e)).Jl)return[3,10];o=0,s=t,p.label=1;case 1:return o<s.length?r.Wl.has(a=s[o])?(f("SyncEngine","Adding an already active target "+a),[3,5]):[4,mi(r.$u,a)]:[3,6];case 2:return u=p.sent(),[4,r.$u.Nh(u)];case 3:return c=p.sent(),[4,r.t_(os(u),c.targetId,!1)];case 4:p.sent(),r.Ol.listen(c),p.label=5;case 5:return o++,[3,1];case 6:l=function(e){return i.__generator(this,(function(t){switch(t.label){case 0:return r.Wl.has(e)?[4,r.$u.kh(e,!1).then((function(){r.Ol.ic(e),r.n_(e)})).catch(_i)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},h=0,d=n,p.label=7;case 7:return h<d.length?[5,l(d[h])]:[3,10];case 8:p.sent(),p.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}var cs=function(){this.T_=void 0,this.listeners=[]},ls=function(){function e(e){this.oc=e,this.E_=new x((function(e){return yn(e)}),gn),this.onlineState="Unknown",this.I_=new Set,this.oc.subscribe(this)}return e.prototype.listen=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o,s,a;return i.__generator(this,(function(i){switch(i.label){case 0:if(n=!1,(r=this.E_.get(t=e.query))||(n=!0,r=new cs),!n)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),o=r,[4,this.oc.listen(t)];case 2:return o.T_=i.sent(),[3,4];case 3:return s=i.sent(),a=ci(s,"Initialization of query '"+mn(e.query)+"' failed"),[2,void e.onError(a)];case 4:return this.E_.set(t,r),r.listeners.push(e),e.vl(this.onlineState),r.T_&&e.m_(r.T_)&&this.A_(),[2]}}))}))},e.prototype.ic=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o;return i.__generator(this,(function(i){return n=!1,(r=this.E_.get(t=e.query))&&(o=r.listeners.indexOf(e))>=0&&(r.listeners.splice(o,1),n=0===r.listeners.length),n?[2,(this.E_.delete(t),this.oc.ic(t))]:[2]}))}))},e.prototype.nu=function(e){for(var t=!1,n=0,r=e;n<r.length;n++){var i=r[n],o=this.E_.get(i.query);if(o){for(var s=0,a=o.listeners;s<a.length;s++)a[s].m_(i)&&(t=!0);o.T_=i}}t&&this.A_()},e.prototype.l_=function(e,t){var n=this.E_.get(e);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(t);this.E_.delete(e)},e.prototype.r_=function(e){this.onlineState=e;var t=!1;this.E_.forEach((function(n,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].vl(e)&&(t=!0)})),t&&this.A_()},e.prototype.R_=function(e){this.I_.add(e),e.next()},e.prototype.P_=function(e){this.I_.delete(e)},e.prototype.A_=function(){this.I_.forEach((function(e){e.next()}))},e}(),hs=function(){function e(e,t,n){this.query=e,this.g_=t,this.V_=!1,this.y_=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.m_=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new ge(e.query,e.docs,e.Ot,t,e.Lt,e.fromCache,e.qt,!0)}var o=!1;return this.V_?this.p_(e)&&(this.g_.next(e),o=!0):this.b_(e,this.onlineState)&&(this.v_(e),o=!0),this.y_=e,o},e.prototype.onError=function(e){this.g_.error(e)},e.prototype.vl=function(e){this.onlineState=e;var t=!1;return this.y_&&!this.V_&&this.b_(this.y_,e)&&(this.v_(this.y_),t=!0),t},e.prototype.b_=function(e,t){return!e.fromCache||!(this.options.S_&&"Offline"!==t||e.docs._()&&"Offline"!==t)},e.prototype.p_=function(e){return e.docChanges.length>0||!!(e.qt||this.y_&&this.y_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},e.prototype.v_=function(e){e=ge.Ut(e.query,e.docs,e.Lt,e.fromCache),this.V_=!0,this.g_.next(e)},e}(),fs=function(){function e(){}return e.prototype.mh=function(e){this.D_=e},e.prototype.ts=function(e,t,n,r){var i=this;return t.on()||n.isEqual(R.min())?this.C_(e,t):this.D_.Jn(e,r).next((function(o){var a=i.F_(t,o);return(t.hn()||t.an())&&i.Vl(t.en,a,r,n)?i.C_(e,t):(h()<=s.LogLevel.DEBUG&&f("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),mn(t)),i.D_.ts(e,t,n).next((function(e){return a.forEach((function(t){e=e.nt(t.key,t)})),e})))}))},e.prototype.F_=function(e,t){var n=new ne(bn(e));return t.forEach((function(t,r){r instanceof nn&&_n(e,r)&&(n=n.add(r))})),n},e.prototype.Vl=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.o(r)>0)},e.prototype.C_=function(e,t){return h()<=s.LogLevel.DEBUG&&f("IndexFreeQueryEngine","Using full collection scan to execute query:",mn(t)),this.D_.ts(e,t,R.min())},e}(),ds=function(){function e(e,t){this.Kn=e,this.ii=t,this.jn=[],this.N_=1,this.k_=new ne(ki.Lh)}return e.prototype.Or=function(e){return Ln.resolve(0===this.jn.length)},e.prototype.Lr=function(e,t,n,r){var i=this.N_;this.N_++;var o=new Nn(i,t,n,r);this.jn.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.k_=this.k_.add(new ki(u.key,i)),this.Kn.Cs(e,u.key.path.p())}return Ln.resolve(o)},e.prototype.qr=function(e,t){return Ln.resolve(this.x_(t))},e.prototype.Ur=function(e,t){var n=this.M_(t+1),r=n<0?0:n;return Ln.resolve(this.jn.length>r?this.jn[r]:null)},e.prototype.Wr=function(){return Ln.resolve(0===this.jn.length?-1:this.N_-1)},e.prototype.Qr=function(e){return Ln.resolve(this.jn.slice())},e.prototype.zn=function(e,t){var n=this,r=new ki(t,0),i=new ki(t,Number.POSITIVE_INFINITY),o=[];return this.k_.vt([r,i],(function(e){var t=n.x_(e.zh);o.push(t)})),Ln.resolve(o)},e.prototype.Zn=function(e,t){var n=this,r=new ne(b);return t.forEach((function(e){var t=new ki(e,0),i=new ki(e,Number.POSITIVE_INFINITY);n.k_.vt([t,i],(function(e){r=r.add(e.zh)}))})),Ln.resolve(this.O_(r))},e.prototype.os=function(e,t){var n=t.path,r=n.length+1,i=n;M.W(i)||(i=i.child(""));var o=new ki(new M(i),0),s=new ne(b);return this.k_.St((function(e){var t=e.key.path;return!!n.D(t)&&(t.length===r&&(s=s.add(e.zh)),!0)}),o),Ln.resolve(this.O_(s))},e.prototype.O_=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.x_(e);null!==r&&n.push(r)})),n},e.prototype.Kr=function(e,t){var n=this;g(0===this.L_(t.batchId,"removed")),this.jn.shift();var r=this.k_;return Ln.forEach(t.mutations,(function(i){var o=new ki(i.key,t.batchId);return r=r.delete(o),n.ii.Dr(e,i.key)})).next((function(){n.k_=r}))},e.prototype.Gr=function(e){},e.prototype.pi=function(e,t){var n=new ki(t,0),r=this.k_.Dt(n);return Ln.resolve(t.isEqual(r&&r.key))},e.prototype.zr=function(e){return Ln.resolve()},e.prototype.L_=function(e,t){return this.M_(e)},e.prototype.M_=function(e){return 0===this.jn.length?0:e-this.jn[0].batchId},e.prototype.x_=function(e){var t=this.M_(e);return t<0||t>=this.jn.length?null:this.jn[t]},e}(),ps=function(){function e(e,t){this.Kn=e,this.q_=t,this.docs=new J(M.P),this.size=0}return e.prototype.Nn=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.q_(t);return this.docs=this.docs.nt(r,{Ls:t,size:s,readTime:n}),this.size+=s-o,this.Kn.Cs(e,r.path.p())},e.prototype.xn=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.Mn=function(e,t){var n=this.docs.get(t);return Ln.resolve(n?n.Ls:null)},e.prototype.getEntries=function(e,t){var n=this,r=se();return t.forEach((function(e){var t=n.docs.get(e);r=r.nt(e,t?t.Ls:null)})),Ln.resolve(r)},e.prototype.ts=function(e,t,n){for(var r=ue(),i=new M(t.path.child("")),o=this.docs.ut(i);o.wt();){var s=o.dt(),a=s.value,u=a.Ls,c=a.readTime;if(!t.path.D(s.key.path))break;c.o(n)<=0||u instanceof nn&&_n(t,u)&&(r=r.nt(u.key,u))}return Ln.resolve(r)},e.prototype.B_=function(e,t){return Ln.forEach(this.docs,(function(e){return t(e)}))},e.prototype.Hs=function(t){return new e.Ys(this)},e.prototype.Xs=function(e){return Ln.resolve(this.size)},e}();ps.Ys=function(e){function t(t){var n=this;return(n=e.call(this)||this).Zs=t,n}return i.__extends(t,e),t.prototype.qn=function(e){var t=this,n=[];return this.Cn.forEach((function(r,i){i?n.push(t.Zs.Nn(e,i,t.readTime)):t.Zs.xn(r)})),Ln.Sn(n)},t.prototype.On=function(e,t){return this.Zs.Mn(e,t)},t.prototype.Ln=function(e,t){return this.Zs.getEntries(e,t)},t}(Mn);var vs=function(){function e(e){this.persistence=e,this.U_=new x((function(e){return G(e)}),H),this.lastRemoteSnapshotVersion=R.min(),this.highestTargetId=0,this.W_=0,this.Q_=new bi,this.targetCount=0,this.j_=pr.ni()}return e.prototype.pe=function(e,t){return this.U_.forEach((function(e,n){return t(n)})),Ln.resolve()},e.prototype.ai=function(e){return Ln.resolve(this.lastRemoteSnapshotVersion)},e.prototype.ui=function(e){return Ln.resolve(this.W_)},e.prototype.ri=function(e){return this.highestTargetId=this.j_.next(),Ln.resolve(this.highestTargetId)},e.prototype.ci=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.W_&&(this.W_=t),Ln.resolve()},e.prototype._i=function(e){this.U_.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.j_=new pr(t),this.highestTargetId=t),e.sequenceNumber>this.W_&&(this.W_=e.sequenceNumber)},e.prototype.li=function(e,t){return this._i(t),this.targetCount+=1,Ln.resolve()},e.prototype.di=function(e,t){return this._i(t),Ln.resolve()},e.prototype.wi=function(e,t){return this.U_.delete(t.target),this.Q_.jh(t.targetId),this.targetCount-=1,Ln.resolve()},e.prototype.Ei=function(e,t,n){var r=this,i=0,o=[];return this.U_.forEach((function(s,a){a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r.U_.delete(s),o.push(r.Ti(e,a.targetId)),i++)})),Ln.Sn(o).next((function(){return i}))},e.prototype.Ii=function(e){return Ln.resolve(this.targetCount)},e.prototype.mi=function(e,t){var n=this.U_.get(t)||null;return Ln.resolve(n)},e.prototype.Ai=function(e,t,n){return this.Q_.Uh(t,n),Ln.resolve()},e.prototype.Pi=function(e,t,n){this.Q_.Qh(t,n);var r=this.persistence.ii,i=[];return r&&t.forEach((function(t){i.push(r.Dr(e,t))})),Ln.Sn(i)},e.prototype.Ti=function(e,t){return this.Q_.jh(t),Ln.resolve()},e.prototype.Vi=function(e,t){var n=this.Q_.Gh(t);return Ln.resolve(n)},e.prototype.pi=function(e,t){return Ln.resolve(this.Q_.pi(t))},e}(),gs=function(){function e(e){var t=this;this.K_={},this.Ci=new zn(0),this.Fi=!1,this.Fi=!0,this.ii=e(this),this.qi=new vs(this),this.Kn=new Kn,this.Qn=new ps(this.Kn,(function(e){return t.ii.G_(e)}))}return e.prototype.start=function(){return Promise.resolve()},e.prototype._r=function(){return this.Fi=!1,Promise.resolve()},Object.defineProperty(e.prototype,"Hi",{get:function(){return this.Fi},enumerable:!1,configurable:!0}),e.prototype.Yi=function(){},e.prototype.Xi=function(){},e.prototype.gr=function(){return this.Kn},e.prototype.mr=function(e){var t=this.K_[e.Aa()];return t||(t=new ds(this.Kn,this.ii),this.K_[e.Aa()]=t),t},e.prototype.Rr=function(){return this.qi},e.prototype.Pr=function(){return this.Qn},e.prototype.runTransaction=function(e,t,n){var r=this;f("MemoryPersistence","Starting transaction:",e);var i=new ys(this.Ci.next());return this.ii.z_(),n(i).next((function(e){return r.ii.H_(i).next((function(){return e}))})).bn().then((function(e){return i.Wn(),e}))},e.prototype.Y_=function(e,t){return Ln.Dn(Object.values(this.K_).map((function(n){return function(){return n.pi(e,t)}})))},e}(),ys=function(e){function t(t){var n=this;return(n=e.call(this)||this).vi=t,n}return i.__extends(t,e),t}(jn),ms=function(){function e(e){this.persistence=e,this.J_=new bi,this.X_=null}return e.Z_=function(t){return new e(t)},Object.defineProperty(e.prototype,"tf",{get:function(){if(this.X_)return this.X_;throw v()},enumerable:!1,configurable:!0}),e.prototype.Ri=function(e,t,n){return this.J_.Ri(n,t),this.tf.delete(n),Ln.resolve()},e.prototype.gi=function(e,t,n){return this.J_.gi(n,t),this.tf.add(n),Ln.resolve()},e.prototype.Dr=function(e,t){return this.tf.add(t),Ln.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.J_.jh(t.targetId).forEach((function(e){return n.tf.add(e)}));var r=this.persistence.Rr();return r.Vi(e,t.targetId).next((function(e){e.forEach((function(e){return n.tf.add(e)}))})).next((function(){return r.wi(e,t)}))},e.prototype.z_=function(){this.X_=new Set},e.prototype.H_=function(e){var t=this,n=this.persistence.Pr().Hs();return Ln.forEach(this.tf,(function(r){return t.ef(e,r).next((function(e){e||n.xn(r)}))})).next((function(){return t.X_=null,n.apply(e)}))},e.prototype.Nr=function(e,t){var n=this;return this.ef(e,t).next((function(e){e?n.tf.delete(t):n.tf.add(t)}))},e.prototype.G_=function(e){return 0},e.prototype.ef=function(e,t){var n=this;return Ln.Dn([function(){return Ln.resolve(n.J_.pi(t))},function(){return n.persistence.Rr().pi(e,t)},function(){return n.persistence.Y_(e,t)}])},e}(),_s=function(){function e(e){this.nf=e.nf,this.sf=e.sf}return e.prototype.tu=function(e){this.if=e},e.prototype.Ha=function(e){this.rf=e},e.prototype.onMessage=function(e){this.hf=e},e.prototype.close=function(){this.sf()},e.prototype.send=function(e){this.nf(e)},e.prototype.af=function(){this.if()},e.prototype.uf=function(e){this.rf(e)},e.prototype.cf=function(e){this.hf(e)},e}(),bs={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ks=function(){function e(e){this.s=e.s,this.lf=(e.ssl?"https":"http")+"://"+e.host,this.forceLongPolling=e.forceLongPolling}return e.prototype._f=function(e,t){if(t)for(var n in t.ga)t.ga.hasOwnProperty(n)&&(e[n]=t.ga[n]);e["X-Goog-Api-Client"]="gl-js/ fire/7.17.1"},e.prototype.fu=function(e,t,n){var r=this,i=this.ff(e);return new Promise((function(o,s){var a=new u.XhrIo;a.listenOnce(u.EventType.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case u.ErrorCode.NO_ERROR:var t=a.getResponseJson();f("Connection","XHR received:",JSON.stringify(t)),o(t);break;case u.ErrorCode.TIMEOUT:f("Connection",'RPC "'+e+'" timed out'),s(new O(A.DEADLINE_EXCEEDED,"Request time out"));break;case u.ErrorCode.HTTP_ERROR:var n=a.getStatus();if(f("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var i=function(e){var t=e.toLowerCase().replace("_","-");return Object.values(A).indexOf(t)>=0?t:A.UNKNOWN}(r.status);s(new O(i,r.message))}else s(new O(A.UNKNOWN,"Server responded with status "+a.getStatus()))}else f("Connection",'RPC "'+e+'" failed'),s(new O(A.UNAVAILABLE,"Connection failed."));break;default:v()}}finally{f("Connection",'RPC "'+e+'" completed.')}}));var c=Object.assign({},t);delete c.database;var l=JSON.stringify(c);f("Connection","XHR sending: ",i+" "+l);var h={"Content-Type":"text/plain"};r._f(h,n),a.send(i,"POST",l,h,15)}))},e.prototype.du=function(e,t,n){return this.fu(e,t,n)},e.prototype.eu=function(e,t){var n=[this.lf,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=u.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.s.projectId+"/databases/"+this.s.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this._f(o.initMessageHeaders,t),a.isMobileCordova()||a.isReactNative()||a.isElectron()||a.isIE()||a.isUWP()||a.isBrowserExtension()||(o.httpHeadersOverwriteParam="$httpHeaders");var c=n.join("");f("Connection","Creating WebChannel: "+c+" "+o);var h=r.createWebChannel(c,o),d=!1,v=!1,y=new _s({nf:function(e){v?f("Connection","Not sending because WebChannel is closed:",e):(d||(f("Connection","Opening WebChannel transport."),h.open(),d=!0),f("Connection","WebChannel sending:",e),h.send(e))},sf:function(){return h.close()}}),m=function(e,t){h.listen(e,(function(e){try{t(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return m(u.WebChannel.EventType.OPEN,(function(){v||f("Connection","WebChannel transport opened.")})),m(u.WebChannel.EventType.CLOSE,(function(){v||(v=!0,f("Connection","WebChannel transport closed"),y.uf())})),m(u.WebChannel.EventType.ERROR,(function(e){v||(v=!0,function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(l.logLevel<=s.LogLevel.WARN){var r=t.map(p);l.warn.apply(l,i.__spreadArrays(["Firestore (7.17.1): "+e],r))}}("Connection","WebChannel transport errored:",e),y.uf(new O(A.UNAVAILABLE,"The operation could not be completed")))})),m(u.WebChannel.EventType.MESSAGE,(function(e){var t;if(!v){var n=e.data[0];g(!!n);var r=n.error||(null===(t=n[0])||void 0===t?void 0:t.error);if(r){f("Connection","WebChannel received error:",r);var i=r.status,o=function(e){var t=$[e];if(void 0!==t)return X(t)}(i),s=r.message;void 0===o&&(o=A.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),v=!0,y.uf(new O(o,s)),h.close()}else f("Connection","WebChannel received:",n),y.cf(n)}})),setTimeout((function(){y.af()}),0),y},e.prototype.ff=function(e){return this.lf+"/v1/projects/"+this.s.projectId+"/databases/"+this.s.database+"/documents:"+bs[e]},e}(),ws=function(){function e(){var e=this;this.df=function(){return e.wf()},this.Tf=function(){return e.Ef()},this.If=[],this.mf()}return e.prototype.Lu=function(e){this.If.push(e)},e.prototype._r=function(){window.removeEventListener("online",this.df),window.removeEventListener("offline",this.Tf)},e.prototype.mf=function(){window.addEventListener("online",this.df),window.addEventListener("offline",this.Tf)},e.prototype.wf=function(){f("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.If;e<t.length;e++)(0,t[e])(0)},e.prototype.Ef=function(){f("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.If;e<t.length;e++)(0,t[e])(1)},e.Oi=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),Cs=function(){function e(){}return e.prototype.Lu=function(e){},e.prototype._r=function(){},e}(),Ss="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",Es=function(){function e(){}return e.prototype.initialize=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return this.Ll=this.Af(e),this.persistence=this.Rf(e),[4,this.persistence.start()];case 1:return r.sent(),this.Pf=this.gf(e),this.$u=this.Vf(e),this.wu=this.yf(e),[4,this.pf(e)];case 2:return t=r.sent(),this.wu.start(t),this.Ol=this.bf(e),this.oc=this.vf(e),this.Sf=this.Df(e),this.Ll.Vu=function(e){return n.oc.vl(e,1)},this.Ol.oc=this.oc,[4,this.Ll.start()];case 3:return r.sent(),[4,this.Ol.start()];case 4:return r.sent(),[4,this.Ol.Pc(this.oc.Xl)];case 5:return r.sent(),[2]}}))}))},e.prototype.pf=function(e){return Promise.resolve(new ks(e.Cf))},e.prototype.Df=function(e){return new ls(this.oc)},e.prototype.gf=function(e){return null},e.prototype.Vf=function(e){return yi(this.persistence,new fs,e.Ff)},e.prototype.Rf=function(e){if(e.Nf.$f)throw new O(A.FAILED_PRECONDITION,Ss);return new gs(ms.Z_)},e.prototype.yf=function(e){var t=ro(e.Cf.s);return function(e,t){return new Po(e,t)}(e.credentials,t)},e.prototype.bf=function(e){var t=this;return new Lo(this.$u,this.wu,e.ao,(function(e){return t.oc.vl(e,0)}),ws.Oi()?new ws:new Cs)},e.prototype.Af=function(e){return new Wo},e.prototype.vf=function(e){return es(this.$u,this.Ol,this.wu,this.Ll,e.Ff,e.ql,!0)},e.prototype.clearPersistence=function(e,t){throw new O(A.FAILED_PRECONDITION,Ss)},e}(),Is=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.initialize=function(t){return i.__awaiter(this,void 0,void 0,(function(){var n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,this.persistence.zi((function(e){return i.__awaiter(n,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,rs(this.oc,e)];case 1:return t.sent(),this.Pf&&(e&&!this.Pf.Hi?this.Pf.start(this.$u):e||this.Pf.stop()),[2]}}))}))}))];case 2:return r.sent(),[4,function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n;return i.__generator(this,(function(r){return t=y(e),n=y(t.Eh),[2,t.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return n.zs(e)})).then((function(e){t.Th=e}))]}))}))}(this.$u)];case 3:return r.sent(),[2]}}))}))},t.prototype.vf=function(e){var t=es(this.$u,this.Ol,this.wu,this.Ll,e.Ff,e.ql,!e.Nf.$f||!e.Nf.synchronizeTabs);return this.Ll instanceof qo&&(this.Ll.oc={cl:ns.bind(null,t),ll:as.bind(null,t),_l:us.bind(null,t),Ir:ss.bind(null,t)}),t},t.prototype.Af=function(e){if(e.Nf.$f&&e.Nf.synchronizeTabs){var t=si();if(!qo.Oi(t))throw new O(A.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ir(e.Cf.s,e.Cf.persistenceKey);return new qo(t,e.ao,n,e.clientId,e.Ff)}return new Wo},t}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.Vf=function(e){return yi(this.persistence,new fs,e.Ff)},t.prototype.gf=function(e){return new pi(this.persistence.ii.yr,e.ao)},t.prototype.Rf=function(e){var t=Ir(e.Cf.s,e.Cf.persistenceKey),n=ro(e.Cf.s);return new kr(e.Nf.synchronizeTabs,t,e.clientId,di.Ho(e.Nf.cacheSizeBytes),e.ao,si(),"undefined"!=typeof document?document:null,n,this.Ll,e.Nf.Di)},t.prototype.Af=function(e){return new Wo},t.prototype.clearPersistence=function(e,t){return function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return Zr.Oi()?[4,Zr.delete(e+"main")]:[2,Promise.resolve()];case 1:return t.sent(),[2]}}))}))}(Ir(e,t))},t}(Es)),Ts=function(){function e(e,t){this.credentials=e,this.ao=t,this.clientId=_.t()}return e.prototype.start=function(e,t,n){var r=this;this.kf(),this.Cf=e;var i=new Gn,o=new Gn,s=!1;return this.credentials.pa((function(e){if(!s)return s=!0,f("FirestoreClient","Initializing. user=",e.uid),r.xf(t,n,e,o).then(i.resolve,i.reject);r.ao.er((function(){return r.Ol.Rc(e)}))})),this.ao.Zi((function(){return i.promise})),o.promise},e.prototype.enableNetwork=function(){var e=this;return this.kf(),this.ao.enqueue((function(){return e.persistence.Xi(!0),e.Ol.enableNetwork()}))},e.prototype.xf=function(e,t,n,r){return i.__awaiter(this,void 0,void 0,(function(){var o,s=this;return i.__generator(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,e.initialize({ao:this.ao,Cf:this.Cf,clientId:this.clientId,credentials:this.credentials,Ff:n,ql:100,Nf:t})];case 1:return a.sent(),this.persistence=e.persistence,this.Ll=e.Ll,this.$u=e.$u,this.Ol=e.Ol,this.oc=e.oc,this.Pf=e.Pf,this.Mf=e.Sf,this.persistence.Yi((function(){return i.__awaiter(s,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return[4,this.terminate()];case 1:return e.sent(),[2]}}))}))})),r.resolve(),[3,3];case 2:if(o=a.sent(),r.reject(o),!this.Of(o))throw o;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),this.xf(new Es,{$f:!1},n,r))];case 3:return[2]}}))}))},e.prototype.Of=function(e){return"FirebaseError"===e.name?e.code===A.FAILED_PRECONDITION||e.code===A.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code},e.prototype.kf=function(){if(this.ao.yo)throw new O(A.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.disableNetwork=function(){var e=this;return this.kf(),this.ao.enqueue((function(){return e.persistence.Xi(!1),e.Ol.disableNetwork()}))},e.prototype.terminate=function(){var e=this;return this.ao.Do((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Pf&&this.Pf.stop(),[4,this.Ol._r()];case 1:return e.sent(),[4,this.Ll._r()];case 2:return e.sent(),[4,this.persistence._r()];case 3:return e.sent(),this.credentials.ba(),[2]}}))}))}))},e.prototype.waitForPendingWrites=function(){var e=this;this.kf();var t=new Gn;return this.ao.Zi((function(){return e.oc.u_(t)})),t.promise},e.prototype.listen=function(e,t,n){var r=this;this.kf();var i=new hs(e,t,n);return this.ao.Zi((function(){return r.Mf.listen(i)})),i},e.prototype.ic=function(e){var t=this;this.Lf||this.ao.Zi((function(){return t.Mf.ic(e)}))},e.prototype.qf=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return this.kf(),t=new Gn,[4,this.ao.enqueue((function(){return i.__awaiter(n,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.$u.$h(e)];case 1:return(n=i.sent())instanceof nn?t.resolve(n):n instanceof rn?t.resolve(null):t.reject(new O(A.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=i.sent(),o=ci(r,"Failed to get document '"+e+" from cache"),t.reject(o),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(r.sent(),t.promise)]}}))}))},e.prototype.Bf=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return this.kf(),t=new Gn,[4,this.ao.enqueue((function(){return i.__awaiter(n,void 0,void 0,(function(){var n,r,o,s,a,u;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.$u.xh(e,!0)];case 1:return n=i.sent(),r=new Ko(e,n.Mh),o=r.Rl(n.documents),s=r.qn(o,!1),t.resolve(s.snapshot),[3,3];case 2:return a=i.sent(),u=ci(a,"Failed to execute query '"+e+" against cache"),t.reject(u),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(r.sent(),t.promise)]}}))}))},e.prototype.write=function(e){var t=this;this.kf();var n=new Gn;return this.ao.Zi((function(){return t.oc.write(e,n)})),n.promise},e.prototype.s=function(){return this.Cf.s},e.prototype.R_=function(e){var t=this;this.kf(),this.ao.Zi((function(){return t.Mf.R_(e),Promise.resolve()}))},e.prototype.P_=function(e){var t=this;this.Lf||this.ao.Zi((function(){return t.Mf.P_(e),Promise.resolve()}))},Object.defineProperty(e.prototype,"Lf",{get:function(){return this.ao.yo},enumerable:!1,configurable:!0}),e.prototype.transaction=function(e){var t=this;this.kf();var n=new Gn;return this.ao.Zi((function(){return t.oc.runTransaction(t.ao,e,n),Promise.resolve()})),n.promise},e}(),xs=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.Uf(this.observer.next,e)},e.prototype.error=function(e){this.Uf(this.observer.error,e)},e.prototype.Wf=function(){this.muted=!0},e.prototype.Uf=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}();function As(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var Os=function(){function e(e,t,n,r){this.s=e,this.timestampsInSnapshots=t,this.Qf=n,this.jf=r}return e.prototype.Kf=function(e){switch(Ae(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Le(e.integerValue||e.doubleValue);case 3:return this.Gf(e.timestampValue);case 4:return this.zf(e);case 5:return e.stringValue;case 6:return new Gi(Me(e.bytesValue));case 7:return this.Hf(e.referenceValue);case 8:return this.Yf(e.geoPointValue);case 9:return this.Jf(e.arrayValue);case 10:return this.Xf(e.mapValue);default:throw v()}},e.prototype.Xf=function(e){var t=this,n={};return I(e.fields||{},(function(e,r){n[e]=t.Kf(r)})),n},e.prototype.Yf=function(e){return new no(Le(e.latitude),Le(e.longitude))},e.prototype.Jf=function(e){var t=this;return(e.values||[]).map((function(e){return t.Kf(e)}))},e.prototype.zf=function(e){switch(this.Qf){case"previous":var t=function e(t){var n=t.mapValue.fields.__previous_value__;return Ie(n)?e(n):n}(e);return null==t?null:this.Kf(t);case"estimate":return this.Gf(Te(e));default:return null}},e.prototype.Gf=function(e){var t=Fe(e),n=new D(t.seconds,t.nanos);return this.timestampsInSnapshots?n:n.toDate()},e.prototype.Hf=function(e){var t=N.N(e);g(bt(t));var n=new S(t.get(1),t.get(3)),r=new M(t.V(5));return n.isEqual(this.s)||d("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.s.projectId+"/"+this.s.database+") instead."),this.jf(r)},e}(),Ds=di.Xo,Rs=function(){function e(e){var t,n,r,i;if(void 0===e.host){if(void 0!==e.ssl)throw new O(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else xi("settings","non-empty string","host",e.host),this.host=e.host,Ai("settings","boolean","ssl",e.ssl),this.ssl=null===(t=e.ssl)||void 0===t||t;if(Li("settings",e,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),Ai("settings","object","credentials",e.credentials),this.credentials=e.credentials,Ai("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),Ai("settings","boolean","ignoreUndefinedProperties",e.ignoreUndefinedProperties),!0===e.timestampsInSnapshots?d("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===e.timestampsInSnapshots&&d("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=e.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=e.ignoreUndefinedProperties)&&void 0!==r&&r,Ai("settings","number","cacheSizeBytes",e.cacheSizeBytes),void 0===e.cacheSizeBytes)this.cacheSizeBytes=di.th;else{if(e.cacheSizeBytes!==Ds&&e.cacheSizeBytes<di.Zo)throw new O(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+di.Zo);this.cacheSizeBytes=e.cacheSizeBytes}Ai("settings","boolean","experimentalForceLongPolling",e.experimentalForceLongPolling),this.forceLongPolling=null!==(i=e.experimentalForceLongPolling)&&void 0!==i&&i}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.forceLongPolling===e.forceLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},e}(),Ps=function(){function e(t,n,r){var o=this;if(void 0===r&&(r=new Es),this.Zf=null,this.td=new ui,this.INTERNAL={delete:function(){return i.__awaiter(o,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.ed(),[4,this.nd.terminate()];case 1:return e.sent(),[2]}}))}))}},"object"==typeof t.options){var s=t;this.Zf=s,this.aa=e.sd(s),this.rd=s.name,this.od=new To(n)}else{var a=t;if(!a.projectId)throw new O(A.INVALID_ARGUMENT,"Must provide projectId");this.aa=new S(a.projectId,a.database),this.rd="[DEFAULT]",this.od=new Io}this.hd=r,this.ad=new Rs({})}return Object.defineProperty(e.prototype,"ud",{get:function(){return this.ld||(this.ld=new lo(this.aa,this.ad.ignoreUndefinedProperties)),this.ld},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){Ci("Firestore.settings",arguments,1),Ii("Firestore.settings","object",1,e);var t=new Rs(e);if(this.nd&&!this.ad.isEqual(t))throw new O(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.ad=t,void 0!==t.credentials&&(this.od=function(e){if(!e)return new Io;switch(e.type){case"gapi":var t=e._d;return g(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Ao(t,e.$a||"0");case"provider":return e._d;default:throw new O(A.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype.enableNetwork=function(){return this.ed(),this.nd.enableNetwork()},e.prototype.disableNetwork=function(){return this.ed(),this.nd.disableNetwork()},e.prototype.enablePersistence=function(e){var t,n;if(this.nd)throw new O(A.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(e&&(void 0!==e.experimentalTabSynchronization&&d("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(t=e.synchronizeTabs)&&void 0!==t?t:e.experimentalTabSynchronization)&&void 0!==n&&n,i=!!e.experimentalForceOwningTab&&e.experimentalForceOwningTab,r&&i))throw new O(A.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.fd(this.hd,{$f:!0,cacheSizeBytes:this.ad.cacheSizeBytes,synchronizeTabs:r,Di:i})},e.prototype.clearPersistence=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t=this;return i.__generator(this,(function(n){if(void 0!==this.nd&&!this.nd.Lf)throw new O(A.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return e=new Gn,[2,(this.td.po((function(){return i.__awaiter(t,void 0,void 0,(function(){var t;return i.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.hd.clearPersistence(this.aa,this.rd)];case 1:return n.sent(),e.resolve(),[3,3];case 2:return t=n.sent(),e.reject(t),[3,3];case 3:return[2]}}))}))})),e.promise)]}))}))},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(e.prototype,"dd",{get:function(){return this.ed(),this.nd.Lf},enumerable:!1,configurable:!0}),e.prototype.waitForPendingWrites=function(){return this.ed(),this.nd.waitForPendingWrites()},e.prototype.onSnapshotsInSync=function(e){return this.ed(),As(e)?Ns(this.nd,e):(Ii("Firestore.onSnapshotsInSync","function",1,e),Ns(this.nd,{next:e}))},e.prototype.ed=function(){return this.nd||this.fd(new Es,{$f:!1}),this.nd},e.prototype.wd=function(){return new C(this.aa,this.rd,this.ad.host,this.ad.ssl,this.ad.forceLongPolling)},e.prototype.fd=function(e,t){var n=this.wd();return this.nd=new Ts(this.od,this.td),this.nd.start(n,e,t)},e.sd=function(e){if(!Object.prototype.hasOwnProperty.call(e.options,"projectId"))throw new O(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var t=e.options.projectId;if(!t||"string"!=typeof t)throw new O(A.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new S(t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Zf)throw new O(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Zf},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){return Ci("Firestore.collection",arguments,1),Ii("Firestore.collection","non-empty string",1,e),this.ed(),new Zs(N.N(e),this,null)},e.prototype.doc=function(e){return Ci("Firestore.doc",arguments,1),Ii("Firestore.doc","non-empty string",1,e),this.ed(),Ms.Td(N.N(e),this,null)},e.prototype.collectionGroup=function(e){if(Ci("Firestore.collectionGroup",arguments,1),Ii("Firestore.collectionGroup","non-empty string",1,e),e.indexOf("/")>=0)throw new O(A.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ed(),new Qs(function(e){return new an(N.k(),e)}(e),this,null)},e.prototype.runTransaction=function(e){var t=this;return Ci("Firestore.runTransaction",arguments,1),Ii("Firestore.runTransaction","function",1,e),this.ed().transaction((function(n){return e(new Fs(t,n))}))},e.prototype.batch=function(){return this.ed(),new Ls(this)},Object.defineProperty(e,"logLevel",{get:function(){switch(h()){case s.LogLevel.DEBUG:return"debug";case s.LogLevel.ERROR:return"error";case s.LogLevel.SILENT:return"silent";case s.LogLevel.WARN:return"warn";case s.LogLevel.INFO:return"info";case s.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),e.setLogLevel=function(e){Ci("Firestore.setLogLevel",arguments,1),Di("setLogLevel",["debug","error","silent","warn","info","verbose"],1,e),l.setLogLevel(e)},e.prototype.Ed=function(){return this.ad.timestampsInSnapshots},e}();function Ns(e,t){var n=new xs({next:function(){t.next&&t.next()},error:function(e){throw v()}});return e.R_(n),function(){n.Wf(),e.P_(n)}}var Fs=function(){function e(e,t){this.Id=e,this.md=t}return e.prototype.get=function(e){var t=this;Ci("Transaction.get",arguments,1);var n=ta("Transaction.get",e,this.Id);return this.md.Au([n.ua]).then((function(e){if(!e||1!==e.length)return v();var r=e[0];if(r instanceof rn)return new Us(t.Id,n.ua,null,!1,!1,n.ca);if(r instanceof nn)return new Us(t.Id,n.ua,r,!1,!1,n.ca);throw v()}))},e.prototype.set=function(e,t,n){Ei("Transaction.set",arguments,2,3);var r=ta("Transaction.set",e,this.Id);n=Xs("Transaction.set",n);var i=ra(r.ca,t,n),o=ho(this.Id.ud,"Transaction.set",r.ua,i,null!==r.ca,n);return this.md.set(r.ua,o),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof t||t instanceof qi?(Si("Transaction.update",arguments,3),r=ta("Transaction.update",e,this.Id),i=po(this.Id.ud,"Transaction.update",r.ua,t,n,o)):(Ci("Transaction.update",arguments,2),r=ta("Transaction.update",e,this.Id),i=fo(this.Id.ud,"Transaction.update",r.ua,t)),this.md.update(r.ua,i),this},e.prototype.delete=function(e){Ci("Transaction.delete",arguments,1);var t=ta("Transaction.delete",e,this.Id);return this.md.delete(t.ua),this},e}(),Ls=function(){function e(e){this.Id=e,this.Ad=[],this.Rd=!1}return e.prototype.set=function(e,t,n){Ei("WriteBatch.set",arguments,2,3),this.Pd();var r=ta("WriteBatch.set",e,this.Id);n=Xs("WriteBatch.set",n);var i=ra(r.ca,t,n),o=ho(this.Id.ud,"WriteBatch.set",r.ua,i,null!==r.ca,n);return this.Ad=this.Ad.concat(o.la(r.ua,Lt.We())),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.Pd(),"string"==typeof t||t instanceof qi?(Si("WriteBatch.update",arguments,3),r=ta("WriteBatch.update",e,this.Id),i=po(this.Id.ud,"WriteBatch.update",r.ua,t,n,o)):(Ci("WriteBatch.update",arguments,2),r=ta("WriteBatch.update",e,this.Id),i=fo(this.Id.ud,"WriteBatch.update",r.ua,t)),this.Ad=this.Ad.concat(i.la(r.ua,Lt.exists(!0))),this},e.prototype.delete=function(e){Ci("WriteBatch.delete",arguments,1),this.Pd();var t=ta("WriteBatch.delete",e,this.Id);return this.Ad=this.Ad.concat(new Yt(t.ua,Lt.We())),this},e.prototype.commit=function(){return this.Pd(),this.Rd=!0,this.Ad.length>0?this.Id.ed().write(this.Ad):Promise.resolve()},e.prototype.Pd=function(){if(this.Rd)throw new O(A.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}(),Ms=function(e){function t(t,n,r){var i=this;return(i=e.call(this,n.aa,t,r)||this).ua=t,i.firestore=n,i.ca=r,i.nd=i.firestore.ed(),i}return i.__extends(t,e),t.Td=function(e,n,r){if(e.length%2!=0)throw new O(A.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.$()+" has "+e.length);return new t(new M(e),n,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this.ua.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Zs(this.ua.path.p(),this.firestore,this.ca)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.ua.path.$()},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){if(Ci("DocumentReference.collection",arguments,1),Ii("DocumentReference.collection","non-empty string",1,e),!e)throw new O(A.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=N.N(e);return new Zs(this.ua.path.child(t),this.firestore,null)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Mi("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this.ua.isEqual(e.ua)&&this.ca===e.ca},t.prototype.set=function(e,t){Ei("DocumentReference.set",arguments,1,2),t=Xs("DocumentReference.set",t);var n=ra(this.ca,e,t),r=ho(this.firestore.ud,"DocumentReference.set",this.ua,n,null!==this.ca,t);return this.nd.write(r.la(this.ua,Lt.We()))},t.prototype.update=function(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof e||e instanceof qi?(Si("DocumentReference.update",arguments,2),n=po(this.firestore.ud,"DocumentReference.update",this.ua,e,t,r)):(Ci("DocumentReference.update",arguments,1),n=fo(this.firestore.ud,"DocumentReference.update",this.ua,e)),this.nd.write(n.la(this.ua,Lt.exists(!0)))},t.prototype.delete=function(){return Ci("DocumentReference.delete",arguments,0),this.nd.write([new Yt(this.ua,Lt.We())])},t.prototype.onSnapshot=function(){for(var e,t,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];Ei("DocumentReference.onSnapshot",arguments,1,4);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||As(i[a])||(Li("DocumentReference.onSnapshot",s=i[a],["includeMetadataChanges"]),Ai("DocumentReference.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),a++);var u={includeMetadataChanges:s.includeMetadataChanges};if(As(i[a])){var c=i[a];i[a]=null===(e=c.next)||void 0===e?void 0:e.bind(c),i[a+1]=null===(t=c.error)||void 0===t?void 0:t.bind(c),i[a+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}else Ii("DocumentReference.onSnapshot","function",a,i[a]),Ti("DocumentReference.onSnapshot","function",a+1,i[a+1]),Ti("DocumentReference.onSnapshot","function",a+2,i[a+2]);var l={next:function(e){i[a]&&i[a](r.gd(e))},error:i[a+1],complete:i[a+2]};return Vs(this.nd,this.ua,u,l)},t.prototype.get=function(e){var t=this;return Ei("DocumentReference.get",arguments,0,1),ea("DocumentReference.get",e),e&&"cache"===e.source?this.firestore.ed().qf(this.ua).then((function(e){return new Us(t.firestore,t.ua,e,!0,e instanceof nn&&e.Ke,t.ca)})):function(e,t,n){var r=new Gn,i=Vs(e,t,{includeMetadataChanges:!0,S_:!0},{next:function(e){i();var o=e.docs.has(t);!o&&e.fromCache?r.reject(new O(A.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&e.fromCache&&n&&"server"===n.source?r.reject(new O(A.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(e)},error:function(e){return r.reject(e)}});return r.promise}(this.nd,this.ua,e).then((function(e){return t.gd(e)}))},t.prototype.withConverter=function(e){return new t(this.ua,this.firestore,e)},t.prototype.gd=function(e){var t=e.docs.get(this.ua);return new Us(this.firestore,this.ua,t,e.fromCache,e.hasPendingWrites,this.ca)},t}(oo);function Vs(e,t,n,r){var i=function(e){console.error("Uncaught Error in onSnapshot:",e)};r.error&&(i=r.error.bind(r));var o=new xs({next:function(e){r.next&&r.next(e)},error:i}),s=e.listen(cn(t.path),o,n);return function(){o.Wf(),e.ic(s)}}var js=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Us=function(){function e(e,t,n,r,i,o){this.Id=e,this.ua=t,this.Vd=n,this.yd=r,this.pd=i,this.ca=o}return e.prototype.data=function(e){var t=this;if(Ei("DocumentSnapshot.data",arguments,0,1),e=Js("DocumentSnapshot.data",e),this.Vd){if(this.ca){var n=new Bs(this.Id,this.ua,this.Vd,this.yd,this.pd,null);return this.ca.fromFirestore(n,e)}return new Os(this.Id.aa,this.Id.Ed(),e.serverTimestamps||"none",(function(e){return new Ms(e,t.Id,null)})).Kf(this.Vd.Ze())}},e.prototype.get=function(e,t){var n=this;if(Ei("DocumentSnapshot.get",arguments,1,2),t=Js("DocumentSnapshot.get",t),this.Vd){var r=this.Vd.data().field(bo("DocumentSnapshot.get",e,this.ua));if(null!==r)return new Os(this.Id.aa,this.Id.Ed(),t.serverTimestamps||"none",(function(e){return new Ms(e,n.Id,n.ca)})).Kf(r)}},Object.defineProperty(e.prototype,"id",{get:function(){return this.ua.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ms(this.ua,this.Id,this.ca)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return null!==this.Vd},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return new js(this.pd,this.yd)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(t instanceof e))throw Mi("isEqual","DocumentSnapshot",1,t);return this.Id===t.Id&&this.yd===t.yd&&this.ua.isEqual(t.ua)&&(null===this.Vd?null===t.Vd:this.Vd.isEqual(t.Vd))&&this.ca===t.ca},e}(),Bs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.data=function(t){return e.prototype.data.call(this,t)},t}(Us);function zs(e,t,n,r,i,o,s){var a;if(i.O()){if("array-contains"===o||"array-contains-any"===o)throw new O(A.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o){qs(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(Hs(r,e,l[c]));a={arrayValue:{values:u}}}else a=Hs(r,e,s)}else"in"!==o&&"array-contains-any"!==o||qs(s,o),a=vo(n,t,s,"in"===o);var h=kn.create(i,o,a);return function(e,t){if(t instanceof kn){var n=["array-contains","array-contains-any"],r=["in","array-contains-any"],i=n.indexOf(t.op)>=0,o=r.indexOf(t.op)>=0;if(t.ln()){var s=e.cn();if(null!==s&&!s.isEqual(t.field))throw new O(A.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+s.toString()+"' and '"+t.field.toString()+"'");var a=e.un();null!==a&&Ws(0,t.field,a)}else if(o||i){var u=null;if(o&&(u=e._n(r)),null===u&&i&&(u=e._n(n)),null!==u)throw new O(A.INVALID_ARGUMENT,u===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+u.toString()+"' filters.")}}}(e,h),h}function Gs(e,t,n){if(null!==e.startAt)throw new O(A.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new O(A.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Dn(t,n);return function(e,t){if(null===e.un()){var n=e.cn();null!==n&&Ws(0,n,t.field)}}(e,r),r}function Hs(e,t,n){if("string"==typeof n){if(""===n)throw new O(A.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ln(t)&&-1!==n.indexOf("/"))throw new O(A.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(N.N(n));if(!M.W(r))throw new O(A.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Ve(e,new M(r))}if(n instanceof oo)return Ve(e,n.ua);throw new O(A.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ni(n)+".")}function qs(e,t){if(!Array.isArray(e)||0===e.length)throw new O(A.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new O(A.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.");if(e.indexOf(null)>=0)throw new O(A.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'null' in the value array.");if(e.filter((function(e){return Number.isNaN(e)})).length>0)throw new O(A.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'NaN' in the value array.")}function Ws(e,t,n){if(!n.isEqual(t))throw new O(A.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function $s(e){if(e.an()&&0===e.tn.length)throw new O(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Qs=function(){function e(e,t,n){this.bd=e,this.firestore=t,this.ca=n}return e.prototype.where=function(t,n,r){Ci("Query.where",arguments,3),Fi("Query.where",3,r);var i=Di("Query.where",["<","<=","==",">=",">","array-contains","in","array-contains-any"],2,n),o=bo("Query.where",t),s=zs(this.bd,"Query.where",this.firestore.ud,this.firestore.aa,o,i,r);return new e(function(e,t){var n=e.filters.concat([t]);return new an(e.path,e.collectionGroup,e.tn.slice(),n,e.limit,e.en,e.startAt,e.endAt)}(this.bd,s),this.firestore,this.ca)},e.prototype.orderBy=function(t,n){var r;if(Ei("Query.orderBy",arguments,1,2),Ti("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new O(A.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=bo("Query.orderBy",t),o=Gs(this.bd,i,r);return new e(function(e,t){var n=e.tn.concat([t]);return new an(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.en,e.startAt,e.endAt)}(this.bd,o),this.firestore,this.ca)},e.prototype.limit=function(t){return Ci("Query.limit",arguments,1),Ii("Query.limit","number",1,t),Vi("Query.limit",1,t),new e(dn(this.bd,t,"F"),this.firestore,this.ca)},e.prototype.limitToLast=function(t){return Ci("Query.limitToLast",arguments,1),Ii("Query.limitToLast","number",1,t),Vi("Query.limitToLast",1,t),new e(dn(this.bd,t,"L"),this.firestore,this.ca)},e.prototype.startAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Si("Query.startAt",arguments,1);var i=this.vd("Query.startAt",t,n,!0);return new e(pn(this.bd,i),this.firestore,this.ca)},e.prototype.startAfter=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Si("Query.startAfter",arguments,1);var i=this.vd("Query.startAfter",t,n,!1);return new e(pn(this.bd,i),this.firestore,this.ca)},e.prototype.endBefore=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Si("Query.endBefore",arguments,1);var i=this.vd("Query.endBefore",t,n,!0);return new e(vn(this.bd,i),this.firestore,this.ca)},e.prototype.endAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Si("Query.endAt",arguments,1);var i=this.vd("Query.endAt",t,n,!1);return new e(vn(this.bd,i),this.firestore,this.ca)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Mi("isEqual","Query",1,t);return this.firestore===t.firestore&&gn(this.bd,t.bd)&&this.ca===t.ca},e.prototype.withConverter=function(t){return new e(this.bd,this.firestore,t)},e.prototype.vd=function(e,t,n,r){if(Fi(e,1,t),t instanceof Us)return Ci(e,i.__spreadArrays([t],n),1),function(e,t,n,r,i){if(!r)throw new O(A.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=hn(e);s<a.length;s++){var u=a[s];if(u.field.O())o.push(Ve(t,r.key));else{var c=r.field(u.field);if(Ie(c))throw new O(A.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.$();throw new O(A.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Tn(o,i)}(this.bd,this.firestore.aa,e,t.Vd,r);var o=[t].concat(n);return function(e,t,n,r,i,o){var s=e.tn;if(i.length>s.length)throw new O(A.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.O()){if("string"!=typeof c)throw new O(A.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!ln(e)&&-1!==c.indexOf("/"))throw new O(A.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(N.N(c));if(!M.W(l))throw new O(A.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new M(l);a.push(Ve(t,h))}else{var f=vo(n,r,c);a.push(f)}}return new Tn(a,o)}(this.bd,this.firestore.aa,this.firestore.ud,e,o,r)},e.prototype.onSnapshot=function(){for(var e,t,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];Ei("Query.onSnapshot",arguments,1,4);var s={},a=0;if("object"!=typeof i[a]||As(i[a])||(Li("Query.onSnapshot",s=i[a],["includeMetadataChanges"]),Ai("Query.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),a++),As(i[a])){var u=i[a];i[a]=null===(e=u.next)||void 0===e?void 0:e.bind(u),i[a+1]=null===(t=u.error)||void 0===t?void 0:t.bind(u),i[a+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}else Ii("Query.onSnapshot","function",a,i[a]),Ti("Query.onSnapshot","function",a+1,i[a+1]),Ti("Query.onSnapshot","function",a+2,i[a+2]);var c={next:function(e){i[a]&&i[a](new Ys(r.firestore,r.bd,e,r.ca))},error:i[a+1],complete:i[a+2]};return $s(this.bd),Ks(this.firestore.ed(),this.bd,s,c)},e.prototype.get=function(e){var t=this;Ei("Query.get",arguments,0,1),ea("Query.get",e),$s(this.bd);var n=this.firestore.ed();return(e&&"cache"===e.source?n.Bf(this.bd):function(e,t,n){var r=new Gn,i=Ks(e,t,{includeMetadataChanges:!0,S_:!0},{next:function(e){i(),e.fromCache&&n&&"server"===n.source?r.reject(new O(A.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(e)},error:function(e){return r.reject(e)}});return r.promise}(n,this.bd,e)).then((function(e){return new Ys(t.firestore,t.bd,e,t.ca)}))},e}();function Ks(e,t,n,r){var i=function(e){console.error("Uncaught Error in onSnapshot:",e)};r.error&&(i=r.error.bind(r));var o=new xs({next:function(e){r.next&&r.next(e)},error:i}),s=e.listen(t,o,n);return function(){o.Wf(),e.ic(s)}}var Ys=function(){function e(e,t,n,r){this.Id=e,this.Sd=t,this.Dd=n,this.ca=r,this.Cd=null,this.Fd=null,this.metadata=new js(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.Dd.docs._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.Dd.docs.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;Ei("QuerySnapshot.forEach",arguments,1,2),Ii("QuerySnapshot.forEach","function",1,e),this.Dd.docs.forEach((function(r){e.call(t,n.$d(r,n.metadata.fromCache,n.Dd.Lt.has(r.key)))}))},Object.defineProperty(e.prototype,"query",{get:function(){return new Qs(this.Sd,this.Id,this.ca)},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){e&&(Li("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),Ai("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var t=!(!e||!e.includeMetadataChanges);if(t&&this.Dd.Bt)throw new O(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Cd&&this.Fd===t||(this.Cd=function(e,t,n){if(e.Ot._()){var r=0;return e.docChanges.map((function(t){return{type:"added",doc:n(t.doc,e.fromCache,e.Lt.has(t.doc.key)),oldIndex:-1,newIndex:r++}}))}var i=e.Ot;return e.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var r=n(t.doc,e.fromCache,e.Lt.has(t.doc.key)),o=-1,s=-1;return 0!==t.type&&(o=i.indexOf(t.doc.key),i=i.delete(t.doc.key)),1!==t.type&&(s=(i=i.add(t.doc)).indexOf(t.doc.key)),{type:na(t.type),doc:r,oldIndex:o,newIndex:s}}))}(this.Dd,t,this.$d.bind(this)),this.Fd=t),this.Cd},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Mi("isEqual","QuerySnapshot",1,t);return this.Id===t.Id&&gn(this.Sd,t.Sd)&&this.Dd.isEqual(t.Dd)&&this.ca===t.ca},e.prototype.$d=function(e,t,n){return new Bs(this.Id,e.key,e,t,n,this.ca)},e}(),Zs=function(e){function t(t,n,r){var i=this;if((i=e.call(this,cn(t),n,r)||this).Nd=t,t.length%2!=1)throw new O(A.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.$()+" has "+t.length);return i}return i.__extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.bd.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this.bd.path.p();return e._()?null:new Ms(new M(e),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.bd.path.$()},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){Ei("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=_.t()),Ii("CollectionReference.doc","non-empty string",1,e);var t=N.N(e);return Ms.Td(this.bd.path.child(t),this.firestore,this.ca)},t.prototype.add=function(e){Ci("CollectionReference.add",arguments,1),Ii("CollectionReference.add","object",1,this.ca?this.ca.toFirestore(e):e);var t=this.doc();return t.set(e).then((function(){return t}))},t.prototype.withConverter=function(e){return new t(this.Nd,this.firestore,e)},t}(Qs);function Xs(e,t){if(void 0===t)return{merge:!1};if(Li(e,t,["merge","mergeFields"]),Ai(e,"boolean","merge",t.merge),function(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){if(!(r instanceof Array))throw new O(A.INVALID_ARGUMENT,"Function "+e+"() requires its "+t+" option to be an array, but it was: "+Ni(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new O(A.INVALID_ARGUMENT,"Function "+e+"() requires all "+t+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+Ni(r[o]))}(e,"mergeFields",0,r,(function(e){return"string"==typeof e||e instanceof qi}))}(e,0,0,t.mergeFields),void 0!==t.mergeFields&&void 0!==t.merge)throw new O(A.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Js(e,t){return void 0===t?{}:(Li(e,t,["serverTimestamps"]),Oi(e,0,"serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function ea(e,t){Ti(e,"object",1,t),t&&(Li(e,t,["source"]),Oi(e,0,"source",t.source,["default","server","cache"]))}function ta(e,t,n){if(t instanceof oo){if(t.firestore!==n)throw new O(A.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}throw Mi(e,"DocumentReference",1,t)}function na(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return v()}}function ra(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var ia={Firestore:Ps,GeoPoint:no,Timestamp:D,Blob:Gi,Transaction:Fs,WriteBatch:Ls,DocumentReference:Ms,DocumentSnapshot:Us,Query:Qs,QueryDocumentSnapshot:Bs,QuerySnapshot:Ys,CollectionReference:Zs,FieldPath:qi,FieldValue:eo,setLogLevel:Ps.setLogLevel,CACHE_SIZE_UNLIMITED:Ds};function oa(e){!function(e,t){e.INTERNAL.registerComponent(new c.Component("firestore",(function(e){return function(e,t){return new Ps(e,t,new Is)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},ia)))}(e),e.registerVersion("@firebase/firestore","1.16.2")}oa(o),t.__PRIVATE_registerFirestore=oa},"S+S0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("zVF4"),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e="[DEFAULT]");var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService(t);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=r.__assign({identifier:"[DEFAULT]",optional:!1},e),n=t.optional,i=this.normalizeInstanceIdentifier(t.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=r.__read(o.value,2),a=s[1],u=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(l){}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.getOrInitializeService=function(e){var t=this.instances.get(e);return!t&&this.component&&(t=this.component.instanceFactory(this.container,function(e){return"[DEFAULT]"===e?void 0:e}(e)),this.instances.set(e,t)),t||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e}(),a=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();t.Component=o,t.ComponentContainer=a,t.Provider=s},Wcq6:function(e,t,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;i.registerVersion("firebase","7.17.1","app"),e.exports=i},mrSG:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return s})),n.d(t,"__decorate",(function(){return a})),n.d(t,"__param",(function(){return u})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return h})),n.d(t,"__createBinding",(function(){return f})),n.d(t,"__exportStar",(function(){return d})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return v})),n.d(t,"__spread",(function(){return g})),n.d(t,"__spreadArrays",(function(){return y})),n.d(t,"__await",(function(){return m})),n.d(t,"__asyncGenerator",(function(){return _})),n.d(t,"__asyncDelegator",(function(){return b})),n.d(t,"__asyncValues",(function(){return k})),n.d(t,"__makeTemplateObject",(function(){return w})),n.d(t,"__importStar",(function(){return C})),n.d(t,"__importDefault",(function(){return S})),n.d(t,"__classPrivateFieldGet",(function(){return E})),n.d(t,"__classPrivateFieldSet",(function(){return I}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function d(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function _(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function k(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},"q/0M":function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.r(t),n.d(t,"LogLevel",(function(){return s})),n.d(t,"Logger",(function(){return h})),n.d(t,"setLogLevel",(function(){return f})),n.d(t,"setUserLogHandler",(function(){return d}));var o=[],s=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),s=c[t];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[s].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in s))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?a[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],e)),this._logHandler.apply(this,r([this,s.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],e)),this._logHandler.apply(this,r([this,s.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],e)),this._logHandler.apply(this,r([this,s.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],e)),this._logHandler.apply(this,r([this,s.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],e)),this._logHandler.apply(this,r([this,s.ERROR],e))},e}();function f(e){o.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=a[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:s[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},wj3C:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=n("mrSG"),s=n("zVF4"),a=n("S+S0"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.ErrorFactory("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.Logger("@firebase/app"),d=function(){function e(e,t,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(e),this.container=new a.ComponentContainer(t.name),this._addComponent(new a.Component("app",(function(){return u}),"PUBLIC"));try{for(var c=o.__values(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){f.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(s.contains(t,a))throw l.create("duplicate-app",{appName:a});var u=new e(n,o,r);return t[a]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=h[e])&&void 0!==r?r:e;n&&(i+="-"+n);var o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}c(new a.Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw l.create("invalid-log-argument",{appName:name});u.setUserLogHandler(e,t)},apps:null,SDK_VERSION:"7.17.1",INTERNAL:{registerComponent:c,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(!s.contains(t,e=e||"[DEFAULT]"))throw l.create("no-app",{appName:e});return t[e]}function c(a){var u,c,h=a.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[h])throw l.create("invalid-app-argument",{appName:h});return e[h]()};void 0!==a.serviceProps&&s.deepExtend(d,a.serviceProps),r[h]=d,e.prototype[h]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?e:[])}}try{for(var p=o.__values(Object.keys(t)),v=p.next();!v.done;v=p.next())t[v.value]._addComponent(a)}catch(g){u={error:g}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(d);return t.INTERNAL=o.__assign(o.__assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){s.deepExtend(t,e)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),t}(),v=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(s.isBrowser()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.isNode()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),y.apply(void 0,e)};var m=p;!function(e,t){e.INTERNAL.registerComponent(new a.Component("platform-logger",(function(e){return new v(e)}),"PRIVATE")),e.registerVersion("@firebase/app","0.6.9",void 0),e.registerVersion("fire-js","")}(m),t.default=m,t.firebase=m},x7I3:function(e,t,n){"use strict";function r(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}n.r(t),n.d(t,"ErrorCode",(function(){return Qn})),n.d(t,"EventType",(function(){return Kn})),n.d(t,"WebChannel",(function(){return Yn})),n.d(t,"XhrIo",(function(){return Zn})),n.d(t,"createWebChannelTransport",(function(){return $n}));var i,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=s||{},a=o||self;function u(){}function c(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function l(e){var t=c(e);return"array"==t||"object"==t&&"number"==typeof e.length}function h(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var f="closure_uid_"+(1e9*Math.random()>>>0),d=0;function p(e,t,n){return e.call.apply(e.bind,arguments)}function v(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function g(e,t,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:v).apply(null,arguments)}function y(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var m=Date.now||function(){return+new Date};function _(e,t){function n(){}n.prototype=t.prototype,e.M=t.prototype,e.prototype=new n,e.prototype.constructor=e}function b(){this.j=this.j,this.i=this.i}b.prototype.j=!1,b.prototype.da=function(){!this.j&&(this.j=!0,this.C(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,f)&&e[f]||(e[f]=++d)}(this)},b.prototype.C=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var k=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},w=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function C(e){return Array.prototype.concat.apply([],arguments)}function S(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function E(e){return/^[\s\xa0]*$/.test(e)}var I,T=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function x(e,t){return-1!=e.indexOf(t)}function A(e,t){return e<t?-1:e>t?1:0}e:{var O=a.navigator;if(O){var D=O.userAgent;if(D){I=D;break e}}I=""}function R(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function P(e){var t={};for(var n in e)t[n]=e[n];return t}var N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<N.length;o++)n=N[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function L(e){return L[" "](e),e}L[" "]=u;var M,V,j=x(I,"Opera"),U=x(I,"Trident")||x(I,"MSIE"),B=x(I,"Edge"),z=B||U,G=x(I,"Gecko")&&!(x(I.toLowerCase(),"webkit")&&!x(I,"Edge"))&&!(x(I,"Trident")||x(I,"MSIE"))&&!x(I,"Edge"),H=x(I.toLowerCase(),"webkit")&&!x(I,"Edge");function q(){var e=a.document;return e?e.documentMode:void 0}e:{var W="",$=(V=I,G?/rv:([^\);]+)(\)|;)/.exec(V):B?/Edge\/([\d\.]+)/.exec(V):U?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(V):H?/WebKit\/(\S+)/.exec(V):j?/(?:Version)[ \/]?(\S+)/.exec(V):void 0);if($&&(W=$?$[1]:""),U){var Q=q();if(null!=Q&&Q>parseFloat(W)){M=String(Q);break e}}M=W}var K={};function Y(e){return function(e,t){var n=K;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=T(String(M)).split("."),r=T(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;t=A(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||A(0==s[2].length,0==a[2].length)||A(s[2],a[2]),s=s[3],a=a[3]}while(0==t)}return 0<=t}))}var Z=a.document&&U&&(q()||parseInt(M,10))||void 0,X=!U||9<=Number(Z),J=U&&!Y("9"),ee=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{a.addEventListener("test",u,t),a.removeEventListener("test",u,t)}catch(n){}return e}();function te(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function ne(e,t){if(te.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(G){e:{try{L(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:re[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}te.prototype.b=function(){this.defaultPrevented=!0},_(ne,te);var re={2:"touch",3:"pen",4:"mouse"};ne.prototype.b=function(){ne.M.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,J)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var ie="closure_listenable_"+(1e6*Math.random()|0),oe=0;function se(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.aa=i,this.key=++oe,this.V=this.X=!1}function ae(e){e.V=!0,e.listener=null,e.proxy=null,e.src=null,e.aa=null}function ue(e){this.src=e,this.a={},this.b=0}function ce(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=k(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ae(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function le(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.V&&o.listener==t&&o.capture==!!n&&o.aa==r)return i}return-1}ue.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var s=le(e,t,r,i);return-1<s?(t=e[s],n||(t.X=!1)):((t=new se(t,this.src,o,!!r,i)).X=n,e.push(t)),t};var he="closure_lm_"+(1e6*Math.random()|0),fe={};function de(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)e(t,n[s],r,i,o);return null}return r=ke(r),t&&t[ie]?t.sa(n,r,h(i)?!!i.capture:!!i,o):pe(t,n,r,!0,i,o)}(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)de(e,t[o],n,r,i);return null}return n=ke(n),e&&e[ie]?e.ra(t,n,h(r)?!!r.capture:!!r,i):pe(e,t,n,!1,r,i)}function pe(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=h(i)?!!i.capture:!!i;if(s&&!X)return null;var a=_e(e);if(a||(e[he]=a=new ue(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){var e=me,t=X?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ee||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ge(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ve(e){if("number"!=typeof e&&e&&!e.V){var t=e.src;if(t&&t[ie])ce(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ge(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=_e(t))?(ce(n,e),0==n.b&&(n.src=null,t[he]=null)):ae(e)}}}function ge(e){return e in fe?fe[e]:fe[e]="on"+e}function ye(e,t){var n=e.listener,r=e.aa||e.src;return e.X&&ve(e),n.call(r,t)}function me(e,t){if(e.V)return!0;if(!X){if(!t)e:{t=["window","event"];for(var n=a,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return ye(e,t=new ne(t,this))}return ye(e,new ne(t,this))}function _e(e){return(e=e[he])instanceof ue?e:null}var be="__closure_events_fn_"+(1e9*Math.random()>>>0);function ke(e){return"function"==c(e)?e:(e[be]||(e[be]=function(t){return e.handleEvent(t)}),e[be])}function we(){b.call(this),this.c=new ue(this),this.J=this,this.A=null}function Ce(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.V&&s.capture==n){var a=s.listener,u=s.aa||s.src;s.X&&ce(e.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}_(we,b),we.prototype[ie]=!0,(i=we.prototype).addEventListener=function(e,t,n,r){de(this,e,t,n,r)},i.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)e(t,n[s],r,i,o);else i=h(i)?!!i.capture:!!i,r=ke(r),t&&t[ie]?(t=t.c,(n=String(n).toString())in t.a&&-1<(r=le(s=t.a[n],r,i,o))&&(ae(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete t.a[n],t.b--))):t&&(t=_e(t))&&(n=t.a[n.toString()],t=-1,n&&(t=le(n,r,i,o)),(r=-1<t?n[t]:null)&&ve(r))}(this,e,t,n,r)},i.dispatchEvent=function(e){var t,n=this.A;if(n)for(t=[];n;n=n.A)t.push(n);n=this.J;var r=e.type||e;if("string"==typeof e)e=new te(e,n);else if(e instanceof te)e.target=e.target||n;else{var i=e;F(e=new te(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.a=t[o];i=Ce(s,r,!0,e)&&i}if(i=Ce(s=e.a=n,r,!0,e)&&i,i=Ce(s,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Ce(s=e.a=t[o],r,!1,e)&&i;return i},i.C=function(){if(we.M.C.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)ae(n[r]);delete t.a[e],t.b--}}this.A=null},i.ra=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},i.sa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Se=a.JSON.stringify;function Ee(){this.b=this.a=null}var Ie,Te=new(function(){function e(e,t,n){this.f=n,this.c=e,this.g=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,this.a=(e=this.a).next,e.next=null):e=this.c(),e},e}())((function(){return new Ae}),(function(e){e.reset()}),100);function xe(){var e=Pe,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Ae(){this.next=this.b=this.a=null}function Oe(e){a.setTimeout((function(){throw e}),0)}function De(e,t){Ie||function(){var e=a.Promise.resolve(void 0);Ie=function(){e.then(Ne)}}(),Re||(Ie(),Re=!0),Pe.add(e,t)}Ee.prototype.add=function(e,t){var n=Te.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Ae.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Ae.prototype.reset=function(){this.next=this.b=this.a=null};var Re=!1,Pe=new Ee;function Ne(){for(var e;e=xe();){try{e.a.call(e.b)}catch(n){Oe(n)}var t=Te;t.g(e),t.b<t.f&&(t.b++,e.next=t.a,t.a=e)}Re=!1}function Fe(e,t){we.call(this),this.b=e||1,this.a=t||a,this.f=g(this.Ua,this),this.g=m()}function Le(e){e.Z=!1,e.L&&(e.a.clearTimeout(e.L),e.L=null)}function Me(e,t,n){if("function"==c(e))n&&(e=g(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=g(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function Ve(e,t,n){b.call(this),this.f=null!=n?g(e,n):e,this.c=t,this.b=g(this.Pa,this),this.a=[]}function je(e){e.T=Me(e.b,e.c),e.f.apply(null,e.a)}function Ue(e){b.call(this),this.b=e,this.a={}}_(Fe,we),(i=Fe.prototype).Z=!1,i.L=null,i.Ua=function(){if(this.Z){var e=m()-this.g;0<e&&e<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-e):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.Z&&(Le(this),this.start()))}},i.start=function(){this.Z=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=m())},i.C=function(){Fe.M.C.call(this),Le(this),delete this.a},_(Ve,b),(i=Ve.prototype).ba=!1,i.T=null,i.Ia=function(e){this.a=arguments,this.T?this.ba=!0:je(this)},i.C=function(){Ve.M.C.call(this),this.T&&(a.clearTimeout(this.T),this.T=null,this.ba=!1,this.a=[])},i.Pa=function(){this.T=null,this.ba&&(this.ba=!1,je(this))},_(Ue,b);var Be=[];function ze(e,t,n,r){Array.isArray(n)||(n&&(Be[0]=n.toString()),n=Be);for(var i=0;i<n.length;i++){var o=de(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function Ge(e){R(e.a,(function(e,t){this.a.hasOwnProperty(t)&&ve(e)}),e),e.a={}}function He(){}Ue.prototype.C=function(){Ue.M.C.call(this),Ge(this)},Ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qe=null;function We(){return qe=qe||new we}function $e(e){te.call(this,"serverreachability",e)}function Qe(e){var t=We();t.dispatchEvent(new $e(t,e))}function Ke(e){te.call(this,"statevent",e)}function Ye(e){var t=We();t.dispatchEvent(new Ke(t,e))}function Ze(e){te.call(this,"timingevent",e)}function Xe(e,t){if("function"!=c(e))throw Error("Fn must not be null and must be a function");return a.setTimeout((function(){e()}),t)}_($e,te),_(Ke,te),_(Ze,te);var Je={NO_ERROR:0,Va:1,bb:2,ab:3,Ya:4,$a:5,cb:6,za:7,TIMEOUT:8,gb:9},et={Xa:"complete",kb:"success",Aa:"error",za:"abort",ib:"ready",jb:"readystatechange",TIMEOUT:"timeout",eb:"incrementaldata",hb:"progress",Za:"downloadprogress",lb:"uploadprogress"};function tt(){}function nt(){}tt.prototype.a=null;var rt,it={OPEN:"a",Wa:"b",Aa:"c",fb:"d"};function ot(){te.call(this,"d")}function st(){te.call(this,"c")}function at(){}function ut(e,t,n){this.g=e,this.W=t,this.U=n||1,this.G=new Ue(this),this.N=ct,this.O=new Fe(e=z?125:void 0),this.m=null,this.b=!1,this.j=this.A=this.f=this.B=this.s=this.P=this.h=null,this.i=[],this.a=null,this.w=0,this.c=this.v=null,this.H=-1,this.l=!1,this.J=0,this.D=null,this.o=this.R=this.F=!1}_(ot,te),_(st,te),_(at,tt),rt=new at;var ct=45e3,lt={},ht={};function ft(e,t,n){e.B=1,e.f=Nt(xt(t)),e.j=n,e.F=!0,dt(e,null)}function dt(e,t){e.s=m(),gt(e),e.A=xt(e.f);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),$t(n.b,"t",r),e.w=0,e.a=jn(e.g,e.g.w?t:null),0<e.J&&(e.D=new Ve(g(e.ya,e,e.a),e.J)),ze(e.G,e.a,"readystatechange",e.Sa),t=e.m?P(e.m):{},e.j?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.$(e.A,e.v,e.j,t)):(e.v="GET",e.a.$(e.A,e.v,null,t)),Qe(1)}function pt(e,t,n){for(var r=!0;!e.l&&e.w<n.length;){var i=vt(e,n);if(i==ht){4==t&&(e.c=4,Ye(14),r=!1);break}if(i==lt){e.c=4,Ye(15),r=!1;break}kt(e,i)}4==t&&0==n.length&&(e.c=1,Ye(16),r=!1),e.b=e.b&&r,r||(bt(e),_t(e))}function vt(e,t){var n=e.w,r=t.indexOf("\n",n);return-1==r?ht:(n=Number(t.substring(n,r)),isNaN(n)?lt:(r+=1)+n>t.length?ht:(t=t.substr(r,n),e.w=r+n,t))}function gt(e){e.P=m()+e.N,yt(e,e.N)}function yt(e,t){if(null!=e.h)throw Error("WatchDog timer not null");e.h=Xe(g(e.Qa,e),t)}function mt(e){e.h&&(a.clearTimeout(e.h),e.h=null)}function _t(e){0==e.g.u||e.l||Nn(e.g,e)}function bt(e){mt(e);var t=e.D;t&&"function"==typeof t.da&&t.da(),e.D=null,Le(e.O),Ge(e.G),e.a&&(t=e.a,e.a=null,t.abort(),t.da())}function kt(e,t){try{var n=e.g;if(0!=n.u&&(n.a==e||en(n.b,e)))if(n.A=e.H,!e.o&&en(n.b,e)&&3==n.u){try{var r=n.ja.a.parse(t)}catch(v){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.i){if(n.a){if(!(n.a.s+3e3<e.s))break e;Pn(n),n.a.cancel(),n.a=null}Rn(n),Ye(18)}}else n.ia=i[1],0<n.ia-n.G&&37500>i[2]&&n.U&&0==n.m&&!n.l&&(n.l=Xe(g(n.Na,n),6e3));if(1>=Jt(n.b)&&n.O){try{n.O()}catch(v){}n.O=void 0}}else Ln(n,11)}else if((e.o||n.a==e)&&Pn(n),!E(t))for(t=r=n.ja.a.parse(t),r=0;r<t.length;r++)if(n.G=(i=t[r])[0],i=i[1],2==n.u)if("c"==i[0]){n.B=i[1],n.R=i[2];var o=i[3];null!=o&&(n.oa=o);var s=i[5];null!=s&&"number"==typeof s&&0<s&&(n.D=1.5*s);var a=n,u=e.a;if(u){var c=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var l=a.b;!l.a&&(x(c,"spdy")||x(c,"quic")||x(c,"h2"))&&(l.f=l.g,l.a=new Set,l.b&&(tn(l,l.b),l.b=null))}if(a.s){var h=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(a.ha=h,Pt(a.v,a.s,h))}}n.u=3,n.c&&n.c.na();var f=e;if((a=n).ea=Vn(a,a.w?a.R:null,a.P),f.o){nn(a.b,f);var d=f,p=a.D;p&&d.setTimeout(p),d.h&&(mt(d),gt(d)),a.a=f}else Dn(a);0<n.f.length&&Tn(n)}else"stop"!=i[0]&&"close"!=i[0]||Ln(n,7);else 3==n.u&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Ln(n,7):Sn(n):"noop"!=i[0]&&n.c&&n.c.ma(i),n.m=0);Qe(4)}catch(v){}}function wt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(l(e)||"string"==typeof e)w(e,t,void 0);else{if(e.K&&"function"==typeof e.K)var n=e.K();else if(e.I&&"function"==typeof e.I)n=void 0;else if(l(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.I&&"function"==typeof e.I)return e.I();if("string"==typeof e)return e.split("");if(l(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Ct(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ct)for(n=e.K(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function St(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Et(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Et(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Et(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(i=ut.prototype).setTimeout=function(e){this.N=e},i.Sa=function(e){e=e.target;var t=this.D;t&&3==bn(e)?t.Ia():this.ya(e)},i.ya=function(e){try{if(e==this.a)e:{var t=bn(this.a),n=this.a.qa(),r=this.a.S();if(!(3>t||3==t&&!z&&!this.a.Y())){this.l||4!=t||7==n||Qe(8==n||0>=r?3:2),mt(this);var i=this.a.S();this.H=i;var o=this.a.Y();if(this.b=200==i){if(this.R&&!this.o){t:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(s)){var u=s;break t}}u=null}if(!u){this.b=!1,this.c=3,Ye(12),bt(this),_t(this);break e}this.o=!0,kt(this,u)}this.F?(pt(this,t,o),z&&this.b&&3==t&&(ze(this.G,this.O,"tick",this.Ra),this.O.start())):kt(this,o),4==t&&bt(this),this.b&&!this.l&&(4==t?Nn(this.g,this):(this.b=!1,gt(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,Ye(12)):(this.c=0,Ye(13)),bt(this),_t(this)}}}catch(c){}},i.Ra=function(){if(this.a){var e=bn(this.a),t=this.a.Y();this.w<t.length&&(mt(this),pt(this,e,t),this.b&&4!=e&&gt(this))}},i.cancel=function(){this.l=!0,bt(this)},i.Qa=function(){this.h=null;var e=m();0<=e-this.P?(2!=this.B&&(Qe(3),Ye(17)),bt(this),this.c=2,_t(this)):yt(this,this.P-e)},(i=Ct.prototype).I=function(){St(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},i.K=function(){return St(this),this.a.concat()},i.get=function(e,t){return Et(this.b,e)?this.b[e]:t},i.set=function(e,t){Et(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},i.forEach=function(e,t){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var It=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Tt(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Tt){this.a=void 0!==t?t:e.a,At(this,e.f),this.j=e.j,Ot(this,e.c),Dt(this,e.h),this.g=e.g,t=e.b;var n=new Gt;n.c=t.c,t.a&&(n.a=new Ct(t.a),n.b=t.b),Rt(this,n),this.i=e.i}else e&&(n=String(e).match(It))?(this.a=!!t,At(this,n[1]||"",!0),this.j=Ft(n[2]||""),Ot(this,n[3]||"",!0),Dt(this,n[4]),this.g=Ft(n[5]||"",!0),Rt(this,n[6]||"",!0),this.i=Ft(n[7]||"")):(this.a=!!t,this.b=new Gt(null,this.a))}function xt(e){return new Tt(e)}function At(e,t,n){e.f=n?Ft(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Ot(e,t,n){e.c=n?Ft(t,!0):t}function Dt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function Rt(e,t,n){t instanceof Gt?(e.b=t,function(e,t){t&&!e.f&&(Ht(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(qt(this,t),$t(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=Lt(t,Bt)),e.b=new Gt(t,e.a))}function Pt(e,t,n){e.b.set(t,n)}function Nt(e){return Pt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^m()).toString(36)),e}function Ft(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Lt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Mt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Mt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Tt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Lt(t,Vt,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(Lt(t,Vt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(Lt(n,"/"==n.charAt(0)?Ut:jt,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Lt(n,zt)),e.join("")};var Vt=/[#\/\?@]/g,jt=/[#\?:]/g,Ut=/[#\?]/g,Bt=/[#\?@]/g,zt=/#/g;function Gt(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Ht(e){e.a||(e.a=new Ct,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function qt(e,t){Ht(e),t=Qt(e,t),Et(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Et((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&St(e)))}function Wt(e,t){return Ht(e),t=Qt(e,t),Et(e.a.b,t)}function $t(e,t,n){qt(e,t),0<n.length&&(e.c=null,e.a.set(Qt(e,t),S(n)),e.b+=n.length)}function Qt(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function Kt(e,t){this.b=e,this.a=t}function Yt(e){this.g=e||Zt,e=a.PerformanceNavigationTiming?0<(e=a.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(a.ca&&a.ca.ua&&a.ca.ua()&&a.ca.ua().mb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(i=Gt.prototype).add=function(e,t){Ht(this),this.c=null,e=Qt(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},i.forEach=function(e,t){Ht(this),this.a.forEach((function(n,r){w(n,(function(n){e.call(t,n,r,this)}),this)}),this)},i.K=function(){Ht(this);for(var e=this.a.I(),t=this.a.K(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},i.I=function(e){Ht(this);var t=[];if("string"==typeof e)Wt(this,e)&&(t=C(t,this.a.get(Qt(this,e))));else{e=this.a.I();for(var n=0;n<e.length;n++)t=C(t,e[n])}return t},i.set=function(e,t){return Ht(this),this.c=null,Wt(this,e=Qt(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},i.get=function(e,t){return e&&0<(e=this.I(e)).length?String(e[0]):t},i.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.K(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.I(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.c=e.join("&")};var Zt=10;function Xt(e){return!!e.b||!!e.a&&e.a.size>=e.f}function Jt(e){return e.b?1:e.a?e.a.size:0}function en(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function tn(e,t){e.a?e.a.add(t):e.b=t}function nn(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function rn(e){var t,n;if(null!=e.b)return e.c.concat(e.b.i);if(null!=e.a&&0!==e.a.size){var i=e.c;try{for(var o=r(e.a.values()),s=o.next();!s.done;s=o.next())i=i.concat(s.value.i)}catch(a){t={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}return S(e.c)}function on(){}function sn(){this.a=new on}function an(e,t,n){var r=n||"";try{wt(e,(function(e,n){var i=e;h(e)&&(i=Se(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function un(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}Yt.prototype.cancel=function(){var e,t;if(this.c=rn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=r(this.a.values()),i=n.next();!i.done;i=n.next())i.value.cancel()}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},on.prototype.stringify=function(e){return a.JSON.stringify(e,void 0)},on.prototype.parse=function(e){return a.JSON.parse(e,void 0)};var cn=a.JSON.parse;function ln(e){we.call(this),this.headers=new Ct,this.G=e||null,this.b=!1,this.s=this.a=null,this.D="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.H=hn,this.B=this.F=!1}_(ln,we);var hn="",fn=/^https?$/i,dn=["POST","PUT"];function pn(e){return"content-type"==e.toLowerCase()}function vn(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,gn(e),mn(e)}function gn(e){e.v||(e.v=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function yn(e){if(e.b&&void 0!==s&&(!e.s[1]||4!=bn(e)||2!=e.S()))if(e.l&&4==bn(e))Me(e.va,0,e);else if(e.dispatchEvent("readystatechange"),4==bn(e)){e.b=!1;try{var t,n=e.S();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.D).match(It)[1]||null;if(!o&&a.self&&a.self.location){var u=a.self.location.protocol;o=u.substr(0,u.length-1)}i=!fn.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{e.h=6;try{var c=2<bn(e)?e.a.statusText:""}catch(l){c=""}e.f=c+" ["+e.S()+"]",gn(e)}}finally{mn(e)}}}function mn(e,t){if(e.a){_n(e);var n=e.a,r=e.s[0]?u:null;e.a=null,e.s=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function _n(e){e.a&&e.B&&(e.a.ontimeout=null),e.m&&(a.clearTimeout(e.m),e.m=null)}function bn(e){return e.a?e.a.readyState:0}function kn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return R(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Pt(e,t,n))}function wn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Cn(e){this.f=[],this.R=this.ea=this.v=this.P=this.a=this.ha=this.s=this.N=this.h=this.F=this.j=null,this.Fa=this.H=0,this.Ca=wn("failFast",!1,e),this.U=this.l=this.i=this.g=this.c=null,this.W=!0,this.A=this.ia=this.G=-1,this.J=this.m=this.o=0,this.Ba=wn("baseRetryDelayMs",5e3,e),this.Ga=wn("retryDelaySeedMs",1e4,e),this.Da=wn("forwardChannelMaxRetries",2,e),this.ga=wn("forwardChannelRequestTimeoutMs",2e4,e),this.Ea=e&&e.nb||void 0,this.D=void 0,this.w=e&&e.supportsCrossDomainXhr||!1,this.B="",this.b=new Yt(e&&e.concurrentRequestLimit),this.ja=new sn,this.fa=e&&e.fastHandshake||!1,e&&e.forceLongPolling&&(this.W=!1),this.O=void 0}function Sn(e){if(En(e),3==e.u){var t=e.H++,n=xt(e.v);Pt(n,"SID",e.B),Pt(n,"RID",t),Pt(n,"TYPE","terminate"),An(e,n),(t=new ut(e,t,void 0)).B=2,t.f=Nt(xt(n)),n=!1,a.navigator&&a.navigator.sendBeacon&&(n=a.navigator.sendBeacon(t.f.toString(),"")),!n&&a.Image&&((new Image).src=t.f,n=!0),n||(t.a=jn(t.g,null),t.a.$(t.f)),t.s=m(),gt(t)}Mn(e)}function En(e){e.a&&(e.a.cancel(),e.a=null),e.i&&(a.clearTimeout(e.i),e.i=null),Pn(e),e.b.cancel(),e.g&&("number"==typeof e.g&&a.clearTimeout(e.g),e.g=null)}function In(e,t){e.f.push(new Kt(e.Fa++,t)),3==e.u&&Tn(e)}function Tn(e){Xt(e.b)||e.g||(e.g=!0,De(e.xa,e),e.o=0)}function xn(e,t){var n;n=t?t.W:e.H++;var r=xt(e.v);Pt(r,"SID",e.B),Pt(r,"RID",n),Pt(r,"AID",e.G),An(e,r),e.h&&e.j&&kn(r,e.h,e.j),n=new ut(e,n,e.o+1),null===e.h&&(n.m=e.j),t&&(e.f=t.i.concat(e.f)),t=On(e,n,1e3),n.setTimeout(Math.round(.5*e.ga)+Math.round(.5*e.ga*Math.random())),tn(e.b,n),ft(n,r,t)}function An(e,t){e.c&&wt({},(function(e,n){Pt(t,n,e)}))}function On(e,t,n){n=Math.min(e.f.length,n);var r=e.c?g(e.c.Ha,e.c,e):null;e:for(var i=e.f,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{an(l,s,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=s.join("&");break e}}return e=e.f.splice(0,n),t.i=e,r}function Dn(e){e.a||e.i||(e.J=1,De(e.wa,e),e.m=0)}function Rn(e){return!(e.a||e.i||3<=e.m||(e.J++,e.i=Xe(g(e.wa,e),Fn(e,e.m)),e.m++,0))}function Pn(e){null!=e.l&&(a.clearTimeout(e.l),e.l=null)}function Nn(e,t){var n=null;if(e.a==t){Pn(e),e.a=null;var r=2}else{if(!en(e.b,t))return;n=t.i,nn(e.b,t),r=1}if(e.A=t.H,0!=e.u)if(t.b)if(1==r){n=t.j?t.j.length:0,t=m()-t.s;var i=e.o;(r=We()).dispatchEvent(new Ze(r,n,t,i)),Tn(e)}else Dn(e);else if(3==(i=t.c)||0==i&&0<e.A||!(1==r&&function(e,t){return!(Jt(e.b)>=e.b.f-(e.g?1:0)||(e.g?(e.f=t.i.concat(e.f),0):1==e.u||2==e.u||e.o>=(e.Ca?0:e.Da)||(e.g=Xe(g(e.xa,e,t),Fn(e,e.o)),e.o++,0)))}(e,t)||2==r&&Rn(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:Ln(e,5);break;case 4:Ln(e,10);break;case 3:Ln(e,6);break;default:Ln(e,2)}}function Fn(e,t){var n=e.Ba+Math.floor(Math.random()*e.Ga);return e.c||(n*=2),n*t}function Ln(e,t){if(2==t){var n=null;e.c&&(n=null);var r=g(e.Ta,e);n||(n=new Tt("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||At(n,"https"),Nt(n)),function(e,t){var n=new He;if(a.Image){var r=new Image;r.onload=y(un,n,r,"TestLoadImage: loaded",!0,t),r.onerror=y(un,n,r,"TestLoadImage: error",!1,t),r.onabort=y(un,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=y(un,n,r,"TestLoadImage: timeout",!1,t),a.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ye(2);e.u=0,e.c&&e.c.la(t),Mn(e),En(e)}function Mn(e){e.u=0,e.A=-1,e.c&&(0==rn(e.b).length&&0==e.f.length||(e.b.c.length=0,S(e.f),e.f.length=0),e.c.ka())}function Vn(e,t,n){var r=function(e){return e instanceof Tt?xt(e):new Tt(e,void 0)}(n);if(""!=r.c)t&&Ot(r,t+"."+r.c),Dt(r,r.h);else{var i=a.location;r=function(e,t,n,r){var i=new Tt(null,void 0);return e&&At(i,e),t&&Ot(i,t),n&&Dt(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.N&&R(e.N,(function(e,t){Pt(r,t,e)})),n=e.ha,(t=e.s)&&n&&Pt(r,t,n),Pt(r,"VER",e.oa),An(e,r),r}function jn(e,t){if(t&&!e.w)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ln(e.Ea)).F=e.w,t}function Un(){}function Bn(){if(U&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function zn(e,t){we.call(this),this.a=new Cn(t),this.l=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.j=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.pa&&(e?e["X-WebChannel-Client-Profile"]=t.pa:e={"X-WebChannel-Client-Profile":t.pa}),this.a.F=e,(e=t&&t.httpHeadersOverwriteParam)&&!E(e)&&(this.a.h=e),this.h=t&&t.supportsCrossDomainXhr||!1,this.g=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!E(t)&&(this.a.s=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new qn(this)}function Gn(e){ot.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function Hn(){st.call(this),this.status=1}function qn(e){this.a=e}(i=ln.prototype).$=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(e){var t;return(t=e.a)||(t=e.a={}),t}(this.G?this.G:rt),this.a.onreadystatechange=g(this.va,this);try{this.w=!0,this.a.open(t,String(e),!0),this.w=!1}catch(o){return void vn(this,o)}e=n||"";var i=new Ct(this.headers);r&&wt(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=pn,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.K()),n=a.FormData&&e instanceof a.FormData,!(0<=k(dn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.H&&(this.a.responseType=this.H),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{_n(this),0<this.o&&((this.B=function(e){return U&&Y(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=g(this.ta,this)):this.m=Me(this.ta,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(o){vn(this,o)}},i.ta=function(){void 0!==s&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},i.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),mn(this))},i.C=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),mn(this,!0)),ln.M.C.call(this)},i.va=function(){this.j||(this.w||this.l||this.g?yn(this):this.Oa())},i.Oa=function(){yn(this)},i.S=function(){try{return 2<bn(this)?this.a.status:-1}catch(V){return-1}},i.Y=function(){try{return this.a?this.a.responseText:""}catch(V){return""}},i.Ja=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),cn(t)}},i.qa=function(){return this.h},i.Ma=function(){return"string"==typeof this.f?this.f:String(this.f)},(i=Cn.prototype).oa=8,i.u=1,i.xa=function(e){if(this.g)if(this.g=null,1==this.u){if(!e){this.H=Math.floor(1e5*Math.random());var t,n=new ut(this,e=this.H++,void 0),r=this.j;if(this.F&&(r?F(r=P(r),this.F):r=this.F),null===this.h&&(n.m=r),this.fa)e:{for(var i=t=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.f.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=On(this,n,t),Pt(i=xt(this.v),"RID",e),Pt(i,"CVER",22),this.s&&Pt(i,"X-HTTP-Session-Id",this.s),An(this,i),this.h&&r&&kn(i,this.h,r),tn(this.b,n),this.fa?(Pt(i,"$req",t),Pt(i,"SID","null"),n.R=!0,ft(n,i,null)):ft(n,i,t),this.u=2}}else 3==this.u&&(e?xn(this,e):0==this.f.length||Xt(this.b)||xn(this))},i.wa=function(){this.i=null,this.a=new ut(this,"rpc",this.J),null===this.h&&(this.a.m=this.j),this.a.J=0;var e=xt(this.ea);Pt(e,"RID","rpc"),Pt(e,"SID",this.B),Pt(e,"CI",this.U?"0":"1"),Pt(e,"AID",this.G),An(this,e),Pt(e,"TYPE","xmlhttp"),this.h&&this.j&&kn(e,this.h,this.j),this.D&&this.a.setTimeout(this.D);var t=this.a,n=this.R;t.B=1,t.f=Nt(xt(e)),t.j=null,t.F=!0,dt(t,n)},i.Na=function(){null!=this.l&&(this.l=null,this.a.cancel(),this.a=null,Rn(this),Ye(19))},i.Ta=function(e){Ye(e?2:1)},(i=Un.prototype).na=function(){},i.ma=function(){},i.la=function(){},i.ka=function(){},i.Ha=function(){},Bn.prototype.a=function(e,t){return new zn(e,t)},_(zn,we),(i=zn.prototype).addEventListener=function(e,t,n,r){zn.M.addEventListener.call(this,e,t,n,r)},i.removeEventListener=function(e,t,n,r){zn.M.removeEventListener.call(this,e,t,n,r)},i.Ka=function(){this.a.c=this.f,this.h&&(this.a.w=!0);var e=this.a,t=this.l,n=this.b||void 0;Ye(0),e.P=t,e.N=n||{},e.U=e.W,e.v=Vn(e,null,e.P),Tn(e)},i.close=function(){Sn(this.a)},i.La=function(e){if("string"==typeof e){var t={};t.__data__=e,In(this.a,t)}else this.g?((t={}).__data__=Se(e),In(this.a,t)):In(this.a,e)},i.C=function(){this.a.c=null,delete this.f,Sn(this.a),delete this.a,zn.M.C.call(this)},_(Gn,ot),_(Hn,st),_(qn,Un),qn.prototype.na=function(){this.a.dispatchEvent("a")},qn.prototype.ma=function(e){this.a.dispatchEvent(new Gn(e))},qn.prototype.la=function(e){this.a.dispatchEvent(new Hn(e))},qn.prototype.ka=function(){this.a.dispatchEvent("b")},Bn.prototype.createWebChannel=Bn.prototype.a,zn.prototype.send=zn.prototype.La,zn.prototype.open=zn.prototype.Ka,zn.prototype.close=zn.prototype.close,Je.NO_ERROR=0,Je.TIMEOUT=8,Je.HTTP_ERROR=6,et.COMPLETE="complete",nt.EventType=it,it.OPEN="a",it.CLOSE="b",it.ERROR="c",it.MESSAGE="d",we.prototype.listen=we.prototype.ra,ln.prototype.listenOnce=ln.prototype.sa,ln.prototype.getLastError=ln.prototype.Ma,ln.prototype.getLastErrorCode=ln.prototype.qa,ln.prototype.getStatus=ln.prototype.S,ln.prototype.getResponseJson=ln.prototype.Ja,ln.prototype.getResponseText=ln.prototype.Y,ln.prototype.send=ln.prototype.$;var Wn={createWebChannelTransport:function(){return new Bn},ErrorCode:Je,EventType:et,WebChannel:nt,XhrIo:ln},$n=Wn.createWebChannelTransport,Qn=Wn.ErrorCode,Kn=Wn.EventType,Yn=Wn.WebChannel,Zn=Wn.XhrIo;t.default=Wn},zUnb:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.r(t);var i=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}};function s(e){setTimeout((function(){throw e}),0)}var a={closed:!0,next:function(e){},error:function(e){if(o.useDeprecatedSynchronousErrorHandling)throw e;s(e)},complete:function(){}},u=Array.isArray||function(e){return e&&"number"==typeof e.length};function c(e){return null!==e&&"object"==typeof e}var l,h=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),f=((l=function(){function e(t){_classCallCheck(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,i=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var s=0;s<n.length;++s)n[s].remove(this);if(r(i))try{i.call(this)}catch(p){t=p instanceof h?d(p.errors):[p]}if(u(o))for(var a=-1,l=o.length;++a<l;){var f=o[a];if(c(f))try{f.unsubscribe()}catch(p){t=t||[],p instanceof h?t=t.concat(d(p.errors)):t.push(p)}}if(t)throw new h(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}()).EMPTY=function(e){return e.closed=!0,e}(new l),l);function d(e){return e.reduce((function(e,t){return e.concat(t instanceof h?t.errors:t)}),[])}var p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),v=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;switch(_classCallCheck(this,n),(o=t.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=a;break;case 1:if(!e){o.destination=a;break}if("object"==typeof e){e instanceof n?(o.syncErrorThrowable=e.syncErrorThrowable,o.destination=e,e.add(_assertThisInitialized(o))):(o.syncErrorThrowable=!0,o.destination=new g(_assertThisInitialized(o),e));break}default:o.syncErrorThrowable=!0,o.destination=new g(_assertThisInitialized(o),e,r,i)}return o}return _createClass(n,[{key:p,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,r){var i=new n(e,t,r);return i.syncErrorThrowable=!1,i}}]),n}(f),g=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,s){var u,c;_classCallCheck(this,n),(u=t.call(this))._parentSubscriber=e;var l=_assertThisInitialized(u);return r(i)?c=i:i&&(c=i.next,o=i.error,s=i.complete,i!==a&&(r((l=Object.create(i)).unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=l,u._next=c,u._error=o,u._complete=s,u}return _createClass(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=o.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):s(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;s(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(s(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(v),y="function"==typeof Symbol&&Symbol.observable||"@@observable";function m(e){return e}function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return b(t)}function b(e){return 0===e.length?m:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var k,w=((k=function(){function e(t){_classCallCheck(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var r=this.operator,i=function(e,t,n){if(e){if(e instanceof v)return e;if(e[p])return e[p]()}return e||t||n?new v(e,t,n):new v(a)}(e,t,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){o.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,r=t.destination,i=t.isStopped;if(n||i)return!1;e=r&&r instanceof v?r:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=C(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:y,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:b(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=C(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))}}]),e}()).create=function(e){return new k(e)},k);function C(e){if(e||(e=o.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var S,E=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),I=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).subject=e,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(f),T=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).destination=e,r}return n}(v),x=((S=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _createClass(n,[{key:p,value:function(){return new T(this)}},{key:"lift",value:function(e){var t=new A(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new E;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new E;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new E;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new E;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new E;return this.hasError?(e.error(this.thrownError),f.EMPTY):this.isStopped?(e.complete(),f.EMPTY):(this.observers.push(e),new I(this,e))}},{key:"asObservable",value:function(){var e=new w;return e.source=this,e}}]),n}(w)).create=function(e,t){return new A(e,t)},S),A=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).destination=e,i.source=r,i}return _createClass(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):f.EMPTY}}]),n}(x);function O(e){return e&&"function"==typeof e.schedule}var D=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this)).parent=e,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(v),R=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}};var P="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",N=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function F(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var L=function(e){if(e&&"function"==typeof e[y])return r=e,function(e){var t=r[y]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(N(e))return R(e);if(F(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,s),e};if(e&&"function"==typeof e[P])return t=e,function(e){for(var n=t[P]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,r,i=c(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(i," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))};function M(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new D(e,n,r);if(!i.closed)return t instanceof w?t.subscribe(i):L(t)(i)}var V=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(v);function j(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new U(e,t))}}var U=function(){function e(t,n){_classCallCheck(this,e),this.project=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new B(e,this.project,this.thisArg))}}]),e}(),B=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(v);function z(e,t){return new w((function(n){var r=new f,i=0;return r.add(t.schedule((function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function G(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[y]}(e))return function(e,t){return new w((function(n){var r=new f;return r.add(t.schedule((function(){var i=e[y]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(F(e))return function(e,t){return new w((function(n){var r=new f;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if(N(e))return z(e,t);if(function(e){return e&&"function"==typeof e[P]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new w((function(n){var r,i=new f;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(t.schedule((function(){r=e[P](),i.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),i}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof w?e:new w(L(e))}function H(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(H((function(n,r){return G(e(n,r)).pipe(j((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new q(e,n))})}var q=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,e),this.project=t,this.concurrent=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new W(e,this.project,this.concurrent))}}]),e}(),W=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=new D(this,t,n),i=this.destination;i.add(r);var o=M(this,e,void 0,void 0,r);o!==r&&i.add(o)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(V);function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return H(m,e)}function Q(e,t){return t?z(e,t):new w(R(e))}function K(){return function(e){return e.lift(new Z(e))}}var Y,Z=function(){function e(t){_classCallCheck(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new X(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),X=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(v),J={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(Y=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new f).add(this.source.subscribe(new ee(this.getSubject(),this))),e.closed&&(this._connection=null,e=f.EMPTY)),e}},{key:"refCount",value:function(){return K()(this)}}]),n}(w).prototype)._subscribe},_isComplete:{value:Y._isComplete,writable:!0},getSubject:{value:Y.getSubject},connect:{value:Y.connect},refCount:{value:Y.refCount}},ee=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(T);function te(){return new x}function ne(e){return{toString:e}.toString()}function re(e,t,n){return ne((function(){var r=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var o=_construct(i,t);return s.annotation=o,s;function s(e,t,n){for(var r=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}))}var ie=re("Inject",(function(e){return{token:e}})),oe=re("Optional"),se=re("Self"),ae=re("SkipSelf"),ue=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function ce(e){for(var t in e)if(e[t]===ce)return t;throw Error("Could not find renamed property on target object.")}function le(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function he(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function fe(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function de(e){return pe(e,e[ge])||pe(e,e[_e])}function pe(e,t){return t&&t.token===e?t:null}function ve(e){return e&&(e.hasOwnProperty(ye)||e.hasOwnProperty(be))?e[ye]:null}var ge=ce({"\u0275prov":ce}),ye=ce({"\u0275inj":ce}),me=ce({"\u0275provFallback":ce}),_e=ce({ngInjectableDef:ce}),be=ce({ngInjectorDef:ce});function ke(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ke).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function we(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var Ce=ce({__forward_ref__:ce});function Se(e){return e.__forward_ref__=Se,e.toString=function(){return ke(this())},e}function Ee(e){return Ie(e)?e():e}function Ie(e){return"function"==typeof e&&e.hasOwnProperty(Ce)&&e.__forward_ref__===Se}var Te,xe="undefined"!=typeof globalThis&&globalThis,Ae="undefined"!=typeof window&&window,Oe="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,De="undefined"!=typeof global&&global,Re=xe||De||Ae||Oe,Pe=ce({"\u0275cmp":ce}),Ne=ce({"\u0275dir":ce}),Fe=ce({"\u0275pipe":ce}),Le=ce({"\u0275mod":ce}),Me=ce({"\u0275loc":ce}),Ve=ce({"\u0275fac":ce}),je=ce({__NG_ELEMENT_ID__:ce}),Ue=function(){function e(t,n){_classCallCheck(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=he({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),e}(),Be=new Ue("INJECTOR",-1),ze={},Ge=/\n/gm,He=ce({provide:String,useValue:ce}),qe=void 0;function We(e){var t=qe;return qe=e,t}function $e(e){var t=Te;return Te=e,t}function Qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue.Default;if(void 0===qe)throw new Error("inject() must be called from an injection context");return null===qe?Ye(e,void 0,t):qe.get(e,t&ue.Optional?null:void 0,t)}function Ke(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue.Default;return(Te||Qe)(Ee(e),t)}function Ye(e,t,n){var r=de(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&ue.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND [".concat(ke(e),"]"))}function Ze(e){for(var t=[],n=0;n<e.length;n++){var r=Ee(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=ue.Default,s=0;s<r.length;s++){var a=r[s];a instanceof oe||"Optional"===a.ngMetadataName||a===oe?o|=ue.Optional:a instanceof ae||"SkipSelf"===a.ngMetadataName||a===ae?o|=ue.SkipSelf:a instanceof se||"Self"===a.ngMetadataName||a===se?o|=ue.Self:i=a instanceof ie||a===ie?a.token:a}t.push(Ke(i,o))}else t.push(Ke(r))}return t}var Xe=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ze;if(t===ze){var n=new Error("NullInjectorError: No provider for ".concat(ke(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),Je=function e(){_classCallCheck(this,e)},et=function e(){_classCallCheck(this,e)};function tt(e,t){e.forEach((function(e){return Array.isArray(e)?tt(e,t):t(e)}))}function nt(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function rt(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function it(e,t){for(var n=[],r=0;r<e;r++)n.push(t);return n}function ot(e,t,n){var r=at(e,t);return r>=0?e[1|r]=n:function(e,t,n,r){var i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r=~r,t,n),r}function st(e,t){var n=at(e,t);if(n>=0)return e[1|n]}function at(e,t){return function(e,t,n){for(var r=0,i=e.length>>1;i!==r;){var o=r+(i-r>>1),s=e[o<<1];if(t===s)return o<<1;s>t?i=o:r=o+1}return~(i<<1)}(e,t)}var ut=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),ct=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),lt={},ht=[],ft=0;function dt(e){return ne((function(){var t=e.type,n=t.prototype,r={},i={type:t,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===ut.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||ht,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||ct.Emulated,id:"c",styles:e.styles||ht,_:null,setInput:null,schemas:e.schemas||null,tView:null},o=e.directives,s=e.features,a=e.pipes;return i.id+=ft++,i.inputs=mt(e.inputs,r),i.outputs=mt(e.outputs),s&&s.forEach((function(e){return e(i)})),i.directiveDefs=o?function(){return("function"==typeof o?o():o).map(pt)}:null,i.pipeDefs=a?function(){return("function"==typeof a?a():a).map(vt)}:null,i}))}function pt(e){return kt(e)||function(e){return e[Ne]||null}(e)}function vt(e){return function(e){return e[Fe]||null}(e)}var gt={};function yt(e){var t={type:e.type,bootstrap:e.bootstrap||ht,declarations:e.declarations||ht,imports:e.imports||ht,exports:e.exports||ht,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&ne((function(){gt[e.id]=e.type})),t}function mt(e,t){if(null==e)return lt;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}var _t=dt;function bt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function kt(e){return e[Pe]||null}function wt(e,t){return e.hasOwnProperty(Ve)?e[Ve]:null}function Ct(e,t){var n=e[Le]||null;if(!n&&!0===t)throw new Error("Type ".concat(ke(e)," does not have '\u0275mod' property."));return n}function St(e){return Array.isArray(e)&&"object"==typeof e[1]}function Et(e){return Array.isArray(e)&&!0===e[1]}function It(e){return 0!=(8&e.flags)}function Tt(e){return 2==(2&e.flags)}function xt(e){return 1==(1&e.flags)}function At(e){return null!==e.template}function Ot(e){return 0!=(512&e[2])}var Dt=void 0;function Rt(e){return!!e.listen}var Pt={createRenderer:function(e,t){return void 0!==Dt?Dt:"undefined"!=typeof document?document:void 0}};function Nt(e){for(;Array.isArray(e);)e=e[0];return e}function Ft(e,t){return Nt(t[e+20])}function Lt(e,t){return Nt(t[e.index])}function Mt(e,t){return e.data[t+20]}function Vt(e,t){return e[t+20]}function jt(e,t){var n=t[e];return St(n)?n:n[0]}function Ut(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Bt(e){return 4==(4&e[2])}function zt(e){return 128==(128&e[2])}function Gt(e,t){return null===e||null==t?null:e[t]}function Ht(e){e[18]=0}function qt(e,t){e[5]+=t;for(var n=e,r=e[3];null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}var Wt={lFrame:gn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function $t(){return Wt.bindingsEnabled}function Qt(){return Wt.lFrame.lView}function Kt(){return Wt.lFrame.tView}function Yt(e){Wt.lFrame.contextLView=e}function Zt(){return Wt.lFrame.previousOrParentTNode}function Xt(e,t){Wt.lFrame.previousOrParentTNode=e,Wt.lFrame.isParent=t}function Jt(){return Wt.lFrame.isParent}function en(){Wt.lFrame.isParent=!1}function tn(){return Wt.checkNoChangesMode}function nn(e){Wt.checkNoChangesMode=e}function rn(){var e=Wt.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function on(){return Wt.lFrame.bindingIndex}function sn(){return Wt.lFrame.bindingIndex++}function an(e){var t=Wt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function un(e,t){var n=Wt.lFrame;n.bindingIndex=n.bindingRootIndex=e,cn(t)}function cn(e){Wt.lFrame.currentDirectiveIndex=e}function ln(e){var t=Wt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function hn(){return Wt.lFrame.currentQueryIndex}function fn(e){Wt.lFrame.currentQueryIndex=e}function dn(e,t){var n=vn();Wt.lFrame=n,n.previousOrParentTNode=t,n.lView=e}function pn(e,t){var n=vn(),r=e[1];Wt.lFrame=n,n.previousOrParentTNode=t,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex}function vn(){var e=Wt.lFrame,t=null===e?null:e.child;return null===t?gn(e):t}function gn(e){var t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function yn(){var e=Wt.lFrame;return Wt.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}var mn=yn;function _n(){var e=yn();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.currentSanitizer=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function bn(){return Wt.lFrame.selectedIndex}function kn(e){Wt.lFrame.selectedIndex=e}function wn(){var e=Wt.lFrame;return Mt(e.tView,e.selectedIndex)}function Cn(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var i=e.data[n];i.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,i.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,i.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,i.onDestroy)}}function Sn(e,t,n){Tn(e,t,3,n)}function En(e,t,n,r){(3&e[2])===n&&Tn(e,t,n,r)}function In(e,t){var n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Tn(e,t,n,r){for(var i=null!=r?r:-1,o=0,s=void 0!==r?65535&e[18]:0;s<t.length;s++)if("number"==typeof t[s+1]){if(o=t[s],null!=r&&o>=r)break}else t[s]<0&&(e[18]+=65536),(o<i||-1==i)&&(xn(e,n,t,s),e[18]=(4294901760&e[18])+s+2),s++}function xn(e,t,n,r){var i=n[r]<0,o=n[r+1],s=e[i?-n[r]:n[r]];i?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,o.call(s)):o.call(s)}var An=function e(t,n,r){_classCallCheck(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function On(e,t,n){for(var r=Rt(e),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var s=n[i++],a=n[i++],u=n[i++];r?e.setAttribute(t,a,u,s):t.setAttributeNS(s,a,u)}else{var c=o,l=n[++i];Rn(c)?r&&e.setProperty(t,c,l):r?e.setAttribute(t,c,l):t.setAttribute(c,l),i++}}return i}function Dn(e){return 3===e||4===e||6===e}function Rn(e){return 64===e.charCodeAt(0)}function Pn(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0===n||Nn(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function Nn(e,t,n,r,i){var o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){var a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){var u=e[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function Fn(e){return-1!==e}function Ln(e){return 32767&e}function Mn(e){return e>>16}function Vn(e,t){for(var n=Mn(e),r=t;n>0;)r=r[15],n--;return r}function jn(e){return"string"==typeof e?e:null==e?"":""+e}function Un(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():jn(e)}var Bn=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Re);function zn(e){return{name:"document",target:e.ownerDocument}}function Gn(e){return{name:"body",target:e.ownerDocument.body}}function Hn(e){return e instanceof Function?e():e}var qn=!0;function Wn(e){var t=qn;return qn=e,t}var $n=0;function Qn(e,t){var n=Yn(e,t);if(-1!==n)return n;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Kn(r.data,e),Kn(t,null),Kn(r.blueprint,null));var i=Zn(e,t),o=e.injectorIndex;if(Fn(i))for(var s=Ln(i),a=Vn(i,t),u=a[1].data,c=0;c<8;c++)t[o+c]=a[s+c]|u[s+c];return t[o+8]=i,o}function Kn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Yn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function Zn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=t[6],r=1;n&&-1===n.injectorIndex;)n=(t=t[15])?t[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function Xn(e,t,n){!function(e,t,n){var r="string"!=typeof n?n[je]:n.charCodeAt(0)||0;null==r&&(r=n[je]=$n++);var i=255&r,o=1<<i,s=64&i,a=32&i,u=t.data;128&i?s?a?u[e+7]|=o:u[e+6]|=o:a?u[e+5]|=o:u[e+4]|=o:s?a?u[e+3]|=o:u[e+2]|=o:a?u[e+1]|=o:u[e]|=o}(e,t,n)}function Jn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ue.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){var o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e[je];return"number"==typeof t&&t>0?255&t:t}(n);if("function"==typeof o){dn(t,e);try{var s=o();if(null!=s||r&ue.Optional)return s;throw new Error("No provider for ".concat(Un(n),"!"))}finally{mn()}}else if("number"==typeof o){if(-1===o)return new sr(e,t);var a=null,u=Yn(e,t),c=-1,l=r&ue.Host?t[16][6]:null;for((-1===u||r&ue.SkipSelf)&&(c=-1===u?Zn(e,t):t[u+8],or(r,!1)?(a=t[1],u=Ln(c),t=Vn(c,t)):u=-1);-1!==u;){c=t[u+8];var h=t[1];if(ir(o,u,h.data)){var f=tr(u,t,n,a,r,l);if(f!==er)return f}or(r,t[1].data[u+8]===l)&&ir(o,u,t)?(a=h,u=Ln(c),t=Vn(c,t)):u=-1}}}if(r&ue.Optional&&void 0===i&&(i=null),0==(r&(ue.Self|ue.Host))){var d=t[9],p=$e(void 0);try{return d?d.get(n,i,r&ue.Optional):Ye(n,i,r&ue.Optional)}finally{$e(p)}}if(r&ue.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(Un(n),"]"))}var er={};function tr(e,t,n,r,i,o){var s=t[1],a=s.data[e+8],u=nr(a,s,n,null==r?Tt(a)&&qn:r!=s&&3===a.type,i&ue.Host&&o===a);return null!==u?rr(t,s,u,a):er}function nr(e,t,n,r,i){for(var o=e.providerIndexes,s=t.data,a=65535&o,u=e.directiveStart,c=o>>16,l=i?a+c:e.directiveEnd,h=r?a:a+c;h<l;h++){var f=s[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=s[u];if(d&&At(d)&&d.type===n)return u}return null}function rr(e,t,n,r){var i=e[n],o=t.data;if(i instanceof An){var s=i;if(s.resolving)throw new Error("Circular dep for "+Un(o[n]));var a,u=Wn(s.canSeeViewProviders);s.resolving=!0,s.injectImpl&&(a=$e(s.injectImpl)),dn(e,r);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){var r=t.onChanges,i=t.onInit,o=t.doCheck;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{s.injectImpl&&$e(a),Wn(u),s.resolving=!1,mn()}}return i}function ir(e,t,n){var r=64&e,i=32&e;return!!((128&e?r?i?n[t+7]:n[t+6]:i?n[t+5]:n[t+4]:r?i?n[t+3]:n[t+2]:i?n[t+1]:n[t])&1<<e)}function or(e,t){return!(e&ue.Self||e&ue.Host&&t)}var sr=function(){function e(t,n){_classCallCheck(this,e),this._tNode=t,this._lView=n}return _createClass(e,[{key:"get",value:function(e,t){return Jn(this._tNode,this._lView,e,void 0,t)}}]),e}();function ar(e){return ne((function(){var t=Object.getPrototypeOf(e.prototype).constructor,n=t[Ve]||function e(t){var n=t;if(Ie(t))return function(){var t=e(Ee(n));return t?t():null};var r=wt(n);if(null===r){var i=ve(n);r=i&&i.factory}return r||null}(t);return null!==n?n:function(e){return new e}}))}function ur(e){return e.ngDebugContext}function cr(e){return e.ngOriginalError}function lr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var hr=function(){function e(){_classCallCheck(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||lr}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?ur(e)?ur(e):this._findContext(cr(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=cr(e);t&&cr(t);)t=cr(t);return t}}]),e}(),fr=function(){function e(t){_classCallCheck(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),e}();function dr(e){return e instanceof fr?e.changingThisBreaksApplicationSecurity:e}var pr=!0,vr=!1;function gr(){return vr=!0,pr}var yr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,mr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,_r=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}();function br(e){var t,n,r=(t=Qt())&&t[12];return r?r.sanitize(_r.URL,e)||"":function(e,t){var n=function(e){return e instanceof fr&&e.getTypeName()||null}(e);if(null!=n&&"URL"!==n){if("ResourceURL"===n)return!0;throw new Error("Required a safe ".concat("URL",", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return"URL"===n}(e)?dr(e):(n=jn(e),(n=String(n)).match(yr)||n.match(mr)?n:(gr()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(n," (see http://g.co/ng/security#xss)")),"unsafe:"+n))}function kr(e,t){e.__ngContext__=t}function wr(e){throw new Error("Multiple components match node with tagname "+e.tagName)}function Cr(){throw new Error("Cannot mix multi providers and regular providers")}function Sr(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function Er(e,t,n){for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==Sr((i=e[r]).toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Ir(e){return 0===e.type&&"ng-template"!==e.tagName}function Tr(e,t,n){return t===(0!==e.type||n?e.tagName:"ng-template")}function xr(e,t,n){for(var r=4,i=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if(Dn(e[t]))return t;return e.length}(i),s=!1,a=0;a<t.length;a++){var u=t[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Tr(e,u,n)||""===u&&1===t.length){if(Ar(r))return!1;s=!0}}else{var c=8&r?u:t[++a];if(8&r&&null!==e.attrs){if(!Er(e.attrs,c,n)){if(Ar(r))return!1;s=!0}continue}var l=Or(8&r?"class":u,i,Ir(e),n);if(-1===l){if(Ar(r))return!1;s=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==Sr(f,c,0)||2&r&&c!==h){if(Ar(r))return!1;s=!0}}}}else{if(!s&&!Ar(r)&&!Ar(u))return!1;if(s&&Ar(u))continue;s=!1,r=u|1&r}}return Ar(r)||s}function Ar(e){return 0==(1&e)}function Or(e,t,n,r){if(null===t)return-1;var i=0;if(r||!n){for(var o=!1;i<t.length;){var s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){for(var a=t[++i];"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Dr(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(xr(e,t[r],n))return!0;return!1}function Rr(e,t){e:for(var n=0;n<t.length;n++){var r=t[n];if(e.length===r.length){for(var i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function Pr(e,t){return e?":not("+t.trim()+")":t}function Nr(e){for(var t=e[0],n=1,r=2,i="",o=!1;n<e.length;){var s=e[n];if("string"==typeof s)if(2&r){var a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Ar(s)||(t+=Pr(o,i),i=""),r=s,o=o||!Ar(r);n++}return""!==i&&(t+=Pr(o,i)),t}var Fr={};function Lr(e){var t=e[3];return Et(t)?t[3]:t}function Mr(e){return jr(e[13])}function Vr(e){return jr(e[4])}function jr(e){for(;null!==e&&!Et(e);)e=e[4];return e}function Ur(e){Br(Kt(),Qt(),bn()+e,tn())}function Br(e,t,n,r){if(!r)if(3==(3&t[2])){var i=e.preOrderCheckHooks;null!==i&&Sn(t,i,n)}else{var o=e.preOrderHooks;null!==o&&En(t,o,0,n)}kn(n)}function zr(e,t){return e<<17|t<<2}function Gr(e){return e>>17&32767}function Hr(e){return 2|e}function qr(e){return(131068&e)>>2}function Wr(e,t){return-131069&e|t<<2}function $r(e){return 1|e}function Qr(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var s=e.data[o];fn(i),s.contentQueries(2,t[o],o)}}}function Kr(e,t,n){return Rt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Yr(e,t,n,r,i,o,s,a,u,c){var l=t.blueprint.slice();return l[0]=i,l[2]=140|r,Ht(l),l[3]=l[15]=e,l[8]=n,l[10]=s||e&&e[10],l[11]=a||e&&e[11],l[12]=u||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=o,l[16]=2==t.type?e[16]:l,l}function Zr(e,t,n,r,i,o){var s=n+20,a=e.data[s]||function(e,t,n,r,i,o){var s=Zt(),a=Jt(),u=a?s:s&&s.parent,c=e.data[n]=ai(0,u&&u!==t?u:null,r,n,i,o);return null===e.firstChild&&(e.firstChild=c),s&&(!a||null!=s.child||null===c.parent&&2!==s.type?a||(s.next=c):s.child=c),c}(e,t,s,r,i,o);return Xt(a,!0),a}function Xr(e,t,n){pn(t,t[6]);try{var r=e.viewQuery;null!==r&&Ai(1,r,n);var i=e.template;null!==i&&ti(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Qr(e,t),e.staticViewQueries&&Ai(2,e.viewQuery,n);var o=e.components;null!==o&&function(e,t){for(var n=0;n<t.length;n++)Si(e,t[n])}(t,o)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),s}finally{t[2]&=-5,_n()}}function Jr(e,t,n,r){var i=t[2];if(256!=(256&i)){pn(t,t[6]);var o=tn();try{Ht(t),Wt.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&ti(e,t,n,2,r);var s=3==(3&i);if(!o)if(s){var a=e.preOrderCheckHooks;null!==a&&Sn(t,a,null)}else{var u=e.preOrderHooks;null!==u&&En(t,u,0,null),In(t,0)}if(function(e){for(var t=Mr(e);null!==t;t=Vr(t))if(t[2])for(var n=t[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&qt(o,1),i[2]|=1024}}(t),function(e){for(var t=Mr(e);null!==t;t=Vr(t))for(var n=10;n<t.length;n++){var r=t[n],i=r[1];zt(r)&&Jr(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&Qr(e,t),!o)if(s){var c=e.contentCheckHooks;null!==c&&Sn(t,c)}else{var l=e.contentHooks;null!==l&&En(t,l,1),In(t,1)}!function(e,t){try{var n=e.expandoInstructions;if(null!==n)for(var r=e.expandoStartIndex,i=-1,o=0;o<n.length;o++){var s=n[o];"number"==typeof s?s<=0?(kn(0-s),i=r+=9+n[++o]):r+=s:(null!==s&&(un(r,i),s(2,t[i])),i++)}}finally{kn(-1)}}(e,t);var h=e.components;null!==h&&function(e,t){for(var n=0;n<t.length;n++)Ci(e,t[n])}(t,h);var f=e.viewQuery;if(null!==f&&Ai(2,f,r),!o)if(s){var d=e.viewCheckHooks;null!==d&&Sn(t,d)}else{var p=e.viewHooks;null!==p&&En(t,p,2),In(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,qt(t[3],-1))}finally{_n()}}}function ei(e,t,n,r){var i=t[10],o=!tn(),s=Bt(t);try{o&&!s&&i.begin&&i.begin(),s&&Xr(e,t,r),Jr(e,t,n,r)}finally{o&&!s&&i.end&&i.end()}}function ti(e,t,n,r,i){var o=bn();try{kn(-1),2&r&&t.length>20&&Br(e,t,0,tn()),n(r,i)}finally{kn(o)}}function ni(e,t,n){if(It(t))for(var r=t.directiveEnd,i=t.directiveStart;i<r;i++){var o=e.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function ri(e,t,n){$t()&&(function(e,t,n,r){var i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||Qn(n,t),kr(r,t);for(var s=n.initialInputs,a=i;a<o;a++){var u=e.data[a],c=At(u);c&&_i(t,n,u);var l=rr(t,e,a,n);kr(l,t),null!==s&&bi(0,a-i,l,u,0,s),c&&(jt(n.index,t)[8]=l)}}(e,t,n,Lt(n,t)),128==(128&n.flags)&&function(e,t,n){var r=n.directiveStart,i=n.directiveEnd,o=e.expandoInstructions,s=e.firstCreatePass,a=n.index-20,u=Wt.lFrame.currentDirectiveIndex;try{kn(a);for(var c=r;c<i;c++){var l=e.data[c],h=t[c];cn(c),null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs?di(l,h):s&&o.push(null)}}finally{kn(-1),cn(u)}}(e,t,n))}function ii(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lt,r=t.localNames;if(null!==r)for(var i=t.index+1,o=0;o<r.length;o+=2){var s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}function oi(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=si(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function si(e,t,n,r,i,o,s,a,u,c){var l=20+r,h=l+i,f=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:Fr);return n}(l,h);return f[1]={type:e,id:t,blueprint:f,template:n,queries:null,viewQuery:a,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function ai(e,t,n,r,i,o){return{type:n,index:r,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ui(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function ci(e,t,n,r,i,o,s,a){var u,c=Lt(t,n),l=t.inputs;!a&&null!=l&&(u=l[r])?(Fi(e,n,u,r,i),Tt(t)&&function(e,t){var n=jt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3===t.type&&(r=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.tagName||"",r):i,Rt(o)?o.setProperty(c,r,i):Rn(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function li(e,t,n,r){var i=!1;if($t()){var o=function(e,t,n){var r=e.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var s=r[o];Dr(n,s.selectors,!1)&&(i||(i=[]),Xn(Qn(n,t),e,s.type),At(s)?(2&n.flags&&wr(n),vi(e,n),i.unshift(s)):i.push(s))}return i}(e,t,n),s=null===r?null:{"":-1};if(null!==o){var a=0;i=!0,yi(n,e.data.length,o.length);for(var u=0;u<o.length;u++){var c=o[u];c.providersResolver&&c.providersResolver(c)}pi(e,n,o.length);for(var l=!1,h=!1,f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=Pn(n.mergedAttrs,d.hostAttrs),mi(e,t,d),gi(e.data.length-1,d,s),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128),!l&&(d.onChanges||d.onInit||d.doCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index-20),l=!0),h||!d.onChanges&&!d.doCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index-20),h=!0),hi(e,d),a+=d.hostVars}!function(e,t){for(var n=t.directiveEnd,r=e.data,i=t.attrs,o=[],s=null,a=null,u=t.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||Ir(t)?null:ki(l,i);o.push(h),s=ui(l,u,s),a=ui(c.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(t.flags|=16),s.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=s,t.outputs=a}(e,n),fi(e,t,a)}s&&function(e,t,n){if(t)for(var r=e.localNames=[],i=0;i<t.length;i+=2){var o=n[t[i+1]];if(null==o)throw new Error("Export of name '".concat(t[i+1],"' not found!"));r.push(t[i],o)}}(n,r,s)}return n.mergedAttrs=Pn(n.mergedAttrs,n.attrs),i}function hi(e,t){var n=e.expandoInstructions;n.push(t.hostBindings),0!==t.hostVars&&n.push(t.hostVars)}function fi(e,t,n){for(var r=0;r<n;r++)t.push(Fr),e.blueprint.push(Fr),e.data.push(null)}function di(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function pi(e,t,n){var r=20-t.index,i=e.data.length-(65535&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(r,i,n)}function vi(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function gi(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;At(t)&&(n[""]=e)}}function yi(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function mi(e,t,n){e.data.push(n);var r=n.factory||(n.factory=wt(n.type)),i=new An(r,At(n),null);e.blueprint.push(i),t.push(i)}function _i(e,t,n){var r=Lt(t,e),i=oi(n),o=e[10],s=Ei(e,Yr(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n)));e[t.index]=s}function bi(e,t,n,r,i,o){var s=o[t];if(null!==s)for(var a=r.setInput,u=0;u<s.length;){var c=s[u++],l=s[u++],h=s[u++];null!==a?r.setInput(n,h,c,l):n[l]=h}}function ki(e,t){for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function wi(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function Ci(e,t){var n=jt(t,e);if(zt(n)){var r=n[1];80&n[2]?Jr(r,n,r.template,n[8]):n[5]>0&&function e(t){for(var n=Mr(t);null!==n;n=Vr(n))for(var r=10;r<n.length;r++){var i=n[r];if(1024&i[2]){var o=i[1];Jr(o,i,o.template,i[8])}else i[5]>0&&e(i)}var s=t[1].components;if(null!==s)for(var a=0;a<s.length;a++){var u=jt(s[a],t);zt(u)&&u[5]>0&&e(u)}}(n)}}function Si(e,t){var n=jt(t,e),r=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Xr(r,n,n[8])}function Ei(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Ii(e){for(;e;){e[2]|=64;var t=Lr(e);if(Ot(e)&&!t)return e;e=t}return null}function Ti(e,t,n){var r=t[10];r.begin&&r.begin();try{Jr(e,t,e.template,n)}catch(i){throw Ni(t,i),i}finally{r.end&&r.end()}}function xi(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=Ut(n),i=r[1];ei(i,r,i.template,n)}}(e[8])}function Ai(e,t,n){fn(0),t(e,n)}var Oi=Promise.resolve(null);function Di(e){return e[7]||(e[7]=[])}function Ri(e){return e.cleanup||(e.cleanup=[])}function Pi(e,t,n){return(null===e||At(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function Ni(e,t){var n=e[9],r=n?n.get(hr,null):null;r&&r.handleError(t)}function Fi(e,t,n,r,i){for(var o=0;o<n.length;){var s=n[o++],a=n[o++],u=t[s],c=e.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Li(e,t,n){var r=Ft(t,e),i=e[11];Rt(i)?i.setValue(r,n):r.textContent=n}function Mi(e,t){var n=t[3];return-1===e.index?Et(n)?n:null:n}function Vi(e,t){var n=Mi(e,t);return n?Yi(t[11],n[7]):null}function ji(e,t,n,r,i){if(null!=r){var o,s=!1;Et(r)?o=r:St(r)&&(s=!0,r=r[0]);var a=Nt(r);0===e&&null!==n?null==i?Qi(t,n,a):$i(t,n,a,i||null):1===e&&null!==n?$i(t,n,a,i||null):2===e?function(e,t,n){var r=Yi(e,t);r&&function(e,t,n,r){Rt(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function(e,t,n,r,i){var o=n[7];o!==Nt(n)&&ji(t,e,r,o,i);for(var s=10;s<n.length;s++){var a=n[s];to(a[1],a,e,t,r,o)}}(t,e,o,n,i)}}function Ui(e,t,n,r){var i=Vi(e.node,t);i&&to(e,t,t[11],n?1:2,i,r)}function Bi(e,t){var n=e[9],r=n.indexOf(t);1024&t[2]&&qt(t[3],-1),n.splice(r,1)}function zi(e,t){if(!(e.length<=10)){var n=10+t,r=e[n];if(r){var i=r[17];null!==i&&i!==e&&Bi(i,r),t>0&&(e[n-1][4]=r[4]);var o=rt(e,10+t);Ui(r[1],r,!1,null);var s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function Gi(e,t){if(!(256&t[2])){var n=t[11];Rt(n)&&n.destroyNode&&to(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return qi(e[1],e);for(;t;){var n=null;if(St(t))n=t[13];else{var r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)St(t)&&qi(t[1],t),t=Hi(t,e);null===t&&(t=e),St(t)&&qi(t[1],t),n=t&&t[4]}t=n}}(t)}}function Hi(e,t){var n;return St(e)&&(n=e[6])&&2===n.type?Mi(n,e):e[3]===t?null:e[3]}function qi(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var r=0;r<n.length;r+=2){var i=t[n[r]];if(!(i instanceof An)){var o=n[r+1];if(Array.isArray(o))for(var s=0;s<o.length;s+=2)o[s+1].call(i[o[s]]);else o.call(i)}}}(e,t),function(e,t){var n=e.cleanup;if(null!==n){for(var r=t[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],s="function"==typeof o?o(t):Nt(t[o]),a=r[n[i+2]],u=n[i+3];"boolean"==typeof u?s.removeEventListener(n[i],a,u):u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);t[7]=null}}(e,t);var n=t[6];n&&3===n.type&&Rt(t[11])&&t[11].destroy();var r=t[17];if(null!==r&&Et(t[3])){r!==t[3]&&Bi(r,t);var i=t[19];null!==i&&i.detachView(e)}}}function Wi(e,t,n){for(var r=t.parent;null!=r&&(4===r.type||5===r.type);)r=(t=r).parent;if(null==r){var i=n[6];return 2===i.type?Vi(i,n):n[0]}if(t&&5===t.type&&4&t.flags)return Lt(t,n).parentNode;if(2&r.flags){var o=e.data,s=o[o[r.index].directiveStart].encapsulation;if(s!==ct.ShadowDom&&s!==ct.Native)return null}return Lt(r,n)}function $i(e,t,n,r){Rt(e)?e.insertBefore(t,n,r):t.insertBefore(n,r,!0)}function Qi(e,t,n){Rt(e)?e.appendChild(t,n):t.appendChild(n)}function Ki(e,t,n,r){null!==r?$i(e,t,n,r):Qi(e,t,n)}function Yi(e,t){return Rt(e)?e.parentNode(t):t.parentNode}function Zi(e,t){if(2===e.type){var n=Mi(e,t);return null===n?null:Ji(n.indexOf(t,10)-10,n)}return 4===e.type||5===e.type?Lt(e,t):null}function Xi(e,t,n,r){var i=Wi(e,r,t);if(null!=i){var o=t[11],s=Zi(r.parent||t[6],t);if(Array.isArray(n))for(var a=0;a<n.length;a++)Ki(o,i,n[a],s);else Ki(o,i,n,s)}}function Ji(e,t){var n=10+e+1;if(n<t.length){var r=t[n],i=r[1].firstChild;if(null!==i)return function e(t,n){if(null!==n){var r=n.type;if(3===r)return Lt(n,t);if(0===r)return Ji(-1,t[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return e(t,i);var o=t[n.index];return Et(o)?Ji(-1,o):Nt(o)}var s=t[16],a=s[6],u=Lr(s),c=a.projection[n.projection];return null!=c?e(u,c):e(t,n.next)}return null}(r,i)}return t[7]}function eo(e,t,n,r,i,o,s){for(;null!=n;){var a=r[n.index],u=n.type;s&&0===t&&(a&&kr(Nt(a),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(eo(e,t,n.child,r,i,o,!1),ji(t,e,i,a,o)):1===u?no(e,t,r,n,i,o):ji(t,e,i,a,o)),n=s?n.projectionNext:n.next}}function to(e,t,n,r,i,o){eo(n,r,e.node.child,t,i,o,!1)}function no(e,t,n,r,i,o){var s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(var u=0;u<a.length;u++)ji(t,e,i,a[u],o);else eo(e,t,a,s[3],i,o,!0)}function ro(e,t,n){Rt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function io(e,t,n){Rt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}var oo,so,ao,uo=function(){function e(t,n){_classCallCheck(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return _createClass(e,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}Gi(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){var t,n,r;t=this._lView[1],r=e,Di(n=this._lView).push(r),t.firstCreatePass&&Ri(t).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){Ii(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Ti(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){nn(!0);try{Ti(e,t,n)}finally{nn(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,to(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"rootNodes",get:function(){var e=this._lView;return null==e[0]?function e(t,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var s=n[r.index];if(null!==s&&i.push(Nt(s)),Et(s))for(var a=10;a<s.length;a++){var u=s[a],c=u[1].firstChild;null!==c&&e(u[1],u,c,i)}var l=r.type;if(4===l||5===l)e(t,n,r.child,i);else if(1===l){var h=n[16],f=h[6].projection[r.projection];if(Array.isArray(f))i.push.apply(i,_toConsumableArray(f));else{var d=Lr(h);e(d[1],d,f,i,!0)}}r=o?r.projectionNext:r.next}return i}(e[1],e,e[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),e}(),co=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e))._view=e,r}return _createClass(n,[{key:"detectChanges",value:function(){xi(this._view)}},{key:"checkNoChanges",value:function(){!function(e){nn(!0);try{xi(e)}finally{nn(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(uo);function lo(e,t,n){return oo||(oo=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(e)),new oo(Lt(t,n))}function ho(e,t,n,r){return so||(so=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._declarationView=e,o._declarationTContainer=r,o.elementRef=i,o}return _createClass(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=Yr(this._declarationView,t,e,16,null,t.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Xr(t,n,e),new uo(n)}}]),n}(e)),0===n.type?new so(r,n,lo(t,n,r)):null}function fo(e,t,n,r){var i;ao||(ao=function(e){_inherits(r,e);var n=_createSuper(r);function r(e,t,i){var o;return _classCallCheck(this,r),(o=n.call(this))._lContainer=e,o._hostTNode=t,o._hostView=i,o}return _createClass(r,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;if(!i&&null==e.ngModule&&o){var s=o.get(Je,null);s&&(i=s)}var a=e.create(o,r,void 0,i);return this.insert(a.hostView,t),a}},{key:"insert",value:function(e,t){var n=e._lView,r=n[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Et(n[3])){var i=this.indexOf(e);if(-1!==i)this.detach(i);else{var o=n[3],s=new ao(o,o[6],o[3]);s.detach(s.indexOf(e))}}var a=this._adjustIndex(t);return function(e,t,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-10?(t[4]=n[i],nt(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;var s=t[17];null!==s&&n!==s&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);var a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,n,this._lContainer,a),Ui(r,n,!0,Ji(a,this._lContainer)),e.attachToViewContainerRef(this),nt(this._lContainer[8],a,e),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=this._lContainer[8];return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1);!function(e,t){var n=zi(e,t);n&&Gi(n[1],n)}(this._lContainer,t),rt(this._lContainer[8],t)}},{key:"detach",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1),n=zi(this._lContainer,t);return n&&null!=rt(this._lContainer[8],t)?new uo(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return lo(t,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new sr(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var e=Zn(this._hostTNode,this._hostView),t=Vn(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=Mn(e),s=t,a=t[6];o>1;)a=(s=s[15])[6],o--;return a}(e,this._hostView,this._hostTNode);return Fn(e)&&null!=n?new sr(n,t):new sr(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),r}(e));var o=r[n.index];if(Et(o))i=o;else{var s;if(4===n.type)s=Nt(o);else if(s=r[11].createComment(""),Ot(r)){var a=r[11],u=Lt(n,r);$i(a,Yi(a,u),s,function(e,t){return Rt(e)?e.nextSibling(t):t.nextSibling}(a,u))}else Xi(r[1],r,s,n);r[n.index]=i=wi(o,r,s,n),Ei(r,i)}return new ao(i,n,r)}function po(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t,n){if(!n&&Tt(e)){var r=jt(e.index,t);return new uo(r,r)}return 3===e.type||0===e.type||4===e.type||5===e.type?new uo(t[16],t):null}(Zt(),Qt(),e)}var vo=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return go()},e}(),go=po,yo=Function,mo=new Ue("Set Injector scope."),_o={},bo={},ko=[],wo=void 0;function Co(){return void 0===wo&&(wo=new Xe),wo}function So(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new Eo(e,n,t||Co(),r)}var Eo=function(){function e(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var s=[];n&&tt(n,(function(e){return i.processProvider(e,t,n)})),tt([t],(function(e){return i.processInjectorType(e,[],s)})),this.records.set(Be,xo(void 0,this));var a=this.records.get(mo);this.scope=null!=a?a.value:null,this.source=o||("object"==typeof t?null:ke(t))}return _createClass(e,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(e){return e.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ze,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ue.Default;this.assertNotDestroyed();var r,i=We(this);try{if(!(n&ue.SkipSelf)){var o=this.records.get(e);if(void 0===o){var s=("function"==typeof(r=e)||"object"==typeof r&&r instanceof Ue)&&de(e);o=s&&this.injectableDefInScope(s)?xo(Io(e),_o):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(n&ue.Self?Co():this.parent).get(e,t=n&ue.Optional&&t===ze?null:t)}catch(a){if("NullInjectorError"===a.name){if((a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(ke(e)),i)throw a;return function(e,t,n,r){var i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=ke(t);if(Array.isArray(t))i=t.map(ke).join(" -> ");else if("object"==typeof t){var o=[];for(var s in t)if(t.hasOwnProperty(s)){var a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):ke(a)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(Ge,"\n  "))}("\n"+e.message,i,"R3InjectorError",r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(a,e,0,this.source)}throw a}finally{We(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach((function(t){return e.get(t)}))}},{key:"toString",value:function(){var e=[];return this.records.forEach((function(t,n){return e.push(ke(n))})),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=Ee(e)))return!1;var i=ve(e),o=null==i&&e.ngModule||void 0,s=void 0===o?e:o,a=-1!==n.indexOf(s);if(void 0!==o&&(i=ve(o)),null==i)return!1;if(null!=i.imports&&!a){var u;n.push(s);try{tt(i.imports,(function(e){r.processInjectorType(e,t,n)&&(void 0===u&&(u=[]),u.push(e))}))}finally{}if(void 0!==u)for(var c=function(e){var t=u[e],n=t.ngModule,i=t.providers;tt(i,(function(e){return r.processProvider(e,n,i||ko)}))},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(s),this.records.set(s,xo(i.factory,_o));var h=i.providers;if(null!=h&&!a){var f=e;tt(h,(function(e){return r.processProvider(e,f,h)}))}return void 0!==o&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r=Oo(e=Ee(e))?e:Ee(e&&e.provide),i=function(e,t,n){return Ao(e)?xo(void 0,e.useValue):xo(To(e,t,n),_o)}(e,t,n);if(Oo(e)||!0!==e.multi){var o=this.records.get(r);o&&void 0!==o.multi&&Cr()}else{var s=this.records.get(r);s?void 0===s.multi&&Cr():((s=xo(void 0,_o,!0)).factory=function(){return Ze(s.multi)},this.records.set(r,s)),r=e,s.multi.push(e)}this.records.set(r,i)}},{key:"hydrate",value:function(e,t){var n;return t.value===bo?function(e){throw new Error("Cannot instantiate cyclic dependency! "+e)}(ke(e)):t.value===_o&&(t.value=bo,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();function Io(e){var t=de(e),n=null!==t?t.factory:wt(e);if(null!==n)return n;var r=ve(e);if(null!==r)return r.factory;if(e instanceof Ue)throw new Error("Token ".concat(ke(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=it(t,"?");throw new Error("Can't resolve all parameters for ".concat(ke(e),": (").concat(n.join(", "),")."))}var r=function(e){var t=e&&(e[ge]||e[_e]||e[me]&&e[me]());if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "').concat(n,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function To(e,t,n){var r,i=void 0;if(Oo(e)){var o=Ee(e);return wt(o)||Io(o)}if(Ao(e))i=function(){return Ee(e.useValue)};else if((r=e)&&r.useFactory)i=function(){return e.useFactory.apply(e,_toConsumableArray(Ze(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))i=function(){return Ke(Ee(e.useExisting))};else{var s=Ee(e&&(e.useClass||e.provide));if(s||function(e,t,n){var r="";throw e&&t&&(r=" - only instances of Provider and Type are allowed, got: [".concat(t.map((function(e){return e==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(ke(e),"'")+r)}(t,n,e),!function(e){return!!e.deps}(e))return wt(s)||Io(s);i=function(){return _construct(s,_toConsumableArray(Ze(e.deps)))}}return i}function xo(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function Ao(e){return null!==e&&"object"==typeof e&&He in e}function Oo(e){return"function"==typeof e}var Do=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=So(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)},Ro=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?Do(e,t,""):Do(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=ze,e.NULL=new Xe,e.\u0275prov=he({token:e,providedIn:"any",factory:function(){return Ke(Be)}}),e.__NG_ELEMENT_ID__=-1,e}(),Po=new Ue("AnalyzeForEntryComponents"),No=new Map,Fo=new Set;function Lo(e){return"string"==typeof e?e:e.text()}function Mo(e,t,n){var r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(var s=0;s<t.length;s++){var a=t[s];"number"==typeof a?o=a:1==o?i=we(i,a):2==o&&(r=we(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var Vo=null;function jo(){if(!Vo){var e=Re.Symbol;if(e&&e.iterator)Vo=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Vo=r)}}return Vo}function Uo(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}var Bo=function(){function e(t){_classCallCheck(this,e),this.wrapped=t}return _createClass(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function zo(e){return!!Go(e)&&(Array.isArray(e)||!(e instanceof Map)&&jo()in e)}function Go(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ho(e,t,n){return e[t]=n}function qo(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Wo(e,t,n,r){var i=qo(e,t,n);return qo(e,t+1,r)||i}function $o(e,t,n,r){var i=Qt();return qo(i,sn(),t)&&(Kt(),function(e,t,n,r,i,o){var s=Lt(e,t),a=t[11];if(null==r)Rt(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{var u=null==i?jn(r):i(r,e.tagName||"",n);Rt(a)?a.setAttribute(s,n,u,o):o?s.setAttributeNS(o,n,u):s.setAttribute(n,u)}}(wn(),i,e,t,n,r)),$o}function Qo(e,t,n,r){return qo(e,sn(),n)?t+jn(n)+r:Fr}function Ko(e,t,n,r,i,o,s,a){var u=Qt(),c=Kt(),l=e+20,h=c.firstCreatePass?function(e,t,n,r,i,o,s,a,u){var c=t.consts,l=Zr(t,n[6],e,0,s||null,Gt(c,a));li(t,n,l,Gt(c,u)),Cn(t,l);var h=l.tViews=si(2,-1,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c),f=ai(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==t.queries&&(t.queries.template(t,l),h.queries=t.queries.embeddedTView(l)),l}(e,c,u,t,n,r,i,o,s):c.data[l];Xt(h,!1);var f=u[11].createComment("");Xi(c,u,f,h),kr(f,u),Ei(u,u[l]=wi(f,u,f,h)),xt(h)&&ri(c,u,h),null!=s&&ii(u,h,a)}function Yo(e){return Vt(Wt.lFrame.contextLView,e)}function Zo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue.Default,n=Qt();return null==n?Ke(e,t):Jn(Zt(),n,Ee(e),t)}function Xo(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Dn(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}return null}(Zt(),e)}function Jo(){throw new Error("invalid")}function es(e,t,n){var r=Qt();return qo(r,sn(),t)&&ci(Kt(),wn(),r,e,t,r[11],n,!1),es}function ts(e,t,n,r,i){var o=i?"class":"style";Fi(e,n,t.inputs[o],o,r)}function ns(e,t,n,r){var i=Qt(),o=Kt(),s=20+e,a=i[11],u=i[s]=Kr(t,a,Wt.lFrame.currentNamespace),c=o.firstCreatePass?function(e,t,n,r,i,o,s){var a=t.consts,u=Gt(a,o),c=Zr(t,n[6],e,3,i,u);return li(t,n,c,Gt(a,s)),null!==c.attrs&&Mo(c,c.attrs,!1),null!==c.mergedAttrs&&Mo(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(e,o,i,0,t,n,r):o.data[s];Xt(c,!0);var l=c.mergedAttrs;null!==l&&On(a,u,l);var h=c.classes;null!==h&&io(a,u,h);var f=c.styles;null!==f&&ro(a,u,f),Xi(o,i,u,c),0===Wt.lFrame.elementDepthCount&&kr(u,i),Wt.lFrame.elementDepthCount++,xt(c)&&(ri(o,i,c),ni(o,c,i)),null!==r&&ii(i,c)}function rs(){var e=Zt();Jt()?en():Xt(e=e.parent,!1);var t=e;Wt.lFrame.elementDepthCount--;var n=Kt();n.firstCreatePass&&(Cn(n,e),It(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&ts(n,t,Qt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&ts(n,t,Qt(),t.stylesWithoutHost,!1)}function is(e,t,n,r){ns(e,t,n,r),rs()}function os(e,t,n){var r=Qt(),i=Kt(),o=e+20,s=i.firstCreatePass?function(e,t,n,r,i){var o=t.consts,s=Gt(o,r),a=Zr(t,n[6],e,4,"ng-container",s);return null!==s&&Mo(a,s,!0),li(t,n,a,Gt(o,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(e,i,r,t,n):i.data[o];Xt(s,!0);var a=r[o]=r[11].createComment("");Xi(i,r,a,s),kr(a,r),xt(s)&&(ri(i,r,s),ni(i,s,r)),null!=n&&ii(r,s)}function ss(){var e=Zt(),t=Kt();Jt()?en():Xt(e=e.parent,!1),t.firstCreatePass&&(Cn(t,e),It(e)&&t.queries.elementEnd(e))}function as(e,t,n){os(e,t,n),ss()}function us(){return Qt()}function cs(e){return!!e&&"function"==typeof e.then}function ls(e){return!!e&&"function"==typeof e.subscribe}function hs(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=Qt(),o=Kt(),s=Zt();return ds(o,i,i[11],s,e,t,n,r),hs}function fs(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=Zt(),o=Qt(),s=Kt();return ds(s,o,Pi(ln(s.data),i,o),i,e,t,n,r),fs}function ds(e,t,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7?arguments[7]:void 0,u=xt(r),c=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),l=Di(t),h=!0;if(3===r.type){var f=Lt(r,t),d=a?a(f):lt,p=d.target||f,v=l.length,g=a?function(e){return a(Nt(e[r.index])).target}:r.index;if(Rt(n)){var y=null;if(!a&&u&&(y=function(e,t,n,r){var i=e.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var s=i[o];if(s===n&&i[o+1]===r){var a=t[7],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==y)(y.__ngLastListenerFn__||y).__ngNextListenerFn__=o,y.__ngLastListenerFn__=o,h=!1;else{o=vs(r,t,o,!1);var m=n.listen(d.name||p,i,o);l.push(o,m),c&&c.push(i,g,v,v+1)}}else o=vs(r,t,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,g,v,s)}var _,b=r.outputs;if(h&&null!==b&&(_=b[i])){var k=_.length;if(k)for(var w=0;w<k;w+=2){var C=t[_[w]][_[w+1]].subscribe(o),S=l.length;l.push(o,C),c&&c.push(i,r.index,S,-(S+1))}}}function ps(e,t,n){try{return!1!==t(n)}catch(r){return Ni(e,r),!1}}function vs(e,t,n,r){return function i(o){if(o===Function)return n;var s=2&e.flags?jt(e.index,t):t;0==(32&t[2])&&Ii(s);for(var a=ps(t,n,o),u=i.__ngNextListenerFn__;u;)a=ps(t,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function gs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){return(Wt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Wt.lFrame.contextLView))[8]}(e)}function ys(e,t){for(var n=null,r=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),i=0;i<t.length;i++){var o=t[i];if("*"!==o){if(null===r?Dr(e,o,!0):Rr(r,o))return i}else n=i}return n}function ms(e){var t=Qt()[16][6];if(!t.projection)for(var n=t.projection=it(e?e.length:1,null),r=n.slice(),i=t.child;null!==i;){var o=e?ys(i,e):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function _s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=Qt(),i=Kt(),o=Zr(i,r[6],e,1,null,n||null);null===o.projection&&(o.projection=t),en(),function(e,t,n){no(t[11],0,t,n,Wi(e,n,t),Zi(n.parent||t[6],t))}(i,r,o)}function bs(e,t,n){return ks(e,"",t,"",n),bs}function ks(e,t,n,r,i){var o=Qt(),s=Qo(o,t,n,r);return s!==Fr&&ci(Kt(),wn(),o,e,s,o[11],i,!1),ks}var ws=[];function Cs(e,t,n,r,i){for(var o=e[n+1],s=null===t,a=r?Gr(o):qr(o),u=!1;0!==a&&(!1===u||s);){var c=e[a+1];Ss(e[a],t)&&(u=!0,e[a+1]=r?$r(c):Hr(c)),a=r?Gr(c):qr(c)}u&&(e[n+1]=r?Hr(o):$r(o))}function Ss(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&at(e,t)>=0}var Es={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Is(e){return e.substring(Es.key,Es.keyEnd)}function Ts(e,t){var n=Es.textEnd;return n===t?-1:(t=Es.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Es.key=t,n),xs(e,t,n))}function xs(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function As(e,t,n){return Ps(e,t,n,!1),As}function Os(e,t){return Ps(e,t,null,!0),Os}function Ds(e){!function(e,t,n,r){var i=Kt(),o=an(2);i.firstUpdatePass&&Fs(i,null,o,!0);var s=Qt();if(n!==Fr&&qo(s,o,n)){var a=i.data[bn()+20];if(Bs(a,!0)&&!Ns(i,o)){var u=a.classesWithoutHost;null!==u&&(n=we(u,n||"")),ts(i,a,s,n,!0)}else!function(e,t,n,r,i,o,s,a){i===Fr&&(i=ws);for(var u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==l||null!==h;){var f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0,p=null,v=void 0;l===h?(u+=2,c+=2,f!==d&&(p=h,v=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,v=d),null!==p&&Vs(e,t,n,r,p,v,!0,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(e,t,n){if(null==n||""===n)return ws;var r=[],i=dr(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(var s in i)i.hasOwnProperty(s)&&e(r,s,i[s]);else"string"==typeof i&&t(r,i);return r}(e,t,n),0,o)}}(ot,Rs,e)}function Rs(e,t){for(var n=function(e){return function(e){Es.key=0,Es.keyEnd=0,Es.value=0,Es.valueEnd=0,Es.textEnd=e.length}(e),Ts(e,xs(e,0,Es.textEnd))}(t);n>=0;n=Ts(t,n))ot(e,Is(t),!0)}function Ps(e,t,n,r){var i,o,s=Qt(),a=Kt(),u=an(2);(a.firstUpdatePass&&Fs(a,e,u,r),t!==Fr&&qo(s,u,t))&&(null==n&&(i=null===(o=Wt.lFrame)?null:o.currentSanitizer)&&(n=i),Vs(a,a.data[bn()+20],s,s[11],e,s[u+1]=function(e,t){return null==e||("function"==typeof t?e=t(e):"string"==typeof t?e+=t:"object"==typeof e&&(e=ke(dr(e)))),e}(t,n),r,u))}function Ns(e,t){return t>=e.expandoStartIndex}function Fs(e,t,n,r){var i=e.data;if(null===i[n+1]){var o=i[bn()+20],s=Ns(e,n);Bs(o,r)&&null===t&&!s&&(t=!1),t=function(e,t,n,r){var i=ln(e),o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Ms(n=Ls(null,e,t,n,r),t.attrs,r),o=null);else{var s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=Ls(i,e,t,n,r),null===o){var a=function(e,t,n){var r=n?t.classBindings:t.styleBindings;if(0!==qr(r))return e[Gr(r)]}(e,t,r);void 0!==a&&Array.isArray(a)&&function(e,t,n,r){e[Gr(n?t.classBindings:t.styleBindings)]=r}(e,t,r,a=Ms(a=Ls(null,e,t,a[1],r),t.attrs,r))}else o=function(e,t,n){for(var r=void 0,i=t.directiveEnd,o=1+t.directiveStylingLast;o<i;o++)r=Ms(r,e[o].hostAttrs,n);return Ms(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function(e,t,n,r,i,o){var s=o?t.classBindings:t.styleBindings,a=Gr(s),u=qr(s);e[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||at(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=Gr(e[a+1]);e[r+1]=zr(f,a),0!==f&&(e[f+1]=Wr(e[f+1],r)),e[a+1]=131071&e[a+1]|r<<17}else e[r+1]=zr(a,0),0!==a&&(e[a+1]=Wr(e[a+1],r)),a=r;else e[r+1]=zr(u,0),0===a?a=r:e[u+1]=Wr(e[u+1],r),u=r;l&&(e[r+1]=Hr(e[r+1])),Cs(e,c,r,!0),Cs(e,c,r,!1),function(e,t,n,r,i){var o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&at(o,t)>=0&&(n[r+1]=$r(n[r+1]))}(t,c,e,r,o),s=zr(a,u),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}function Ls(e,t,n,r,i){var o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(r=Ms(r,(o=t[a]).hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Ms(e,t,n){var r=n?1:2,i=-1;if(null!==t)for(var o=0;o<t.length;o++){var s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ot(e,s,!!n||t[++o]))}return void 0===e?null:e}function Vs(e,t,n,r,i,o,s,a){if(3===t.type){var u=e.data,c=u[a+1];Us(1==(1&c)?js(u,t,n,i,qr(c),s):void 0)||(Us(o)||2==(2&c)&&(o=js(u,null,n,i,a,s)),function(e,t,n,r,i){var o=Rt(e);if(t)i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r);else{var s=-1==r.indexOf("-")?void 0:2;null==i?o?e.removeStyle(n,r,s):n.style.removeProperty(r):o?e.setStyle(n,r,i,s):n.style.setProperty(r,i)}}(r,s,Ft(bn(),n),i,o))}}function js(e,t,n,r,i,o){for(var s=null===t,a=void 0;i>0;){var u=e[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===Fr&&(f=h?ws:void 0);var d=h?st(f,r):l===r?f:void 0;if(c&&!Us(d)&&(d=st(u,r)),Us(d)&&(a=d,s))return a;var p=e[i+1];i=s?Gr(p):qr(p)}if(null!==t){var v=o?t.residualClasses:t.residualStyles;null!=v&&(a=st(v,r))}return a}function Us(e){return void 0!==e}function Bs(e,t){return 0!=(e.flags&(t?16:32))}function zs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Qt(),r=Kt(),i=e+20,o=r.firstCreatePass?Zr(r,n[6],e,3,null,null):r.data[i],s=n[i]=function(e,t){return Rt(t)?t.createText(e):t.createTextNode(e)}(t,n[11]);Xi(r,n,s,o),Xt(o,!1)}function Gs(e){return Hs("",e,""),Gs}function Hs(e,t,n){var r=Qt(),i=Qo(r,e,t,n);return i!==Fr&&Li(r,bn(),i),Hs}function qs(e,t,n,r,i){var o=Qt(),s=function(e,t,n,r,i,o){var s=Wo(e,on(),n,i);return an(2),s?t+jn(n)+r+jn(i)+o:Fr}(o,e,t,n,r,i);return s!==Fr&&Li(o,bn(),s),qs}function Ws(e,t,n){var r=Qt();return qo(r,sn(),t)&&ci(Kt(),wn(),r,e,t,r[11],n,!0),Ws}function $s(e,t,n){var r=Qt();if(qo(r,sn(),t)){var i=Kt(),o=wn();ci(i,o,r,e,t,Pi(ln(i.data),o,r),n,!0)}return $s}function Qs(e,t){var n=Ut(e)[1],r=n.data.length-1;Cn(n,{directiveStart:r,directiveEnd:r+1})}function Ks(e){for(var t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0,r=[e];t;){var i=void 0;if(At(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);var o=e;o.inputs=Ys(e.inputs),o.declaredInputs=Ys(e.declaredInputs),o.outputs=Ys(e.outputs);var s=i.hostBindings;s&&Js(e,s);var a=i.viewQuery,u=i.contentQueries;if(a&&Zs(e,a),u&&Xs(e,u),le(e.inputs,i.inputs),le(e.declaredInputs,i.declaredInputs),le(e.outputs,i.outputs),At(i)&&i.data.animation){var c=e.data;c.animation=(c.animation||[]).concat(i.data.animation)}o.afterContentChecked=o.afterContentChecked||i.afterContentChecked,o.afterContentInit=e.afterContentInit||i.afterContentInit,o.afterViewChecked=e.afterViewChecked||i.afterViewChecked,o.afterViewInit=e.afterViewInit||i.afterViewInit,o.doCheck=e.doCheck||i.doCheck,o.onDestroy=e.onDestroy||i.onDestroy,o.onInit=e.onInit||i.onInit}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(e),f===Ks&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,r=e.length-1;r>=0;r--){var i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Pn(i.hostAttrs,n=Pn(n,i.hostAttrs))}}(r)}function Ys(e){return e===lt?{}:e===ht?[]:e}function Zs(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,r){t(e,r),n(e,r)}:t}function Xs(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,r,i){t(e,r,i),n(e,r,i)}:t}function Js(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,r){t(e,r),n(e,r)}:t}var ea=function(){function e(t,n,r){_classCallCheck(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return _createClass(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function ta(e){e.type.prototype.ngOnChanges&&(e.setInput=na,e.onChanges=function(){var e=ra(this),t=e&&e.current;if(t){var n=e.previous;if(n===lt)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}})}function na(e,t,n,r){var i=ra(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:lt,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new ea(u&&u.currentValue,t,s===lt),e[r]=t}function ra(e){return e.__ngSimpleChanges__||null}function ia(e,t,n,r,i){if(e=Ee(e),Array.isArray(e))for(var o=0;o<e.length;o++)ia(e[o],t,n,r,i);else{var s=Kt(),a=Qt(),u=Oo(e)?e:Ee(e.provide),c=To(e),l=Zt(),h=65535&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>16;if(Oo(e)||!e.multi){var p=new An(c,i,Zo),v=aa(u,t,i?h:h+d,f);-1===v?(Xn(Qn(l,a),s,u),oa(s,e,t.length),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(p),a.push(p)):(n[v]=p,a[v]=p)}else{var g=aa(u,t,h+d,f),y=aa(u,t,h,h+d),m=g>=0&&n[g],_=y>=0&&n[y];if(i&&!_||!i&&!m){Xn(Qn(l,a),s,u);var b=function(e,t,n,r,i){var o=new An(e,n,Zo);return o.multi=[],o.index=t,o.componentProviders=0,sa(o,i,r&&!n),o}(i?ca:ua,n.length,i,r,c);!i&&_&&(n[y].providerFactory=b),oa(s,e,t.length,0),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(b),a.push(b)}else oa(s,e,g>-1?g:y,sa(n[i?y:g],c,!i&&r));!i&&r&&_&&n[y].componentProviders++}}}function oa(e,t,n,r){var i=Oo(t);if(i||t.useClass){var o=(t.useClass||t).prototype.ngOnDestroy;if(o){var s=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){var a=s.indexOf(n);-1===a?s.push(n,[r,o]):s[a+1].push(r,o)}else s.push(n,o)}}}function sa(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function aa(e,t,n,r){for(var i=n;i<r;i++)if(t[i]===e)return i;return-1}function ua(e,t,n,r){return la(this.multi,[])}function ca(e,t,n,r){var i,o=this.multi;if(this.providerFactory){var s=this.providerFactory.componentProviders,a=rr(n,n[1],this.providerFactory.index,r);la(o,i=a.slice(0,s));for(var u=s;u<a.length;u++)i.push(a[u])}else la(o,i=[]);return i}function la(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function ha(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(e,t,n){var r=Kt();if(r.firstCreatePass){var i=At(e);ia(n,r.data,r.blueprint,i,!0),ia(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}}ta.ngInherit=!0;var fa=function e(){_classCallCheck(this,e)},da=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(ke(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),pa=function(){var e=function e(){_classCallCheck(this,e)};return e.NULL=new da,e}(),va=function(){var e=function e(t){_classCallCheck(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=function(){return ga(e)},e}(),ga=function(e){return lo(e,Zt(),Qt())},ya=function e(){_classCallCheck(this,e)},ma=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),_a=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return ba()},e}(),ba=function(){var e=Qt(),t=jt(Zt().index,e);return function(e){var t=e[11];if(Rt(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(St(t)?t:e)},ka=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275prov=he({token:e,providedIn:"root",factory:function(){return null}}),e}(),wa=function e(t){_classCallCheck(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},Ca=new wa("9.1.11"),Sa=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return zo(e)}},{key:"create",value:function(e){return new Ia(e)}}]),e}(),Ea=function(e,t){return t},Ia=function(){function e(t){_classCallCheck(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ea}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<Oa(n,r,i)?t:n,s=Oa(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var u=s-r,c=a-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}s!==a&&e(o,s,a)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!zo(e))throw new Error("Error trying to diff '".concat(ke(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,o=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(var a=0;a<this.length;a++)r=e[a],i=this._trackByFn(a,r),null!==o&&Uo(o.trackById,i)?(s&&(o=this._verifyReinsertion(o,r,i,a)),Uo(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,a),s=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[jo()]();!(r=i.next()).done;)t(r.value)}(e,(function(e){i=t._trackByFn(n,e),null!==o&&Uo(o.trackById,i)?(s&&(o=t._verifyReinsertion(o,e,i,n)),Uo(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),s=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Uo(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Uo(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new Ta(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Aa),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Aa),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),e}(),Ta=function e(t,n){_classCallCheck(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},xa=function(){function e(){_classCallCheck(this,e),this._head=null,this._tail=null}return _createClass(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Uo(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),Aa=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new xa,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),e}();function Oa(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var Da=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return e instanceof Map||Go(e)}},{key:"create",value:function(){return new Ra}}]),e}(),Ra=function(){function e(){_classCallCheck(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Go(e)))throw new Error("Error trying to diff '".concat(ke(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Pa(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Uo(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),e}(),Pa=function e(t){_classCallCheck(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Na=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new ae,new oe]]}}}]),e}();return e.\u0275prov=he({token:e,providedIn:"root",factory:function(){return new e([new Sa])}}),e}(),Fa=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new ae,new oe]]}}}]),e}();return e.\u0275prov=he({token:e,providedIn:"root",factory:function(){return new e([new Da])}}),e}(),La=[new Da],Ma=new Na([new Sa]),Va=new Fa(La),ja=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Ua(e,va)},e}(),Ua=function(e,t){return ho(e,t,Zt(),Qt())},Ba=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return za(e,va)},e}(),za=function(e,t){return fo(e,t,Zt(),Qt())},Ga={},Ha=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).ngModule=e,r}return _createClass(n,[{key:"resolveComponentFactory",value:function(e){var t=kt(e);return new $a(t,this.ngModule)}}]),n}(pa);function qa(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var Wa=new Ue("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Bn}}),$a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).componentDef=e,i.ngModule=r,i.componentType=e.type,i.selector=e.selectors.map(Nr).join(","),i.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],i.isBoundToModule=!!r,i}return _createClass(n,[{key:"create",value:function(e,t,n,r){var i,o,s=(r=r||this.ngModule)?function(e,t){return{get:function(n,r,i){var o=e.get(n,Ga,i);return o!==Ga||r===Ga?o:t.get(n,r,i)}}}(e,r.injector):e,a=s.get(ya,Pt),u=s.get(ka,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(e,t,n){if(Rt(e))return e.selectRootElement(t,n===ct.ShadowDom);var r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Kr(l,a.createRenderer(null,this.componentDef),function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p={components:[],scheduler:Bn,clean:Oi,playerHandler:null,flags:0},v=si(0,-1,null,1,0,null,null,null,null,null),g=Yr(null,v,p,f,null,null,a,c,u,s);pn(g,null);try{var y=function(e,t,n,r,i,o){var s=n[1];n[20]=e;var a=Zr(s,null,0,3,null,null),u=a.mergedAttrs=t.hostAttrs;null!==u&&(Mo(a,u,!0),null!==e&&(On(i,e,u),null!==a.classes&&io(i,e,a.classes),null!==a.styles&&ro(i,e,a.styles)));var c=r.createRenderer(e,t),l=Yr(n,oi(t),null,t.onPush?64:16,n[20],a,r,c,void 0);return s.firstCreatePass&&(Xn(Qn(a,n),s,t.type),vi(s,a),yi(a,n.length,1)),Ei(n,l),n[20]=l}(h,this.componentDef,g,a,c);if(h)if(n)On(c,h,["ng-version",Ca.full]);else{var m=function(e){for(var t=[],n=[],r=1,i=2;r<e.length;){var o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Ar(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),_=m.attrs,b=m.classes;_&&On(c,h,_),b&&b.length>0&&io(c,h,b.join(" "))}if(o=Mt(v,0),void 0!==t)for(var k=o.projection=[],w=0;w<this.ngContentSelectors.length;w++){var C=t[w];k.push(null!=C?Array.from(C):null)}i=function(e,t,n,r,i){var o=n[1],s=function(e,t,n){var r=Zt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),pi(e,r,1),mi(e,t,n));var i=rr(t,e,t.length-1,r);kr(i,t);var o=Lt(r,t);return o&&kr(o,t),i}(o,n,t);r.components.push(s),e[8]=s,i&&i.forEach((function(e){return e(s,t)})),t.contentQueries&&t.contentQueries(1,s,n.length-1);var a=Zt();if(o.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){kn(a.index-20);var u=n[1];hi(u,t),fi(u,n,t.hostVars),di(t,s)}return s}(y,this.componentDef,g,p,[Qs]),Xr(v,g,null)}finally{_n()}var S=new Qa(this.componentType,i,lo(va,o,g),g,o);return n&&!d||(v.node.child=o),S}},{key:"inputs",get:function(){return qa(this.componentDef.inputs)}},{key:"outputs",get:function(){return qa(this.componentDef.outputs)}}]),n}(fa),Qa=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s){var a,u,c,l;return _classCallCheck(this,n),(a=t.call(this)).location=i,a._rootLView=o,a._tNode=s,a.destroyCbs=[],a.instance=r,a.hostView=a.changeDetectorRef=new co(o),u=o[1],c=o,null==(l=u.node)&&(u.node=l=ai(0,null,2,-1,null,null)),c[6]=l,a.componentType=e,a}return _createClass(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(e){this.destroyCbs&&this.destroyCbs.push(e)}},{key:"injector",get:function(){return new sr(this._tNode,this._rootLView)}}]),n}(function(){return function e(){_classCallCheck(this,e)}}()),Ka=void 0,Ya=["en",[["a","p"],["AM","PM"],Ka],[["AM","PM"],Ka,Ka],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ka,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ka,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ka,"{1} 'at' {0}",Ka],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],Za={};function Xa(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=Ja(t);if(n)return n;var r=t.split("-")[0];if(n=Ja(r))return n;if("en"===r)return Ya;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}function Ja(e){return e in Za||(Za[e]=Re.ng&&Re.ng.common&&Re.ng.common.locales&&Re.ng.common.locales[e]),Za[e]}var eu=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencyCode]="CurrencyCode",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.Directionality]="Directionality",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}();function tu(e){var t;null==(t=e)&&function(e,t,n,r){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(t," <=Actual]"))}(0,t),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}var nu=new Map,ru=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;_classCallCheck(this,n),(i=t.call(this))._parent=r,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[],i.componentFactoryResolver=new Ha(_assertThisInitialized(i));var o=Ct(e),s=e[Me]||null;return s&&tu(s),i._bootstrapComponents=Hn(o.bootstrap),i._r3Injector=So(e,r,[{provide:Je,useValue:_assertThisInitialized(i)},{provide:pa,useValue:i.componentFactoryResolver}],ke(e)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(e),i}return _createClass(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ro.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ue.Default;return e===Ro||e===Je||e===Be?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(Je),iu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).moduleType=e,null!==Ct(e)&&function e(t){if(null!==t.\u0275mod.id){var n=t.\u0275mod.id;(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(ke(t)," vs ").concat(ke(t.name)))})(n,nu.get(n),t),nu.set(n,t)}var r=t.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(t){return e(t)}))}(e),r}return _createClass(n,[{key:"create",value:function(e){return new ru(this.moduleType,e)}}]),n}(et);function ou(e,t,n){var r=rn()+e,i=Qt();return i[r]===Fr?Ho(i,r,n?t.call(n):t()):function(e,t){return e[t]}(i,r)}function su(e,t,n,r){return uu(Qt(),rn(),e,t,n,r)}function au(e,t){var n=e[t];return n===Fr?void 0:n}function uu(e,t,n,r,i,o){var s=t+n;return qo(e,s,i)?Ho(e,s+1,o?r.call(o,i):r(i)):au(e,s+1)}function cu(e,t){var n,r=Kt(),i=e+20;r.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var r=t[n];if(e===r.name)return r}throw new Error("The pipe '".concat(e,"' could not be found!"))}(t,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=wt(n.type)),s=$e(Zo),a=Wn(!1),u=o();return Wn(a),$e(s),function(e,t,n,r){var i=n+20;i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=r}(r,Qt(),e,u),u}function lu(e,t,n){var r=Qt(),i=Vt(r,e);return du(r,fu(r,e)?uu(r,rn(),t,i.transform,n,i):i.transform(n))}function hu(e,t,n,r){var i=Qt(),o=Vt(i,e);return du(i,fu(i,e)?function(e,t,n,r,i,o,s){var a=t+n;return Wo(e,a,i,o)?Ho(e,a+2,s?r.call(s,i,o):r(i,o)):au(e,a+2)}(i,rn(),t,o.transform,n,r,o):o.transform(n,r))}function fu(e,t){return e[1].data[t+20].pure}function du(e,t){return Bo.isWrapped(t)&&(t=Bo.unwrap(t),e[on()]=Fr),t}var pu=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(e=t.call(this)).__isAsync=r,e}return _createClass(n,[{key:"emit",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,r){var i,o=function(e){return null},s=function(){return null};e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},t&&(o=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)}),r&&(s=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var a=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,i,o,s);return e instanceof f&&e.add(a),a}}]),n}(x);function vu(){return this._results[jo()]()}var gu=function(){function e(){_classCallCheck(this,e),this.dirty=!0,this._results=[],this.changes=new pu,this.length=0;var t=jo(),n=e.prototype;n[t]||(n[t]=vu)}return _createClass(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=function e(t,n){void 0===n&&(n=t);for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?(n===t&&(n=t.slice(0,r)),e(i,n)):n!==t&&n.push(i)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),yu=function(){function e(t){_classCallCheck(this,e),this.queryList=t,this.matches=null}return _createClass(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),mu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new e(i)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==Fu(e,t).matches&&this.queries[t].setDirty()}}]),e}(),_u=function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.predicate=t,this.descendants=n,this.isStatic=r,this.read=i},bu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"track",value:function(e){this.queries.push(e)}},{key:"length",get:function(){return this.queries.length}}]),e}(),ku=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&4===n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,r=0;r<n.length;r++)this.matchTNodeWithReadOption(e,t,wu(t,n[r]));else{var i=this.metadata.predicate;i===ja?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,nr(t,e,i,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===va||r===Ba||r===ja&&0===t.type)this.addMatch(t.index,-2);else{var i=nr(t,e,r,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function wu(e,t){var n=e.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Cu(e,t,n,r){return-1===n?function(e,t){return 3===e.type||4===e.type?lo(va,e,t):0===e.type?ho(ja,va,e,t):null}(t,e):-2===n?function(e,t,n){return n===va?lo(va,t,e):n===ja?ho(ja,va,t,e):n===Ba?fo(Ba,va,t,e):void 0}(e,t,r):rr(e,e[1],n,t)}function Su(e,t,n,r){var i=t[19].queries[r];if(null===i.matches){for(var o=e.data,s=n.matches,a=[],u=0;u<s.length;u+=2){var c=s[u];a.push(c<0?null:Cu(t,o[c],s[u+1],n.metadata.read))}i.matches=a}return i.matches}function Eu(e){var t=Qt(),n=Kt(),r=hn();fn(r+1);var i=Fu(n,r);if(e.dirty&&Bt(t)===i.metadata.isStatic){if(null===i.matches)e.reset([]);else{var o=i.crossesNgTemplate?function e(t,n,r,i){var o=t.queries.getByIndex(r),s=o.matches;if(null!==s)for(var a=Su(t,n,o,r),u=0;u<s.length;u+=2){var c=s[u];if(c>0)i.push(a[u/2]);else{for(var l=s[u+1],h=n[-c],f=10;f<h.length;f++){var d=h[f];d[17]===d[3]&&e(d[1],d,l,i)}if(null!==h[9])for(var p=h[9],v=0;v<p.length;v++){var g=p[v];e(g[1],g,l,i)}}}return i}(n,t,r,[]):Su(n,t,i,r);e.reset(o),e.notifyOnChanges()}return!0}return!1}function Iu(e,t,n){xu(Kt(),Qt(),e,t,n,!0)}function Tu(e,t,n){xu(Kt(),Qt(),e,t,n,!1)}function xu(e,t,n,r,i,o){e.firstCreatePass&&(Nu(e,new _u(n,r,o,i),-1),o&&(e.staticViewQueries=!0)),Pu(e,t)}function Au(e,t,n,r){Du(Kt(),Qt(),t,n,r,!1,Zt(),e)}function Ou(e,t,n,r){Du(Kt(),Qt(),t,n,r,!0,Zt(),e)}function Du(e,t,n,r,i,o,s,a){e.firstCreatePass&&(Nu(e,new _u(n,r,o,i),s.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,a),o&&(e.staticContentQueries=!0)),Pu(e,t)}function Ru(){return e=Qt(),t=hn(),e[19].queries[t].queryList;var e,t}function Pu(e,t){var n=new gu;!function(e,t,n,r){var i=Di(t);i.push(n),e.firstCreatePass&&Ri(e).push(r,i.length-1)}(e,t,n,n.destroy),null===t[19]&&(t[19]=new mu),t[19].queries.push(new yu(n))}function Nu(e,t,n){null===e.queries&&(e.queries=new bu),e.queries.track(new ku(t,n))}function Fu(e,t){return e.queries.getByIndex(t)}function Lu(e,t){return ho(ja,va,e,t)}var Mu=new Ue("Application Initializer"),Vu=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();cs(i)&&t.push(i)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ke(Mu,8))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e}(),ju=new Ue("AppId"),Uu={provide:ju,useFactory:function(){return"".concat(Bu()).concat(Bu()).concat(Bu())},deps:[]};function Bu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var zu=new Ue("Platform Initializer"),Gu=new Ue("Platform ID"),Hu=new Ue("appBootstrapListener"),qu=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e}(),Wu=new Ue("LocaleId"),$u=new Ue("DefaultCurrencyCode"),Qu=function e(t,n){_classCallCheck(this,e),this.ngModuleFactory=t,this.componentFactories=n},Ku=function(e){return new iu(e)},Yu=Ku,Zu=function(e){return Promise.resolve(Ku(e))},Xu=function(e){var t=Ku(e),n=Hn(Ct(e).declarations).reduce((function(e,t){var n=kt(t);return n&&e.push(new $a(n)),e}),[]);return new Qu(t,n)},Ju=Xu,ec=function(e){return Promise.resolve(Xu(e))},tc=function(){var e=function(){function e(){_classCallCheck(this,e),this.compileModuleSync=Yu,this.compileModuleAsync=Zu,this.compileModuleAndAllComponentsSync=Ju,this.compileModuleAndAllComponentsAsync=ec}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e}(),nc=new Ue("compilerOptions"),rc=Promise.resolve(0);function ic(e){"undefined"==typeof Zone?rc.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var oc=function(){function e(t){var n,r,i=t.enableLongStackTrace,o=void 0!==i&&i,s=t.shouldCoalesceEventChangeDetection,a=void 0!==s&&s;if(_classCallCheck(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pu(!1),this.onMicrotaskEmpty=new pu(!1),this.onStable=new pu(!1),this.onError=new pu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=a,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=Re.requestAnimationFrame,t=Re.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Re,(function(){e.lastRequestAnimationFrameId=-1,cc(e),uc(e)})),cc(e))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(e,t,i,o,s,a){try{return lc(n),e.invokeTask(i,o,s,a)}finally{r&&"eventTask"===o.type&&r(),hc(n)}},onInvoke:function(e,t,r,i,o,s,a){try{return lc(n),e.invoke(r,i,o,s,a)}finally{hc(n)}},onHasTask:function(e,t,r,i){e.hasTask(r,i),t===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,cc(n),uc(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,t,r,i){return e.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,ac,sc,sc);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function sc(){}var ac={};function uc(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function cc(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function lc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function hc(e){e._nesting--,uc(e)}var fc,dc=function(){function e(){_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pu,this.onMicrotaskEmpty=new pu,this.onStable=new pu,this.onError=new pu}return _createClass(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]),e}(),pc=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){oc.assertNotInAngularZone(),ic((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())ic((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(e){return e.timeoutId!==i})),e(r._didWork,r.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ke(oc))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e}(),vc=function(){var e=function(){function e(){_classCallCheck(this,e),this._applications=new Map,gc.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return gc.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e}(),gc=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),yc=function(e,t,n){var r=e.get(nc,[]).concat(t),i=new iu(n);if(0===No.size)return Promise.resolve(i);var o,s,a=(o=r.map((function(e){return e.providers})),s=[],o.forEach((function(e){return e&&s.push.apply(s,_toConsumableArray(e))})),s);if(0===a.length)return Promise.resolve(i);var u=function(){var e=Re.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}(),c=Ro.create({providers:a}).get(u.ResourceLoader);return function(e){var t=[],n=new Map;function r(e){var t=n.get(e);if(!t){var r=function(e){return Promise.resolve(c.get(e))}(e);n.set(e,t=r.then(Lo))}return t}return No.forEach((function(e,n){var i=[];e.templateUrl&&i.push(r(e.templateUrl).then((function(t){e.template=t})));var o=e.styleUrls,s=e.styles||(e.styles=[]),a=e.styles.length;o&&o.forEach((function(t,n){s.push(""),i.push(r(t).then((function(r){s[a+n]=r,o.splice(o.indexOf(t),1),0==o.length&&(e.styleUrls=void 0)})))}));var u=Promise.all(i).then((function(){return function(e){Fo.delete(e)}(n)}));t.push(u)})),No=new Map,Promise.all(t).then((function(){}))}().then((function(){return i}))},mc=new Ue("AllowMultipleToken"),_c=function e(t,n){_classCallCheck(this,e),this.name=t,this.token=n};function bc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+t,i=new Ue(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=kc();if(!o||o.injector.get(mc,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var s=n.concat(t).concat({provide:i,useValue:!0},{provide:mo,useValue:"platform"});!function(e){if(fc&&!fc.destroyed&&!fc.injector.get(mc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");fc=e.get(wc);var t=e.get(zu,null);t&&t.forEach((function(e){return e()}))}(Ro.create({providers:s,name:r}))}return function(e){var t=kc();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function kc(){return fc&&!fc.destroyed?fc:null}var wc=function(){var e=function(){function e(t){_classCallCheck(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r,i=this,o=(n=t?t.ngZone:void 0,r=t&&t.ngZoneEventCoalescing||!1,"noop"===n?new dc:("zone.js"===n?void 0:n)||new oc({enableLongStackTrace:gr(),shouldCoalesceEventChangeDetection:r})),s=[{provide:oc,useValue:o}];return o.run((function(){var t=Ro.create({providers:s,parent:i.injector,name:e.moduleType.name}),n=e.create(t),r=n.injector.get(hr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return Ic(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(e){r.handleError(e)}})})),function(e,t,r){try{var o=((s=n.injector.get(Vu)).runInitializers(),s.donePromise.then((function(){return tu(n.injector.get(Wu,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return cs(o)?o.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):o}catch(a){throw t.runOutsideAngular((function(){return e.handleError(a)})),a}var s}(r,o)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Cc({},n);return yc(this.injector,r,e).then((function(e){return t.bootstrapModuleFactory(e,r)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(Ec);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(ke(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ke(Ro))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e}();function Cc(e,t){return Array.isArray(t)?t.reduce(Cc,e):Object.assign(Object.assign({},e),t)}var Sc,Ec=((Sc=function(){function e(t,n,r,i,o,s){var a=this;_classCallCheck(this,e),this._zone=t,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=gr(),this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run((function(){a.tick()}))}});var u=new w((function(e){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular((function(){e.next(a._stable),e.complete()}))})),c=new w((function(e){var t;a._zone.runOutsideAngular((function(){t=a._zone.onStable.subscribe((function(){oc.assertNotInAngularZone(),ic((function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,e.next(!0))}))}))}));var n=a._zone.onUnstable.subscribe((function(){oc.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,o=t[t.length-1];return O(o)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof o&&(r=t.pop()),null===i&&1===t.length&&t[0]instanceof w?t[0]:$(r)(Q(t,i))}(u,c.pipe((function(e){return K()((t=te,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,J);return r.source=e,r.subjectFactory=n,r})(e));var t})))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof fa?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(Je),o=n.create(Ro.NULL,[],t||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var s=o.injector.get(pc,null);return s&&o.injector.get(vc).registerApplication(o.location.nativeElement,s),this._loadComponent(o),gr()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(t=n.n()).done;)t.value.detectChanges()}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;)r.value.checkNoChanges()}catch(o){i.e(o)}finally{i.f()}}}catch(s){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(s)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;Ic(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Hu,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),Ic(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}()).\u0275fac=function(e){return new(e||Sc)(Ke(oc),Ke(qu),Ke(Ro),Ke(hr),Ke(pa),Ke(Vu))},Sc.\u0275prov=he({token:Sc,factory:Sc.\u0275fac}),Sc);function Ic(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Tc=function e(){_classCallCheck(this,e)},xc=function e(){_classCallCheck(this,e)},Ac={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Oc=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._compiler=t,this._config=n||Ac}return _createClass(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,r=_slicedToArray(e.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(e){return e[o]})).then((function(e){return Dc(e,i,o)})).then((function(e){return t._compiler.compileModuleAsync(e)}))}},{key:"loadFactory",value:function(e){var t=_slicedToArray(e.split("#"),2),r=t[0],i=t[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(e){return e[i+o]})).then((function(e){return Dc(e,r,i)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ke(tc),Ke(xc,8))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e}();function Dc(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var Rc=bc(null,"core",[{provide:Gu,useValue:"unknown"},{provide:wc,deps:[Ro]},{provide:vc,deps:[]},{provide:qu,deps:[]}]),Pc=[{provide:Ec,useClass:Ec,deps:[oc,qu,Ro,hr,pa,Vu]},{provide:Wa,deps:[oc],useFactory:function(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}},{provide:Vu,useClass:Vu,deps:[[new oe,Mu]]},{provide:tc,useClass:tc,deps:[]},Uu,{provide:Na,useFactory:function(){return Ma},deps:[]},{provide:Fa,useFactory:function(){return Va},deps:[]},{provide:Wu,useFactory:function(e){return tu(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new ie(Wu),new oe,new ae]]},{provide:$u,useValue:"USD"}],Nc=function(){var e=function e(t){_classCallCheck(this,e)};return e.\u0275mod=yt({type:e}),e.\u0275inj=fe({factory:function(t){return new(t||e)(Ke(Ec))},providers:Pc}),e}(),Fc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._value=e,r}return _createClass(n,[{key:"_subscribe",value:function(e){var t=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new E;return this._value}},{key:"next",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=e)}},{key:"value",get:function(){return this.getValue()}}]),n}(x),Lc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"schedule",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(f)),Mc=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck(this,e),this.SchedulerAction=t,this.now=n}return _createClass(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),Vc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mc.now;return _classCallCheck(this,n),(r=t.call(this,e,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(r)?n.delegate.now():i()}))).actions=[],r.active=!1,r.scheduled=void 0,r}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(Mc),jc=new Vc(Lc);function Uc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return O(r)?(t.pop(),z(t,r)):Q(t)}function Bc(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new zc(e,t,n))}}var zc=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Gc(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),Gc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;return _classCallCheck(this,n),(s=t.call(this,e)).accumulator=r,s._seed=i,s.hasSeed=o,s.index=0,s}return _createClass(n,[{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}},{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}}]),n}(v);function Hc(e,t){return function(n){return n.lift(new qc(e,t))}}var qc=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Wc(e,this.predicate,this.thisArg))}}]),e}(),Wc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(v),$c=new w((function(e){return e.complete()}));function Qc(e){return e?function(e){return new w((function(t){return e.schedule((function(){return t.complete()}))}))}(e):$c}var Kc,Yc=((Kc=function(){function e(t,n,r){_classCallCheck(this,e),this.kind=t,this.value=n,this.error=r,this.hasValue="N"===t}return _createClass(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Uc(this.value);case"E":return e=this.error,new w((function(t){return t.error(e)}));case"C":return Qc()}var e;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}()).completeNotification=new Kc("C"),Kc.undefinedValueNotification=new Kc("N",void 0),Kc);function Zc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new Xc(e,t))}}var Xc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Jc(e,this.scheduler,this.delay))}}]),e}(),Jc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=t.call(this,e)).scheduler=r,i.delay=o,i}return _createClass(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new el(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(Yc.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(Yc.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(Yc.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),n}(v),el=function e(t,n){_classCallCheck(this,e),this.notification=t,this.destination=n},tl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):e.flush(this)}}]),n}(Lc),nl=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(Vc))(tl);function rl(){}function il(e,t,n){return function(r){return r.lift(new ol(e,t,n))}}var ol=function(){function e(t,n,r){_classCallCheck(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new sl(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),sl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,s){var a;return _classCallCheck(this,n),(a=t.call(this,e))._tapNext=rl,a._tapError=rl,a._tapComplete=rl,a._tapError=o||rl,a._tapComplete=s||rl,r(i)?(a._context=_assertThisInitialized(a),a._tapNext=i):i&&(a._context=i,a._tapNext=i.next||rl,a._tapError=i.error||rl,a._tapComplete=i.complete||rl),a}return _createClass(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(v),al=1,ul=Promise.resolve(),cl={};function ll(e){return e in cl&&(delete cl[e],!0)}var hl=function(e){var t=al++;return cl[t]=!0,ul.then((function(){return ll(t)&&e()})),t},fl=function(e){ll(e)},dl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=hl(e.flush.bind(e,null))))}},{key:"recycleAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,e,t,r);0===e.actions.length&&(fl(t),e.scheduled=void 0)}}]),n}(Lc),pl=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(Vc))(dl),vl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pl;return _classCallCheck(this,n),(r=t.call(this)).source=e,r.delayTime=o,r.scheduler=s,(u(i=o)||!(i-parseFloat(i)+1>=0)||o<0)&&(r.delayTime=0),s&&"function"==typeof s.schedule||(r.scheduler=pl),r}return _createClass(n,[{key:"_subscribe",value:function(e){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:e})}}],[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pl;return new n(e,t,r)}},{key:"dispatch",value:function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))}}]),n}(w),gl=function(){function e(t,n){_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return new vl(t,this.delay,this.scheduler).subscribe(e)}}]),e}(),yl=n("Wcq6");function ml(){}var _l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nl;_classCallCheck(this,e),this.zone=t,this.delegate=n}return _createClass(e,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(e,t,n){var r=this.zone;return this.delegate.schedule((function(t){var n=this;r.runGuarded((function(){e.apply(n,[t])}))}),t,n)}}]),e}(),bl=function(){function e(t){_classCallCheck(this,e),this.zone=t,this.task=null}return _createClass(e,[{key:"call",value:function(e,t){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",ml,{},ml,ml)})),t.pipe(il({next:n,complete:n,error:n})).subscribe(e).add(n)}},{key:"unscheduleTask",value:function(){var e=this;setTimeout((function(){null!=e.task&&"scheduled"===e.task.state&&(e.task.invoke(),e.task=null)}),10)}}]),e}(),kl=function e(t){_classCallCheck(this,e),this.ngZone=t,this.outsideAngular=t.runOutsideAngular((function(){return new _l(Zone.current)})),this.insideAngular=t.run((function(){return new _l(Zone.current,jc)}))};function wl(e){return function(t){return(t=t.lift(new bl(e.ngZone))).pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new gl(e,t))}}(e.outsideAngular),Zc(e.insideAngular))}}var Cl=["ngOnDestroy"],Sl=new Ue("angularfire2.app.options"),El=new Ue("angularfire2.app.nameOrConfig"),Il=new wa("6.0.2");function Tl(e,t,n){var r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",yl.apps.filter((function(e){return e&&e.name===r.name}))[0]||t.runOutsideAngular((function(){return Object(yl.initializeApp)(e,r)}))}var xl,Al={provide:function e(){_classCallCheck(this,e)},useFactory:Tl,deps:[Sl,oc,[new oe,El]]},Ol=((xl=function(){function e(t){_classCallCheck(this,e),Object(yl.registerVersion)("angularfire",Il.full,t.toString()),Object(yl.registerVersion)("angular",Ca.full)}return _createClass(e,null,[{key:"initializeApp",value:function(t,n){return{ngModule:e,providers:[{provide:Sl,useValue:t},{provide:El,useValue:n}]}}}]),e}()).\u0275mod=yt({type:xl}),xl.\u0275inj=fe({factory:function(e){return new(e||xl)(Ke(Gu))},providers:[Al]}),xl),Dl=null;function Rl(){return Dl}var Pl,Nl=new Ue("DocumentToken"),Fl=((Pl=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Pl)},Pl.\u0275prov=he({factory:Ll,token:Pl,providedIn:"platform"}),Pl);function Ll(){return Ke(jl)}var Ml,Vl=new Ue("Location Initialized"),jl=((Ml=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=Rl().getLocation(),this._history=Rl().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return Rl().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){Rl().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){Rl().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"pushState",value:function(e,t,n){Ul()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){Ul()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(Fl)).\u0275fac=function(e){return new(e||Ml)(Ke(Nl))},Ml.\u0275prov=he({factory:Bl,token:Ml,providedIn:"platform"}),Ml);function Ul(){return!!window.history.pushState}function Bl(){return new jl(Ke(Nl))}function zl(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function Gl(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Hl(e){return e&&"?"!==e[0]?"?"+e:e}var ql,Wl=((ql=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||ql)},ql.\u0275prov=he({factory:$l,token:ql,providedIn:"root"}),ql);function $l(e){var t=Ke(Nl).location;return new Xl(Ke(Fl),t&&t.origin||"")}var Ql,Kl,Yl,Zl=new Ue("appBaseHref"),Xl=((Yl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;if(_classCallCheck(this,n),(i=t.call(this))._platformLocation=e,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return zl(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+Hl(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+Hl(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+Hl(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(Wl)).\u0275fac=function(e){return new(e||Yl)(Ke(Fl),Ke(Zl,8))},Yl.\u0275prov=he({token:Yl,factory:Yl.\u0275fac}),Yl),Jl=((Kl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._platformLocation=e,i._baseHref="",null!=r&&(i._baseHref=r),i}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=zl(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+Hl(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+Hl(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(Wl)).\u0275fac=function(e){return new(e||Kl)(Ke(Fl),Ke(Zl,8))},Kl.\u0275prov=he({token:Kl,factory:Kl.\u0275fac}),Kl),eh=((Ql=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._subject=new pu,this._urlChangeListeners=[],this._platformStrategy=t;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=Gl(nh(i)),this._platformStrategy.onPopState((function(e){r._subject.emit({url:r.path(!0),pop:!0,state:e.state,type:e.type})}))}return _createClass(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+Hl(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,nh(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Hl(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Hl(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this.subscribe((function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}()).\u0275fac=function(e){return new(e||Ql)(Ke(Wl),Ke(Fl))},Ql.normalizeQueryParams=Hl,Ql.joinWithSlash=zl,Ql.stripTrailingSlash=Gl,Ql.\u0275prov=he({factory:th,token:Ql,providedIn:"root"}),Ql);function th(){return new eh(Ke(Wl),Ke(Fl))}function nh(e){return e.replace(/\/index.html$/,"")}var rh=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),ih=function(){var e={Format:0,Standalone:1};return e[e.Format]="Format",e[e.Standalone]="Standalone",e}(),oh=function(){var e={Narrow:0,Abbreviated:1,Wide:2,Short:3};return e[e.Narrow]="Narrow",e[e.Abbreviated]="Abbreviated",e[e.Wide]="Wide",e[e.Short]="Short",e}(),sh=function(){var e={Short:0,Medium:1,Long:2,Full:3};return e[e.Short]="Short",e[e.Medium]="Medium",e[e.Long]="Long",e[e.Full]="Full",e}(),ah=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}();function uh(e,t,n){var r=Xa(e),i=vh([r[eu.DaysFormat],r[eu.DaysStandalone]],t);return vh(i,n)}function ch(e,t,n){var r=Xa(e),i=vh([r[eu.MonthsFormat],r[eu.MonthsStandalone]],t);return vh(i,n)}function lh(e,t){return vh(Xa(e)[eu.DateFormat],t)}function hh(e,t){return vh(Xa(e)[eu.TimeFormat],t)}function fh(e,t){return vh(Xa(e)[eu.DateTimeFormat],t)}function dh(e,t){var n=Xa(e),r=n[eu.NumberSymbols][t];if(void 0===r){if(t===ah.CurrencyDecimal)return n[eu.NumberSymbols][ah.Decimal];if(t===ah.CurrencyGroup)return n[eu.NumberSymbols][ah.Group]}return r}function ph(e){if(!e[eu.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(e[eu.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function vh(e,t){for(var n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function gh(e){var t=_slicedToArray(e.split(":"),2);return{hours:+t[0],minutes:+t[1]}}var yh=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,mh={},_h=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,bh=function(){var e={Short:0,ShortGMT:1,Long:2,Extended:3};return e[e.Short]="Short",e[e.ShortGMT]="ShortGMT",e[e.Long]="Long",e[e.Extended]="Extended",e}(),kh=function(){var e={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return e[e.FullYear]="FullYear",e[e.Month]="Month",e[e.Date]="Date",e[e.Hours]="Hours",e[e.Minutes]="Minutes",e[e.Seconds]="Seconds",e[e.FractionalSeconds]="FractionalSeconds",e[e.Day]="Day",e}(),wh=function(){var e={DayPeriods:0,Days:1,Months:2,Eras:3};return e[e.DayPeriods]="DayPeriods",e[e.Days]="Days",e[e.Months]="Months",e[e.Eras]="Eras",e}();function Ch(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e}function Sh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,o=n));for(var s=String(e);s.length<t;)s="0"+s;return r&&(s=s.substr(s.length-t)),o+s}function Eh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(o,s){var a,u=function(e,t){switch(e){case kh.FullYear:return t.getFullYear();case kh.Month:return t.getMonth();case kh.Date:return t.getDate();case kh.Hours:return t.getHours();case kh.Minutes:return t.getMinutes();case kh.Seconds:return t.getSeconds();case kh.FractionalSeconds:return t.getMilliseconds();case kh.Day:return t.getDay();default:throw new Error('Unknown DateType value "'.concat(e,'".'))}}(e,o);if((n>0||u>-n)&&(u+=n),e===kh.Hours)0===u&&-12===n&&(u=12);else if(e===kh.FractionalSeconds)return a=t,Sh(u,3).substr(0,a);var c=dh(s,ah.MinusSign);return Sh(u,t,c,r,i)}}function Ih(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ih.Format,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i,o){return function(e,t,n,r,i,o){switch(n){case wh.Months:return ch(t,i,r)[e.getMonth()];case wh.Days:return uh(t,i,r)[e.getDay()];case wh.DayPeriods:var s=e.getHours(),a=e.getMinutes();if(o){var u,c=function(e){var t=Xa(e);return ph(t),(t[eu.ExtraData][2]||[]).map((function(e){return"string"==typeof e?gh(e):[gh(e[0]),gh(e[1])]}))}(t),l=function(e,t,n){var r=Xa(e);ph(r);var i=vh([r[eu.ExtraData][0],r[eu.ExtraData][1]],t)||[];return vh(i,n)||[]}(t,i,r);if(c.forEach((function(e,t){if(Array.isArray(e)){var n=e[0],r=n.hours,i=n.minutes,o=e[1],c=o.hours,h=o.minutes;s>=r&&a>=i&&(s<c||s===c&&a<h)&&(u=l[t])}else{var f=e.hours,d=e.minutes;f===s&&d===a&&(u=l[t])}})),u)return u}return function(e,t,n){var r=Xa(e),i=vh([r[eu.DayPeriodsFormat],r[eu.DayPeriodsStandalone]],t);return vh(i,n)}(t,i,r)[s<12?0:1];case wh.Eras:return function(e,t){return vh(Xa(e)[eu.Eras],t)}(t,r)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(i,o,e,t,n,r)}}function Th(e){return function(t,n,r){var i=-1*r,o=dh(n,ah.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case bh.Short:return(i>=0?"+":"")+Sh(s,2,o)+Sh(Math.abs(i%60),2,o);case bh.ShortGMT:return"GMT"+(i>=0?"+":"")+Sh(s,1,o);case bh.Long:return"GMT"+(i>=0?"+":"")+Sh(s,2,o)+":"+Sh(Math.abs(i%60),2,o);case bh.Extended:return 0===r?"Z":(i>=0?"+":"")+Sh(s,2,o)+":"+Sh(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'.concat(e,'"'))}}}function xh(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var i,o,s,a;if(t){var u=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,c=n.getDate();i=1+Math.floor((c+u)/7)}else{var l=(o=n.getFullYear(),s=new Date(o,0,1).getDay(),new Date(o,0,1+(s<=4?4:11)-s)),h=(a=n,new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))).getTime()-l.getTime();i=1+Math.round(h/6048e5)}return Sh(i,e,dh(r,ah.MinusSign))}}var Ah={};function Oh(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function Dh(e){return e instanceof Date&&!isNaN(e.valueOf())}var Rh,Ph,Nh,Fh,Lh=function e(){_classCallCheck(this,e)},Mh=((Ph=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).locale=e,r}return _createClass(n,[{key:"getPluralCategory",value:function(e,t){switch(function(e){return Xa(e)[eu.PluralCase]}(t||this.locale)(e)){case rh.Zero:return"zero";case rh.One:return"one";case rh.Two:return"two";case rh.Few:return"few";case rh.Many:return"many";default:return"other"}}}]),n}(Lh)).\u0275fac=function(e){return new(e||Ph)(Ke(Wu))},Ph.\u0275prov=he({token:Ph,factory:Ph.\u0275fac}),Ph),Vh=((Rh=function(){function e(t,n,r,i){_classCallCheck(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return _createClass(e,[{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachRemovedItem((function(e){e.previousValue&&t._toggleClass(e.key,!1)}))}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+ke(e.item));t._toggleClass(e.item,!0)})),e.forEachRemovedItem((function(e){return t._toggleClass(e.item,!1)}))}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!0)})):Object.keys(e).forEach((function(n){return t._toggleClass(n,!!e[n])})))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!1)})):Object.keys(e).forEach((function(e){return t._toggleClass(e,!1)})))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach((function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)}))}},{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(zo(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}}]),e}()).\u0275fac=function(e){return new(e||Rh)(Zo(Na),Zo(Fa),Zo(va),Zo(_a))},Rh.\u0275dir=_t({type:Rh,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),Rh),jh=function(){function e(t,n,r,i){_classCallCheck(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),Uh=((Nh=function(){function e(t,n,r){_classCallCheck(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(e,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation((function(e,r,i){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new jh(null,t._ngForOf,-1,-1),null===i?void 0:i),s=new Bh(e,o);n.push(s)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var a=t._viewContainer.get(r);t._viewContainer.move(a,i);var u=new Bh(e,a);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var s=this._viewContainer.get(i);s.context.index=i,s.context.count=o,s.context.ngForOf=this._ngForOf}e.forEachIdentityChange((function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item}))}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}},{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(e){gr()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=e},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||Nh)(Zo(Ba),Zo(ja),Zo(Na))},Nh.\u0275dir=_t({type:Nh,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),Nh),Bh=function e(t,n){_classCallCheck(this,e),this.record=t,this.view=n},zh=((Fh=function(){function e(t,n){_classCallCheck(this,e),this._viewContainer=t,this._context=new Gh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(e,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){Hh("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){Hh("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||Fh)(Zo(Ba),Zo(ja))},Fh.\u0275dir=_t({type:Fh,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),Fh),Gh=function e(){_classCallCheck(this,e),this.$implicit=null,this.ngIf=null};function Hh(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(ke(t),"'."))}var qh,Wh,$h,Qh=function(){function e(t,n){_classCallCheck(this,e),this._viewContainerRef=t,this._templateRef=n,this._created=!1}return _createClass(e,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}]),e}(),Kh=(($h=function(){function e(){_classCallCheck(this,e),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return _createClass(e,[{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}},{key:"_matchCase",value:function(e){var t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}},{key:"_updateDefaultCases",value:function(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(var t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}},{key:"ngSwitch",set:function(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}}]),e}()).\u0275fac=function(e){return new(e||$h)},$h.\u0275dir=_t({type:$h,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),$h),Yh=((Wh=function(){function e(t,n,r){_classCallCheck(this,e),this.ngSwitch=r,r._addCase(),this._view=new Qh(t,n)}return _createClass(e,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),e}()).\u0275fac=function(e){return new(e||Wh)(Zo(Ba),Zo(ja),Zo(Kh,1))},Wh.\u0275dir=_t({type:Wh,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),Wh),Zh=((qh=function(){function e(t){_classCallCheck(this,e),this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return _createClass(e,[{key:"ngOnChanges",value:function(e){if(this._shouldRecreateView(e)){var t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}},{key:"_shouldRecreateView",value:function(e){var t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}},{key:"_hasContextShapeChanged",value:function(e){var t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){var r,i=_createForOfIteratorHelper(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(-1===t.indexOf(o))return!0}}catch(s){i.e(s)}finally{i.f()}return!1}return!0}},{key:"_updateExistingContext",value:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];this._viewRef.context[r]=this.ngTemplateOutletContext[r]}}}]),e}()).\u0275fac=function(e){return new(e||qh)(Zo(Ba))},qh.\u0275dir=_t({type:qh,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[ta]}),qh);function Xh(e,t){return Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(ke(e),"'"))}var Jh,ef,tf,nf=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"createSubscription",value:function(e,t){return e.subscribe({next:t,error:function(e){throw e}})}},{key:"dispose",value:function(e){e.unsubscribe()}},{key:"onDestroy",value:function(e){e.unsubscribe()}}]),e}(),rf=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"createSubscription",value:function(e,t){return e.then(t,(function(e){throw e}))}},{key:"dispose",value:function(e){}},{key:"onDestroy",value:function(e){}}]),e}()),of=new nf,sf=((tf=function(){function e(t){_classCallCheck(this,e),this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return _createClass(e,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):Uo(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,Bo.wrap(this._latestValue)):(e&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue)}},{key:"_subscribe",value:function(e){var t=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,(function(n){return t._updateLatestValue(e,n)}))}},{key:"_selectStrategy",value:function(t){if(cs(t))return rf;if(ls(t))return of;throw Xh(e,t)}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}]),e}()).\u0275fac=function(e){return new(e||tf)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue.Default,t=po(!0);if(null!=t||e&ue.Optional)return t;throw new Error("No provider for ChangeDetectorRef!")}())},tf.\u0275pipe=bt({name:"async",type:tf,pure:!1}),tf),af=((ef=function(){function e(t){_classCallCheck(this,e),this.locale=t}return _createClass(e,[{key:"transform",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(null==t||""===t||t!=t)return null;try{return function(e,t,n,r){var i=function(e){if(Dh(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();var t,n=parseFloat(e);if(!isNaN(e-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var r=_slicedToArray(e.split("-").map((function(e){return+e})),3),i=r[0],o=r[1],s=r[2];return new Date(i,o-1,s)}if(t=e.match(yh))return function(e){var t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));var s=Number(e[4]||0)-n,a=Number(e[5]||0)-r,u=Number(e[6]||0),c=Math.round(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,s,a,u,c),t}(t)}var a=new Date(e);if(!Dh(a))throw new Error('Unable to convert "'.concat(e,'" into a date'));return a}(e);t=function e(t,n){var r=function(e){return Xa(e)[eu.LocaleId]}(t);if(mh[r]=mh[r]||{},mh[r][n])return mh[r][n];var i="";switch(n){case"shortDate":i=lh(t,sh.Short);break;case"mediumDate":i=lh(t,sh.Medium);break;case"longDate":i=lh(t,sh.Long);break;case"fullDate":i=lh(t,sh.Full);break;case"shortTime":i=hh(t,sh.Short);break;case"mediumTime":i=hh(t,sh.Medium);break;case"longTime":i=hh(t,sh.Long);break;case"fullTime":i=hh(t,sh.Full);break;case"short":var o=e(t,"shortTime"),s=e(t,"shortDate");i=Ch(fh(t,sh.Short),[o,s]);break;case"medium":var a=e(t,"mediumTime"),u=e(t,"mediumDate");i=Ch(fh(t,sh.Medium),[a,u]);break;case"long":var c=e(t,"longTime"),l=e(t,"longDate");i=Ch(fh(t,sh.Long),[c,l]);break;case"full":var h=e(t,"fullTime"),f=e(t,"fullDate");i=Ch(fh(t,sh.Full),[h,f])}return i&&(mh[r][n]=i),i}(n,t)||t;for(var o,s=[];t;){if(!(o=_h.exec(t))){s.push(t);break}var a=(s=s.concat(o.slice(1))).pop();if(!a)break;t=a}var u=i.getTimezoneOffset();r&&(u=Oh(r,u),i=function(e,t,n){var r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(Oh(t,r)-r))}(i,r));var c="";return s.forEach((function(e){var t=function(e){if(Ah[e])return Ah[e];var t;switch(e){case"G":case"GG":case"GGG":t=Ih(wh.Eras,oh.Abbreviated);break;case"GGGG":t=Ih(wh.Eras,oh.Wide);break;case"GGGGG":t=Ih(wh.Eras,oh.Narrow);break;case"y":t=Eh(kh.FullYear,1,0,!1,!0);break;case"yy":t=Eh(kh.FullYear,2,0,!0,!0);break;case"yyy":t=Eh(kh.FullYear,3,0,!1,!0);break;case"yyyy":t=Eh(kh.FullYear,4,0,!1,!0);break;case"M":case"L":t=Eh(kh.Month,1,1);break;case"MM":case"LL":t=Eh(kh.Month,2,1);break;case"MMM":t=Ih(wh.Months,oh.Abbreviated);break;case"MMMM":t=Ih(wh.Months,oh.Wide);break;case"MMMMM":t=Ih(wh.Months,oh.Narrow);break;case"LLL":t=Ih(wh.Months,oh.Abbreviated,ih.Standalone);break;case"LLLL":t=Ih(wh.Months,oh.Wide,ih.Standalone);break;case"LLLLL":t=Ih(wh.Months,oh.Narrow,ih.Standalone);break;case"w":t=xh(1);break;case"ww":t=xh(2);break;case"W":t=xh(1,!0);break;case"d":t=Eh(kh.Date,1);break;case"dd":t=Eh(kh.Date,2);break;case"E":case"EE":case"EEE":t=Ih(wh.Days,oh.Abbreviated);break;case"EEEE":t=Ih(wh.Days,oh.Wide);break;case"EEEEE":t=Ih(wh.Days,oh.Narrow);break;case"EEEEEE":t=Ih(wh.Days,oh.Short);break;case"a":case"aa":case"aaa":t=Ih(wh.DayPeriods,oh.Abbreviated);break;case"aaaa":t=Ih(wh.DayPeriods,oh.Wide);break;case"aaaaa":t=Ih(wh.DayPeriods,oh.Narrow);break;case"b":case"bb":case"bbb":t=Ih(wh.DayPeriods,oh.Abbreviated,ih.Standalone,!0);break;case"bbbb":t=Ih(wh.DayPeriods,oh.Wide,ih.Standalone,!0);break;case"bbbbb":t=Ih(wh.DayPeriods,oh.Narrow,ih.Standalone,!0);break;case"B":case"BB":case"BBB":t=Ih(wh.DayPeriods,oh.Abbreviated,ih.Format,!0);break;case"BBBB":t=Ih(wh.DayPeriods,oh.Wide,ih.Format,!0);break;case"BBBBB":t=Ih(wh.DayPeriods,oh.Narrow,ih.Format,!0);break;case"h":t=Eh(kh.Hours,1,-12);break;case"hh":t=Eh(kh.Hours,2,-12);break;case"H":t=Eh(kh.Hours,1);break;case"HH":t=Eh(kh.Hours,2);break;case"m":t=Eh(kh.Minutes,1);break;case"mm":t=Eh(kh.Minutes,2);break;case"s":t=Eh(kh.Seconds,1);break;case"ss":t=Eh(kh.Seconds,2);break;case"S":t=Eh(kh.FractionalSeconds,1);break;case"SS":t=Eh(kh.FractionalSeconds,2);break;case"SSS":t=Eh(kh.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Th(bh.Short);break;case"ZZZZZ":t=Th(bh.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Th(bh.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Th(bh.Long);break;default:return null}return Ah[e]=t,t}(e);c+=t?t(i,n,u):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),c}(t,n,i||this.locale,r)}catch(o){throw Xh(e,o.message)}}}]),e}()).\u0275fac=function(e){return new(e||ef)(Zo(Wu))},ef.\u0275pipe=bt({name:"date",type:ef,pure:!0}),ef),uf=((Jh=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:Jh}),Jh.\u0275inj=fe({factory:function(e){return new(e||Jh)},providers:[{provide:Lh,useClass:Mh}]}),Jh);function cf(e){return"browser"===e}var lf,hf=((lf=function e(){_classCallCheck(this,e)}).\u0275prov=he({token:lf,providedIn:"root",factory:function(){return new ff(Ke(Nl),window,Ke(hr))}}),lf),ff=function(){function e(t,n,r){_classCallCheck(this,e),this.document=t,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var t=this.document.querySelector("#"+e);if(t)return void this.scrollToElement(t);var n=this.document.querySelector("[name='".concat(e,"']"));if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}]),e}(),df=n("wj3C"),pf=n.n(df),vf=n("6Joi");function gf(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jc;return new w((function(n){var r;return null!=t?t.schedule((function(){r=e.onSnapshot(n)})):r=e.onSnapshot(n),function(){null!=r&&r()}}))}(e,t)}function yf(e,t){return gf(e,t).pipe(j((function(e){return{payload:e,type:"query"}})))}function mf(e,t){return yf(e,t).pipe(j((function(e){return e.payload.docChanges().map((function(e){return{type:e.type,payload:e}}))})))}function _f(e,t,n){return yf(e,n).pipe(j((function(e){return e.payload.docChanges()})),Bc((function(e,n){return function(e,t,n){return t.forEach((function(t){n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":e[t.newIndex]&&e[t.newIndex].doc.ref.isEqual(t.doc.ref)||e.splice(t.newIndex,0,t);break;case"modified":(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref))&&(t.oldIndex!==t.newIndex?(e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t)):e.splice(t.newIndex,1,t));break;case"removed":e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref)&&e.splice(t.oldIndex,1)}return e}(e,t))})),e}(e,n,t)}),[]),j((function(e){return e.map((function(e){return{type:e.type,payload:e}}))})))}function bf(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}var kf=function(){function e(t,n,r){_classCallCheck(this,e),this.ref=t,this.query=n,this.afs=r}return _createClass(e,[{key:"stateChanges",value:function(e){return e&&0!==e.length?mf(this.query,this.afs.schedulers.outsideAngular).pipe(j((function(t){return t.filter((function(t){return e.indexOf(t.type)>-1}))})),Hc((function(e){return e.length>0})),this.afs.keepUnstableUntilFirst):mf(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(Bc((function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(t))}),[]))}},{key:"snapshotChanges",value:function(e){var t=bf(e);return _f(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return yf(this.query,this.afs.schedulers.outsideAngular).pipe(j((function(t){return t.payload.docs.map((function(t){return e.idField?Object.assign(Object.assign({},t.data()),_defineProperty({},e.idField,t.id)):t.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(e){return G(this.query.get(e)).pipe(Zc(this.afs.schedulers.insideAngular))}},{key:"add",value:function(e){return this.ref.add(e)}},{key:"doc",value:function(e){return new wf(this.ref.doc(e),this.afs)}}]),e}(),wf=function(){function e(t,n){_classCallCheck(this,e),this.ref=t,this.afs=n}return _createClass(e,[{key:"set",value:function(e,t){return this.ref.set(e,t)}},{key:"update",value:function(e){return this.ref.update(e)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(e,t){var n=Tf(this.ref.collection(e),t),r=n.ref,i=n.query;return new kf(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return gf(this.ref,this.afs.schedulers.outsideAngular).pipe(j((function(e){return{payload:e,type:"value"}}))).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return this.snapshotChanges().pipe(j((function(e){return e.payload.data()})))}},{key:"get",value:function(e){return G(this.ref.get(e)).pipe(Zc(this.afs.schedulers.insideAngular))}}]),e}(),Cf=function(){function e(t,n){_classCallCheck(this,e),this.query=t,this.afs=n}return _createClass(e,[{key:"stateChanges",value:function(e){return e&&0!==e.length?mf(this.query,this.afs.schedulers.outsideAngular).pipe(j((function(t){return t.filter((function(t){return e.indexOf(t.type)>-1}))})),Hc((function(e){return e.length>0})),this.afs.keepUnstableUntilFirst):mf(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(Bc((function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(t))}),[]))}},{key:"snapshotChanges",value:function(e){var t=bf(e);return _f(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return yf(this.query,this.afs.schedulers.outsideAngular).pipe(j((function(e){return e.payload.docs.map((function(e){return e.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(e){return G(this.query.get(e)).pipe(Zc(this.afs.schedulers.insideAngular))}}]),e}(),Sf=new Ue("angularfire2.enableFirestorePersistence"),Ef=new Ue("angularfire2.firestore.persistenceSettings"),If=new Ue("angularfire2.firestore.settings");function Tf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return{query:t(e),ref:e}}var xf,Af,Of=((Af=function(){function e(t,n,r,i,o,s,a){var u=this;_classCallCheck(this,e),this.schedulers=new kl(s),this.keepUnstableUntilFirst=wl(this.schedulers),this.firestore=s.runOutsideAngular((function(){var e=Tl(t,s,n);vf.registerFirestore&&Object(vf.registerFirestore)(pf.a);var r=e.firestore();return i&&r.settings(i),r})),this.persistenceEnabled$=r&&!function(e){return"server"===e}(o)?s.runOutsideAngular((function(){try{return G(u.firestore.enablePersistence(a||void 0).then((function(){return!0}),(function(){return!1})))}catch(e){return Uc(!1)}})):Uc(!1)}return _createClass(e,[{key:"collection",value:function(e,t){var n=Tf("string"==typeof e?this.firestore.collection(e):e,t),r=n.ref,i=n.query,o=this.schedulers.ngZone.run((function(){return r}));return new kf(o,i,this)}},{key:"collectionGroup",value:function(e,t){var n=t||function(e){return e},r=this.firestore.collectionGroup(e);return new Cf(n(r),this)}},{key:"doc",value:function(e){var t;t="string"==typeof e?this.firestore.doc(e):e;var n=this.schedulers.ngZone.run((function(){return t}));return new wf(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),e}()).\u0275fac=function(e){return new(e||Af)(Ke(Sl),Ke(El,8),Ke(Sf,8),Ke(If,8),Ke(Gu),Ke(oc),Ke(Ef,8))},Af.\u0275prov=he({factory:function(){return new Af(Ke(Sl),Ke(El,8),Ke(Sf,8),Ke(If,8),Ke(Gu),Ke(oc),Ke(Ef,8))},token:Af,providedIn:"any"}),Af),Df=((xf=function(){function e(t){var n=this;_classCallCheck(this,e),this._AngularFirestore=t,this._constants=new Fc(null);var r=this._AngularFirestore.doc("constants/constants");r.valueChanges(),r.valueChanges().subscribe((function(e){console.log(e),n._constants.next(e)}))}return _createClass(e,[{key:"constants",get:function(){return this._constants.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||xf)(Ke(Of))},xf.\u0275prov=he({token:xf,factory:xf.\u0275fac,providedIn:"root"}),xf),Rf=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),Pf=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}();function Nf(e){return function(t){return 0===e?Qc():t.lift(new Ff(e))}}var Ff=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new Pf}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Lf(e,this.total))}}]),e}(),Lf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(v);function Mf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new Vf(e))}}var Vf=function(){function e(t){_classCallCheck(this,e),this.defaultValue=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new jf(e,this.defaultValue))}}]),e}(),jf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(v);function Uf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gf;return function(t){return t.lift(new Bf(e))}}var Bf=function(){function e(t){_classCallCheck(this,e),this.errorFactory=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new zf(e,this.errorFactory))}}]),e}(),zf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).errorFactory=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}]),n}(v);function Gf(){return new Rf}function Hf(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Hc((function(t,n){return e(t,n,r)})):m,Nf(1),n?Mf(t):Uf((function(){return new Rf})))}}var qf={};function Wf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=null,i=null;return O(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),Q(t,i).lift(new $f(r))}var $f=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Qf(e,this.resultSelector))}}]),e}(),Qf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass(n,[{key:"_next",value:function(e){this.values.push(qf),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(M(this,r,r,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,r,i){var o=this.values,s=this.toRespond?o[n]===qf?--this.toRespond:this.toRespond:0;o[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(V);function Kf(e){return new w((function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?G(n):Qc()).subscribe(t)}))}function Yf(){return $(1)}function Zf(e){return function(t){return 0===e?Qc():t.lift(new Xf(e))}}var Xf=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new Pf}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Jf(e,this.total))}}]),e}(),Jf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.ring=new Array,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()}}]),n}(v);function ed(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Hc((function(t,n){return e(t,n,r)})):m,Zf(1),n?Mf(t):Uf((function(){return new Rf})))}}function td(e){return function(t){var n=new nd(e),r=t.lift(n);return n.caught=r}}var nd=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new rd(e,this.selector,this.caught))}}]),e}(),rd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).selector=r,o.caught=i,o}return _createClass(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(o){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new D(this,void 0,void 0);this.add(r);var i=M(this,t,void 0,void 0,r);i!==r&&this.add(i)}}}]),n}(V),id=function(){function e(t,n,r){_classCallCheck(this,e),this.predicate=t,this.thisArg=n,this.source=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new od(e,this.predicate,this.thisArg,this.source))}}]),e}(),od=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;return _classCallCheck(this,n),(s=t.call(this,e)).predicate=r,s.thisArg=i,s.source=o,s.index=0,s.thisArg=i||_assertThisInitialized(s),s}return _createClass(n,[{key:"notifyComplete",value:function(e){this.destination.next(e),this.destination.complete()}},{key:"_next",value:function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(v);function sd(e,t){return"function"==typeof t?function(n){return n.pipe(sd((function(n,r){return G(e(n,r)).pipe(j((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new ad(e))}}var ad=function(){function e(t){_classCallCheck(this,e),this.project=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new ud(e,this.project))}}]),e}(),ud=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new D(this,t,n),o=this.destination;o.add(i),this.innerSubscription=M(this,e,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}}]),n}(V);function cd(){return Yf()(Uc.apply(void 0,arguments))}function ld(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return O(r)?(t.pop(),function(e){return cd(t,e,r)}):function(e){return cd(t,e)}}function hd(e,t){return H(e,t,1)}var fd,dd=function(){function e(t){_classCallCheck(this,e),this.callback=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new pd(e,this.callback))}}]),e}(),pd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).add(new f(r)),i}return n}(v),vd=function e(t,n){_classCallCheck(this,e),this.id=t,this.url=n},gd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(i=t.call(this,e,r)).navigationTrigger=o,i.restoredState=s,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(vd),yd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(vd),md=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).reason=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(vd),_d=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).error=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(vd),bd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;return _classCallCheck(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(vd),kd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;return _classCallCheck(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(vd),wd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a.shouldActivate=s,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(vd),Cd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;return _classCallCheck(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(vd),Sd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;return _classCallCheck(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(vd),Ed=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),Id=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),Td=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),xd=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Ad=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Od=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Dd=function(){function e(t,n,r){_classCallCheck(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return _createClass(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),Rd=((fd=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||fd)},fd.\u0275cmp=dt({type:fd,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&is(0,"router-outlet")},directives:function(){return[jv]},encapsulation:2}),fd),Pd=function(){function e(t){_classCallCheck(this,e),this.params=t||{}}return _createClass(e,[{key:"has",value:function(e){return this.params.hasOwnProperty(e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function Nd(e){return new Pd(e)}function Fd(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function Ld(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}var Md=function e(t,n){_classCallCheck(this,e),this.routes=t,this.module=n};function Vd(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n];jd(r,Ud(t,r))}}function jd(e,t){if(!e)throw new Error("\n      Invalid configuration of route '".concat(t,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(e))throw new Error("Invalid configuration of route '".concat(t,"': Array cannot be specified"));if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error("Invalid configuration of route '".concat(t,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and children cannot be used together"));if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and loadChildren cannot be used together"));if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': children and loadChildren cannot be used together"));if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and component cannot be used together"));if(e.path&&e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': path and matcher cannot be used together"));if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': routes must have either a path or a matcher specified"));if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '".concat(t,"': path cannot start with a slash"));if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(t,'", redirectTo: "').concat(e.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '".concat(t,"': pathMatch can only be set to 'prefix' or 'full'"));e.children&&Vd(e.children,t)}function Ud(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function Bd(e){var t=e.children&&e.children.map(Bd),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Rd),n}function zd(e,t){var n,r=Object.keys(e),i=Object.keys(t);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!Gd(e[n=r[o]],t[n]))return!1;return!0}function Gd(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every((function(e){return t.indexOf(e)>-1})):e===t}function Hd(e){return Array.prototype.concat.apply([],e)}function qd(e){return e.length>0?e[e.length-1]:null}function Wd(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function $d(e){return ls(e)?e:cs(e)?G(Promise.resolve(e)):Uc(e)}function Qd(e,t,n){return n?function(e,t){return zd(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!Xd(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((function(n){return Gd(e[n],t[n])}))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length)return!!Xd(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Xd(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!e(n.children[o],r.children[o]))return!1}return!0}var s=i.slice(0,n.segments.length),a=i.slice(n.segments.length);return!!Xd(n.segments,s)&&!!n.children.primary&&t(n.children.primary,r,a)}(t,n,n.segments)}(e.root,t.root)}var Kd=function(){function e(t,n,r){_classCallCheck(this,e),this.root=t,this.queryParams=n,this.fragment=r}return _createClass(e,[{key:"toString",value:function(){return np.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Nd(this.queryParams)),this._queryParamMap}}]),e}(),Yd=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.segments=t,this.children=n,this.parent=null,Wd(n,(function(e,t){return e.parent=r}))}return _createClass(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return rp(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),e}(),Zd=function(){function e(t,n){_classCallCheck(this,e),this.path=t,this.parameters=n}return _createClass(e,[{key:"toString",value:function(){return cp(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Nd(this.parameters)),this._parameterMap}}]),e}();function Xd(e,t){return e.length===t.length&&e.every((function(e,n){return e.path===t[n].path}))}function Jd(e,t){var n=[];return Wd(e.children,(function(e,r){"primary"===r&&(n=n.concat(t(e,r)))})),Wd(e.children,(function(e,r){"primary"!==r&&(n=n.concat(t(e,r)))})),n}var ep=function e(){_classCallCheck(this,e)},tp=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parse",value:function(e){var t=new pp(e);return new Kd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){return"".concat("/"+function e(t,n){if(!t.hasChildren())return rp(t);if(n){var r=t.children.primary?e(t.children.primary,!1):"",i=[];return Wd(t.children,(function(t,n){"primary"!==n&&i.push("".concat(n,":").concat(e(t,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=Jd(t,(function(n,r){return"primary"===r?[e(t.children.primary,!1)]:["".concat(r,":").concat(e(n,!1))]}));return"".concat(rp(t),"/(").concat(o.join("//"),")")}(e.root,!0)).concat((t=e.queryParams,n=Object.keys(t).map((function(e){var n=t[e];return Array.isArray(n)?n.map((function(t){return"".concat(op(e),"=").concat(op(t))})).join("&"):"".concat(op(e),"=").concat(op(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof e.fragment?"#"+encodeURI(e.fragment):"");var t,n}}]),e}(),np=new tp;function rp(e){return e.segments.map((function(e){return cp(e)})).join("/")}function ip(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function op(e){return ip(e).replace(/%3B/gi,";")}function sp(e){return ip(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ap(e){return decodeURIComponent(e)}function up(e){return ap(e.replace(/\+/g,"%20"))}function cp(e){return"".concat(sp(e.path)).concat((t=e.parameters,Object.keys(t).map((function(e){return";".concat(sp(e),"=").concat(sp(t[e]))})).join("")));var t}var lp=/^[^\/()?;=#]+/;function hp(e){var t=e.match(lp);return t?t[0]:""}var fp=/^[^=?&#]+/,dp=/^[^?&#]+/,pp=function(){function e(t){_classCallCheck(this,e),this.url=t,this.remaining=t}return _createClass(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yd([],{}):new Yd([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Yd(e,t)),n}},{key:"parseSegment",value:function(){var e=hp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new Zd(ap(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=hp(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=hp(this.remaining);r&&(n=r,this.capture(n))}e[ap(t)]=ap(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(fp);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(dp);return t?t[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=up(t),o=up(n);if(e.hasOwnProperty(i)){var s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=hp(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i="primary");var o=this.parseChildren();t[i]=1===Object.keys(o).length?o.primary:new Yd([],o),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),vp=function(){function e(t){_classCallCheck(this,e),this._root=t}return _createClass(e,[{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=gp(e,this._root);return t?t.children.map((function(e){return e.value})):[]}},{key:"firstChild",value:function(e){var t=gp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=yp(e,this._root);return t.length<2?[]:t[t.length-2].children.map((function(e){return e.value})).filter((function(t){return t!==e}))}},{key:"pathFromRoot",value:function(e){return yp(e,this._root).map((function(e){return e.value}))}},{key:"root",get:function(){return this._root.value}}]),e}();function gp(e,t){if(e===t.value)return t;var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=gp(e,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function yp(e,t){if(e===t.value)return[t];var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=yp(e,n.value);if(i.length)return i.unshift(t),i}}catch(o){r.e(o)}finally{r.f()}return[]}var mp=function(){function e(t,n){_classCallCheck(this,e),this.value=t,this.children=n}return _createClass(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function _p(e){var t={};return e&&e.children.forEach((function(e){return t[e.value.outlet]=e})),t}var bp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).snapshot=r,Ip(_assertThisInitialized(i),e),i}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(vp);function kp(e,t){var n=function(e,t){var n=new Sp([],{},{},"",{},"primary",t,null,e.root,-1,{});return new Ep("",new mp(n,[]))}(e,t),r=new Fc([new Zd("",{})]),i=new Fc({}),o=new Fc({}),s=new Fc({}),a=new Fc(""),u=new wp(r,i,s,a,o,"primary",t,n.root);return u.snapshot=n.root,new bp(new mp(u,[]),n)}var wp=function(){function e(t,n,r,i,o,s,a,u){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=u}return _createClass(e,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(j((function(e){return Nd(e)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(j((function(e){return Nd(e)})))),this._queryParamMap}}]),e}();function Cp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(e){return e.reduce((function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var Sp=function(){function e(t,n,r,i,o,s,a,u,c,l,h){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return _createClass(e,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(e){return e.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Nd(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Nd(this.queryParams)),this._queryParamMap}}]),e}(),Ep=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,r)).url=e,Ip(_assertThisInitialized(i),r),i}return _createClass(n,[{key:"toString",value:function(){return Tp(this._root)}}]),n}(vp);function Ip(e,t){t.value._routerState=e,t.children.forEach((function(t){return Ip(e,t)}))}function Tp(e){var t=e.children.length>0?" { ".concat(e.children.map(Tp).join(", ")," } "):"";return"".concat(e.value).concat(t)}function xp(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,zd(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),zd(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!zd(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),zd(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Ap(e,t){var n,r;return zd(e.params,t.params)&&Xd(n=e.url,r=t.url)&&n.every((function(e,t){return zd(e.parameters,r[t].parameters)}))&&!(!e.parent!=!t.parent)&&(!e.parent||Ap(e.parent,t.parent))}function Op(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Dp(e,t,n,r,i){var o={};return r&&Wd(r,(function(e,t){o[t]=Array.isArray(e)?e.map((function(e){return""+e})):""+e})),new Kd(n.root===e?t:function e(t,n,r){var i={};return Wd(t.children,(function(t,o){i[o]=t===n?r:e(t,n,r)})),new Yd(t.segments,i)}(n.root,e,t),o,i)}var Rp=function(){function e(t,n,r){if(_classCallCheck(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Op(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(e){return"object"==typeof e&&null!=e&&e.outlets}));if(i&&i!==qd(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),Pp=function e(t,n,r){_classCallCheck(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r};function Np(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:""+e}function Fp(e,t,n){if(e||(e=new Yd([],{})),0===e.segments.length&&e.hasChildren())return Lp(e,t,n);var r=function(e,t,n){for(var r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return o;var s=e.segments[i],a=Np(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Up(a,u,s))return o;r+=2}else{if(!Up(a,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var o=new Yd(e.segments.slice(0,r.pathIndex),{});return o.children.primary=new Yd(e.segments.slice(r.pathIndex),e.children),Lp(o,0,i)}return r.match&&0===i.length?new Yd(e.segments,{}):r.match&&!e.hasChildren()?Mp(e,t,n):r.match?Lp(e,0,i):Mp(e,t,n)}function Lp(e,t,n){if(0===n.length)return new Yd(e.segments,{});var r=function(e){return"object"!=typeof e[0]||void 0===e[0].outlets?{primary:e}:e[0].outlets}(n),i={};return Wd(r,(function(n,r){null!==n&&(i[r]=Fp(e.children[r],t,n))})),Wd(e.children,(function(e,t){void 0===r[t]&&(i[t]=e)})),new Yd(e.segments,i)}function Mp(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=Vp(n[i].outlets);return new Yd(r,o)}if(0===i&&Op(n[0]))r.push(new Zd(e.segments[t].path,n[0])),i++;else{var s=Np(n[i]),a=i<n.length-1?n[i+1]:null;s&&a&&Op(a)?(r.push(new Zd(s,jp(a))),i+=2):(r.push(new Zd(s,{})),i++)}}return new Yd(r,{})}function Vp(e){var t={};return Wd(e,(function(e,n){null!==e&&(t[n]=Mp(new Yd([],{}),0,e))})),t}function jp(e){var t={};return Wd(e,(function(e,n){return t[n]=""+e})),t}function Up(e,t,n){return e==n.path&&zd(t,n.parameters)}var Bp=function(){function e(t,n,r,i){_classCallCheck(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),xp(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=_p(t);e.children.forEach((function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]})),Wd(i,(function(e,t){r.deactivateRouteAndItsChildren(e,n)}))}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){var n=this,r=t.getContext(e.value.outlet);if(r){var i=_p(e),o=e.value.component?r.children:t;Wd(i,(function(e,t){return n.deactivateRouteAndItsChildren(e,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=_p(t);e.children.forEach((function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new Od(e.value.snapshot))})),e.children.length&&this.forwardEvent(new xd(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(xp(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),zp(a.route)}else{var u=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;s.attachRef=null,s.route=r,s.resolver=c,s.outlet&&s.outlet.activateWith(r,c),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function zp(e){xp(e.value),e.children.forEach(zp)}function Gp(e){return"function"==typeof e}function Hp(e){return e instanceof Kd}var qp=function e(t){_classCallCheck(this,e),this.segmentGroup=t||null},Wp=function e(t){_classCallCheck(this,e),this.urlTree=t};function $p(e){return new w((function(t){return t.error(new qp(e))}))}function Qp(e){return new w((function(t){return t.error(new Wp(e))}))}function Kp(e){return new w((function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))}))}var Yp=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(Je)}return _createClass(e,[{key:"apply",value:function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(j((function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)}))).pipe(td((function(t){if(t instanceof Wp)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof qp)throw e.noMatchError(t);throw t})))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(j((function(n){return t.createUrlTree(n,e.queryParams,e.fragment)}))).pipe(td((function(e){if(e instanceof qp)throw t.noMatchError(e);throw e})))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var r=e.segments.length>0?new Yd([],{primary:e}):e;return new Kd(r,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(j((function(e){return new Yd([],e)}))):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Uc({});var o=[],s=[],a={};return Wd(n,(function(n,i){var u,c,l=(u=i,c=n,r.expandSegmentGroup(e,t,c,u)).pipe(j((function(e){return a[i]=e})));"primary"===i?o.push(l):s.push(l)})),Uc.apply(null,o.concat(s)).pipe(Yf(),ed(),j((function(){return a})))}(n.children)}},{key:"expandSegment",value:function(e,t,n,r,i,o){var s=this;return Uc.apply(void 0,_toConsumableArray(n)).pipe(j((function(a){return s.expandSegmentAgainstRoute(e,t,n,a,r,i,o).pipe(td((function(e){if(e instanceof qp)return Uc(null);throw e})))})),Yf(),Hf((function(e){return!!e})),td((function(e,n){if(e instanceof Rf||"EmptyError"===e.name){if(s.noLeftoversInUrl(t,r,i))return Uc(new Yd([],{}));throw new qp(t)}throw e})))}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,o,s){return ev(r)!==o?$p(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):$p(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Qp(o):this.lineralizeSegments(n,o).pipe(H((function(n){var o=new Yd(n,{});return i.expandSegment(e,o,t,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){var s=this,a=Zp(t,r,i),u=a.matched,c=a.consumedSegments,l=a.lastChild,h=a.positionalParamSegments;if(!u)return $p(t);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?Qp(f):this.lineralizeSegments(r,f).pipe(H((function(r){return s.expandSegment(e,t,n,r.concat(i.slice(l)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(j((function(e){return n._loadedConfig=e,new Yd(r,{})}))):Uc(new Yd(r,{}));var o=Zp(t,n,r),s=o.matched,a=o.consumedSegments,u=o.lastChild;if(!s)return $p(t);var c=r.slice(u);return this.getChildConfig(e,n,r).pipe(H((function(e){var n=e.module,r=e.routes,o=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some((function(n){return Jp(e,t,n)&&"primary"!==ev(n)}))}(e,n,r)?{segmentGroup:Xp(new Yd(t,function(e,t){var n={};n.primary=t;var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==ev(o)&&(n[ev(o)]=new Yd([],{}))}}catch(s){i.e(s)}finally{i.f()}return n}(r,new Yd(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some((function(n){return Jp(e,t,n)}))}(e,n,r)?{segmentGroup:Xp(new Yd(e.segments,function(e,t,n,r){var i,o={},s=_createForOfIteratorHelper(n);try{for(s.s();!(i=s.n()).done;){var a=i.value;Jp(e,t,a)&&!r[ev(a)]&&(o[ev(a)]=new Yd([],{}))}}catch(u){s.e(u)}finally{s.f()}return Object.assign(Object.assign({},r),o)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,a,c,r),s=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&s.hasChildren()?i.expandChildren(n,r,s).pipe(j((function(e){return new Yd(a,e)}))):0===r.length&&0===u.length?Uc(new Yd(a,{})):i.expandSegment(n,s,r,u,"primary",!0).pipe(j((function(e){return new Yd(a.concat(e.segments),e.children)})))})))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?Uc(new Md(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Uc(t._loadedConfig):function(e,t,n){var r,i=t.canLoad;return i&&0!==i.length?G(i).pipe(j((function(r){var i,o=e.get(r);if(function(e){return e&&Gp(e.canLoad)}(o))i=o.canLoad(t,n);else{if(!Gp(o))throw new Error("Invalid CanLoad guard");i=o(t,n)}return $d(i)}))).pipe(Yf(),(r=function(e){return!0===e},function(e){return e.lift(new id(r,void 0,e))})):Uc(!0)}(e.injector,t,n).pipe(H((function(n){return n?r.configLoader.load(e.injector,t).pipe(j((function(e){return t._loadedConfig=e,e}))):function(e){return new w((function(t){return t.error(Fd("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))}))}(t)}))):Uc(new Md([],e))}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Uc(n);if(r.numberOfChildren>1||!r.children.primary)return Kp(e.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new Kd(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return Wd(e,(function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e})),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,o=this.createSegments(e,t.segments,n,r),s={};return Wd(t.children,(function(t,o){s[o]=i.createSegmentGroup(e,t,n,r)})),new Yd(o,s)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map((function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)}))}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n,r=0,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===e.path)return t.splice(r),o;r++}}catch(s){i.e(s)}finally{i.f()}return e}}]),e}();function Zp(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(t.matcher||Ld)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Xp(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new Yd(e.segments.concat(t.segments),t.children)}return e}function Jp(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function ev(e){return e.outlet||"primary"}var tv=function e(t){_classCallCheck(this,e),this.path=t,this.route=this.path[this.path.length-1]},nv=function e(t,n){_classCallCheck(this,e),this.component=t,this.route=n};function rv(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function iv(e,t,n){var r=_p(e),i=e.value;Wd(r,(function(e,r){iv(e,i.component?t?t.children.getContext(r):null:t,n)})),n.canDeactivateChecks.push(new nv(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var ov=Symbol("INITIAL_VALUE");function sv(){return sd((function(e){return Wf.apply(void 0,_toConsumableArray(e.map((function(e){return e.pipe(Nf(1),ld(ov))})))).pipe(Bc((function(e,t){var n=!1;return t.reduce((function(e,r,i){if(e!==ov)return e;if(r===ov&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||Hp(r))return r}return e}),e)}),ov),Hc((function(e){return e!==ov})),j((function(e){return Hp(e)?e:!0===e})),Nf(1))}))}function av(e,t){return null!==e&&t&&t(new Ad(e)),Uc(!0)}function uv(e,t){return null!==e&&t&&t(new Td(e)),Uc(!0)}function cv(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?Uc(r.map((function(r){return Kf((function(){var i,o=rv(r,t,n);if(function(e){return e&&Gp(e.canActivate)}(o))i=$d(o.canActivate(t,e));else{if(!Gp(o))throw new Error("Invalid CanActivate guard");i=$d(o(t,e))}return i.pipe(Hf())}))}))).pipe(sv()):Uc(!0)}function lv(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map((function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)})).filter((function(e){return null!==e})).map((function(t){return Kf((function(){return Uc(t.guards.map((function(i){var o,s=rv(i,t.node,n);if(function(e){return e&&Gp(e.canActivateChild)}(s))o=$d(s.canActivateChild(r,e));else{if(!Gp(s))throw new Error("Invalid CanActivateChild guard");o=$d(s(r,e))}return o.pipe(Hf())}))).pipe(sv())}))}));return Uc(i).pipe(sv())}var hv=function e(){_classCallCheck(this,e)},fv=function(){function e(t,n,r,i,o,s){_classCallCheck(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}return _createClass(e,[{key:"recognize",value:function(){try{var e=vv(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new Sp([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new mp(n,t),i=new Ep(this.url,r);return this.inheritParamsAndData(i._root),Uc(i)}catch(o){return new w((function(e){return e.error(o)}))}}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=Cp(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach((function(e){return t.inheritParamsAndData(e)}))}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){var n,r=this,i=Jd(t,(function(t,n){return r.processSegmentGroup(e,t,n)}));return n={},i.forEach((function(e){var t=n[e.value.outlet];if(t){var r=t.url.map((function(e){return e.toString()})).join("/"),i=e.value.url.map((function(e){return e.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[e.value.outlet]=e.value})),i.sort((function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)})),i}},{key:"processSegment",value:function(e,t,n,r){var i,o=_createForOfIteratorHelper(e);try{for(o.s();!(i=o.n()).done;){var s=i.value;try{return this.processSegmentAgainstRoute(s,t,n,r)}catch(a){if(!(a instanceof hv))throw a}}}catch(u){o.e(u)}finally{o.f()}if(this.noLeftoversInUrl(t,n,r))return[];throw new hv}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo)throw new hv;if((e.outlet||"primary")!==r)throw new hv;var i,o=[],s=[];if("**"===e.path){var a=n.length>0?qd(n).parameters:{};i=new Sp(n,a,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mv(e),r,e.component,e,dv(t),pv(t)+n.length,_v(e))}else{var u=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new hv;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(t.matcher||Ld)(n,e,t);if(!r)throw new hv;var i={};Wd(r.posParams,(function(e,t){i[t]=e.path}));var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(t,e,n);o=u.consumedSegments,s=n.slice(u.lastChild),i=new Sp(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mv(e),r,e.component,e,dv(t),pv(t)+o.length,_v(e))}var c=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),l=vv(t,o,s,c,this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return[new mp(i,d)]}if(0===c.length&&0===f.length)return[new mp(i,[])];var p=this.processSegment(c,h,f,"primary");return[new mp(i,p)]}}]),e}();function dv(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function pv(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function vv(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some((function(n){return gv(e,t,n)&&"primary"!==yv(n)}))}(e,n,r)){var o=new Yd(t,function(e,t,n,r){var i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var o,s=_createForOfIteratorHelper(n);try{for(s.s();!(o=s.n()).done;){var a=o.value;if(""===a.path&&"primary"!==yv(a)){var u=new Yd([],{});u._sourceSegment=e,u._segmentIndexShift=t.length,i[yv(a)]=u}}}catch(c){s.e(c)}finally{s.f()}return i}(e,t,r,new Yd(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some((function(n){return gv(e,t,n)}))}(e,n,r)){var s=new Yd(e.segments,function(e,t,n,r,i,o){var s,a={},u=_createForOfIteratorHelper(r);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(gv(e,n,c)&&!i[yv(c)]){var l=new Yd([],{});l._sourceSegment=e,l._segmentIndexShift="legacy"===o?e.segments.length:t.length,a[yv(c)]=l}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),a)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}var a=new Yd(e.segments,e.children);return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}function gv(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function yv(e){return e.outlet||"primary"}function mv(e){return e.data||{}}function _v(e){return e.resolve||{}}function bv(e,t,n,r){var i=rv(e,t,r);return $d(i.resolve?i.resolve(t,n):i(t,n))}function kv(e){return function(t){return t.pipe(sd((function(t){var n=e(t);return n?G(n).pipe(j((function(){return t}))):G([t])})))}}var wv=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}(),Cv=new Ue("ROUTES"),Sv=function(){function e(t,n,r,i){_classCallCheck(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(e,[{key:"load",value:function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(j((function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new Md(Hd(i.injector.get(Cv)).map(Bd),i)})))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?G(this.loader.load(e)):$d(e()).pipe(H((function(e){return e instanceof et?Uc(e):G(t.compiler.compileModuleAsync(e))})))}}]),e}(),Ev=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function Iv(e){throw e}function Tv(e,t,n){return t.parse("/")}function xv(e,t){return Uc(null)}var Av,Ov,Dv=((Ov=function(){function e(t,n,r,i,o,s,a,u){var c=this;_classCallCheck(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new x,this.errorHandler=Iv,this.malformedUriErrorHandler=Tv,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:xv,afterPreactivation:xv},this.urlHandlingStrategy=new Ev,this.routeReuseStrategy=new wv,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(Je),this.console=o.get(qu);var l=o.get(oc);this.isNgZoneEnabled=l instanceof oc,this.resetConfig(u),this.currentUrlTree=new Kd(new Yd([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Sv(s,a,(function(e){return c.triggerEvent(new Ed(e))}),(function(e){return c.triggerEvent(new Id(e))})),this.routerState=kp(this.currentUrlTree,this.rootComponentType),this.transitions=new Fc({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(Hc((function(e){return 0!==e.id})),j((function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})})),sd((function(e){var r,i,o,s,a=!1,u=!1;return Uc(e).pipe(il((function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}})),sd((function(e){var r,i,o,s,a=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||a)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Uc(e).pipe(sd((function(e){var r=t.transitions.getValue();return n.next(new gd(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?$c:[e]})),sd((function(e){return Promise.resolve(e)})),(r=t.ngModule.injector,i=t.configLoader,o=t.urlSerializer,s=t.config,function(e){return e.pipe(sd((function(e){return function(e,t,n,r,i){return new Yp(e,t,n,r,i).apply()}(r,i,o,e.extractedUrl,s).pipe(j((function(t){return Object.assign(Object.assign({},e),{urlAfterRedirects:t})})))})))}),il((function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})})),function(e,n,r,i,o){return function(r){return r.pipe(H((function(r){return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new fv(e,t,n,r,i,o).recognize()}(e,n,r.urlAfterRedirects,(s=r.urlAfterRedirects,t.serializeUrl(s)),i,o).pipe(j((function(e){return Object.assign(Object.assign({},r),{targetSnapshot:e})})));var s})))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),il((function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),il((function(e){var r=new bd(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)})));if(a&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var u=e.id,c=e.extractedUrl,l=e.source,h=e.restoredState,f=e.extras,d=new gd(u,t.serializeUrl(c),l,h);n.next(d);var p=kp(c,t.rootComponentType).snapshot;return Uc(Object.assign(Object.assign({},e),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),$c})),kv((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,s=e.extras,a=s.skipLocationChange,u=s.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!u})})),il((function(e){var n=new kd(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),j((function(e){return Object.assign(Object.assign({},e),{guards:(n=e.targetSnapshot,r=e.currentSnapshot,i=t.rootContexts,o=n._root,function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},s=_p(n);return t.children.forEach((function(t){!function(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},s=t.value,a=n?n.value:null,u=r?r.getContext(t.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){var c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Xd(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Xd(e.url,t.url)||!zd(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ap(e,t)||!zd(e.queryParams,t.queryParams);case"paramsChange":default:return!Ap(e,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new tv(i)):(s.data=a.data,s._resolvedData=a._resolvedData),e(t,n,s.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new nv(u&&u.outlet&&u.outlet.component||null,a))}else a&&iv(n,u,o),o.canActivateChecks.push(new tv(i)),e(t,null,s.component?u?u.children:null:r,i,o)}(t,s[t.value.outlet],r,i.concat([t.value]),o),delete s[t.value.outlet]})),Wd(s,(function(e,t){return iv(e,r.getContext(t),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(e,t){return function(n){return n.pipe(H((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,s=o.canActivateChecks,a=o.canDeactivateChecks;return 0===a.length&&0===s.length?Uc(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return G(e).pipe(H((function(e){return function(e,t,n,r,i){var o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Uc(o.map((function(o){var s,a=rv(o,t,i);if(function(e){return e&&Gp(e.canDeactivate)}(a))s=$d(a.canDeactivate(e,t,n,r));else{if(!Gp(a))throw new Error("Invalid CanDeactivate guard");s=$d(a(e,t,n,r))}return s.pipe(Hf())}))).pipe(sv()):Uc(!0)}(e.component,e.route,n,t,r)})),Hf((function(e){return!0!==e}),!0))}(a,r,i,e).pipe(H((function(n){return n&&"boolean"==typeof n?function(e,t,n,r){return G(t).pipe(hd((function(t){return G([uv(t.route.parent,r),av(t.route,r),lv(e,t.path,n),cv(e,t.route,n)]).pipe(Yf(),Hf((function(e){return!0!==e}),!0))})),Hf((function(e){return!0!==e}),!0))}(r,s,e,t):Uc(n)})),j((function(e){return Object.assign(Object.assign({},n),{guardsResult:e})})))})))}}(t.ngModule.injector,(function(e){return t.triggerEvent(e)})),il((function(e){if(Hp(e.guardsResult)){var n=Fd('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}})),il((function(e){var n=new wd(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)})),Hc((function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new md(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(r),e.resolve(!1),!1}return!0})),kv((function(e){if(e.guards.canActivateChecks.length)return Uc(e).pipe(il((function(e){var n=new Cd(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),(n=t.paramsInheritanceStrategy,r=t.ngModule.injector,function(e){return e.pipe(H((function(e){var t=e.targetSnapshot,i=e.guards.canActivateChecks;return i.length?G(i).pipe(hd((function(e){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return Uc({});if(1===i.length){var o=i[0];return bv(e[o],t,n,r).pipe(j((function(e){return _defineProperty({},o,e)})))}var s={};return G(i).pipe(H((function(i){return bv(e[i],t,n,r).pipe(j((function(e){return s[i]=e,e})))}))).pipe(ed(),j((function(){return s})))}(e._resolve,e,t,r).pipe(j((function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Cp(e,n).resolve),null})))}(e.route,t,n,r)})),function(e,t){return arguments.length>=2?function(n){return _(Bc(e,t),Zf(1),Mf(t))(n)}:function(t){return _(Bc((function(t,n,r){return e(t,n,r+1)})),Zf(1))(t)}}((function(e,t){return e})),j((function(t){return e}))):Uc(e)})))}),il((function(e){var n=new Sd(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})));var n,r})),kv((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,s=e.extras,a=s.skipLocationChange,u=s.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!u})})),j((function(e){var n=function(e,t,n){var r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(t,n,r){return n.children.map((function(n){var i,o=_createForOfIteratorHelper(r.children);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(t.shouldReuseRoute(s.value.snapshot,n.value))return e(t,n,s)}}catch(a){o.e(a)}finally{o.f()}return e(t,n)}))}(t,n,r);return new mp(i,o)}var s=t.retrieve(n.value);if(s){var a=s.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,a),a}var u,c=new wp(new Fc((u=n.value).url),new Fc(u.params),new Fc(u.queryParams),new Fc(u.fragment),new Fc(u.data),u.outlet,u.component,u),l=n.children.map((function(n){return e(t,n)}));return new mp(c,l)}(e,t._root,n?n._root:void 0);return new bp(r,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:n})})),il((function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),(i=t.rootContexts,o=t.routeReuseStrategy,s=function(e){return t.triggerEvent(e)},j((function(e){return new Bp(o,e.targetRouterState,e.currentRouterState,s).activate(i),e}))),il({next:function(){a=!0},complete:function(){a=!0}}),(r=function(){if(!a&&!u){t.resetUrlToCurrentUrlTree();var r=new md(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(r),e.resolve(!1)}t.currentNavigation=null},function(e){return e.lift(new dd(r))}),td((function(r){if(u=!0,(a=r)&&a.ngNavigationCancelingError){var i=Hp(r.url);i||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var o=new md(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(o),i?setTimeout((function(){var n=t.urlHandlingStrategy.merge(r.url,t.rawUrlTree);return t.scheduleNavigation(n,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})}),0):e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var s=new _d(e.id,t.serializeUrl(e.extractedUrl),r);n.next(s);try{e.resolve(t.errorHandler(r))}catch(c){e.reject(c)}}var a;return $c})))})))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(t){var n=e.parseUrl(t.url),r="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout((function(){e.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){Vd(e),this.config=e.map(Bd),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,r=t.queryParams,i=t.fragment,o=t.preserveQueryParams,s=t.queryParamsHandling,a=t.preserveFragment;gr()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var u=n||this.routerState.root,c=a?this.currentUrlTree.fragment:i,l=null;if(s)switch(s){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}else l=o?this.currentUrlTree.queryParams:r||null;return null!==l&&(l=this.removeEmptyProps(l)),function(e,t,n,r,i){if(0===n.length)return Dp(t.root,t.root,t,r,i);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Rp(!0,0,e);var t=0,n=!1,r=e.reduce((function(e,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return Wd(r.outlets,(function(e,t){o[t]="string"==typeof e?e.split("/"):e})),[].concat(_toConsumableArray(e),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(e),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(e),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))})),e):[].concat(_toConsumableArray(e),[r])}),[]);return new Rp(n,t,r)}(n);if(o.toRoot())return Dp(t.root,new Yd([],{}),t,r,i);var s=function(e,t,n){if(e.isAbsolute)return new Pp(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Pp(n.snapshot._urlSegment,!0,0);var r=Op(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Pp(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),a=s.processChildren?Lp(s.segmentGroup,s.index,o.commands):Fp(s.segmentGroup,s.index,o.commands);return Dp(s.segmentGroup,a,t,r,i)}(u,this.currentUrlTree,e,l,c)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};gr()&&this.isNgZoneEnabled&&!oc.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=Hp(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(Hp(e))return Qd(this.currentUrlTree,e,t);var n=this.parseUrl(e);return Qd(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return null!=r&&(t[n]=r),t}),{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe((function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new yd(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)}),(function(t){e.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(e,t,n,r,i){var o,s,a,u=this.getTransition();if(u&&"imperative"!==t&&"imperative"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(u&&"hashchange"==t&&"popstate"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(u&&"popstate"==t&&"hashchange"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);i?(o=i.resolve,s=i.reject,a=i.promise):a=new Promise((function(e,t){o=e,s=t}));var c=++this.navigationId;return this.setTransition({id:c,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch((function(e){return Promise.reject(e)}))}},{key:"setBrowserUrl",value:function(e,t,n,r){var i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),e}()).\u0275fac=function(e){Jo()},Ov.\u0275dir=_t({type:Ov}),Ov),Rv=((Av=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.router=t,this.route=n,this.locationStrategy=r,this.commands=[],this.subscription=t.events.subscribe((function(e){e instanceof yd&&i.updateTargetUrlAndHref()}))}return _createClass(e,[{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:Pv(this.skipLocationChange),replaceUrl:Pv(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){gr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Pv(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Pv(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||Av)(Zo(Dv),Zo(wp),Zo(Wl))},Av.\u0275dir=_t({type:Av,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&hs("click",(function(e){return t.onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)})),2&e&&(Ws("href",t.href,br),$o("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[ta]}),Av);function Pv(e){return""===e||!!e}var Nv,Fv,Lv,Mv=function e(){_classCallCheck(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new Vv,this.attachRef=null},Vv=function(){function e(){_classCallCheck(this,e),this.contexts=new Map}return _createClass(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new Mv,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),jv=((Nv=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.parentContexts=t,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new pu,this.deactivateEvents=new pu,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Uv(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),e}()).\u0275fac=function(e){return new(e||Nv)(Zo(Vv),Zo(Ba),Zo(pa),Xo("name"),Zo(vo))},Nv.\u0275dir=_t({type:Nv,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),Nv),Uv=function(){function e(t,n,r){_classCallCheck(this,e),this.route=t,this.childContexts=n,this.parent=r}return _createClass(e,[{key:"get",value:function(e,t){return e===wp?this.route:e===Vv?this.childContexts:this.parent.get(e,t)}}]),e}(),Bv=function e(){_classCallCheck(this,e)},zv=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return Uc(null)}}]),e}(),Gv=((Lv=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new Sv(n,r,(function(e){return t.triggerEvent(new Ed(e))}),(function(e){return t.triggerEvent(new Id(e))}))}return _createClass(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(Hc((function(e){return e instanceof yd})),hd((function(){return e.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var e=this.injector.get(Je);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,r=[],i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var s=o._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children))}}catch(a){i.e(a)}finally{i.f()}return G(r).pipe($(),j((function(e){})))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,(function(){return n.loader.load(e.injector,t).pipe(H((function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)})))}))}}]),e}()).\u0275fac=function(e){return new(e||Lv)(Ke(Dv),Ke(Tc),Ke(tc),Ke(Ro),Ke(Bv))},Lv.\u0275prov=he({token:Lv,factory:Lv.\u0275fac}),Lv),Hv=((Fv=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof gd?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof yd&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof Dd&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new Dd(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){Jo()},Fv.\u0275dir=_t({type:Fv}),Fv),qv=new Ue("ROUTER_CONFIGURATION"),Wv=new Ue("ROUTER_FORROOT_GUARD"),$v=[eh,{provide:ep,useClass:tp},{provide:Dv,useFactory:function(e,t,n,r,i,o,s){var a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,l=new Dv(null,e,t,n,r,i,o,Hd(s));if(u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),a.errorHandler&&(l.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(l.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){var h=Rl();l.events.subscribe((function(e){h.logGroup("Router Event: "+e.constructor.name),h.log(e.toString()),h.log(e),h.logGroupEnd()}))}return a.onSameUrlNavigation&&(l.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(l.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(l.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(l.relativeLinkResolution=a.relativeLinkResolution),l},deps:[ep,Vv,eh,Ro,Tc,tc,Cv,qv,[function(){return function e(){_classCallCheck(this,e)}}(),new oe],[function(){return function e(){_classCallCheck(this,e)}}(),new oe]]},Vv,{provide:wp,useFactory:function(e){return e.routerState.root},deps:[Dv]},{provide:Tc,useClass:Oc},Gv,zv,function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return t().pipe(td((function(){return Uc(null)})))}}]),e}(),{provide:qv,useValue:{enableTracing:!1}}];function Qv(){return new _c("Router",Dv)}var Kv,Yv=((Kv=function(){function e(t,n){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[$v,eg(t),{provide:Wv,useFactory:Jv,deps:[[Dv,new oe,new ae]]},{provide:qv,useValue:n||{}},{provide:Wl,useFactory:Xv,deps:[Fl,[new ie(Zl),new oe],qv]},{provide:Hv,useFactory:Zv,deps:[Dv,hf,qv]},{provide:Bv,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:zv},{provide:_c,multi:!0,useFactory:Qv},[ng,{provide:Mu,multi:!0,useFactory:rg,deps:[ng]},{provide:og,useFactory:ig,deps:[ng]},{provide:Hu,multi:!0,useExisting:og}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[eg(t)]}}}]),e}()).\u0275mod=yt({type:Kv}),Kv.\u0275inj=fe({factory:function(e){return new(e||Kv)(Ke(Wv,8),Ke(Dv,8))}}),Kv);function Zv(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Hv(e,t,n)}function Xv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new Jl(e,t):new Xl(e,t)}function Jv(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function eg(e){return[{provide:Po,multi:!0,useValue:e},{provide:Cv,multi:!0,useValue:e}]}var tg,ng=((tg=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new x}return _createClass(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(Vl,Promise.resolve(null)).then((function(){var t=null,n=new Promise((function(e){return t=e})),r=e.injector.get(Dv),i=e.injector.get(qv);if(e.isLegacyDisabled(i)||e.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return e.initNavigation?Uc(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(qv),n=this.injector.get(Gv),r=this.injector.get(Hv),i=this.injector.get(Dv),o=this.injector.get(Ec);e===o.components[0]&&(this.isLegacyEnabled(t)?i.initialNavigation():this.isLegacyDisabled(t)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}},{key:"isLegacyDisabled",value:function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}]),e}()).\u0275fac=function(e){return new(e||tg)(Ke(Ro))},tg.\u0275prov=he({token:tg,factory:tg.\u0275fac}),tg);function rg(e){return e.appInitializer.bind(e)}function ig(e){return e.bootstrapListener.bind(e)}var og=new Ue("Router Initializer"),sg=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this)).scheduler=o,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=r<1?1:r,e._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return _createClass(n,[{key:"nextInfiniteTimeWindow",value:function(e){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this._events.push(new ag(this._getNow(),e)),this._trimBufferThenGetEvents(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new E;if(this.isStopped||this.hasError?t=f.EMPTY:(this.observers.push(e),t=new I(this,e)),i&&e.add(e=new Jc(e,i)),n)for(var s=0;s<o&&!e.closed;s++)e.next(r[s]);else for(var a=0;a<o&&!e.closed;a++)e.next(r[a].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||nl).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r}}]),n}(x),ag=function e(t,n){_classCallCheck(this,e),this.time=t,this.value=n};function ug(e,t,n){var r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},function(e){return e.lift(function(e){var t,n,r=e.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=e.windowTime,s=void 0===o?Number.POSITIVE_INFINITY:o,a=e.refCount,u=e.scheduler,c=0,l=!1,h=!1;return function(e){c++,t&&!l||(l=!1,t=new sg(i,s,u),n=e.subscribe({next:function(e){t.next(e)},error:function(e){l=!0,t.error(e)},complete:function(){h=!0,n=void 0,t.complete()}}));var r=t.subscribe(this);this.add((function(){c--,r.unsubscribe(),n&&!h&&a&&0===c&&(n.unsubscribe(),n=void 0,t=void 0)}))}}(r))}}var cg,lg,hg,fg,dg,pg,vg,gg,yg=((hg=function e(t,r,i,o){_classCallCheck(this,e);var s=new kl(o),a=wl(s),u=Uc(void 0).pipe(Zc(s.outsideAngular),sd((function(){return o.runOutsideAngular((function(){return n.e(1).then(n.bind(null,"6nsN"))}))})),j((function(){return Tl(t,o,r)})),j((function(e){return o.runOutsideAngular((function(){return e.auth()}))})),ug({bufferSize:1,refCount:!1}));return u.pipe(Hf()).subscribe(),this.authState=u.pipe(sd((function(e){return o.runOutsideAngular((function(){return new w(e.onAuthStateChanged.bind(e))}))})),a),this.user=u.pipe(sd((function(e){return o.runOutsideAngular((function(){return new w(e.onIdTokenChanged.bind(e))}))})),a),this.idToken=this.user.pipe(sd((function(e){return e?G(e.getIdToken()):Uc(null)}))),this.idTokenResult=this.user.pipe(sd((function(e){return e?G(e.getIdTokenResult()):Uc(null)}))),function(e,t,n){return new Proxy(e,{get:function(r,i){return n.runOutsideAngular((function(){if(e[i])return e[i];if(Cl.includes(i))return function(){};var r=t.toPromise().then((function(e){var t=e&&e[i];return"function"==typeof t?t.bind(e):t&&t.then?t.then((function(e){return n.run((function(){return e}))})):n.run((function(){return t}))}));return new Proxy((function(){}),{get:function(e,t){return r[t]},apply:function(e,t,n){return r.then((function(e){return e&&e.apply(void 0,_toConsumableArray(n))}))}})}))}})}(this,u,o)}).\u0275fac=function(e){return new(e||hg)(Ke(Sl),Ke(El,8),Ke(Gu),Ke(oc))},hg.\u0275prov=he({factory:function(){return new hg(Ke(Sl),Ke(El,8),Ke(Gu),Ke(oc))},token:hg,providedIn:"any"}),hg),mg=((lg=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._AngularFireAuth=t,this._AngularFirestore=n,this.user$=new Fc(null),t.user.subscribe((function(e){if(e){var t=n.doc("users/"+e.email);t.valueChanges().pipe(Hf()).subscribe((function(n){n.emailVerified!==e.emailVerified?t.update({emailVerified:e.emailVerified}).then((function(){n.emailVerified=e.emailVerified,r._user=n,r.user$.next(r._user)})):(r._user=n,r.user$.next(r._user))}))}else r._user=null,r.user$.next(r._user)}))}return _createClass(e,[{key:"logIn",value:function(e,t){var n=this;return new Promise((function(r,i){n._AngularFireAuth.signInWithEmailAndPassword(e,t).then((function(e){console.log("[User Serv] Logged in"),r()}),(function(e){console.error("[User Serv] Login failed: "+e),i()}))}))}},{key:"logOut",value:function(){var e=this;return new Promise((function(t,n){e._AngularFireAuth.signOut().then((function(e){console.log("[User Serv] Signed out"),t()}),(function(e){console.error("[User Serv] Signout failed: "+e),n()}))}))}},{key:"createAccount",value:function(e,t){var n=this;return new Promise((function(r,i){n._AngularFireAuth.createUserWithEmailAndPassword(e.email,t).then((function(t){n._AngularFirestore.doc("users/"+e.email).set(e).then(r).catch((function(e){console.log("[User Serv] Error creating account: "+e),i(e)}))})).catch((function(e){console.log("[User Serv] Error creating account: "+e),i(e)}))}))}},{key:"getUserObservable",value:function(){return this.user$.asObservable()}},{key:"getUserSnapshot",value:function(){return this._user}},{key:"setBranch",value:function(e){var t=this;return this._AngularFirestore.doc("users/"+this._user.email).update({branch:e}).then((function(){t._user.branch=e}))}},{key:"sendVerificationEmail",value:function(){return new Promise((function(e,t){yl.auth().currentUser.sendEmailVerification().then(e,t)}))}}]),e}()).\u0275fac=function(e){return new(e||lg)(Ke(yg),Ke(Of))},lg.\u0275prov=he({token:lg,factory:lg.\u0275fac,providedIn:"root"}),lg),_g=((cg=function(){function e(t,n,r){_classCallCheck(this,e),this._AngularFirestore=t,this._Router=n,this._UserService=r,this.report$=new Fc(this._report),this.page$=new Fc(this._page)}return _createClass(e,[{key:"openReport",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Promise((function(r,i){var o=t._AngularFirestore.doc("/reports/"+e);o.valueChanges().pipe(Hf()).subscribe((function(s){t._report=s,t.report$.next(s),void 0===t._report?(console.error("[Report Serv] Report "+e+" does not exist."),i()):o.collection("pages").doc(n.toString()).valueChanges().pipe(Hf()).subscribe((function(e){t._page=e,t.page$.next(e),console.log(t._page),console.log("[Report Serv] Report and page successfully opened."),r()}))}))}))}},{key:"generateReportID",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,r=arguments.length>2?arguments[2]:void 0;return new Promise((function(i,o){var s="0123456789abcdefghijklmnopqrstuvwxyz",a="";if(navigator.onLine)if(r)a=r;else for(var u=n;u>0;--u)a+=s[Math.floor(Math.random()*s.length)];else o("offline");t?e._AngularFirestore.collection("/reports",(function(e){return e.where("id","==",a)})).valueChanges().pipe(Hf()).subscribe((function(t){t.length>0?(console.warn("[Report Serv] Generated ID is not unique. Retrying..."),e.generateReportID().then((function(e){return i(e)}))):i(a)})):i(a)}))}},{key:"createNewReport",value:function(e){var t=this;return new Promise((function(n,r){if(navigator.onLine){var i,o=t._AngularFirestore.doc("/templates/"+e);o.get().pipe(Hf()).subscribe((function(e){i=e.data(),t.generateReportID().then((function(e){var r=t._AngularFirestore.doc("/reports/"+e);i.id=e,i.author=t._UserService.getUserSnapshot().email,i.branch=t._UserService.getUserSnapshot().branch,r.set(i).then((function(){var t=[];i.pageStatuses.forEach((function(e,n){var i=new Promise((function(e,t){o.collection("pages").doc(n.toString()).valueChanges().pipe(Hf()).subscribe((function(i){var o=r.collection("pages").doc(n.toString());console.log(i),o.set(i).then(e).catch(t)}),t)}));t.push(i)})),Promise.all(t).then((function(){return n(e)}))}))}))}),(function(e){console.error(e),r()}))}else r()}))}},{key:"duplicateReport",value:function(e){var t=this;return console.log("[Report Serv] Duplicating "+e),new Promise((function(n,r){t._AngularFirestore.doc("/reports/"+e).valueChanges().pipe(Hf()).subscribe((function(i){var o=i;console.log(o),t.generateReportID().then((function(s){o.templateID=i.templateID,o.id=s,o.completionStatus="incomplete",t._AngularFirestore.doc("/reports/"+s).set(o).then((function(){for(var i=[],a=function(n){t._AngularFirestore.doc("/reports/"+e+"/pages/"+n.toString()).valueChanges().pipe(Hf()).subscribe((function(e){i.push(t._AngularFirestore.doc("/reports/"+s+"/pages/"+n.toString()).set(e))}))},u=0;u<o.pageCount;u++)a(u);Promise.all(i).then((function(){console.log("Report duplicated successfully."),n(s)}),r)}),r)}))}),r)}))}},{key:"getMagicString",value:function(e){var t=this;return new Promise((function(n,r){var i=[];e.forEach((function(e){i.push(new Promise((function(n,r){var i,o,s=[],a=[];t._AngularFirestore.doc("/reports/"+e.id).get().pipe(Hf()).subscribe((function(r){o=r.data();for(var u=function(n){a.push(new Promise((function(r,i){t._AngularFirestore.doc("/reports/"+e.id+"/pages/"+n.toString()).get().pipe(Hf()).subscribe((function(e){s.push(e.data()),r()}),i)})))},c=0;c<o.pageCount;c++)u(c);Promise.all(a).then((function(){i={id:o.id,templateID:o.templateID,title:o.title||null,coverageDate:o.coverageDate||null,submitDate:o.submitDate||null,author:o.author||null,branch:o.branch||null,additionalInfo:o.additionalInfo||null,pageStatuses:o.pageStatuses||null,pageCount:o.pageCount,completionStatus:o.completionStatus,pages:s},n(i)}))}))})))})),Promise.all(i).then((function(e){var t=JSON.stringify({reports:e});n(t)}),r)}))}},{key:"closeReport",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._report=null,this.report$.next(null),e&&this._Router.navigate([""]),console.log("[Report Serv] The report has been successfully closed.")}},{key:"deleteReport",value:function(e){var t=this;return new Promise((function(n,r){for(var i=t._AngularFirestore.doc("/reports/"+e.id),o=0;o<e.pageCount;o++)i.collection("pages").doc(o.toString()).delete();i.delete().then((function(){console.log("Report deleted"),n()}),(function(e){console.error("Deletion failed: "+e),r()}))}))}},{key:"openPage",value:function(e){var t=this;return console.log("[Report Serv] Opening page "+e+"..."),new Promise((function(n,r){t._report&&navigator.onLine||(console.error("[Report Serv] Cannot open page. No report is open or device offline."),r()),t._AngularFirestore.doc("/reports/"+t._report.id+"/pages/"+e.toString()).valueChanges().pipe(Hf()).subscribe((function(e){t._page=e,t.page$.next(e),n()}),r)}))}},{key:"submitReport",value:function(){var e=this;return new Promise((function(t,n){!1===navigator.onLine&&(console.error("[Report Serv] Cannot submit report. Device offline."),n()),e._report||(console.error("[Report Serv] Cannot submit report. None is open."),n()),e._report.completionStatus="complete",e._report.submitDate=(new Date).toISOString(),e._report.author=e._UserService.getUserSnapshot().email,e.report$.next(e._report),e.savePageOnline().then((function(){e.saveReportOnline().then((function(){e.closeReport(),t()}),n)}))}))}},{key:"attachToBranch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._report.branch=this._UserService.getUserSnapshot().branch,this.report$.next(this._report),e&&this.saveReportOnline()}},{key:"getReportObservable",value:function(){return this.report$.asObservable()}},{key:"getPageObservable",value:function(){return this.page$.asObservable()}},{key:"saveReportOnline",value:function(){var e=this;return new Promise((function(t,n){navigator.onLine||(console.error("[Report Serv] Cannot save report online. Device offline"),n()),e._report?e._AngularFirestore.doc("reports/"+e._report.id).set(e._report).then((function(){console.log("[Report Serv] Successfully saved report to server."),t()}),n):(console.error("[Report Serv] Cannot save report online. None is open."),n())}))}},{key:"savePageOnline",value:function(){var e=this;return new Promise((function(t,n){navigator.onLine||(console.error("[Report Serv] Cannot save page online. Device offline"),n()),e._page?e._AngularFirestore.doc("reports/"+e._report.id+"/pages/"+e._page.index).set(e._page).then((function(){console.log("[Report Serv] Successfully saved page "+e._page.index+" to server."),t()}),n):(console.error("[Report Serv] Cannot save page online. None is open."),n())}))}},{key:"setSectionValue",value:function(e,t,n){console.log(n)}},{key:"setCoverageDate",value:function(e){e&&!isNaN(new Date(e).getTime())?(console.log("[Report Serv] Setting coverage date to "+e),this._report.coverageDate=e,this.report$.next(this._report)):console.warn("[Report Serv] Cannot set coverage date. Invalid date.")}},{key:"setSubmitDate",value:function(e){isNaN(new Date(e).getTime())?console.error("[Report Serv] Cannot set coverage date. Invalid date."):(console.log("[Report Serv] Setting submit date to "+e),this._report.submitDate=e,this.report$.next(this._report))}},{key:"setAuthor",value:function(){this._report.author=this._UserService.getUserSnapshot().email,this.report$.next(this._report)}},{key:"setAdditionalInfo",value:function(e){console.log("[Report Serv] Setting additional info to "+e),this._report.additionalInfo=e,this.report$.next(this._report)}},{key:"setTitle",value:function(e){console.log("[Report Serv] Setting title to "+e),this._report.title=e}},{key:"setSubject",value:function(e){console.log("[Report Serv] Setting subject to "+e),this._report.title=e}},{key:"setTags",value:function(e){console.log("[Report Serv] Setting tags to "+e),this._report.tags=e}},{key:"setPageStatus",value:function(e,t){"complete"!==t&&"incomplete"!==t&&console.warn("Is "+t+" a valid status?"),this._report.pageStatuses[e]=t,this.report$.next(this._report)}},{key:"setCompletionStatus",value:function(e){"complete"!==e&&"incomplete"!==e&&console.warn("Is "+e+" a valid status?"),this._report.completionStatus=e}},{key:"fetchReports",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._AngularFirestore.doc("reports/"+e),i=new Promise((function(e,t){r.valueChanges().pipe(Hf()).subscribe((function(t){e(t)}),t)}));n.push(i)})),Promise.all(n)}},{key:"fetchAllReports",value:function(){var e=this;return confirm("This will read all reports from the database, and may take a while. Are you sure?")?new Promise((function(t,n){e._AngularFirestore.collection("/reports",(function(e){return e.orderBy("id")})).valueChanges().pipe(Hf()).subscribe((function(e){t(e)}),n)})):this.fetchAllReportsWithLimit(10)}},{key:"fetchAllReportsWithLimit",value:function(e){var t=this;return new Promise((function(n,r){t._AngularFirestore.collection("/reports",(function(t){return t.limit(e).orderBy("id")})).valueChanges().pipe(Hf()).subscribe((function(e){n(e)}),r)}))}},{key:"fetchReportsByBranchWithLimit",value:function(e,t){var n=this;return new Promise((function(r,i){n._AngularFirestore.collection("/reports",(function(n){return n.where("branch","==",e).limit(t).orderBy("id")})).valueChanges().pipe(Hf()).subscribe((function(e){r(e)}),i)}))}},{key:"fetchReportsByBranch",value:function(e){var t=this;return new Promise((function(n,r){t._AngularFirestore.collection("/reports",(function(t){return t.where("branch","==",e).orderBy("id")})).valueChanges().pipe(Hf()).subscribe((function(e){n(e)}),r)}))}},{key:"pushTemplateObjectToDB",value:function(e,t){var n=this._AngularFirestore.doc("/templates/"+e.templateID);n.set(e).then((function(){var e=n.collection("pages");t.forEach((function(t,n){e.doc(n.toString()).set(t)}))}))}},{key:"getFullReportCount",value:function(){var e=this;return console.log("[Report Serv] Getting full report count"),new Promise((function(t,n){e._AngularFirestore.collection("/reports").get().pipe(Hf()).subscribe((function(e){t(e.size)}),n)}))}},{key:"getReportCountByBranch",value:function(e){var t=this;return console.log("[Report Serv] Getting report count for "+e),new Promise((function(n,r){t._AngularFirestore.collection("/reports",(function(t){return t.where("branch","==",e)})).get().pipe(Hf()).subscribe((function(e){n(e.size)}),r)}))}},{key:"report",get:function(){return this._report}},{key:"page",get:function(){return this._page}}]),e}()).\u0275fac=function(e){return new(e||cg)(Ke(Of),Ke(Dv),Ke(mg))},cg.\u0275prov=he({token:cg,factory:cg.\u0275fac,providedIn:"root"}),cg),bg={apiKey:"AIzaSyBjMPuySzya4rhD6IZTYYIPFKAKS342rsI",authDomain:"ebrpl-reporting.firebaseapp.com",databaseURL:"https://ebrpl-reporting.firebaseio.com",projectId:"ebrpl-reporting",storageBucket:"ebrpl-reporting.appspot.com",messagingSenderId:"776684824485",appId:"1:776684824485:web:fef2d9dfec9715b6ab6a4c"},kg=((fg=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this._AngularFirestore=t,this._Router=n,this._UserServ=r,this._templateNames=[],this._templates=new Map,this.templates$=new Fc(this._templates),t.collection("templates").get().subscribe((function(e){e.forEach((function(e){i._templates.set(e.id,e.data()),i._templateNames.push(e.id)})),i.templates$.next(i._templates)})),this._UserServ.getUserObservable().subscribe((function(e){console.log("[Template Serv] User changed, refreshing template list"),i.refreshTemplateList()}))}return _createClass(e,[{key:"refreshTemplateList",value:function(){var e=this;this._AngularFirestore.collection("templates").get().pipe(Hf()).subscribe((function(t){e._templateNames=[],e._templates.clear(),t.forEach((function(t){e._templates.set(t.id,t.data()),e._templateNames.push(t.id)})),console.log(e._templateNames),e.templates$.next(e._templates)}))}},{key:"markHidden",value:function(e){var t=this;return new Promise((function(n,r){var i=t._AngularFirestore.doc("/templates/"+e);i.get().subscribe((function(o){o.exists?i.update({hidden:!0}).then((function(){var r=t._templates.get(e);r.hidden=!0,t._templates.set(e,r),n()}),r):(console.error("Cannot mark "+e+" as hidden. Template does not exist."),r())}))}))}},{key:"markVisible",value:function(e){var t=this;return new Promise((function(n,r){var i=t._AngularFirestore.doc("/templates/"+e);i.get().subscribe((function(o){o.exists?i.update({hidden:!1}).then((function(){var r=t._templates.get(e);r.hidden=!1,t._templates.set(e,r),n()}),r):(console.error("Cannot mark "+e+" as visible. Template does not exist."),r())}))}))}},{key:"openTemplate",value:function(e){console.log("[Template Serv] Opening "+e),this._Router.navigate(["builder"],{queryParams:{open:e}})}},{key:"duplicateTemplate",value:function(e,t){var n=this;return console.log("[Template Serv] Duplicating "+e),new Promise((function(r,i){n._AngularFirestore.doc("/templates/"+e).valueChanges().pipe(Hf()).subscribe((function(o){var s=o;s.templateID=t,s.id="",n._AngularFirestore.doc("/templates/"+t).set(s).then((function(){for(var o=[],a=function(r){n._AngularFirestore.doc("/templates/"+e+"/pages/"+r.toString()).valueChanges().pipe(Hf()).subscribe((function(e){o.push(n._AngularFirestore.doc("/templates/"+t+"/pages/"+r.toString()).set(e))}))},u=0;u<s.pageCount;u++)a(u);Promise.all(o).then((function(){console.log("Template duplicated successfully."),n.refreshTemplateList(),r()}),i)}),i)}),i)}))}},{key:"deleteTemplate",value:function(e){var t=this;return console.log("[Template Serv] Deleting "+e),new Promise((function(n,r){var i=t._AngularFirestore.doc("/templates/"+e),o=t._templates.get(e),s=prompt('Are you sure? To delete, type "confirm": ',"");if(s&&"confirm"==s)if(o){for(var a=0;a<o.pageCount;a++)t._AngularFirestore.doc("/templates/"+e+"/pages/"+a.toString()).delete();i.delete().then((function(){t.refreshTemplateList(),console.log("Deleted "+i.ref.path),n()}),r)}else r();else r()}))}},{key:"newTemplate",value:function(){console.log("[Template Serv] Opening fresh template"),this._Router.navigate(["builder"])}},{key:"saveTemplate",value:function(e){var t=this;return new Promise((function(n,r){console.log("[Template Serv] Saving template "+e.templateID+"...");var i={id:e.id,templateID:e.templateID,pageCount:e.pageCount,pageStatuses:e.pageStatuses,completionStatus:e.completionStatus};t._AngularFirestore.doc("/templates/"+e.templateID).set(i).then((function(){var i=[];e.pages.forEach((function(n){i.push(t._AngularFirestore.doc("/templates/"+e.templateID+"/pages/"+n.index.toString()).set(n))})),Promise.all(i).then((function(){console.log("[Template Serv] Template saved."),n()}),r)}),r)}))}},{key:"markTemplateHidden",value:function(e){return new Promise((function(e,t){}))}},{key:"templateNames",get:function(){return this._templateNames}},{key:"visibleTemplates",get:function(){var e=[];return this._templates.forEach((function(t,n,r){t.hidden||e.push(t)})),e}},{key:"templateObservable",get:function(){return this.templates$.asObservable()}},{key:"templateSnapshot",get:function(){return this._templates}}]),e}()).\u0275fac=function(e){return new(e||fg)(Ke(Of),Ke(Dv),Ke(mg))},fg.\u0275prov=he({token:fg,factory:fg.\u0275fac,providedIn:"root"}),fg),wg=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=Cg||(Cg=document.querySelector("base"))?Cg.getAttribute("href"):null;return null==n?null:(t=n,dg||(dg=document.createElement("a")),dg.setAttribute("href",t),"/"===dg.pathname.charAt(0)?dg.pathname:"/"+dg.pathname)}},{key:"resetBaseElement",value:function(){Cg=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return function(e,t){t=encodeURIComponent(t);var n,r=_createForOfIteratorHelper(e.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),s=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),a=s[0],u=s[1];if(a.trim()===t)return decodeURIComponent(u)}}catch(c){r.e(c)}finally{r.f()}return null}(document.cookie,e)}}],[{key:"makeCurrent",value:function(){var e;e=new n,Dl||(Dl=e)}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function e(){_classCallCheck(this,e)}}())),Cg=null,Sg=new Ue("TRANSITION_ID"),Eg=[{provide:Mu,useFactory:function(e,t,n){return function(){n.get(Vu).donePromise.then((function(){var n=Rl();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter((function(t){return t.getAttribute("ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}},deps:[Sg,Nl,Ro],multi:!0}],Ig=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){Re.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},Re.getAllAngularTestabilities=function(){return e.getAllTestabilities()},Re.getAllAngularRootElements=function(){return e.getAllRootElements()},Re.frameworkStabilizers||(Re.frameworkStabilizers=[]),Re.frameworkStabilizers.push((function(e){var t=Re.getAllAngularTestabilities(),n=t.length,r=!1,i=function(t){r=r||t,0==--n&&e(r)};t.forEach((function(e){e.whenStable(i)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?Rl().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){var t;t=new e,gc=t}}]),e}(),Tg=new Ue("EventManagerPlugins"),xg=((pg=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=r})),this._plugins=t.slice().reverse()}return _createClass(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event "+e)}}]),e}()).\u0275fac=function(e){return new(e||pg)(Ke(Tg),Ke(oc))},pg.\u0275prov=he({token:pg,factory:pg.\u0275fac}),pg),Ag=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=Rl().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),Og=((gg=function(){function e(){_classCallCheck(this,e),this._stylesSet=new Set}return _createClass(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}()).\u0275fac=function(e){return new(e||gg)},gg.\u0275prov=he({token:gg,factory:gg.\u0275fac}),gg),Dg=((vg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(e.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach((function(e){var r=n._doc.createElement("style");r.textContent=e,n._styleNodes.add(t.appendChild(r))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return Rl().remove(e)}))}}]),n}(Og)).\u0275fac=function(e){return new(e||vg)(Ke(Nl))},vg.\u0275prov=he({token:vg,factory:vg.\u0275fac}),vg),Rg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Pg=/%COMP%/g;function Ng(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?Ng(e,i,n):(i=i.replace(Pg,e),n.push(i))}return n}function Fg(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var Lg,Mg,Vg,jg,Ug=((Lg=function(){function e(t,n,r){_classCallCheck(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Bg(t)}return _createClass(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case ct.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new zg(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case ct.Native:case ct.ShadowDom:return new Gg(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=Ng(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Lg)(Ke(xg),Ke(Dg),Ke(ju))},Lg.\u0275prov=he({token:Lg,factory:Lg.\u0275fac}),Lg),Bg=function(){function e(t){_classCallCheck(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(Rg[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=Rg[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=Rg[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&ma.DashCase?e.style.setProperty(t,n,r&ma.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&ma.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Fg(n)):this.eventManager.addEventListener(e,t,Fg(n))}}]),e}(),zg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;_classCallCheck(this,n),(s=t.call(this,e)).component=i;var a,u=Ng(o+"-"+i.id,i.styles,[]);return r.addStyles(u),s.contentAttr="_ngcontent-%COMP%".replace(Pg,o+"-"+i.id),s.hostAttr=(a=o+"-"+i.id,"_nghost-%COMP%".replace(Pg,a)),s}return _createClass(n,[{key:"applyToHost",value:function(e){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,e,t);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(Bg),Gg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;_classCallCheck(this,n),(s=t.call(this,e)).sharedStylesHost=r,s.hostEl=i,s.component=o,s.shadowRoot=o.encapsulation===ct.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var a=Ng(o.id,o.styles,[]),u=0;u<a.length;u++){var c=document.createElement("style");c.textContent=a[u],s.shadowRoot.appendChild(c)}return s}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(Bg),Hg=((Mg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(Ag)).\u0275fac=function(e){return new(e||Mg)(Ke(Nl))},Mg.\u0275prov=he({token:Mg,factory:Mg.\u0275fac}),Mg),qg=["alt","control","meta","shift"],Wg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$g={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Qg={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},Kg=((Vg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var i=n.parseEventName(t),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Rl().onAndCancel(e,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),o="";if(qg.forEach((function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")})),o+=i,0!=t.length||0===i.length)return null;var s={};return s.domEventName=r,s.fullKey=o,s}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&$g.hasOwnProperty(t)&&(t=$g[t]))}return Wg[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),qg.forEach((function(r){r!=n&&(0,Qg[r])(e)&&(t+=r+".")})),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded((function(){return t(i)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(Ag)).\u0275fac=function(e){return new(e||Vg)(Ke(Nl))},Vg.\u0275prov=he({token:Vg,factory:Vg.\u0275fac}),Vg),Yg=bc(Rc,"browser",[{provide:Gu,useValue:"browser"},{provide:zu,useValue:function(){wg.makeCurrent(),Ig.init()},multi:!0},{provide:Nl,useFactory:function(){return function(e){Dt=e}(document),document},deps:[]}]),Zg=[[],{provide:mo,useValue:"root"},{provide:hr,useFactory:function(){return new hr},deps:[]},{provide:Tg,useClass:Hg,multi:!0,deps:[Nl,oc,Gu]},{provide:Tg,useClass:Kg,multi:!0,deps:[Nl]},[],{provide:Ug,useClass:Ug,deps:[xg,Dg,ju]},{provide:ya,useExisting:Ug},{provide:Og,useExisting:Dg},{provide:Dg,useClass:Dg,deps:[Nl]},{provide:pc,useClass:pc,deps:[oc]},{provide:xg,useClass:xg,deps:[Tg,oc]},[]],Xg=((jg=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:ju,useValue:t.appId},{provide:Sg,useExisting:ju},Eg]}}}]),e}()).\u0275mod=yt({type:jg}),jg.\u0275inj=fe({factory:function(e){return new(e||jg)(Ke(jg,12))},providers:Zg,imports:[uf,Nc]}),jg);"undefined"!=typeof window&&window;var Jg=function(){function e(t,n){_classCallCheck(this,e),this.dueTime=t,this.scheduler=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new ey(e,this.dueTime,this.scheduler))}}]),e}(),ey=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).dueTime=r,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return _createClass(n,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ty,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),n}(v);function ty(e){e.debouncedNext()}var ny=function(){function e(t,n){_classCallCheck(this,e),this.compare=t,this.keySelector=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new ry(e,this.compare,this.keySelector))}}]),e}(),ry=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return _createClass(n,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}]),n}(v),iy=function e(){_classCallCheck(this,e)};function oy(e,t){return{type:7,name:e,definitions:t,options:{}}}function sy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:t,timings:e}}function ay(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:e,options:t}}function uy(e){return{type:6,styles:e,offset:null}}function cy(e,t,n){return{type:0,name:e,styles:t,options:n}}function ly(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:e,animation:t,options:n}}function hy(e){Promise.resolve(null).then(e)}var fy=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+n}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;hy((function(){return e._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(e){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),dy=function(){function e(t){var n=this;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var r=0,i=0,o=0,s=this.players.length;0==s?hy((function(){return n._onFinish()})):this.players.forEach((function(e){e.onDone((function(){++r==s&&n._onFinish()})),e.onDestroy((function(){++i==s&&n._onDestroy()})),e.onStart((function(){++o==s&&n._onStart()}))})),this.totalTime=this.players.reduce((function(e,t){return Math.max(e,t.totalTime)}),0)}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(e){return e.init()}))}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(e){return e.play()}))}},{key:"pause",value:function(){this.players.forEach((function(e){return e.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(e){return e.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(e){return e.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(e){return e.destroy()})),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(e){return e.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach((function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)}))}},{key:"getPosition",value:function(){var e=0;return this.players.forEach((function(t){var n=t.getPosition();e=Math.min(n,e)})),e}},{key:"beforeDestroy",value:function(){this.players.forEach((function(e){e.beforeDestroy&&e.beforeDestroy()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}();function py(e,t){return new w((function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,s=0,a=function(a){var u=G(e[a]),c=!1;n.add(u.subscribe({next:function(e){c||(c=!0,s++),i[a]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&c||(s===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=i[n],e}),{}):i),n.complete())}}))},u=0;u<r;u++)a(u);else n.complete()}))}var vy,gy,yy,my,_y=new Ue("NgValueAccessor"),by={provide:_y,useExisting:Se((function(){return ky})),multi:!0},ky=((vy=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||vy)(Zo(_a),Zo(va))},vy.\u0275dir=_t({type:vy,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&hs("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(){return t.onTouched()}))},features:[ha([by])]}),vy),wy={provide:_y,useExisting:Se((function(){return Sy})),multi:!0},Cy=new Ue("CompositionEventMode"),Sy=((my=function(){function e(t,n,r){var i;_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=r,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=Rl()?Rl().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}()).\u0275fac=function(e){return new(e||my)(Zo(_a),Zo(va),Zo(Cy,8))},my.\u0275dir=_t({type:my,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&hs("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[ha([wy])]}),my),Ey=((yy=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),e}()).\u0275fac=function(e){return new(e||yy)},yy.\u0275dir=_t({type:yy}),yy),Iy=((gy=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(Ey)).\u0275fac=function(e){return Ty(e||gy)},gy.\u0275dir=_t({type:gy,features:[Ks]}),gy),Ty=ar(Iy);function xy(){throw new Error("unimplemented")}var Ay,Oy,Dy=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return _createClass(n,[{key:"validator",get:function(){return xy()}},{key:"asyncValidator",get:function(){return xy()}}]),n}(Ey),Ry=function(){function e(t){_classCallCheck(this,e),this._cd=t}return _createClass(e,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),e}(),Py=((Oy=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(Ry)).\u0275fac=function(e){return new(e||Oy)(Zo(Dy,2))},Oy.\u0275dir=_t({type:Oy,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&Os("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[Ks]}),Oy),Ny=((Ay=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(Ry)).\u0275fac=function(e){return new(e||Ay)(Zo(Iy,2))},Ay.\u0275dir=_t({type:Ay,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&Os("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[Ks]}),Ay);function Fy(e){return null==e||0===e.length}var Ly=new Ue("NgValidators"),My=new Ue("NgAsyncValidators"),Vy=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,jy=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"min",value:function(e){return function(t){if(Fy(t.value)||Fy(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(Fy(t.value)||Fy(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return Fy(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return Fy(e.value)||Vy.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){if(Fy(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}},{key:"maxLength",value:function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(r="","^"!==t.charAt(0)&&(r+="^"),r+=t,"$"!==t.charAt(t.length-1)&&(r+="$"),n=new RegExp(r)):(r=t.toString(),n=t),function(e){if(Fy(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:r,actualValue:t}}}):e.nullValidator;var n,r}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(Uy);return 0==t.length?null:function(e){return zy(function(e,t){return t.map((function(t){return t(e)}))}(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(Uy);return 0==t.length?null:function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var r=t[0];if(u(r))return py(r,null);if(c(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return py(i.map((function(e){return r[e]})),i)}}if("function"==typeof t[t.length-1]){var o=t.pop();return py(t=1===t.length&&u(t[0])?t[0]:t,null).pipe(j((function(e){return o.apply(void 0,_toConsumableArray(e))})))}return py(t,null)}(function(e,t){return t.map((function(t){return t(e)}))}(e,t).map(By)).pipe(j(zy))}}}]),e}();function Uy(e){return null!=e}function By(e){var t=cs(e)?G(e):e;if(!ls(t))throw new Error("Expected validator to return Promise or Observable.");return t}function zy(e){var t={};return e.forEach((function(e){t=null!=e?Object.assign(Object.assign({},t),e):t})),0===Object.keys(t).length?null:t}function Gy(e){return e.validate?function(t){return e.validate(t)}:e}function Hy(e){return e.validate?function(t){return e.validate(t)}:e}var qy,Wy,$y,Qy,Ky={provide:_y,useExisting:Se((function(){return Yy})),multi:!0},Yy=((qy=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||qy)(Zo(_a),Zo(va))},qy.\u0275dir=_t({type:qy,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&hs("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[ha([Ky])]}),qy),Zy={provide:_y,useExisting:Se((function(){return Jy})),multi:!0},Xy=(($y=function(){function e(){_classCallCheck(this,e),this._accessors=[]}return _createClass(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach((function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)}))}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}()).\u0275fac=function(e){return new(e||$y)},$y.\u0275prov=he({token:$y,factory:$y.\u0275fac}),$y),Jy=((Wy=function(){function e(t,n,r,i){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get(Dy),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),e}()).\u0275fac=function(e){return new(e||Wy)(Zo(_a),Zo(va),Zo(Xy),Zo(Ro))},Wy.\u0275dir=_t({type:Wy,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&hs("change",(function(){return t.onChange()}))("blur",(function(){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[ha([Zy])]}),Wy),em={provide:_y,useExisting:Se((function(){return tm})),multi:!0},tm=((Qy=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||Qy)(Zo(_a),Zo(va))},Qy.\u0275dir=_t({type:Qy,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&hs("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[ha([em])]}),Qy),nm='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',rm='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',im='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',om=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+nm)}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(rm,"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ").concat(im))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+nm)}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+rm)}},{key:"arrayParentException",value:function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(e){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(e,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===e?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),e}(),sm={provide:_y,useExisting:Se((function(){return lm})),multi:!0};function am(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var um,cm,lm=((cm=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Uo}return _createClass(e,[{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=am(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r),e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}}]),e}()).\u0275fac=function(e){return new(e||cm)(Zo(_a),Zo(va))},cm.\u0275dir=_t({type:cm,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&hs("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[ha([sm])]}),cm),hm=((um=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}return _createClass(e,[{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(am(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}}]),e}()).\u0275fac=function(e){return new(e||um)(Zo(va),Zo(_a),Zo(lm,9))},um.\u0275dir=_t({type:um,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),um),fm={provide:_y,useExisting:Se((function(){return gm})),multi:!0};function dm(e,t){return null==e?""+t:("string"==typeof t&&(t="'".concat(t,"'")),t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var pm,vm,gm=((vm=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Uo}return _createClass(e,[{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var r=e.map((function(e){return n._getOptionId(e)}));t=function(e,t){e._setSelected(r.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var s=i.item(o),a=t._getOptionValue(s.value);r.push(a)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var h=t._getOptionValue(l.value);r.push(h)}}t.value=r,e(r)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r)._value,e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}}]),e}()).\u0275fac=function(e){return new(e||vm)(Zo(_a),Zo(va))},vm.\u0275dir=_t({type:vm,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&hs("change",(function(e){return t.onChange(e.target)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[ha([fm])]}),vm),ym=((pm=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}return _createClass(e,[{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"_setSelected",value:function(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(e){null!=this._select&&(this._value=e,this._setElementValue(dm(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._select?(this._value=e,this._setElementValue(dm(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}}]),e}()).\u0275fac=function(e){return new(e||pm)(Zo(va),Zo(_a),Zo(gm,9))},pm.\u0275dir=_t({type:pm,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),pm);function mm(e,t){return[].concat(_toConsumableArray(t.path),[e])}function _m(e,t){e||Cm(t,"Cannot find control with"),t.valueAccessor||Cm(t,"No value accessor for form control with"),e.validator=jy.compose([e.validator,t.validator]),e.asyncValidator=jy.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange((function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&bm(e,t)}))}(e,t),function(e,t){e.registerOnChange((function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&bm(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange((function(e){t.valueAccessor.setDisabledState(e)})),t._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))})),t._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))}))}function bm(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function km(e,t){null==e&&Cm(t,"Cannot find control with"),e.validator=jy.compose([e.validator,t.validator]),e.asyncValidator=jy.composeAsync([e.asyncValidator,t.asyncValidator])}function wm(e){return Cm(e,"There is no FormControl instance attached to form control element with")}function Cm(e,t){var n;throw n=e.path.length>1?"path: '".concat(e.path.join(" -> "),"'"):e.path[0]?"name: '".concat(e.path,"'"):"unspecified name attribute",new Error("".concat(t," ").concat(n))}function Sm(e){return null!=e?jy.compose(e.map(Gy)):null}function Em(e){return null!=e?jy.composeAsync(e.map(Hy)):null}function Im(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Uo(t,n.currentValue)}var Tm=[ky,tm,Yy,lm,gm,Jy];function xm(e,t){e._syncPendingControls(),t.forEach((function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}))}function Am(e,t){if(!t)return null;Array.isArray(t)||Cm(e,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return t.forEach((function(t){var o;t.constructor===Sy?n=t:(o=t,Tm.some((function(e){return o.constructor===e}))?(r&&Cm(e,"More than one built-in value accessor matches form control with"),r=t):(i&&Cm(e,"More than one custom value accessor matches form control with"),i=t))})),i||r||n||(Cm(e,"No valid value accessor for form control with"),null)}function Om(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function Dm(e,t,n,r){gr()&&"never"!==r&&((null!==r&&"once"!==r||t._ngModelWarningSentOnce)&&("always"!==r||n._ngModelWarningSent)||(om.ngModelWarning(e),t._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}function Rm(e){var t=Nm(e)?e.validators:e;return Array.isArray(t)?Sm(t):t||null}function Pm(e,t){var n=Nm(t)?t.asyncValidators:e;return Array.isArray(n)?Em(n):n||null}function Nm(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var Fm,Lm,Mm,Vm,jm,Um,Bm,zm,Gm,Hm=function(){function e(t,n){_classCallCheck(this,e),this.validator=t,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(e,[{key:"setValidators",value:function(e){this.validator=Rm(e)}},{key:"setAsyncValidators",value:function(e){this.asyncValidator=Pm(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(e){return e.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(e){e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(e){e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!0)}))}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild((function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!1)}))}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(t){return t._updateTreeValidity(e)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=By(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return t.setErrors(n,{emitEvent:e})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;var r=e;return t.forEach((function(e){r=r instanceof Wm?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof $m&&r.at(e)||null})),r}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new pu,this.statusChanges=new pu}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls((function(t){return t.status===e}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(e){return e.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(e){return e.touched}))}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){Nm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}}]),e}(),qm=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this,Rm(i),Pm(o,i)))._onChange=[],e._applyFormState(r),e._setUpdateStrategy(i),e.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e._initObservables(),e}return _createClass(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(e){return e(t.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(Hm),Wm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,Rm(r),Pm(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach((function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(e,t,n){return e[n]=t instanceof qm?t.value:t.getRawValue(),e}))}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,(function(e,t){return!!t._syncPendingControls()||e}));return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach((function(n){return e(t.controls[n],n)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){var t=this,n=!1;return this._forEachChild((function(r,i){n=n||t.contains(i)&&e(r)})),n}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},(function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t}))}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild((function(e,r){n=t(n,e,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(Hm),$m=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,Rm(r),Pm(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach((function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map((function(e){return e instanceof qm?e.value:e.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(e){return e._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce((function(e,t){return!!t._syncPendingControls()||e}),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}},{key:"_forEachChild",value:function(e){this.controls.forEach((function(t,n){e(t,n)}))}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter((function(t){return t.enabled||e.disabled})).map((function(e){return e.value}))}},{key:"_anyControls",value:function(e){return this.controls.some((function(t){return t.enabled&&e(t)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){return e._registerControl(t)}))}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var e,t=_createForOfIteratorHelper(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(Hm),Qm={provide:Iy,useExisting:Se((function(){return Ym}))},Km=Promise.resolve(null),Ym=((Lm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).submitted=!1,i._directives=[],i.ngSubmit=new pu,i.form=new Wm({},Sm(e),Em(r)),i}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(e){var t=this;Km.then((function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),_m(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)}))}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t=this;Km.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name),Om(t._directives,e)}))}},{key:"addFormGroup",value:function(e){var t=this;Km.then((function(){var n=t._findContainer(e.path),r=new Wm({});km(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(e){var t=this;Km.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)}))}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){var n=this;Km.then((function(){n.form.get(e.path).setValue(t)}))}},{key:"setValue",value:function(e){this.control.setValue(e)}},{key:"onSubmit",value:function(e){return this.submitted=!0,xm(this.form,this._directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(e){return e.pop(),e.length?this.form.get(e):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),n}(Iy)).\u0275fac=function(e){return new(e||Lm)(Zo(Ly,10),Zo(My,10))},Lm.\u0275dir=_t({type:Lm,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&hs("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ha([Qm]),Ks]}),Lm),Zm=((Fm=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return mm(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Sm(this._validators)}},{key:"asyncValidator",get:function(){return Em(this._asyncValidators)}}]),n}(Iy)).\u0275fac=function(e){return Xm(e||Fm)},Fm.\u0275dir=_t({type:Fm,features:[Ks]}),Fm),Xm=ar(Zm),Jm=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '.concat(nm,'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '))}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(rm,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(im))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(rm,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(im))}}]),e}(),e_={provide:Iy,useExisting:Se((function(){return t_}))},t_=((Mm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){this._parent instanceof n||this._parent instanceof Ym||Jm.modelGroupParentException()}}]),n}(Zm)).\u0275fac=function(e){return new(e||Mm)(Zo(Iy,5),Zo(Ly,10),Zo(My,10))},Mm.\u0275dir=_t({type:Mm,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[ha([e_]),Ks]}),Mm),n_={provide:Dy,useExisting:Se((function(){return i_}))},r_=Promise.resolve(null),i_=((jm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;return _classCallCheck(this,n),(s=t.call(this)).control=new qm,s._registered=!1,s.update=new pu,s._parent=e,s._rawValidators=r||[],s._rawAsyncValidators=i||[],s.valueAccessor=Am(_assertThisInitialized(s),o),s}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),Im(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){_m(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof t_)&&this._parent instanceof Zm?Jm.formGroupNameException():this._parent instanceof t_||this._parent instanceof Ym||Jm.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Jm.missingNameException()}},{key:"_updateValue",value:function(e){var t=this;r_.then((function(){t.control.setValue(e,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,r=""===n||n&&"false"!==n;r_.then((function(){r&&!t.control.disabled?t.control.disable():!r&&t.control.disabled&&t.control.enable()}))}},{key:"path",get:function(){return this._parent?mm(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Sm(this._rawValidators)}},{key:"asyncValidator",get:function(){return Em(this._rawAsyncValidators)}}]),n}(Dy)).\u0275fac=function(e){return new(e||jm)(Zo(Iy,9),Zo(Ly,10),Zo(My,10),Zo(_y,10))},jm.\u0275dir=_t({type:jm,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ha([n_]),Ks,ta]}),jm),o_=((Vm=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Vm)},Vm.\u0275dir=_t({type:Vm,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Vm),s_=new Ue("NgModelWithFormControlWarning"),a_={provide:Dy,useExisting:Se((function(){return u_}))},u_=((Um=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;return _classCallCheck(this,n),(s=t.call(this))._ngModelWarningConfig=o,s.update=new pu,s._ngModelWarningSent=!1,s._rawValidators=e||[],s._rawAsyncValidators=r||[],s.valueAccessor=Am(_assertThisInitialized(s),i),s}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._isControlChanged(e)&&(_m(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),Im(e,this.viewModel)&&(Dm("formControl",n,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_isControlChanged",value:function(e){return e.hasOwnProperty("form")}},{key:"isDisabled",set:function(e){om.disabledAttrWarning()}},{key:"path",get:function(){return[]}},{key:"validator",get:function(){return Sm(this._rawValidators)}},{key:"asyncValidator",get:function(){return Em(this._rawAsyncValidators)}},{key:"control",get:function(){return this.form}}]),n}(Dy)).\u0275fac=function(e){return new(e||Um)(Zo(Ly,10),Zo(My,10),Zo(_y,10),Zo(s_,8))},Um.\u0275dir=_t({type:Um,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[ha([a_]),Ks,ta]}),Um._ngModelWarningSentOnce=!1,Um),c_={provide:Iy,useExisting:Se((function(){return l_}))},l_=((Bm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._validators=e,i._asyncValidators=r,i.submitted=!1,i.directives=[],i.form=null,i.ngSubmit=new pu,i}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(e){var t=this.form.get(e.path);return _m(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){Om(this.directives,e)}},{key:"addFormGroup",value:function(e){var t=this.form.get(e.path);km(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(e){}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"addFormArray",value:function(e){var t=this.form.get(e.path);km(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(e){}},{key:"getFormArray",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){this.form.get(e.path).setValue(t)}},{key:"onSubmit",value:function(e){return this.submitted=!0,xm(this.form,this.directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_updateDomValue",value:function(){var e=this;this.directives.forEach((function(t){var n=e.form.get(t.path);t.control!==n&&(function(e,t){t.valueAccessor.registerOnChange((function(){return wm(t)})),t.valueAccessor.registerOnTouched((function(){return wm(t)})),t._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),t._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),e&&e._clearChangeFns()}(t.control,t),n&&_m(n,t),t.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var e=this;this.form._registerOnCollectionChange((function(){return e._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var e=Sm(this._validators);this.form.validator=jy.compose([this.form.validator,e]);var t=Em(this._asyncValidators);this.form.asyncValidator=jy.composeAsync([this.form.asyncValidator,t])}},{key:"_checkFormPresent",value:function(){this.form||om.missingFormException()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),n}(Iy)).\u0275fac=function(e){return new(e||Bm)(Zo(Ly,10),Zo(My,10))},Bm.\u0275dir=_t({type:Bm,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&hs("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ha([c_]),Ks,ta]}),Bm),h_={provide:Iy,useExisting:Se((function(){return f_}))},f_=((zm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){v_(this._parent)&&om.groupParentException()}}]),n}(Zm)).\u0275fac=function(e){return new(e||zm)(Zo(Iy,13),Zo(Ly,10),Zo(My,10))},zm.\u0275dir=_t({type:zm,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[ha([h_]),Ks]}),zm),d_={provide:Iy,useExisting:Se((function(){return p_}))},p_=((Gm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"_checkParentType",value:function(){v_(this._parent)&&om.arrayParentException()}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return mm(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"validator",get:function(){return Sm(this._validators)}},{key:"asyncValidator",get:function(){return Em(this._asyncValidators)}}]),n}(Iy)).\u0275fac=function(e){return new(e||Gm)(Zo(Iy,13),Zo(Ly,10),Zo(My,10))},Gm.\u0275dir=_t({type:Gm,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[ha([d_]),Ks]}),Gm);function v_(e){return!(e instanceof f_||e instanceof l_||e instanceof p_)}var g_,y_,m_,__,b_,k_,w_={provide:Dy,useExisting:Se((function(){return C_}))},C_=((g_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s){var a;return _classCallCheck(this,n),(a=t.call(this))._ngModelWarningConfig=s,a._added=!1,a.update=new pu,a._ngModelWarningSent=!1,a._parent=e,a._rawValidators=r||[],a._rawAsyncValidators=i||[],a.valueAccessor=Am(_assertThisInitialized(a),o),a}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._added||this._setUpControl(),Im(e,this.viewModel)&&(Dm("formControlName",n,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_checkParentType",value:function(){!(this._parent instanceof f_)&&this._parent instanceof Zm?om.ngModelGroupException():this._parent instanceof f_||this._parent instanceof l_||this._parent instanceof p_||om.controlParentException()}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}},{key:"isDisabled",set:function(e){om.disabledAttrWarning()}},{key:"path",get:function(){return mm(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Sm(this._rawValidators)}},{key:"asyncValidator",get:function(){return Em(this._rawAsyncValidators)}}]),n}(Dy)).\u0275fac=function(e){return new(e||g_)(Zo(Iy,13),Zo(Ly,10),Zo(My,10),Zo(_y,10),Zo(s_,8))},g_.\u0275dir=_t({type:g_,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ha([w_]),Ks,ta]}),g_._ngModelWarningSentOnce=!1,g_),S_={provide:Ly,useExisting:Se((function(){return E_})),multi:!0},E_=((k_=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validate",value:function(e){return this.required?jy.required(e):null}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}},{key:"required",get:function(){return this._required},set:function(e){this._required=null!=e&&!1!==e&&""+e!="false",this._onChange&&this._onChange()}}]),e}()).\u0275fac=function(e){return new(e||k_)},k_.\u0275dir=_t({type:k_,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&$o("required",t.required?"":null)},inputs:{required:"required"},features:[ha([S_])]}),k_),I_=((b_=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:b_}),b_.\u0275inj=fe({factory:function(e){return new(e||b_)}}),b_),T_=((__=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"group",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(e),r=null,i=null,o=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(r=null!=t.validators?t.validators:null,i=null!=t.asyncValidators?t.asyncValidators:null,o=null!=t.updateOn?t.updateOn:void 0):(r=null!=t.validator?t.validator:null,i=null!=t.asyncValidator?t.asyncValidator:null)),new Wm(n,{asyncValidators:i,updateOn:o,validators:r})}},{key:"control",value:function(e,t,n){return new qm(e,t,n)}},{key:"array",value:function(e,t,n){var r=this,i=e.map((function(e){return r._createControl(e)}));return new $m(i,t,n)}},{key:"_reduceControls",value:function(e){var t=this,n={};return Object.keys(e).forEach((function(r){n[r]=t._createControl(e[r])})),n}},{key:"_createControl",value:function(e){return e instanceof qm||e instanceof Wm||e instanceof $m?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}]),e}()).\u0275fac=function(e){return new(e||__)},__.\u0275prov=he({token:__,factory:__.\u0275fac}),__),x_=((m_=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:m_}),m_.\u0275inj=fe({factory:function(e){return new(e||m_)},providers:[Xy],imports:[I_]}),m_),A_=((y_=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:s_,useValue:t.warnOnNgModelWithFormControl}]}}}]),e}()).\u0275mod=yt({type:y_}),y_.\u0275inj=fe({factory:function(e){return new(e||y_)},providers:[T_,Xy],imports:[I_]}),y_),O_=["buttonProjectedRef"];function D_(e,t){1&e&&is(0,"span",3)}function R_(e,t){if(1&e){var n=us();ns(0,"button",1),hs("click",(function(e){return Yt(n),gs().emitClick(e)})),Ko(1,D_,1,0,"span",2),_s(2),rs()}if(2&e){var r=gs();Ds(r.classNames),$o("type",r.type)("name",r.name)("disabled",r.disabled)("id",r.id),Ur(1),es("ngIf",r.loading)}}var P_=["*"];function N_(e,t){}function F_(e,t){if(1&e&&(os(0),Ko(1,N_,0,0,"ng-template",3),ss()),2&e){var n=t.$implicit;Ur(1),es("ngTemplateOutlet",n.templateRef)}}function L_(e,t){}function M_(e,t){if(1&e&&(ns(0,"div",9),Ko(1,L_,0,0,"ng-template",3),rs()),2&e){var n=gs(2),r=Yo(3);es("id",n.popoverId),$o("id",n.popoverId)("aria-hidden",!n.open),Ur(1),es("ngTemplateOutlet",r)}}function V_(e,t){if(1&e&&(os(0),ns(1,"div",4,5),ns(3,"button",6),is(4,"clr-icon",7),rs(),Ko(5,M_,2,4,"div",8),rs(),ss()),2&e){var n=gs();Ur(1),es("ngClass",n.menuPosition),Ur(2),$o("aria-controls",n.popoverId)("aria-expanded",n.open)("aria-label",n.commonStrings.keys.rowActions),Ur(1),$o("title",n.commonStrings.keys.more),Ur(1),es("clrPopoverContent",n.open)("clrPopoverContentAt",n.popoverPosition)("clrPopoverContentOutsideClickToClose",!0)("clrPopoverContentScrollToClose",!0)}}function j_(e,t){}function U_(e,t){if(1&e&&(os(0),Ko(1,j_,0,0,"ng-template",3),ss()),2&e){var n=t.$implicit;Ur(1),es("ngTemplateOutlet",n.templateRef)}}function B_(e,t){1&e&&Ko(0,U_,2,1,"ng-container",0),2&e&&es("ngForOf",gs().menuButtons)}var z_=["clrLoading",""];function G_(e,t){1&e&&(ns(0,"span"),is(1,"span",2),rs()),2&e&&(Ur(1),es("@spinner",void 0))}function H_(e,t){if(1&e){var n=us();ns(0,"span"),ns(1,"span",3),hs("@validated.done",(function(){Yt(n);var e=gs();return e.loadingStateChange(e.buttonState.DEFAULT)})),rs(),rs()}2&e&&(Ur(1),es("@validated",void 0))}function q_(e,t){1&e&&(ns(0,"span"),_s(1),rs()),2&e&&es("@defaultButton",void 0)}function W_(e,t){1&e&&is(0,"label")}var $_=[[["","clrCheckbox",""],["","clrToggle",""]],[["label"]]],Q_=["[clrCheckbox],[clrToggle]","label"];function K_(e,t){1&e&&is(0,"label")}function Y_(e,t){1&e&&_s(0,2,["*ngIf","!invalid"])}function Z_(e,t){1&e&&is(0,"clr-icon",4)}function X_(e,t){1&e&&_s(0,3,["*ngIf","invalid"])}var J_=[[["label"]],[["clr-checkbox-wrapper"],["clr-toggle-wrapper"]],[["clr-control-helper"]],[["clr-control-error"]]],eb=["label","clr-checkbox-wrapper,clr-toggle-wrapper","clr-control-helper","clr-control-error"];function tb(e,t){if(1&e&&(ns(0,"td",4),zs(1),rs()),2&e){var n=t.$implicit;$o("aria-label",n.day),Ur(1),Hs(" ",n.narrow," ")}}function nb(e,t){if(1&e&&(ns(0,"td",7),is(1,"clr-day",8),rs()),2&e){var n=t.$implicit;Ur(1),es("clrDayView",n)}}function rb(e,t){if(1&e&&(ns(0,"tr",5),Ko(1,nb,2,1,"td",6),rs()),2&e){var n=t.$implicit;Ur(1),es("ngForOf",n)}}var ib=["actionButton"];function ob(e,t){1&e&&is(0,"label")}function sb(e,t){if(1&e&&(ns(0,"button",7,8),is(2,"clr-icon",9),rs()),2&e){var n=gs();es("disabled",n.isInputDateDisabled),$o("title",n.commonStrings.keys.datepickerToggle)("aria-label",n.commonStrings.keys.datepickerToggle)}}function ab(e,t){1&e&&is(0,"clr-datepicker-view-manager",10)}function ub(e,t){1&e&&_s(0,2,["*ngIf","!invalid"])}function cb(e,t){1&e&&_s(0,3,["*ngIf","invalid"])}var lb=[[["label"]],[["","clrDate",""]],[["clr-control-helper"]],[["clr-control-error"]]],hb=["label","[clrDate]","clr-control-helper","clr-control-error"];function fb(e,t){1&e&&is(0,"clr-monthpicker")}function db(e,t){1&e&&is(0,"clr-yearpicker")}function pb(e,t){1&e&&is(0,"clr-daypicker")}function vb(e,t){if(1&e){var n=us();ns(0,"button",1),hs("click",(function(){Yt(n);var e=t.index;return gs().changeMonth(e)})),zs(1),rs()}if(2&e){var r=t.$implicit,i=t.index,o=gs();Os("is-selected",i===o.calendarMonthIndex),$o("tabindex",o.getTabIndex(i)),Ur(1),Hs(" ",r," ")}}function gb(e,t){if(1&e){var n=us();ns(0,"button",7),hs("click",(function(){Yt(n);var e=t.$implicit;return gs().changeYear(e)})),zs(1),rs()}if(2&e){var r=t.$implicit,i=gs();Os("is-selected",r===i.calendarYear),$o("tabindex",i.getTabIndex(r)),Ur(1),Hs(" ",r," ")}}function yb(e,t){1&e&&is(0,"label")}function mb(e,t){1&e&&is(0,"clr-icon",4)}function _b(e,t){1&e&&_s(0,2,["*ngIf","!invalid"])}function bb(e,t){1&e&&_s(0,3,["*ngIf","invalid"])}var kb=[[["label"]],[["","clrInput",""]],[["clr-control-helper"]],[["clr-control-error"]]],wb=["label","[clrInput]","clr-control-helper","clr-control-error"];function Cb(e,t){1&e&&is(0,"label")}function Sb(e,t){if(1&e){var n=us();ns(0,"button",6),hs("click",(function(){return Yt(n),gs().toggle()})),is(1,"clr-icon"),rs()}if(2&e){var r=gs();es("disabled",null==r.control?null:r.control.disabled),Ur(1),$o("shape",r.show?"eye-hide":"eye")("title",r.show?r.commonStrings.keys.hide:r.commonStrings.keys.show)}}function Eb(e,t){1&e&&is(0,"clr-icon",7)}function Ib(e,t){1&e&&_s(0,2,["*ngIf","!invalid"])}function Tb(e,t){1&e&&_s(0,3,["*ngIf","invalid"])}var xb=[[["label"]],[["","clrPassword",""]],[["clr-control-helper"]],[["clr-control-error"]]],Ab=["label","[clrPassword]","clr-control-helper","clr-control-error"];function Ob(e,t){1&e&&is(0,"label")}var Db=[[["","clrRadio",""]],[["label"]]],Rb=["[clrRadio]","label"];function Pb(e,t){1&e&&is(0,"label")}function Nb(e,t){1&e&&is(0,"clr-icon",4)}function Fb(e,t){1&e&&_s(0,2,["*ngIf","!invalid"])}function Lb(e,t){1&e&&_s(0,3,["*ngIf","invalid"])}var Mb=[[["label"]],[["","clrSelect",""]],[["clr-control-helper"]],[["clr-control-error"]]],Vb=["label","[clrSelect]","clr-control-helper","clr-control-error"];function jb(e,t){1&e&&is(0,"label")}function Ub(e,t){1&e&&is(0,"clr-icon",4)}function Bb(e,t){1&e&&_s(0,2,["*ngIf","!invalid"])}function zb(e,t){1&e&&_s(0,3,["*ngIf","invalid"])}var Gb=[[["label"]],[["","clrTextarea",""]],[["clr-control-helper"]],[["clr-control-error"]]],Hb=["label","[clrTextarea]","clr-control-helper","clr-control-error"],qb=["anchor"];function Wb(e,t){if(1&e&&(ns(0,"div",4),ns(1,"div",5),ns(2,"button",6),is(3,"clr-icon",7),rs(),rs(),_s(4),rs()),2&e){var n=gs();es("id",n.popoverId),Ur(3),$o("title",n.commonStrings.keys.close)}}var $b=["input"],Qb=["input_low"],Kb=["columnPortal"];function Yb(e,t){1&e&&_s(0)}function Zb(e,t){1&e&&as(0)}function Xb(e,t){1&e&&is(0,"clr-icon",10),2&e&&$o("shape",gs(2).sortIcon)}function Jb(e,t){if(1&e){var n=us();ns(0,"button",7),hs("click",(function(){return Yt(n),gs().sort()})),Ko(1,Zb,1,0,"ng-container",8),Ko(2,Xb,1,1,"clr-icon",9),rs()}if(2&e){var r=gs(),i=Yo(6);$o("aria-label",r.commonStrings.keys.sortColumn),Ur(1),es("ngTemplateOutlet",i),Ur(1),es("ngIf",r.sortIcon)}}function ek(e,t){if(1&e){var n=us();ns(0,"clr-dg-string-filter",11),hs("clrFilterValueChange",(function(e){return Yt(n),gs().filterValue=e})),rs()}if(2&e){var r=gs();es("clrDgStringFilter",r.registered)("clrFilterValue",r.filterValue)}}function tk(e,t){if(1&e){var n=us();ns(0,"clr-dg-numeric-filter",12),hs("clrFilterValueChange",(function(e){return Yt(n),gs().filterValue=e})),rs()}if(2&e){var r=gs();es("clrDgNumericFilter",r.registered)("clrFilterValue",r.filterValue)}}function nk(e,t){1&e&&_s(0,1)}function rk(e,t){1&e&&as(0)}function ik(e,t){if(1&e&&(ns(0,"span",13),Ko(1,rk,1,0,"ng-container",8),rs()),2&e){gs();var n=Yo(6);Ur(1),es("ngTemplateOutlet",n)}}function ok(e,t){1&e&&is(0,"clr-dg-column-separator")}var sk=[[["clr-dg-filter"],["clr-dg-string-filter"],["clr-dg-numeric-filter"]],"*"],ak=["clr-dg-filter, clr-dg-string-filter, clr-dg-numeric-filter","*"];function uk(e,t){1&e&&is(0,"div",3)}function ck(e,t){1&e&&_s(0,0,["*ngIf","emptyDatagrid"])}function lk(e,t){if(1&e&&(os(0),ns(1,"button",1),is(2,"clr-icon",2),rs(),ss()),2&e){var n=gs();Ur(2),$o("title",n.commonStrings.keys.info)}}var hk=["cellPortal"];function fk(e,t){1&e&&_s(0)}var dk=["rowPortal"];function pk(e,t){1&e&&_s(0)}var vk=["detailButton"],gk=["stickyCells"],yk=["scrollableCells"],mk=["calculatedCells"];function _k(e,t){}function bk(e,t){if(1&e&&(ns(0,"clr-expandable-animation",7),Ko(1,_k,0,0,"ng-template",8),rs()),2&e){var n=gs(2),r=Yo(6);es("clrExpandTrigger",n.expandAnimationTrigger),Ur(1),es("ngTemplateOutlet",r)}}function kk(e,t){}function wk(e,t){1&e&&Ko(0,kk,0,0,"ng-template",8),2&e&&(gs(2),es("ngTemplateOutlet",Yo(6)))}function Ck(e,t){if(1&e&&(ns(0,"label",6),Ko(1,bk,2,2,"clr-expandable-animation",1),Ko(2,wk,1,1,void 0,2),rs()),2&e){var n=gs();Ur(1),es("ngIf",n.expand.expandable),Ur(1),es("ngIf",!n.expand.expandable)}}function Sk(e,t){}function Ek(e,t){if(1&e&&(ns(0,"clr-expandable-animation",7),Ko(1,Sk,0,0,"ng-template",8),rs()),2&e){var n=gs(),r=Yo(6);es("clrExpandTrigger",n.expandAnimationTrigger),Ur(1),es("ngTemplateOutlet",r)}}function Ik(e,t){}function Tk(e,t){1&e&&Ko(0,Ik,0,0,"ng-template",8),2&e&&(gs(),es("ngTemplateOutlet",Yo(6)))}function xk(e,t){1&e&&_s(0)}var Ak=function(e){return{"clr-form-control-disabled":e}};function Ok(e,t){if(1&e){var n=us();ns(0,"div",19),ns(1,"input",20),hs("ngModelChange",(function(e){return Yt(n),gs(2).toggle(e)})),rs(),rs()}if(2&e){var r=gs(2);es("ngClass",su(6,Ak,!r.clrDgSelectable)),Ur(1),es("ngModel",r.selected)("id",r.checkboxId),$o("disabled",!r.clrDgSelectable||null)("aria-disabled",!r.clrDgSelectable||null)("aria-label",r.commonStrings.keys.select)}}function Dk(e,t){if(1&e){var n=us();ns(0,"div",19),ns(1,"input",21),hs("ngModelChange",(function(e){return Yt(n),gs(2).selection.currentSingle=e})),rs(),rs()}if(2&e){var r=gs(2);es("ngClass",su(9,Ak,!r.clrDgSelectable)),Ur(1),es("id",r.radioId)("name",r.selection.id+"-radio")("value",r.item)("ngModel",r.selection.currentSingle)("checked",r.selection.currentSingle===r.item),$o("disabled",!r.clrDgSelectable||null)("aria-disabled",!r.clrDgSelectable||null)("aria-label",r.commonStrings.keys.select)}}function Rk(e,t){1&e&&(ns(0,"div",22),_s(1,2),rs())}function Pk(e,t){if(1&e){var n=us();ns(0,"button",26),hs("click",(function(){return Yt(n),gs(4).toggleExpand()})),is(1,"clr-icon",27),rs()}if(2&e){var r=gs(4);$o("aria-expanded",r.expand.expanded)("aria-label",r.expand.expanded?r.clrDgDetailCloseLabel:r.clrDgDetailOpenLabel)("aria-controls",r.expandableId),Ur(1),$o("dir",r.expand.expanded?"down":"right")("title",r.expand.expanded?r.commonStrings.keys.collapse:r.commonStrings.keys.expand)}}function Nk(e,t){if(1&e&&(ns(0,"clr-spinner",28),zs(1),rs()),2&e){var n=gs(4);Ur(1),Gs(n.commonStrings.keys.loading)}}function Fk(e,t){if(1&e&&(os(0),Ko(1,Pk,2,5,"button",24),Ko(2,Nk,2,1,"clr-spinner",25),ss()),2&e){var n=gs(3);Ur(1),es("ngIf",!n.expand.loading),Ur(1),es("ngIf",n.expand.loading)}}function Lk(e,t){if(1&e&&(ns(0,"div",23),Ko(1,Fk,3,2,"ng-container",2),rs()),2&e){var n=gs(2);Ur(1),es("ngIf",n.expand.expandable)}}function Mk(e,t){if(1&e){var n=us();ns(0,"div",29),ns(1,"button",30,31),hs("click",(function(){Yt(n);var e=Yo(2),t=gs(2);return t.detailService.toggle(t.item,e)})),is(3,"clr-icon",32),rs(),rs()}if(2&e){var r=gs(2);Ur(1),Os("is-open",r.detailService.isRowOpen(r.item)),$o("aria-label",r.detailService.isOpen?r.clrDgDetailCloseLabel:r.clrDgDetailOpenLabel)("aria-expanded",r.detailService.isOpen)("aria-controls",r.detailService.id),Ur(2),$o("dir",r.detailService.isRowOpen(r.item)?"left":"right")("title",r.detailService.isRowOpen(r.item)?r.commonStrings.keys.close:r.commonStrings.keys.open)}}function Vk(e,t){}function jk(e,t){1&e&&Ko(0,Vk,0,0,"ng-template",8),2&e&&(gs(2),es("ngTemplateOutlet",Yo(4)))}function Uk(e,t){}function Bk(e,t){1&e&&Ko(0,Uk,0,0,"ng-template",8),2&e&&(gs(2),es("ngTemplateOutlet",Yo(4)))}var zk=function(e){return{"is-replaced":e}};function Gk(e,t){if(1&e&&(ns(0,"div",9),ns(1,"div",10),os(2,null,11),Ko(4,Ok,2,8,"div",12),Ko(5,Dk,2,11,"div",12),Ko(6,Rk,2,0,"div",13),Ko(7,Lk,2,1,"div",14),Ko(8,Mk,4,7,"div",15),ss(),rs(),ns(9,"div",16),ns(10,"div",17),_s(11,1),as(12,null,18),rs(),Ko(14,jk,1,1,void 0,2),Ko(15,Bk,1,1,void 0,2),rs(),rs()),2&e){var n=gs();Os("datagrid-row-detail-open",n.detailService.isRowOpen(n.item)),es("id",n.id),Ur(4),es("ngIf",n.selection.selectionType===n.SELECTION_TYPE.Multi),Ur(1),es("ngIf",n.selection.selectionType===n.SELECTION_TYPE.Single),Ur(1),es("ngIf",n.rowActionService.hasActionableRow),Ur(1),es("ngIf",n.globalExpandable.hasExpandableRow),Ur(1),es("ngIf",n.detailService.enabled),Ur(1),es("ngClass",su(11,zk,n.replaced&&n.expanded)),Ur(5),es("ngIf",n.replaced&&!n.expand.loading),Ur(1),es("ngIf",!n.replaced&&!n.expand.loading)}}var Hk=[[["clr-dg-row-detail"]],[["clr-dg-cell"]],[["clr-dg-action-overflow"]]],qk=["clr-dg-row-detail","clr-dg-cell","clr-dg-action-overflow"],Wk=["scrollableColumns"],$k=["datagridTable"],Qk=["projectedDisplayColumns"],Kk=["projectedCalculationColumns"],Yk=["displayedRows"],Zk=["calculationRows"];function Xk(e,t){if(1&e){var n=us();ns(0,"div",23),ns(1,"span",24),ns(2,"input",25),hs("ngModelChange",(function(e){return Yt(n),gs().allSelected=e})),rs(),rs(),is(3,"div",26),rs()}if(2&e){var r=gs();Ur(2),es("ngModel",r.allSelected),$o("aria-label",r.commonStrings.keys.selectAll)}}function Jk(e,t){1&e&&(ns(0,"div",23),is(1,"div",26),rs()),2&e&&$o("aria-label",gs().clrDgSingleSelectionAriaLabel)}function ew(e,t){1&e&&(ns(0,"div",27),is(1,"div",26),rs()),2&e&&$o("aria-label",gs().clrDgSingleActionableAriaLabel)}function tw(e,t){1&e&&(ns(0,"div",28),is(1,"div",26),rs()),2&e&&$o("aria-label",gs().clrDetailExpandableAriaLabel)}function nw(e,t){1&e&&is(0,"clr-dg-placeholder")}function rw(e,t){1&e&&(ns(0,"div",29),ns(1,"clr-spinner",30),zs(2,"Loading"),rs(),rs())}var iw=[[["clr-dg-action-bar"]],[["clr-dg-placeholder"]],[["clr-dg-footer"]],[["","clrIfDetail",""],["clr-dg-detail"]]],ow=["clr-dg-action-bar","clr-dg-placeholder","clr-dg-footer","[clrIfDetail],clr-dg-detail"];function sw(e,t){if(1&e){var n=us();ns(0,"div",4),hs("click",(function(e){return Yt(n),gs().closeOverflowContent(e)})),_s(1),rs()}if(2&e){var r=gs();es("id",r.popoverId),$o("aria-hidden",!r.open)("id",r.popoverId)}}var aw=["menuDescription"],uw=["allSelected"];function cw(e,t){if(1&e&&(os(0),zs(1),ss()),2&e){var n=gs(2);Ur(1),Gs(n.commonStrings.keys.showColumns)}}function lw(e,t){}function hw(e,t){if(1&e){var n=us();ns(0,"li"),ns(1,"clr-checkbox-wrapper"),ns(2,"input",15),hs("ngModelChange",(function(e){Yt(n);var r=t.$implicit;return gs(2).toggleColumnState(r,!e)})),rs(),ns(3,"label"),Ko(4,lw,0,0,"ng-template",16),rs(),rs(),rs()}if(2&e){var r=t.$implicit,i=gs(2);Ur(2),es("disabled",i.hasOnlyOneVisibleColumn&&!r.hidden)("ngModel",!r.hidden),Ur(2),es("ngTemplateOutlet",r.titleTemplateRef)}}function fw(e,t){if(1&e){var n=us();ns(0,"clr-dg-column-toggle-button",17),hs("clrAllSelected",(function(){return Yt(n),gs(2).allColumnsSelected()})),zs(1),rs()}if(2&e){var r=gs(2);Ur(1),Hs(" ",r.commonStrings.keys.selectAll," ")}}function dw(e,t){if(1&e&&(ns(0,"div",3),ns(1,"div",4),ns(2,"div",5,6),zs(4),rs(),ns(5,"div",5,7),zs(7),rs(),Ko(8,cw,2,1,"ng-container",8),_s(9),ns(10,"button",9),is(11,"clr-icon",10),rs(),rs(),ns(12,"ul",11),Ko(13,hw,5,3,"li",12),rs(),ns(14,"div",13),_s(15,1),Ko(16,fw,2,1,"clr-dg-column-toggle-button",14),rs(),rs()),2&e){var n=gs();es("id",n.popoverId),Ur(4),Gs(n.commonStrings.keys.showColumnsMenuDescription),Ur(3),Gs(n.commonStrings.keys.allColumnsSelected),Ur(1),es("ngIf",!n.customToggleTitle),Ur(2),$o("aria-label",n.commonStrings.keys.close),Ur(1),$o("title",n.commonStrings.keys.close),Ur(2),es("ngForOf",n.hideableColumnStates)("ngForTrackBy",n.trackByFn),Ur(3),es("ngIf",!n.customToggleButton)}}var pw=[[["clr-dg-column-toggle-title"]],[["clr-dg-column-toggle-button"]]],vw=["clr-dg-column-toggle-title","clr-dg-column-toggle-button"],gw=function(){return{strict:!1}};function yw(e,t){if(1&e&&(ns(0,"div",1),ns(1,"div",2),zs(2),rs(),_s(3),ns(4,"div",2),zs(5),rs(),rs()),2&e){var n=gs();es("clrFocusTrap",ou(5,gw))("id",n.detailService.id),$o("aria-describedby",n.header?n.header.titleId:""),Ur(2),Gs(n.commonStrings.keys.detailPaneStart),Ur(3),Gs(n.commonStrings.keys.detailPaneEnd)}}function mw(e,t){if(1&e&&(os(0),ns(1,"div",1),ns(2,"clr-checkbox-wrapper",2),is(3,"input",3),ns(4,"label"),zs(5),rs(),rs(),rs(),ss()),2&e){var n=gs();Ur(5),Gs(n.selection.current.length)}}function _w(e,t){1&e&&is(0,"clr-dg-column-toggle")}function bw(e,t){if(1&e&&(os(0),_s(1,1),Ko(2,_w,1,0,"clr-dg-column-toggle",0),ns(3,"div",4),_s(4,2),rs(),ss()),2&e){var n=gs();Ur(2),es("ngIf",n.hasHideableColumns&&!n.toggle)}}var kw=[[["clr-dg-pagination"]],[["clr-dg-column-toggle"]],"*"],ww=["clr-dg-pagination","clr-dg-column-toggle","*"];function Cw(e,t){if(1&e&&is(0,"clr-icon",7),2&e){var n=gs();$o("dir",n.caretDirection)("title",n.caretTitle)}}function Sw(e,t){if(1&e&&(ns(0,"span",8),zs(1),rs()),2&e){var n=gs();Ur(1),Gs(n.commonStrings.keys.stackViewChanged)}}var Ew=[[["clr-stack-label"]],"*",[["clr-stack-block"]]],Iw=["clr-stack-label","*","clr-stack-block"],Tw=[[["clr-stack-header"]],"*"],xw=["clr-stack-header","*"],Aw=["contentContainer"];function Ow(e,t){if(1&e){var n=us();ns(0,"button",9),hs("click",(function(){return Yt(n),gs().expandService.toggle()}))("focus",(function(){return Yt(n),gs().focusTreeNode()})),is(1,"clr-icon",10),rs()}if(2&e){var r=gs();Ur(1),$o("dir",r.expandService.expanded?"down":"right")}}function Dw(e,t){1&e&&(ns(0,"div",11),is(1,"span",12),rs())}function Rw(e,t){if(1&e){var n=us();ns(0,"div",13),ns(1,"input",14),hs("change",(function(){Yt(n);var e=gs();return e._model.toggleSelection(e.featuresService.eager)}))("focus",(function(){return Yt(n),gs().focusTreeNode()})),rs(),is(2,"label",15),rs()}if(2&e){var r=gs();Ur(1),ks("id","",r.nodeId,"-check"),es("checked",r._model.selected.value===r.STATES.SELECTED)("indeterminate",r._model.selected.value===r.STATES.INDETERMINATE),Ur(1),ks("for","",r.nodeId,"-check")}}function Pw(e,t){1&e&&(ns(0,"span"),zs(1," selected "),rs())}function Nw(e,t){1&e&&(ns(0,"span"),zs(1," unselected "),rs())}function Fw(e,t){if(1&e&&(ns(0,"div",16),Ko(1,Pw,2,0,"span",17),Ko(2,Nw,2,0,"span",17),rs()),2&e){var n=gs();Ur(1),es("ngIf",n.ariaSelected),Ur(1),es("ngIf",!n.ariaSelected)}}var Lw=["*",[["clr-tree-node"]],[["","clrIfExpanded",""]]],Mw=["*","clr-tree-node","[clrIfExpanded]"];function Vw(e,t){1&e&&is(0,"clr-recursive-children",1),2&e&&es("children",gs().featuresService.recursion.root)}function jw(e,t){1&e&&as(0)}function Uw(e,t){if(1&e&&(os(0),Ko(1,jw,1,0,"ng-container",2),ss()),2&e){var n=t.$implicit,r=gs(2);Ur(1),es("ngTemplateOutlet",r.featuresService.recursion.template)("ngTemplateOutletContext",r.getContext(n))}}function Bw(e,t){if(1&e&&(os(0),Ko(1,Uw,2,2,"ng-container",1),ss()),2&e){var n=gs();Ur(1),es("ngForOf",(null==n.parent?null:n.parent.children)||n.children)}}function zw(e,t){if(1&e){var n=us();ns(0,"button",4),hs("click",(function(){return Yt(n),gs(2).close()})),is(1,"clr-icon",5),rs()}2&e&&$o("aria-label",gs(2).clrCloseButtonAriaLabel)}function Gw(e,t){if(1&e&&(ns(0,"div",1),ns(1,"div",2),_s(2),rs(),Ko(3,zw,2,1,"button",3),rs()),2&e){var n=gs();Os("alert-hidden",n.hidden)("alert-sm",n.isSmall)("alert-app-level",n.isAppLevel),es("ngClass",n.alertClass),Ur(3),es("ngIf",n.closable)}}function Hw(e,t){1&e&&_s(0)}var qw=["tabContentProjectedRef"];function Ww(e,t){if(1&e&&(ns(0,"section",1),_s(1),rs()),2&e){var n=gs();Os("active",n.active),es("id",n.tabContentId)("hidden",!n.active),$o("aria-labelledby",n.ariaLabelledBy)("aria-expanded",n.active)("aria-hidden",!n.active)}}var $w=["clrKeyFocus",""],Qw=["tabContentViewContainer"];function Kw(e,t){if(1&e&&(os(0),ns(1,"li",4),as(2,5),rs(),ss()),2&e){var n=gs().$implicit;Ur(2),es("ngTemplateOutlet",n.templateRefContainer.template)}}function Yw(e,t){if(1&e&&(os(0),Ko(1,Kw,3,1,"ng-container",2),ss()),2&e){var n=t.$implicit,r=gs();Ur(1),es("ngIf",n.tabsId===r.tabsId&&!n.inOverflow)}}function Zw(e,t){1&e&&as(0,5),2&e&&es("ngTemplateOutlet",gs().$implicit.templateRefContainer.template)}function Xw(e,t){if(1&e&&(os(0),Ko(1,Zw,1,1,"ng-container",13),ss()),2&e){var n=t.$implicit,r=gs(3);Ur(1),es("ngIf",n.tabsId===r.tabsId&&n.inOverflow)}}function Jw(e,t){if(1&e){var n=us();ns(0,"clr-tab-overflow-content",12),hs("keydown.esc",(function(){return Yt(n),gs(2).closeOnEscapeKey()}),!1,zn)("click",(function(e){Yt(n),gs();var t=Yo(4);return gs().closeOnOutsideClick(e,t)}),!1,zn)("focusout",(function(e){return Yt(n),gs(2).closeOnFocusOut(e)})),Ko(1,Xw,2,1,"ng-container",1),rs()}if(2&e){var r=gs(2);Ur(1),es("ngForOf",r.tabLinkDirectives)}}function eC(e,t){if(1&e){var n=us();os(0),ns(1,"div",6),ns(2,"li",7),ns(3,"button",8,9),hs("mousedown",(function(){return Yt(n),gs()._mousedown=!0}))("focus",(function(){return Yt(n),gs().openOverflowOnFocus()}))("click",(function(){return Yt(n),gs().toggleOverflowOnClick()})),is(5,"clr-icon",10),rs(),rs(),Ko(6,Jw,2,1,"clr-tab-overflow-content",11),rs(),ss()}if(2&e){var r=gs();Ur(1),Os("open",r.toggleService.open),Ur(2),Os("active",r.activeTabInOverflow)("open",r.toggleService.open),$o("tabindex",r.activeTabInOverflow&&!r.toggleService.open?0:-1),Ur(2),Os("is-info",r.toggleService.open),$o("title",r.commonStrings.keys.more),Ur(1),es("ngIf",r.toggleService.open)}}function tC(e,t){if(1&e){var n=us();ns(0,"button",10),hs("click",(function(){return Yt(n),gs(2).close()})),is(1,"clr-icon",11),rs()}2&e&&$o("aria-label",gs(2).commonStrings.keys.close)}function nC(e,t){if(1&e){var n=us();ns(0,"div",1),ns(1,"div",2),hs("@fadeDown.done",(function(e){return Yt(n),gs().fadeDone(e)})),ns(2,"div",3),zs(3),rs(),ns(4,"div",4),_s(5),ns(6,"div",5),ns(7,"div",6),Ko(8,tC,2,1,"button",7),ns(9,"div",8),_s(10,1),rs(),rs(),_s(11,2),_s(12,3),rs(),rs(),ns(13,"div",3),zs(14),rs(),rs(),ns(15,"div",9),hs("click",(function(){Yt(n);var e=gs();return e.staticBackdrop||e.close()})),rs(),rs()}if(2&e){var r=gs();Ur(1),Os("modal-sm","sm"==r.size)("modal-lg","lg"==r.size)("modal-xl","xl"==r.size),es("@fadeDown",r.skipAnimation),$o("aria-hidden",!r._open)("aria-labelledby",r.modalId),Ur(2),Gs(r.commonStrings.keys.modalContentStart),Ur(5),es("ngIf",r.closable),Ur(1),bs("id",r.modalId),Ur(5),Gs(r.commonStrings.keys.modalContentEnd),Ur(1),es("@fade",void 0)}}var rC=[[["",8,"modal-nav"]],[["",8,"modal-title"]],[["",8,"modal-body"]],[["",8,"modal-footer"]]],iC=[".modal-nav",".modal-title",".modal-body",".modal-footer"];function oC(e,t){if(1&e&&(os(0),zs(1),ss()),2&e){var n=gs(3);Ur(1),Gs(n.commonStrings.keys.danger)}}function sC(e,t){if(1&e&&(ns(0,"div",14),Ko(1,oC,2,1,"ng-container",0),rs()),2&e){var n=gs().$implicit,r=gs();Ur(1),es("ngIf",n.status===r.AccordionStatus.Error)}}function aC(e,t){if(1&e&&(os(0),zs(1),ss()),2&e){var n=gs(2);Ur(1),Gs(n.commonStrings.keys.danger)}}function uC(e,t){if(1&e&&(os(0),zs(1),ss()),2&e){var n=gs(2);Ur(1),Gs(n.commonStrings.keys.success)}}function cC(e,t){if(1&e){var n=us();ns(0,"div",15),hs("@toggle.done",(function(){Yt(n);var e=gs().$implicit;return gs().collapsePanelOnAnimationDone(e)})),ns(1,"div",16),_s(2,2),rs(),rs()}2&e&&es("@toggle",void 0)}function lC(e,t){if(1&e){var n=us();os(0),Ko(1,sC,2,1,"div",1),ns(2,"div",2),ns(3,"div",3),ns(4,"button",4,5),hs("click",(function(){return Yt(n),gs().togglePanel()})),cu(6,"async"),ns(7,"span",6),Ko(8,aC,2,1,"ng-container",0),Ko(9,uC,2,1,"ng-container",0),rs(),ns(10,"span",7),is(11,"clr-icon",8),is(12,"span",9),is(13,"clr-icon",10),is(14,"clr-icon",11),rs(),_s(15),_s(16,1),rs(),rs(),ns(17,"div",12),Ko(18,cC,3,1,"div",13),rs(),rs(),ss()}if(2&e){var r,i=t.$implicit,o=gs(),s=(null==(r=lu(6,16,o.accordionDescription.changes))?null:r.length)||o.accordionDescription.length;Ur(1),es("ngIf",i.status!==o.AccordionStatus.Inactive),Ur(1),es("ngClass",o.getPanelStateClasses(i)),Ur(2),Os("clr-accordion-header-has-description",s),es("id",o.getAccordionHeaderId(i.templateId))("disabled",o.isAccordion&&i.disabled),$o("aria-disabled",!o.isAccordion&&i.disabled)("aria-controls",o.getAccordionContentId(i.templateId))("aria-expanded",i.open),Ur(4),es("ngIf",i.status===o.AccordionStatus.Error),Ur(1),es("ngIf",i.status===o.AccordionStatus.Complete),Ur(8),es("@skipInitialRender",void 0)("id",o.getAccordionContentId(i.templateId)),$o("aria-hidden",!i.open)("aria-labelledby",o.getAccordionHeaderId(i.templateId)),Ur(1),es("ngIf",i.open)}}var hC,fC,dC,pC,vC=[[["clr-accordion-title"],["clr-step-title"]],[["clr-accordion-description"],["clr-step-description"]],"*"],gC=["clr-accordion-title, clr-step-title","clr-accordion-description, clr-step-description","*"],yC=((pC=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||pC)},pC.\u0275dir=_t({type:pC,selectors:[["clr-icon"]]}),pC),mC=((dC=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:dC}),dC.\u0275inj=fe({factory:function(e){return new(e||dC)},imports:[[uf]]}),dC),_C=((fC=function(){function e(){_classCallCheck(this,e),this._open=!1,this._openChange=new x,this._openEventChange=new x}return _createClass(e,[{key:"getEventChange",value:function(){return this._openEventChange.asObservable()}},{key:"toggleWithEvent",value:function(e){this.openEvent=e,this.open=!this.open}},{key:"openChange",get:function(){return this._openChange.asObservable()}},{key:"openEvent",set:function(e){this._openEvent=e,this._openEventChange.next(e)},get:function(){return this._openEvent}},{key:"open",set:function(e){this._open!==(e=!!e)&&(this._open=e,this._openChange.next(e))},get:function(){return this._open}},{key:"originalEvent",get:function(){return this._openEvent}}]),e}()).\u0275fac=function(e){return new(e||fC)},fC.\u0275prov=he({token:fC,factory:fC.\u0275fac}),fC),bC=((hC=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.renderer=t,this.smartOpenService=n,this.document=r,this.outsideClickClose=!0,this.scrollToClose=!0,this.subscriptions=[],this.subscriptions.push(n.openChange.subscribe((function(e){e?(i.addEscapeListener(),i.addClickListener(),i.addScrollListener()):i.removeAllEventListeners()})),n.getEventChange().subscribe((function(e){i.ignoredEvent=e})))}return _createClass(e,[{key:"addScrollListener",value:function(){var e=this;this.scrollToClose&&(this.documentScroller=function e(t,n,i,o){return r(i)&&(o=i,i=void 0),o?e(t,n,i).pipe(j((function(e){return u(e)?o.apply(void 0,_toConsumableArray(e)):o(e)}))):new w((function(e){!function e(t,n,r,i,o){var s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var a=t;t.addEventListener(n,r,o),s=function(){return a.removeEventListener(n,r,o)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var u=t;t.on(n,r),s=function(){return u.off(n,r)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var c=t;t.addListener(n,r),s=function(){return c.removeListener(n,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var l=0,h=t.length;l<h;l++)e(t[l],n,r,i,o)}i.add(s)}(t,n,(function(t){e.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),e,i)}))}(this.document,"scroll",{capture:!0}),this.scrollSubscription=this.documentScroller.pipe(Hc(this.testForSmartPopoverContentContainer)).subscribe((function(){e.smartOpenService.open=!1,e.setAnchorFocus()})))}},{key:"removeScrollListener",value:function(){this.documentScroller&&(this.scrollSubscription.unsubscribe(),delete this.documentScroller)}},{key:"testForSmartPopoverContentContainer",value:function(e){for(var t=e.target;t.classList&&"body"!==t.parentElement.localName;)t=t.parentElement;return!!t.classList&&!t.classList.contains("clr-popover-content")}},{key:"addClickListener",value:function(){var e=this;this.outsideClickClose&&(this.documentClickListener=this.renderer.listen(this.document,"click",(function(t){t===e.ignoredEvent?delete e.ignoredEvent:(e.smartOpenService.open=!1,t.target.focus())})))}},{key:"removeClickListener",value:function(){this.outsideClickClose&&(delete this.ignoredEvent,this.documentClickListener&&(this.documentClickListener(),delete this.documentClickListener))}},{key:"addEscapeListener",value:function(){var e=this;this.escapeListener=this.renderer.listen(this.document,"keydown.escape",(function(t){e.smartOpenService.open=!1,e.setAnchorFocus()}))}},{key:"removeEscapeListener",value:function(){this.escapeListener&&(this.escapeListener(),delete this.escapeListener)}},{key:"setCloseFocus",value:function(){this._closeButtonRef.nativeElement.focus()}},{key:"setAnchorFocus",value:function(){this.anchorButtonRef.nativeElement.focus()}},{key:"removeAllEventListeners",value:function(){this.removeScrollListener(),this.removeClickListener(),this.removeEscapeListener()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.removeAllEventListeners()}},{key:"anchorButtonRef",set:function(e){this._anchorButtonRef=e},get:function(){return this._anchorButtonRef}},{key:"closeButtonRef",set:function(e){this._closeButtonRef=e},get:function(){return this._closeButtonRef}},{key:"contentRef",set:function(e){this._contentRef=e},get:function(){return this._contentRef}}]),e}()).\u0275fac=function(e){return new(e||hC)(Ke(_a),Ke(_C),Ke(Nl))},hC.\u0275prov=he({token:hC,factory:hC.\u0275fac}),hC),kC=function(e){return e[e.BOTTOM=0]="BOTTOM",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.TOP=3]="TOP",e}({}),wC=function(e){return e[e.START=0]="START",e[e.CENTER=.5]="CENTER",e[e.END=1]="END",e}({}),CC=function(e){return Object.assign(Object.assign({},e),{side:-1*e.side})},SC=function(e,t){var n=e.content+(t?.5:-.5);return n<0||n>1?e:Object.assign(Object.assign({},e),{content:n})};function EC(e,t,n){return function(r){return t(e(r),n)}}function IC(e,t,n){var r=t.left,i=t.top;switch(e.axis+e.side){case-1:r+=TC(e,t,n),i-=n.height;break;case 1:r+=TC(e,t,n),i+=t.height;break;case 0:r-=n.width,i+=xC(e,t,n);break;case 2:r+=t.width,i+=xC(e,t,n)}return{xOffset:r,yOffset:i}}function TC(e,t,n){var r=0;switch(e.anchor){case wC.START:break;case wC.CENTER:r+=t.width/2;break;case wC.END:r+=t.width}switch(e.content){case wC.START:break;case wC.CENTER:r-=n.width/2;break;case wC.END:r-=n.width}return r}function xC(e,t,n){var r=0;switch(e.anchor){case wC.START:break;case wC.CENTER:r+=t.height/2;break;case wC.END:r+=t.height}switch(e.content){case wC.START:break;case wC.CENTER:r-=n.height/2;break;case wC.END:r-=n.height}return r}var AC,OC,DC,RC,PC,NC,FC,LC,MC,VC,jC,UC=function(e){return e[e.VERTICAL=0]="VERTICAL",e[e.HORIZONTAL=1]="HORIZONTAL",e}({}),BC=((NC=function(){function e(t,n){_classCallCheck(this,e),this.eventService=t,this.platformId=n,this._shouldRealign=new x,this.shouldRealign=this._shouldRealign.asObservable()}return _createClass(e,[{key:"realign",value:function(){this._shouldRealign.next()}},{key:"alignContent",value:function(e){if(!cf(this.platformId))return{xOffset:0,yOffset:0};this.currentAnchorCoords=this.eventService.anchorButtonRef.nativeElement.getBoundingClientRect(),this.currentContentCoords=e.getBoundingClientRect(),this.contentOffsets=IC(this.position,this.currentAnchorCoords,this.currentContentCoords);var t=function(e,t){var n=[],r=e.yOffset+t.height,i=e.xOffset,o=e.xOffset+t.width;return e.yOffset>=0||n.push(kC.TOP),i>=0||n.push(kC.LEFT),r<=(window.innerHeight||document.documentElement.clientHeight)||n.push(kC.BOTTOM),o<=(window.innerWidth||document.documentElement.clientWidth)||n.push(kC.RIGHT),n}(this.contentOffsets,this.currentContentCoords),n=t.reduce((function(e,t){return e+t}),0);return 1===t.length&&this.position.axis===UC.VERTICAL?this.handleVerticalAxisOneViolation(n):1===t.length&&this.position.axis===UC.HORIZONTAL?this.handleHorizontalAxisOneViolation(n):2===t.length&&this.position.axis===UC.VERTICAL?this.handleVerticalAxisTwoViolations(n):2===t.length&&this.position.axis===UC.HORIZONTAL&&this.handleHorizontalAxisTwoViolations(n),this.contentOffsets}},{key:"handleVerticalAxisOneViolation",value:function(e){switch(e){case 0:case 3:this.contentOffsets=IC(CC(this.position),this.currentAnchorCoords,this.currentContentCoords);break;case 1:this.contentOffsets=IC(SC(this.position),this.currentAnchorCoords,this.currentContentCoords);break;case 2:this.contentOffsets=IC(SC(this.position,!0),this.currentAnchorCoords,this.currentContentCoords)}}},{key:"handleVerticalAxisTwoViolations",value:function(e){switch(e){case 5:var t=EC(CC,SC,!0);this.contentOffsets=IC(t(this.position),this.currentAnchorCoords,this.currentContentCoords);break;case 4:var n=EC(CC,SC,!1);this.contentOffsets=IC(n(this.position),this.currentAnchorCoords,this.currentContentCoords);break;case 3:break;case 2:var r=EC(CC,SC,!0);this.contentOffsets=IC(r(this.position),this.currentAnchorCoords,this.currentContentCoords);break;case 1:var i=EC(CC,SC,!1);this.contentOffsets=IC(i(this.position),this.currentAnchorCoords,this.currentContentCoords)}}},{key:"handleHorizontalAxisOneViolation",value:function(e){switch(e){case 1:case 2:this.contentOffsets=IC(CC(this.position),this.currentAnchorCoords,this.currentContentCoords);break;case 0:this.contentOffsets=IC(SC(this.position,!0),this.currentAnchorCoords,this.currentContentCoords);break;case 3:this.contentOffsets=IC(SC(this.position),this.currentAnchorCoords,this.currentContentCoords)}}},{key:"handleHorizontalAxisTwoViolations",value:function(e){switch(e){case 5:case 4:var t=EC(CC,SC,!1);this.contentOffsets=IC(t(this.position),this.currentAnchorCoords,this.currentContentCoords);break;case 3:break;case 2:case 1:var n=EC(CC,SC,!0);this.contentOffsets=IC(n(this.position),this.currentAnchorCoords,this.currentContentCoords)}}},{key:"position",set:function(e){this._position=e},get:function(){return this._position}}]),e}()).\u0275fac=function(e){return new(e||NC)(Ke(bC),Ke(Gu))},NC.\u0275prov=he({token:NC,factory:NC.\u0275fac}),NC),zC=((PC=function(){function e(t,n,r,i,o,s,a){_classCallCheck(this,e),this.document=t,this.container=n,this.template=r,this.renderer=i,this.smartPositionService=o,this.smartEventsService=s,this.smartOpenService=a,this.subscriptions=[],this.shouldRealign=!1,this.checkCollector=new pu}return _createClass(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.subscriptions.push(this.smartOpenService.openChange.subscribe((function(t){t?e.addContent():e.removeContent()})),this.smartPositionService.shouldRealign.subscribe((function(){e.shouldRealign=!0,e.view&&e.renderer.setStyle(e.view.rootNodes[0],"opacity","0")})),this.checkCollector.pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jc;return function(n){return n.lift(new Jg(e,t))}}(0)).subscribe((function(){e.alignContent(),e.shouldRealign=!1,e.view&&e.renderer.setStyle(e.view.rootNodes[0],"opacity","1")})))}},{key:"ngOnDestroy",value:function(){this.removeContent(),this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"removeContent",value:function(){var e=this;this.view&&(this.view.rootNodes.forEach((function(t){return e.renderer.removeChild(e.document.body,t)})),this.container.clear(),delete this.view)}},{key:"addContent",value:function(){var e=this;this.view=this.container.createEmbeddedView(this.template),this.smartEventsService.contentRef=this.view.rootNodes[0],this.renderer.addClass(this.view.rootNodes[0],"clr-popover-content"),this.renderer.setStyle(this.view.rootNodes[0],"top","0px"),this.renderer.setStyle(this.view.rootNodes[0],"left","0px"),this.renderer.setStyle(this.view.rootNodes[0],"opacity","0"),this.renderer.listen(this.view.rootNodes[0],"click",(function(t){e.smartOpenService.openEvent=t})),this.view.rootNodes.forEach((function(t){e.renderer.appendChild(e.document.body,t)})),this.shouldRealign=!0}},{key:"ngAfterContentChecked",value:function(){this.smartOpenService.open&&this.view&&this.shouldRealign&&this.checkCollector.emit()}},{key:"alignContent",value:function(){if(this.view){var e=this.smartPositionService.alignContent(this.view.rootNodes[0]);this.renderer.setStyle(this.view.rootNodes[0],"top",e.yOffset+"px"),this.renderer.setStyle(this.view.rootNodes[0],"left",e.xOffset+"px")}}},{key:"open",set:function(e){this.smartOpenService.open=!!e}},{key:"contentAt",set:function(e){this.smartPositionService.position=e}},{key:"outsideClickClose",set:function(e){this.smartEventsService.outsideClickClose=!!e}},{key:"scrollToClose",set:function(e){this.smartEventsService.scrollToClose=!!e}}]),e}()).\u0275fac=function(e){return new(e||PC)(Zo(Nl),Zo(Ba),Zo(ja),Zo(_a),Zo(BC),Zo(bC),Zo(_C))},PC.\u0275dir=_t({type:PC,selectors:[["","clrPopoverContent",""]],inputs:{open:["clrPopoverContent","open"],contentAt:["clrPopoverContentAt","contentAt"],outsideClickClose:["clrPopoverContentOutsideClickToClose","outsideClickClose"],scrollToClose:["clrPopoverContentScrollToClose","scrollToClose"]}}),PC),GC=((RC=function(){function e(t){var n=this;_classCallCheck(this,e),this.smartOpenService=t,this.subscriptions=[],this.openCloseChange=new pu,this.subscriptions.push(this.smartOpenService.openChange.subscribe((function(e){n.openCloseChange.next(e)})))}return _createClass(e,[{key:"handleClick",value:function(e){this.smartOpenService.toggleWithEvent(e)}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||RC)(Zo(_C))},RC.\u0275dir=_t({type:RC,selectors:[["","clrPopoverOpenCloseButton",""]],hostVars:2,hostBindings:function(e,t){1&e&&hs("click",(function(e){return t.handleClick(e)})),2&e&&Os("clr-smart-open-close",!0)},outputs:{openCloseChange:"clrPopoverOpenCloseChange"}}),RC),HC=((DC=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.elementRef=t,this.smartEventsService=n,this.smartOpenService=r,this.subscriptions=[],this.closeChange=new pu,this.subscriptions.push(r.openChange.pipe(Hc((function(e){return!e}))).subscribe((function(){i.closeChange.next()})))}return _createClass(e,[{key:"handleClick",value:function(e){this.smartOpenService.toggleWithEvent(e),this.smartEventsService.setAnchorFocus()}},{key:"ngAfterViewInit",value:function(){this.smartEventsService.closeButtonRef=this.elementRef,this.smartEventsService.setCloseFocus()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||DC)(Zo(va),Zo(bC),Zo(_C))},DC.\u0275dir=_t({type:DC,selectors:[["","clrPopoverCloseButton",""]],hostVars:2,hostBindings:function(e,t){1&e&&hs("click",(function(e){return t.handleClick(e)})),2&e&&Os("clr-smart-close-button",!0)},outputs:{closeChange:"clrPopoverOnCloseChange"}}),DC),qC=((OC=function e(t,n){_classCallCheck(this,e),t.anchorButtonRef=n}).\u0275fac=function(e){return new(e||OC)(Zo(bC),Zo(va))},OC.\u0275dir=_t({type:OC,selectors:[["","clrPopoverAnchor",""]],hostVars:2,hostBindings:function(e,t){2&e&&Os("clr-anchor",!0)}}),OC),WC=((AC=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:AC}),AC.\u0275inj=fe({factory:function(e){return new(e||AC)},imports:[[]]}),AC),$C=function e(){_classCallCheck(this,e)},QC=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.ERROR=3]="ERROR",e}({}),KC=((LC=function(){function e(t){_classCallCheck(this,e),this.listener=t,this._loadingState=QC.DEFAULT}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.loadingState=QC.DEFAULT}},{key:"loadingState",get:function(){return this._loadingState},set:function(e){!0===e?e=QC.LOADING:e||(e=QC.DEFAULT),e!==this._loadingState&&(this._loadingState=e,this.listener&&this.listener.loadingStateChange(e))}}]),e}()).\u0275fac=function(e){return new(e||LC)(Zo($C,8))},LC.\u0275dir=_t({type:LC,selectors:[["","clrLoading",""]],inputs:{loadingState:["clrLoading","loadingState"]}}),LC),YC=((FC=function(){function e(){_classCallCheck(this,e),this._changes=new x}return _createClass(e,[{key:"updateButtonGroup",value:function(e){this._changes.next(e)}},{key:"changes",get:function(){return this._changes.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||FC)},FC.\u0275prov=he({token:FC,factory:FC.\u0275fac}),FC),ZC=((VC=MC=function(){function e(t,n){_classCallCheck(this,e),this.buttonInGroupService=t,this.toggleService=n,this._enableService=!1,this._inMenu=!1,this._classNames="btn",this._name=null,this._type=null,this._id=null,this._disabled=null,this._click=new pu(!1)}return _createClass(e,[{key:"loadingStateChange",value:function(e){this.loading=e===QC.LOADING}},{key:"emitClick",value:function(e){this.inMenu&&this.toggleService.toggleWithEvent(e),this._click.emit(!0)}},{key:"ngAfterViewInit",value:function(){this._enableService=!0}},{key:"inMenu",get:function(){return this._inMenu},set:function(e){this._inMenu!==(e=!!e)&&(this._inMenu=e,this._enableService&&this.buttonInGroupService&&this.buttonInGroupService.updateButtonGroup(this))}},{key:"classNames",get:function(){return this._classNames},set:function(e){if("string"==typeof e){var t=e.split(" ");-1===t.indexOf("btn")&&t.push("btn"),this._classNames=t.join(" ")}}},{key:"name",get:function(){return this._name},set:function(e){"string"==typeof e&&(this._name=e)}},{key:"type",get:function(){return this._type},set:function(e){"string"==typeof e&&(this._type=e)}},{key:"id",get:function(){return this._id},set:function(e){"string"==typeof e&&(this._id=e)}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=null!==e&&!1!==e?"":null}}]),e}()).\u0275fac=function(e){return new(e||VC)(Zo(YC,12),Zo(_C))},VC.\u0275cmp=dt({type:VC,selectors:[["clr-button"]],viewQuery:function(e,t){var n;1&e&&Iu(O_,!0),2&e&&Eu(n=Ru())&&(t.templateRef=n.first)},inputs:{inMenu:["clrInMenu","inMenu"],classNames:["class","classNames"],name:"name",type:"type",id:"id",disabled:"disabled"},outputs:{_click:"click"},features:[ha([{provide:$C,useExisting:MC}])],ngContentSelectors:P_,decls:2,vars:0,consts:[["buttonProjectedRef",""],[3,"click"],["class","spinner spinner-inline",4,"ngIf"],[1,"spinner","spinner-inline"]],template:function(e,t){1&e&&(ms(),Ko(0,R_,3,7,"ng-template",null,0,Lu))},directives:[zh],encapsulation:2}),VC),XC={open:"Open",close:"Close",show:"Show",hide:"Hide",expand:"Expand",collapse:"Collapse",more:"More",select:"Select",selectAll:"Select All",previous:"Previous",next:"Next",current:"Jump to current",info:"Info",success:"Success",warning:"Warning",danger:"Error",rowActions:"Available actions",pickColumns:"Show or hide columns",showColumns:"Show Columns",sortColumn:"Sort Column",firstPage:"First Page",lastPage:"Last Page",nextPage:"Next Page",previousPage:"Previous Page",currentPage:"Current Page",totalPages:"Total Pages",minValue:"Min value",maxValue:"Max value",modalContentStart:"Beginning of Modal Content",modalContentEnd:"End of Modal Content",showColumnsMenuDescription:"Show or hide columns menu",allColumnsSelected:"All columns selected",signpostToggle:"Signpost Toggle",signpostClose:"Signpost Close",loading:"Loading",detailPaneStart:"Start of row details",detailPaneEnd:"End of row details",singleSelectionAriaLabel:"Single selection header",singleActionableAriaLabel:"Single actionable header",detailExpandableAriaLabel:"Toggle more row content",datagridFilterAriaLabel:"Toggle column filter",alertCloseButtonAriaLabel:"Close alert",datepickerToggle:"Toggle datepicker",datepickerPreviousMonth:"Previous month",datepickerCurrentMonth:"Current month",datepickerNextMonth:"Next month",datepickerPreviousDecade:"Previous decade",datepickerNextDecade:"Next decade",datepickerCurrentDecade:"Current decade",datepickerSelectMonthText:"Select month, the current month is {CALENDAR_MONTH}",datepickerSelectYearText:"Select year, the current year is {CALENDAR_YEAR}",daypickerSRCurrentMonthPhrase:"The current month is {CURRENT_MONTH}",daypickerSRCurrentYearPhrase:"The current year is {CURRENT_YEAR}",daypickerSRCurrentDecadePhrase:"The current decade is {DECADE_RANGE}",stackViewChanged:"Value changed.",formErrorSummary:"The form has {ERROR_NUMBER} errors.",verticalNavToggle:"Toggle vertical navigation",verticalNavGroupToggle:"Toggle vertical navigation group",timelineStepNotStarted:"Not started",timelineStepCurrent:"Current",timelineStepSuccess:"Completed",timelineStepError:"Error",timelineStepProcessing:"In progress",dategridExpandableBeginningOf:"Beginning of",dategridExpandableEndOf:"End of",dategridExpandableRowContent:"Expandable row content",dategridExpandableRowsHelperText:"Screen reader table commands may not work for viewing expanded content, please use your screen reader's browse mode to read the content exposed by this button"},JC=((jC=function(){function e(){_classCallCheck(this,e),this._strings=XC}return _createClass(e,[{key:"localize",value:function(e){this._strings=Object.assign(Object.assign({},this._strings),e)}},{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(t),r=e;return n.length&&n.forEach((function(e){r=r.replace("{".concat(e,"}"),t[e])})),r}},{key:"keys",get:function(){return this._strings}}]),e}()).\u0275fac=function(e){return new(e||jC)},jC.\u0275prov=he({factory:function(){return new jC},token:jC,providedIn:"root"}),jC),eS=0,tS=new Ue("UNIQUE_ID");function nS(){return"clr-id-"+eS++}var rS,iS,oS,sS,aS,uS,cS,lS,hS,fS,dS,pS,vS,gS,yS,mS,_S,bS,kS,wS,CS,SS,ES,IS,TS,xS,AS,OS,DS,RS,PS,NS,FS,LS,MS,VS,jS,US={provide:tS,useFactory:nS},BS=function(e){return e[e.BEFORE=-1]="BEFORE",e[e.AFTER=1]="AFTER",e}({}),zS=function(){var e=function e(){_classCallCheck(this,e)};return e["top-right"]={axis:UC.VERTICAL,side:BS.BEFORE,anchor:wC.END,content:wC.END},e["top-left"]={axis:UC.VERTICAL,side:BS.BEFORE,anchor:wC.START,content:wC.START},e["bottom-right"]={axis:UC.VERTICAL,side:BS.AFTER,anchor:wC.END,content:wC.END},e["bottom-left"]={axis:UC.VERTICAL,side:BS.AFTER,anchor:wC.START,content:wC.START},e["right-top"]={axis:UC.HORIZONTAL,side:BS.AFTER,anchor:wC.CENTER,content:wC.END},e["right-bottom"]={axis:UC.HORIZONTAL,side:BS.AFTER,anchor:wC.START,content:wC.START},e["left-top"]={axis:UC.HORIZONTAL,side:BS.BEFORE,anchor:wC.CENTER,content:wC.END},e["left-bottom"]={axis:UC.HORIZONTAL,side:BS.BEFORE,anchor:wC.START,content:wC.START},e}(),GS=((iS=function(){function e(t,n,r,i){_classCallCheck(this,e),this.buttonGroupNewService=t,this.toggleService=n,this.popoverId=r,this.commonStrings=i,this.popoverPosition=zS["bottom-left"],this.inlineButtons=[],this.menuButtons=[]}return _createClass(e,[{key:"ngAfterContentInit",value:function(){var e=this;this.initializeButtons(),this.buttonGroupNewService.changes.subscribe((function(t){return e.rearrangeButton(t)})),this.buttons.changes.subscribe((function(){e.initializeButtons()}))}},{key:"rearrangeButton",value:function(e){var t,n;e.inMenu?(t=this.inlineButtons,n=this.menuButtons):(t=this.menuButtons,n=this.inlineButtons);var r=t.indexOf(e);if(r>-1){t.splice(r,1);var i=this.getMoveIndex(e);i<=n.length&&n.splice(i,0,e)}}},{key:"getMoveIndex",value:function(e){return this.buttons.filter((function(t){return t.inMenu===e.inMenu})).indexOf(e)}},{key:"initializeButtons",value:function(){var e=[],t=[];this.buttons.forEach((function(n){n.inMenu?t.push(n):e.push(n)})),this.inlineButtons=e,this.menuButtons=t}},{key:"open",get:function(){return this.toggleService.open}},{key:"menuPosition",get:function(){return this._menuPosition},set:function(e){this._menuPosition=e&&zS[e]?e:"bottom-left",this.popoverPosition=zS[this._menuPosition]}}]),e}()).\u0275fac=function(e){return new(e||iS)(Zo(YC),Zo(_C),Zo(tS),Zo(JC))},iS.\u0275cmp=dt({type:iS,selectors:[["clr-button-group"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,ZC,!1),2&e&&Eu(r=Ru())&&(t.buttons=r)},hostVars:2,hostBindings:function(e,t){2&e&&Os("btn-group",!0)},inputs:{menuPosition:["clrMenuPosition","menuPosition"]},features:[ha([YC,US,_C,bC,BC])],decls:4,vars:2,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],["ref",""],[3,"ngTemplateOutlet"],[1,"btn-group-overflow","open",3,"ngClass"],["anchor",""],["clrPopoverAnchor","","clrPopoverOpenCloseButton","",1,"btn","dropdown-toggle"],["shape","ellipsis-horizontal"],["role","menu","class","dropdown-menu clr-button-group-menu",3,"id",4,"clrPopoverContent","clrPopoverContentAt","clrPopoverContentOutsideClickToClose","clrPopoverContentScrollToClose"],["role","menu",1,"dropdown-menu","clr-button-group-menu",3,"id"]],template:function(e,t){1&e&&(Ko(0,F_,2,1,"ng-container",0),Ko(1,V_,6,9,"ng-container",1),Ko(2,B_,1,1,"ng-template",null,2,Lu)),2&e&&(es("ngForOf",t.inlineButtons),Ur(1),es("ngIf",t.menuButtons.length>0))},directives:[Uh,zh,Zh,Vh,qC,GC,yC,zC],encapsulation:2}),iS),HS=((rS=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:rS}),rS.\u0275inj=fe({factory:function(e){return new(e||rS)},imports:[[uf,mC,WC]]}),rS),qS=((fS=oS=function(){function e(t,n){_classCallCheck(this,e),this.el=t,this.renderer=n,this.buttonState=QC,this.state=QC.DEFAULT,this.clrLoadingChange=new pu(!1)}return _createClass(e,[{key:"loadingStateChange",value:function(e){if(e!==this.state){switch(this.state=e,e){case QC.DEFAULT:this.renderer.removeStyle(this.el.nativeElement,"width"),this.renderer.removeStyle(this.el.nativeElement,"transform"),this.disabled||this.renderer.removeAttribute(this.el.nativeElement,"disabled");break;case QC.LOADING:this.setExplicitButtonWidth(),this.renderer.setStyle(this.el.nativeElement,"transform","translatez(0)"),this.renderer.setAttribute(this.el.nativeElement,"disabled","");break;case QC.SUCCESS:this.setExplicitButtonWidth();break;case QC.ERROR:this.loadingStateChange(QC.DEFAULT)}this.clrLoadingChange.emit(e)}}},{key:"setExplicitButtonWidth",value:function(){if(this.el.nativeElement&&this.el.nativeElement.getBoundingClientRect){var e=this.el.nativeElement.getBoundingClientRect();this.renderer.setStyle(this.el.nativeElement,"width",e.width+"px")}}}]),e}()).\u0275fac=function(e){return new(e||fS)(Zo(va),Zo(_a))},fS.\u0275cmp=dt({type:fS,selectors:[["button","clrLoading",""]],hostVars:1,hostBindings:function(e,t){2&e&&$o("disabled",t.disabled?"":null)},inputs:{disabled:"disabled"},outputs:{clrLoadingChange:"clrLoadingChange"},features:[ha([{provide:$C,useExisting:oS}])],attrs:z_,ngContentSelectors:P_,decls:4,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"spinner","spinner-inline"],[1,"spinner","spinner-inline","spinner-check"]],template:function(e,t){1&e&&(ms(),os(0,0),Ko(1,G_,2,1,"span",1),Ko(2,H_,2,1,"span",1),Ko(3,q_,2,1,"span",1),ss()),2&e&&(es("ngSwitch",t.state),Ur(1),es("ngSwitchCase",t.buttonState.LOADING),Ur(1),es("ngSwitchCase",t.buttonState.SUCCESS),Ur(1),es("ngSwitchCase",t.buttonState.DEFAULT))},directives:[Kh,Yh],encapsulation:2,data:{animation:[oy("defaultButton",[ly(":enter",[uy({opacity:0}),sy("200ms 100ms ease-in",uy({opacity:1}))]),ly(":leave",[uy({opacity:0})])]),oy("spinner",[ly(":enter",[uy({opacity:0}),sy("200ms 100ms ease-in",uy({opacity:1}))]),ly(":leave",[uy({opacity:1}),sy("100ms ease-out",uy({opacity:0}))])]),oy("validated",[ly(":enter",[sy("600ms",(hS=[uy({transform:"scale(0,0)",offset:0}),uy({opacity:1,offset:.2}),uy({transform:"scale(1.2,1.2)",offset:.4}),uy({transform:"scale(.9,.9)",offset:.6}),uy({transform:"scale(1,1)",offset:1})],{type:5,steps:hS}))]),ly(":leave",[uy({opacity:1}),sy("100ms ease-out",uy({opacity:0}))])])]}}),fS),WS=((lS=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:lS}),lS.\u0275inj=fe({factory:function(e){return new(e||lS)},imports:[[uf]]}),lS),$S=((cS=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:cS}),cS.\u0275inj=fe({factory:function(e){return new(e||cS)},imports:[WS,HS]}),cS),QS=((uS=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||uS)},uS.\u0275cmp=dt({type:uS,selectors:[["ng-component"]],decls:0,vars:0,template:function(e,t){},encapsulation:2}),uS),KS=((aS=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:aS}),aS.\u0275inj=fe({factory:function(e){return new(e||aS)}}),aS),YS=0,ZS=((sS=function(){function e(){_classCallCheck(this,e),this._id="clr-form-control-"+ ++YS,this._idChange=new Fc(this._id)}return _createClass(e,[{key:"id",get:function(){return this._id},set:function(e){this._id=e,this._idChange.next(e)}},{key:"idChange",get:function(){return this._idChange.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||sS)},sS.\u0275prov=he({token:sS,factory:sS.\u0275fac}),sS),XS=function(e){return e.off="off",e.polite="polite",e.assertive="assertive",e}({}),JS=((dS=function(){function e(t,n,r){_classCallCheck(this,e),this.ngZone=t,this.platformId=r,this._id="clr-aria-live-element-"+nS(),this.document=n}return _createClass(e,[{key:"announce",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:XS.polite;n!==XS.off&&(!this.ariaLiveElement&&cf(this.platformId)&&(this.ariaLiveElement=this.createContainer()),(e="string"!=typeof e&&cf(this.platformId)?e.textContent:e)&&(this.ariaLiveElement.setAttribute("aria-live",n),this.ngZone.runOutsideAngular((function(){clearTimeout(t.previousTimeout),t.previousTimeout=setTimeout((function(){t.ariaLiveElement.textContent=e}),100)}))))}},{key:"ngOnDestroy",value:function(){clearTimeout(this.previousTimeout),cf(this.platformId)&&this.ariaLiveElement&&(this.document.body.removeChild(this.ariaLiveElement),this.ariaLiveElement=null)}},{key:"createContainer",value:function(){var e=this.document.createElement("div");return e.setAttribute("id",this.id),e.classList.add("clr-sr-only"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live",XS.polite),this.document.body.appendChild(e),e}},{key:"id",get:function(){return this._id}}]),e}()).\u0275fac=function(e){return new(e||dS)(Ke(oc),Ke(Nl),Ke(Gu))},dS.\u0275prov=he({factory:function(){return new dS(Ke(oc),Ke(Nl),Ke(Gu))},token:dS,providedIn:"root"}),dS),eE=function(e){return e.VERTICAL="vertical",e.HORIZONTAL="horizontal",e.COMPACT="compact",e}({}),tE=((SS=function(){function e(){_classCallCheck(this,e),this.minLabelSize=1,this.maxLabelSize=12,this.layout=eE.HORIZONTAL,this.layoutValues=Object.keys(eE).map((function(e){return eE[e]})),this._labelSize=2}return _createClass(e,[{key:"isVertical",value:function(){return this.layout===eE.VERTICAL}},{key:"isHorizontal",value:function(){return this.layout===eE.HORIZONTAL}},{key:"isCompact",value:function(){return this.layout===eE.COMPACT}},{key:"isValid",value:function(e){return this.layoutValues.indexOf(e)>-1}},{key:"labelSizeIsValid",value:function(e){return Number.isInteger(e)&&e>=this.minLabelSize&&e<=this.maxLabelSize}},{key:"labelSize",set:function(e){this.labelSizeIsValid(e)&&(this._labelSize=e)},get:function(){return this._labelSize}},{key:"layoutClass",get:function(){return"clr-form-"+this.layout}}]),e}()).\u0275fac=function(e){return new(e||SS)},SS.\u0275prov=he({token:SS,factory:SS.\u0275fac}),SS),nE=((CS=function(){function e(t){_classCallCheck(this,e),this.layoutService=t,this.className=""}return _createClass(e,[{key:"controlClass",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=[this.className,n];return e&&r.push("clr-error"),t&&this.layoutService&&-1===this.className.indexOf("clr-col")&&r.push("clr-col-md-".concat(this.layoutService.maxLabelSize-this.layoutService.labelSize," clr-col-12")),r.join(" ").trim()}},{key:"initControlClass",value:function(e,t){t&&t.className&&(this.className=t.className,t.className.split(" ").forEach((function(n){n.startsWith("clr-col")&&e.removeClass(t,n)})))}}]),e}()).\u0275fac=function(e){return new(e||CS)(Ke(tE,8))},CS.\u0275prov=he({token:CS,factory:CS.\u0275fac}),CS),rE=((wS=function(){function e(t,n,r,i){_classCallCheck(this,e),this.controlIdService=t,this.controlClassService=n,this.ariaLiveService=r,this.el=i}return _createClass(e,[{key:"ngAfterViewInit",value:function(){null===this.controlClassService&&this.ariaLiveService.announce(this.el.nativeElement)}}]),e}()).\u0275fac=function(e){return new(e||wS)(Zo(ZS,8),Zo(nE,8),Zo(JS),Zo(va))},wS.\u0275cmp=dt({type:wS,selectors:[["clr-control-error"]],hostVars:3,hostBindings:function(e,t){2&e&&(Ws("id",(null==t.controlIdService?null:t.controlIdService.id)+"-error"),Os("clr-subtext",!0))},features:[ha([JS])],ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2}),wS),iE=((kS=function e(t){_classCallCheck(this,e),this.controlIdService=t}).\u0275fac=function(e){return new(e||kS)(Zo(ZS,8))},kS.\u0275cmp=dt({type:kS,selectors:[["clr-control-helper"]],hostVars:3,hostBindings:function(e,t){2&e&&(Ws("id",(null==t.controlIdService?null:t.controlIdService.id)+"-helper"),Os("clr-subtext",!0))},ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2}),kS),oE=((bS=function(){function e(){_classCallCheck(this,e),this._controlChanges=new x}return _createClass(e,[{key:"setControl",value:function(e){this._controlChanges.next(e)}},{key:"controlChanges",get:function(){return this._controlChanges.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||bS)},bS.\u0275prov=he({token:bS,factory:bS.\u0275fac}),bS),sE=((_S=function(){function e(t){var n=this;_classCallCheck(this,e),this.ngControlService=t,this._statusChanges=new x,this.subscriptions=[],this.subscriptions.push(this.ngControlService.controlChanges.subscribe((function(e){e&&(n.control=e,n.listenForChanges())})))}return _createClass(e,[{key:"listenForChanges",value:function(){var e=this;this.subscriptions.push(this.control.statusChanges.subscribe((function(){e.sendValidity()})))}},{key:"sendValidity",value:function(){this._statusChanges.next(!(!this.control.touched||!this.control.invalid))}},{key:"triggerStatusChange",value:function(){this.control&&this.sendValidity()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"statusChanges",get:function(){return this._statusChanges.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||_S)(Ke(oE))},_S.\u0275prov=he({token:_S,factory:_S.\u0275fac}),_S),aE=((mS=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.controlIdService=t,this.layoutService=n,this.ngControlService=r,this.renderer=i,this.el=o,this.subscriptions=[],this.enableGrid=!0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;(this.controlIdService||this.ngControlService)&&this.renderer.addClass(this.el.nativeElement,"clr-control-label"),this.enableGrid&&this.layoutService&&!this.layoutService.isVertical()&&this.el.nativeElement&&this.el.nativeElement.className.indexOf("clr-col")<0&&(this.renderer.addClass(this.el.nativeElement,"clr-col-12"),this.renderer.addClass(this.el.nativeElement,"clr-col-md-"+this.layoutService.labelSize)),this.controlIdService&&!this.forAttr&&this.subscriptions.push(this.controlIdService.idChange.subscribe((function(t){return e.forAttr=t})))}},{key:"disableGrid",value:function(){this.enableGrid=!1}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"labelText",get:function(){return this.el.nativeElement&&this.el.nativeElement.textContent}}]),e}()).\u0275fac=function(e){return new(e||mS)(Zo(ZS,8),Zo(tE,8),Zo(oE,8),Zo(_a),Zo(va))},mS.\u0275dir=_t({type:mS,selectors:[["label"]],hostVars:1,hostBindings:function(e,t){2&e&&$o("for",t.forAttr)},inputs:{forAttr:["for","forAttr"]}}),mS),uE=((yS=function(){function e(){_classCallCheck(this,e),this._touched=new x}return _createClass(e,[{key:"markAsTouched",value:function(){this._touched.next()}},{key:"touchedChange",get:function(){return this._touched.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||yS)},yS.\u0275prov=he({token:yS,factory:yS.\u0275fac}),yS),cE=((gS=function(){function e(t,n,r,i,o,s){_classCallCheck(this,e),this.layoutService=t,this.markControlService=n,this.platformId=r,this.el=i,this.commonStrings=o,this.ariaLiveService=s,this.invalidControls=[]}return _createClass(e,[{key:"markAsDirty",value:function(e){this.markAsTouched(!0)}},{key:"markAsTouched",value:function(e){this.markControlService.markAsTouched(),!1!==e&&cf(this.platformId)&&(this.invalidControls=Array.from(this.el.nativeElement.querySelectorAll(".ng-invalid")),this.invalidControls.length>0&&(this.invalidControls[0].focus(),this.updateAriaLive()))}},{key:"onFormSubmit",value:function(){this.markAsTouched()}},{key:"updateAriaLive",value:function(){var e=this;if(0!==this.invalidControls.length){var t=this.labels.filter((function(t){return e.invalidControls.find((function(e){return t.forAttr===e.id}))}));this.ariaLiveService.announce(this.commonStrings.parse(this.commonStrings.keys.formErrorSummary,{ERROR_NUMBER:t.length.toString()}))}}},{key:"labelSize",set:function(e){this.layoutService.labelSize=e}}]),e}()).\u0275fac=function(e){return new(e||gS)(Zo(tE),Zo(uE),Zo(Gu),Zo(va),Zo(JC),Zo(JS))},gS.\u0275dir=_t({type:gS,selectors:[["","clrForm",""]],contentQueries:function(e,t,n){var r;1&e&&Au(n,aE,!0),2&e&&Eu(r=Ru())&&(t.labels=r)},hostVars:6,hostBindings:function(e,t){1&e&&hs("submit",(function(){return t.onFormSubmit()})),2&e&&Os("clr-form",!0)("clr-form-horizontal",t.layoutService.isHorizontal())("clr-form-compact",t.layoutService.isCompact())},inputs:{labelSize:["clrLabelSize","labelSize"]},features:[ha([tE,uE,JS])]}),gS),lE=((vS=function(){function e(t){_classCallCheck(this,e),this.layoutService=t}return _createClass(e,[{key:"ngOnInit",value:function(){this.layout&&this.layoutService.isValid(this.layout)&&(this.layoutService.layout=this.layout)}}]),e}()).\u0275fac=function(e){return new(e||vS)(Zo(tE))},vS.\u0275dir=_t({type:vS,selectors:[["","clrForm","","clrLayout",""]],inputs:{layout:["clrLayout","layout"]}}),vS),hE=((pS=function(){function e(t,n,r,i){var o=this;_classCallCheck(this,e),this.ifErrorService=t,this.layoutService=n,this.controlClassService=r,this.ngControlService=i,this.subscriptions=[],this.invalid=!1,this._dynamic=!1,this.subscriptions.push(this.ifErrorService.statusChanges.subscribe((function(e){o.invalid=e}))),this.subscriptions.push(this.ngControlService.controlChanges.subscribe((function(e){o.control=e})))}return _createClass(e,[{key:"controlClass",value:function(){return this.controlClassService.controlClass(this.invalid,this.addGrid())}},{key:"addGrid",value:function(){return this.layoutService&&!this.layoutService.isVertical()}},{key:"ngOnDestroy",value:function(){this.subscriptions.map((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||pS)(Zo(sE),Zo(tE,8),Zo(nE),Zo(oE))},pS.\u0275dir=_t({type:pS,contentQueries:function(e,t,n){var r;1&e&&Au(n,aE,!0),2&e&&Eu(r=Ru())&&(t.label=r.first)}}),pS),fE=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(_classCallCheck(this,e),this.injector=n.injector,!this.injector.get(t,null)){var i=this.injector.get(pa),o=this.injector.get(va);n.createComponent(i.resolveComponentFactory(QS));var s=i.resolveComponentFactory(t),a=[];a[r]=[o.nativeElement];var u=n.createComponent(s,void 0,void 0,a);n.remove(0),u.instance._dynamic=!0,this.injector=u.injector}}return _createClass(e,[{key:"get",value:function(e,t){return this.injector.get(e,t)}}]),e}(),dE=((IS=function(){function e(t,n,r,i,o,s){var a=this;_classCallCheck(this,e),this.vcr=t,this.wrapperType=n,this.ngControl=i,this.subscriptions=[],this.index=0,this.renderer=o,this.el=s;try{this.ngControlService=r.get(oE),this.ifErrorService=r.get(sE),this.controlClassService=r.get(nE),this.markControlService=r.get(uE)}catch(u){}this.controlClassService&&this.controlClassService.initControlClass(o,s.nativeElement),this.markControlService&&this.subscriptions.push(this.markControlService.touchedChange.subscribe((function(){a.ngControl.control.markAsTouched(),a.ngControl.control.updateValueAndValidity()})))}return _createClass(e,[{key:"triggerValidation",value:function(){this.ifErrorService&&this.ifErrorService.triggerStatusChange()}},{key:"getProviderFromContainer",value:function(e,t){try{return this._containerInjector.get(e,t)}catch(n){return t}}},{key:"ngOnInit",value:function(){this._containerInjector=new fE(this.wrapperType,this.vcr,this.index),this.controlIdService=this._containerInjector.get(ZS),this._id?this.controlIdService.id=this._id:this._id=this.controlIdService.id,this.ngControlService&&this.ngControlService.setControl(this.ngControl),this.listenForErrorStateChanges()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"listenForErrorStateChanges",value:function(){var e=this;this.ifErrorService&&this.subscriptions.push(this.ifErrorService.statusChanges.pipe(ld(!1),Hc((function(){return e.renderer&&!!e.el})),(function(e){return e.lift(new ny(void 0,void 0))})).subscribe((function(t){return e.setAriaDescribedBy(t)})))}},{key:"setAriaDescribedBy",value:function(e){this.renderer.setAttribute(this.el.nativeElement,"aria-describedby",this.getAriaDescribedById(e))}},{key:"getAriaDescribedById",value:function(e){return this.controlIdService.id.concat(e?"-error":"-helper")}},{key:"id",get:function(){return this._id},set:function(e){this._id=e,this.controlIdService&&(this.controlIdService.id=e)}}]),e}()).\u0275fac=function(e){return new(e||IS)(Zo(Ba),Zo(yo),Zo(Ro),Zo(Dy),Zo(_a),Zo(va))},IS.\u0275dir=_t({type:IS,hostVars:1,hostBindings:function(e,t){1&e&&hs("blur",(function(){return t.triggerValidation()})),2&e&&Ws("id",t.id)},inputs:{id:"id"}}),IS),pE=((ES=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:ES}),ES.\u0275inj=fe({factory:function(e){return new(e||ES)},imports:[[uf,mC]]}),ES),vE=new Ue("IS_TOGGLE"),gE={provide:vE,useFactory:function(){return new Fc(!1)}},yE=((OS=function(){function e(t){var n=this;_classCallCheck(this,e),this._dynamic=!1,this.toggle=!1,this.subscriptions=[],this.subscriptions.push(t.subscribe((function(e){n.toggle=e})))}return _createClass(e,[{key:"ngOnInit",value:function(){this.label&&this.label.disableGrid()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||OS)(Zo(vE))},OS.\u0275cmp=dt({type:OS,selectors:[["clr-checkbox-wrapper"],["clr-toggle-wrapper"]],contentQueries:function(e,t,n){var r;1&e&&Ou(n,aE,!0),2&e&&Eu(r=Ru())&&(t.label=r.first)},hostVars:4,hostBindings:function(e,t){2&e&&Os("clr-checkbox-wrapper",!t.toggle)("clr-toggle-wrapper",t.toggle)},features:[ha([ZS,gE])],ngContentSelectors:Q_,decls:3,vars:1,consts:[[4,"ngIf"]],template:function(e,t){1&e&&(ms($_),_s(0),_s(1,1),Ko(2,W_,1,0,"label",0)),2&e&&(Ur(2),es("ngIf",!t.label))},directives:[zh,aE],encapsulation:2}),OS),mE=((AS=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s,a){var u;return _classCallCheck(this,n),(u=t.call(this,e,yE,r,i,o,s)).toggle=a,u}return _createClass(n,[{key:"ngOnInit",value:function(){_get(_getPrototypeOf(n.prototype),"ngOnInit",this).call(this);var e=this.getProviderFromContainer(vE,null);e&&null!==this.toggle&&e.next(!0)}}]),n}(dE)).\u0275fac=function(e){return new(e||AS)(Zo(Ba),Zo(Ro),Zo(Dy,10),Zo(_a),Zo(va),Xo("clrToggle"))},AS.\u0275dir=_t({type:AS,selectors:[["","clrCheckbox",""],["","clrToggle",""]],features:[Ks]}),AS),_E=((xS=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).inline=!1,e}return _createClass(n,[{key:"clrInline",set:function(e){this.inline="string"==typeof e?"false"!==e:!!e},get:function(){return this.inline}}]),n}(hE)).\u0275fac=function(e){return QP(e||xS)},xS.\u0275cmp=dt({type:xS,selectors:[["clr-checkbox-container"],["clr-toggle-container"]],hostVars:6,hostBindings:function(e,t){2&e&&Os("clr-form-control",!0)("clr-form-control-disabled",null==t.control?null:t.control.disabled)("clr-row",t.addGrid())},inputs:{clrInline:"clrInline"},features:[ha([oE,nE,sE]),Ks],ngContentSelectors:eb,decls:8,vars:7,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],[1,"clr-subtext-wrapper"],["class","clr-validate-icon","shape","exclamation-circle","aria-hidden","true",4,"ngIf"],["shape","exclamation-circle","aria-hidden","true",1,"clr-validate-icon"]],template:function(e,t){1&e&&(ms(J_),_s(0),Ko(1,K_,1,0,"label",0),ns(2,"div",1),_s(3,1),ns(4,"div",2),Ko(5,Y_,1,0,void 0,0),Ko(6,Z_,1,0,"clr-icon",3),Ko(7,X_,1,0,void 0,0),rs(),rs()),2&e&&(Ur(1),es("ngIf",!t.label&&t.addGrid()),Ur(1),Os("clr-control-inline",t.clrInline),es("ngClass",t.controlClass()),Ur(3),es("ngIf",!t.invalid),Ur(1),es("ngIf",t.invalid),Ur(1),es("ngIf",t.invalid))},directives:[zh,Vh,aE,yC],encapsulation:2}),xS),bE=((TS=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:TS}),TS.\u0275inj=fe({factory:function(e){return new(e||TS)},imports:[[uf,mC,pE,KS],pE]}),TS),kE=0,wE=new Ue("IF_ACTIVE_ID"),CE={provide:wE,useFactory:function(){return++kE}},SE=((jS=function(){function e(){_classCallCheck(this,e),this._currentChange=new x}return _createClass(e,[{key:"currentChange",get:function(){return this._currentChange.asObservable()}},{key:"current",set:function(e){this._current!==e&&(this._current=e,this._currentChange.next(e))},get:function(){return this._current}}]),e}()).\u0275fac=function(e){return new(e||jS)},jS.\u0275prov=he({token:jS,factory:jS.\u0275fac}),jS),EE=((VS=function(){function e(t,n,r,i){var o=this;_classCallCheck(this,e),this.ifActiveService=t,this.id=n,this.template=r,this.container=i,this.wasActive=!1,this.activeChange=new pu(!1),this.checkAndUpdateView(t.current),this.subscription=this.ifActiveService.currentChange.subscribe((function(e){o.checkAndUpdateView(e)}))}return _createClass(e,[{key:"checkAndUpdateView",value:function(e){var t=e===this.id;t!==this.wasActive&&(this.updateView(t),this.activeChange.emit(t),this.wasActive=t)}},{key:"updateView",value:function(e){e?this.container.createEmbeddedView(this.template):this.container.clear()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"active",set:function(e){e&&(this.ifActiveService.current=this.id)},get:function(){return this.ifActiveService.current===this.id}}]),e}()).\u0275fac=function(e){return new(e||VS)(Zo(SE),Zo(wE),Zo(ja),Zo(Ba))},VS.\u0275dir=_t({type:VS,selectors:[["","clrIfActive",""]],inputs:{active:["clrIfActive","active"]},outputs:{activeChange:"clrIfActiveChange"}}),VS),IE=((MS=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.toggleService=t,this.template=n,this.container=r,this.openChange=new pu(!1),this.subscription=this.toggleService.openChange.subscribe((function(e){i.updateView(e),i.openChange.emit(e)}))}return _createClass(e,[{key:"updateView",value:function(e){e?this.container.createEmbeddedView(this.template):this.container.clear()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"open",set:function(e){this.toggleService.open=e},get:function(){return this.toggleService.open}}]),e}()).\u0275fac=function(e){return new(e||MS)(Zo(_C),Zo(ja),Zo(Ba))},MS.\u0275dir=_t({type:MS,selectors:[["","clrIfOpen",""]],inputs:{open:["clrIfOpen","open"]},outputs:{openChange:"clrIfOpenChange"}}),MS),TE=((LS=function(){function e(){_classCallCheck(this,e),this.expandable=0,this._loading=!1,this._expanded=!1,this._expandChange=new x}return _createClass(e,[{key:"toggle",value:function(){this.expanded=!this._expanded}},{key:"loadingStateChange",value:function(e){switch(e){case QC.LOADING:this.loading=!0;break;default:this.loading=!1}}},{key:"loading",get:function(){return this._loading},set:function(e){(e=!!e)!==this._loading&&(this._loading=e)}},{key:"expanded",get:function(){return this._expanded},set:function(e){(e=!!e)!==this._expanded&&(this._expanded=e,this._expandChange.next(e))}},{key:"expandChange",get:function(){return this._expandChange.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||LS)},LS.\u0275prov=he({token:LS,factory:LS.\u0275fac}),LS),xE=((FS=function(){function e(t,n,r,i,o){var s=this;_classCallCheck(this,e),this.template=t,this.container=n,this.el=r,this.renderer=i,this.expand=o,this._expanded=!1,this.expandedChange=new pu(!0),this._subscriptions=[],o.expandable++,this._subscriptions.push(o.expandChange.subscribe((function(){s.updateView(),s.expandedChange.emit(s.expand.expanded)})))}return _createClass(e,[{key:"updateView",value:function(){if(!this.expand.expanded||0===this.container.length)if(this.template)this.expand.expanded?this.container.createEmbeddedView(this.template):this.container.clear();else try{this.renderer.setStyle(this.el.nativeElement,"display",this.expand.expanded?null:"none")}catch(e){}}},{key:"ngOnInit",value:function(){this.updateView()}},{key:"ngOnDestroy",value:function(){this.expand.expandable--,this._subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"expanded",get:function(){return this._expanded},set:function(e){"boolean"==typeof e&&(this.expand.expanded=e,this._expanded=e)}}]),e}()).\u0275fac=function(e){return new(e||FS)(Zo(ja,8),Zo(Ba),Zo(va),Zo(_a),Zo(TE))},FS.\u0275dir=_t({type:FS,selectors:[["","clrIfExpanded",""]],inputs:{expanded:["clrIfExpanded","expanded"]},outputs:{expandedChange:"clrIfExpandedChange"}}),FS),AE=((NS=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:NS}),NS.\u0275inj=fe({factory:function(e){return new(e||NS)},imports:[[uf]]}),NS),OE=((PS=function(){function e(){_classCallCheck(this,e),this._previousFocusTraps=[]}return _createClass(e,[{key:"activatePreviousTrapper",value:function(){this._current=this._previousFocusTraps.pop()}},{key:"current",get:function(){return this._current},set:function(e){this._previousFocusTraps.push(this._current),this._current=e}},{key:"nbFocusTrappers",get:function(){return this._previousFocusTraps.length}}]),e}()).\u0275fac=function(e){return new(e||PS)},PS.\u0275prov=he({factory:function(){return new PS},token:PS,providedIn:"root"}),PS),DE=((RS=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.el=t,this.injector=n,this.focusTrapsTracker=r,this.renderer=i,this.platformId=o,this.localFocusEscaped=!1,this._config={strict:!0},this.document=this.injector.get(Nl),this.focusTrapsTracker.current=this,this.renderer.setAttribute(this.el.nativeElement,"tabindex","0")}return _createClass(e,[{key:"onFocusIn",value:function(e){if(this.focusTrapsTracker.current===this&&cf(this.platformId)&&!this.localFocusEscaped){var t=this.el.nativeElement;this._config.strict&&e.target&&!t.contains(e.target)||e.target===this.bottomReboundEl&&t.contains(this.previousTrappedActiveElement)?t.focus():e.target===this.topReboundEl||e.target===t||t.contains(e.target)||(this.localFocusEscaped=!0),this.previousTrappedActiveElement=e.target}}},{key:"createFocusableOffScreenEl",value:function(){var e=this.document.createElement("span");return this.renderer.setAttribute(e,"tabindex","0"),this.renderer.addClass(e,"offscreen-focus-rebounder"),e}},{key:"addReboundEls",value:function(){if(cf(this.platformId)){this.topReboundEl=this.createFocusableOffScreenEl(),this.bottomReboundEl=this.createFocusableOffScreenEl();var e=this.el.nativeElement;this.renderer.insertBefore(e.parentElement,this.topReboundEl,e),e.nextSibling?this.renderer.insertBefore(e.parentNode,this.bottomReboundEl,e.nextSibling):this.renderer.appendChild(e.parentNode,this.bottomReboundEl)}}},{key:"removeReboundEls",value:function(){cf(this.platformId)&&this.topReboundEl&&this.bottomReboundEl&&(this.parentElement.removeChild(this.topReboundEl),this.parentElement.removeChild(this.bottomReboundEl),delete this.topReboundEl,delete this.bottomReboundEl)}},{key:"setPreviousFocus",value:function(){this.previousActiveElement&&this.previousActiveElement.focus&&this.previousActiveElement.focus()}},{key:"ngAfterViewInit",value:function(){cf(this.platformId)&&(this.previousActiveElement=this.document.activeElement,this.parentElement=this.el.nativeElement.parentElement),this.addReboundEls()}},{key:"ngOnDestroy",value:function(){this.removeReboundEls(),this.setPreviousFocus(),this.focusTrapsTracker.activatePreviousTrapper()}},{key:"config",set:function(e){this._config=Object.assign(this._config,e)}}]),e}()).\u0275fac=function(e){return new(e||RS)(Zo(va),Zo(Ro),Zo(OE),Zo(_a),Zo(Gu))},RS.\u0275dir=_t({type:RS,selectors:[["","clrFocusTrap",""]],hostBindings:function(e,t){1&e&&hs("focusin",(function(e){return t.onFocusIn(e)}),!1,zn)},inputs:{config:["clrFocusTrap","config"]}}),RS),RE=((DS=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:DS}),DS.\u0275inj=fe({factory:function(e){return new(e||DS)},imports:[[uf]]}),DS),PE=/d+.+m+.+y+/i,NE=/m+.+d+.+y+/i,FE=/d+|m+|y+/i,LE=/\d+/g,ME=/Mobi/i,VE=/\u200f/g,jE={name:"LITTLE_ENDIAN",format:["DD","MM","YYYY"]},UE={name:"MIDDLE_ENDIAN",format:["MM","DD","YYYY"]},BE={name:"BIG_ENDIAN",format:["YYYY","MM","DD"]};function zE(e,t){return new Date(e,t+1,0).getDate()}var GE,HE,qE,WE,$E,QE,KE,YE,ZE,XE,JE=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];_classCallCheck(this,e),this.dayModel=t,this.isTodaysDate=n,this.isExcluded=r,this.isDisabled=i,this.isSelected=o,this.isFocusable=s}return _createClass(e,[{key:"tabIndex",get:function(){return this.isFocusable?0:-1}}]),e}(),eI=function(){function e(t,n,r){_classCallCheck(this,e),this.year=t,this.month=n,this.date=r}return _createClass(e,[{key:"isEqual",value:function(e){return!!e&&this.year===e.year&&this.month===e.month&&this.date===e.date}},{key:"toDate",value:function(){return new Date(this.year,this.month,this.date)}},{key:"incrementBy",value:function(t){var n=new Date(this.year,this.month,this.date+t);return new e(n.getFullYear(),n.getMonth(),n.getDate())}},{key:"clone",value:function(){return new e(this.year,this.month,this.date)}},{key:"toComparisonString",value:function(){return"".concat(this.year).concat(this.pad(this.month)).concat(this.pad(this.date))}},{key:"pad",value:function(e){return e<10?"0"+e:""+e}},{key:"toDateString",value:function(){return this.toDate().toLocaleDateString()}}]),e}(),tI=function(){function e(t,n,r,i,o,s){_classCallCheck(this,e),this.calendar=t,this.selectedDay=n,this.focusableDay=r,this.today=i,this.firstDayOfWeek=o,this.excludedDates=s,this.currMonthDayViews=[],this.initializeCalendarView()}return _createClass(e,[{key:"initializeCalendarView",value:function(){var e=this.calendar.previousMonth(),t=this.calendar.nextMonth(),n=this.numDaysFromPrevMonthInCalView(this.calendar.year,this.calendar.month),r=42-(this.calendar.days.length+n),i=[],o=[];n>0&&(i=this.generateDayViewModels(e.days.slice(-1*n),!0,!1)),this.currMonthDayViews=this.generateDayViewModels(this.calendar.days,!1,!0),r>0&&(o=this.generateDayViewModels(t.days.slice(0,r),!0,!1)),this._calendarView=this.generateCalendarView(i,this.currMonthDayViews,o),this.initializeSelectedDay(),this.initializeFocusableDay()}},{key:"isDateExcluded",value:function(e){var t=this.excludedDates,n=t.minDate,r=t.maxDate,i=n.toComparisonString(),o=r.toComparisonString(),s=e.toComparisonString();return!(s>=i&&s<=o)}},{key:"generateDayViewModels",value:function(e,t,n){var r=this,i=e.map((function(e){return new JE(e,!1,t,r.isDateExcluded(e),!1,!1)}));return n&&this.calendar.isDayInCalendar(this.today)&&(i[this.today.date-1].isTodaysDate=!0),i}},{key:"numDaysFromPrevMonthInCalView",value:function(e,t){var n=new Date(e,t,1).getDay();return n>=this.firstDayOfWeek?n-this.firstDayOfWeek:7+n-this.firstDayOfWeek}},{key:"isDayInCalendarView",value:function(e){return!!this.calendar.isDayInCalendar(e)}},{key:"generateCalendarView",value:function(e,t,n){for(var r=[].concat(_toConsumableArray(e),_toConsumableArray(t),_toConsumableArray(n)),i=[],o=0;o<6;o++)i[o]=r.slice(7*o,7*(o+1));return i}},{key:"initializeSelectedDay",value:function(){this.selectedDay&&this.isDayInCalendarView(this.selectedDay)&&(this.currMonthDayViews[this.selectedDay.date-1].isSelected=!0)}},{key:"initializeFocusableDay",value:function(){this.focusableDay&&this.isDayInCalendarView(this.focusableDay)?this.setFocusableFlag(this.focusableDay,!0):this.selectedDay&&this.isDayInCalendarView(this.selectedDay)?(this.setFocusableFlag(this.selectedDay,!0),this.focusableDay=this.selectedDay.clone()):this.isDayInCalendarView(this.today)?(this.setFocusableFlag(this.today,!0),this.focusableDay=this.today.clone()):(this.focusableDay=new eI(this.calendar.year,this.calendar.month,15),this.setFocusableFlag(this.focusableDay,!0))}},{key:"setFocusableFlag",value:function(e,t){e&&(this.currMonthDayViews[e.date-1].isFocusable=t)}},{key:"updateFocusableDay",value:function(e){this.setFocusableFlag(this.focusableDay,!1),this.setFocusableFlag(e,!0),this.focusableDay=e}},{key:"calendarView",get:function(){return this._calendarView}}]),e}(),nI=function(){function e(t,n){_classCallCheck(this,e),this.year=t,this.month=n,this.initializeDaysInCalendar()}return _createClass(e,[{key:"initializeDaysInCalendar",value:function(){var e=this,t=zE(this.year,this.month);this.days=Array(t).fill(null).map((function(t,n){return new eI(e.year,e.month,n+1)}))}},{key:"isEqual",value:function(e){return!!e&&this.year===e.year&&this.month===e.month}},{key:"isDayInCalendar",value:function(e){return!!e&&this.year===e.year&&this.month===e.month}},{key:"previousMonth",value:function(){return 0===this.month?new e(this.year-1,11):new e(this.year,this.month-1)}},{key:"nextMonth",value:function(){return 11===this.month?new e(this.year+1,0):new e(this.year,this.month+1)}}]),e}(),rI=((XE=function(){function e(){_classCallCheck(this,e),this._todaysFullDate=new Date,this._selectedDayChange=new x,this._displayedCalendarChange=new x,this._focusOnCalendarChange=new x,this._focusedDayChange=new x}return _createClass(e,[{key:"setDisplayedCalendar",value:function(e){this._displayedCalendar.isEqual(e)||(this._displayedCalendar=e,this._displayedCalendarChange.next())}},{key:"initializeTodaysDate",value:function(){this._todaysFullDate=new Date,this._today=new eI(this._todaysFullDate.getFullYear(),this._todaysFullDate.getMonth(),this._todaysFullDate.getDate())}},{key:"notifySelectedDayChanged",value:function(e){this.selectedDay=e,this._selectedDayChange.next(e)}},{key:"initializeCalendar",value:function(){this.focusedDay=null,this.initializeTodaysDate(),this._displayedCalendar=this.selectedDay?new nI(this.selectedDay.year,this.selectedDay.month):new nI(this.today.year,this.today.month)}},{key:"changeMonth",value:function(e){this.setDisplayedCalendar(new nI(this._displayedCalendar.year,e))}},{key:"changeYear",value:function(e){this.setDisplayedCalendar(new nI(e,this._displayedCalendar.month))}},{key:"moveToNextMonth",value:function(){this.setDisplayedCalendar(this._displayedCalendar.nextMonth())}},{key:"moveToPreviousMonth",value:function(){this.setDisplayedCalendar(this._displayedCalendar.previousMonth())}},{key:"moveToCurrentMonth",value:function(){this.displayedCalendar.isDayInCalendar(this.today)||this.setDisplayedCalendar(new nI(this.today.year,this.today.month)),this._focusOnCalendarChange.next()}},{key:"incrementFocusDay",value:function(e){this.focusedDay=this.focusedDay.incrementBy(e),this._displayedCalendar.isDayInCalendar(this.focusedDay)?this._focusedDayChange.next(this.focusedDay):this.setDisplayedCalendar(new nI(this.focusedDay.year,this.focusedDay.month)),this._focusOnCalendarChange.next()}},{key:"displayedCalendar",get:function(){return this._displayedCalendar}},{key:"today",get:function(){return this._today}},{key:"selectedDayChange",get:function(){return this._selectedDayChange.asObservable()}},{key:"displayedCalendarChange",get:function(){return this._displayedCalendarChange.asObservable()}},{key:"focusOnCalendarChange",get:function(){return this._focusOnCalendarChange.asObservable()}},{key:"focusedDayChange",get:function(){return this._focusedDayChange.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||XE)},XE.\u0275prov=he({token:XE,factory:XE.\u0275fac}),XE),iI=((ZE=function(){function e(t,n){_classCallCheck(this,e),this._ngZone=t,this.platformId=n}return _createClass(e,[{key:"focusCell",value:function(e){var t=this;this._ngZone.runOutsideAngular((function(){t.ngZoneIsStableInBrowser().subscribe((function(){var t=e.nativeElement.querySelector('[tabindex="0"]');t&&t.focus()}))}))}},{key:"focusInput",value:function(e){var t=this;this._ngZone.runOutsideAngular((function(){return t.ngZoneIsStableInBrowser().subscribe((function(){return e.focus()}))}))}},{key:"elementIsFocused",value:function(e){return cf(this.platformId)&&document.activeElement===e}},{key:"ngZoneIsStableInBrowser",value:function(){var e=this;return this._ngZone.onStable.asObservable().pipe(Hf(),Hc((function(){return cf(e.platformId)})))}}]),e}()).\u0275fac=function(e){return new(e||ZE)(Ke(oc),Ke(Gu))},ZE.\u0275prov=he({token:ZE,factory:ZE.\u0275fac}),ZE),oI=((YE=function(){function e(t){_classCallCheck(this,e),this.locale=t,this._firstDayOfWeek=0,this.initializeLocaleData()}return _createClass(e,[{key:"initializeLocaleData",value:function(){this.initializeFirstDayOfWeek(),this.initializeLocaleDateFormat(),this.initializeLocaleMonthsAbbreviated(),this.initializeLocaleMonthsWide(),this.initializeLocaleDays()}},{key:"initializeLocaleDays",value:function(){for(var e=[],t=uh(this.locale,ih.Standalone,oh.Wide).slice(),n=uh(this.locale,ih.Standalone,oh.Narrow).slice(),r=this.firstDayOfWeek,i=0;i<7;i++)e.push({day:t[i],narrow:n[i]});if(r>0){var o=e.splice(0,r);e.push.apply(e,_toConsumableArray(o))}this._localeDays=e}},{key:"initializeLocaleMonthsAbbreviated",value:function(){this._localeMonthsAbbreviated=ch(this.locale,ih.Standalone,oh.Abbreviated).slice()}},{key:"initializeLocaleMonthsWide",value:function(){this._localeMonthsWide=ch(this.locale,ih.Standalone,oh.Wide).slice()}},{key:"initializeFirstDayOfWeek",value:function(){this._firstDayOfWeek=Xa(this.locale)[eu.FirstDayOfWeek]}},{key:"initializeLocaleDateFormat",value:function(){this._localeDateFormat=lh(this.locale,sh.Short)}},{key:"firstDayOfWeek",get:function(){return this._firstDayOfWeek}},{key:"localeDays",get:function(){return this._localeDays}},{key:"localeDaysNarrow",get:function(){return this._localeDays.map((function(e){return e.narrow}))}},{key:"localeMonthsAbbreviated",get:function(){return this._localeMonthsAbbreviated}},{key:"localeMonthsWide",get:function(){return this._localeMonthsWide}},{key:"localeDateFormat",get:function(){return this._localeDateFormat}}]),e}()).\u0275fac=function(e){return new(e||YE)(Ke(Wu))},YE.\u0275prov=he({token:YE,factory:YE.\u0275fac}),YE),sI=((KE=function(){function e(t){_classCallCheck(this,e),this._localeHelperService=t,this.disabledDates={minDate:new eI(0,0,1),maxDate:new eI(9999,11,31)},this.cldrLocaleDateFormat="dd/MM/y",this.localeDisplayFormat=jE,this.delimiters=["/","/"],this.cldrLocaleDateFormat=this._localeHelperService.localeDateFormat,this.initializeLocaleDisplayFormat()}return _createClass(e,[{key:"setMinDate",value:function(e){if(e){var t=_slicedToArray(e.split("-").map((function(e){return parseInt(e,10)})),3),n=t[0],r=t[1],i=t[2];this.disabledDates.minDate=new eI(n,r-1,i)}else this.disabledDates.minDate=new eI(0,0,1)}},{key:"setMaxDate",value:function(e){if(e){var t=_slicedToArray(e.split("-").map((function(e){return parseInt(e,10)})),3),n=t[0],r=t[1],i=t[2];this.disabledDates.maxDate=new eI(n,r-1,i)}else this.disabledDates.maxDate=new eI(9999,11,31)}},{key:"initializeLocaleDisplayFormat",value:function(){var e=this.cldrLocaleDateFormat.toLocaleLowerCase();this.localeDisplayFormat=PE.test(e)?jE:NE.test(e)?UE:BE,this.extractDelimiters()}},{key:"extractDelimiters",value:function(){if(this.cldrLocaleDateFormat){var e=this.cldrLocaleDateFormat.replace(VE,"").split(FE);e&&4===e.length?this.delimiters=[e[1],e[2]]:console.error("Unexpected date format received. Delimiters extracted: ",e)}}},{key:"toLocaleDisplayFormatString",value:function(e){if(e){if(isNaN(e.getTime()))return"";var t=e.getDate(),n=e.getMonth()+1,r=t>9?t.toString():"0"+t,i=n>9?n.toString():"0"+n;return this.localeDisplayFormat===jE?r+this.delimiters[0]+i+this.delimiters[1]+e.getFullYear():this.localeDisplayFormat===UE?i+this.delimiters[0]+r+this.delimiters[1]+e.getFullYear():e.getFullYear()+this.delimiters[0]+i+this.delimiters[1]+r}return""}},{key:"isValidMonth",value:function(e){return e>-1&&e<12}},{key:"isValidDate",value:function(e,t,n){return n>0&&n<=zE(e,t)}},{key:"validateAndGetDate",value:function(e,t,n){var r=+e,i=+t-1,o=+n;if(!this.isValidMonth(i)||!this.isValidDate(r,i,o))return null;var s=function(e){if(e>9999||e>100&&e<999||e<10)return-1;if(e>999)return e;var t=(new Date).getFullYear(),n=e+100*Math.floor(t/100);return n>t+20&&(n-=100),n}(r);return-1!==s?new Date(s,i,o):null}},{key:"getDateValueFromDateString",value:function(e){if(!e)return null;var t=e.match(LE);if(!t||3!==t.length)return null;var n=_slicedToArray(t,3),r=n[0],i=n[1],o=n[2];return this.localeDisplayFormat===jE?this.validateAndGetDate(o,i,r):this.localeDisplayFormat===UE?this.validateAndGetDate(o,r,i):this.validateAndGetDate(r,i,o)}},{key:"placeholderText",get:function(){var e=this.localeDisplayFormat.format;return e[0]+this.delimiters[0]+e[1]+this.delimiters[1]+e[2]}}]),e}()).\u0275fac=function(e){return new(e||KE)(Ke(oI))},KE.\u0275prov=he({token:KE,factory:KE.\u0275fac}),KE),aI=((QE=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this._localeHelperService=t,this._dateNavigationService=n,this._datepickerFocusService=r,this._dateIOService=i,this._elRef=o,this._subs=[],this.generateCalendarView(),this.initializeSubscriptions()}return _createClass(e,[{key:"initializeSubscriptions",value:function(){var e=this;this._subs.push(this._dateNavigationService.displayedCalendarChange.subscribe((function(){e.generateCalendarView()}))),this._subs.push(this._dateNavigationService.focusedDayChange.subscribe((function(t){e.calendarViewModel.updateFocusableDay(t)}))),this._subs.push(this._dateNavigationService.focusOnCalendarChange.subscribe((function(){e._datepickerFocusService.focusCell(e._elRef)})))}},{key:"generateCalendarView",value:function(){this.calendarViewModel=new tI(this.calendar,this.selectedDay,this.focusedDay,this.today,this._localeHelperService.firstDayOfWeek,this._dateIOService.disabledDates)}},{key:"onKeyDown",value:function(e){if(e&&this.focusedDay)switch(e.keyCode){case 38:e.preventDefault(),this._dateNavigationService.incrementFocusDay(-7);break;case 40:e.preventDefault(),this._dateNavigationService.incrementFocusDay(7);break;case 37:e.preventDefault(),this._dateNavigationService.incrementFocusDay(-1);break;case 39:e.preventDefault(),this._dateNavigationService.incrementFocusDay(1)}}},{key:"ngAfterViewInit",value:function(){this._datepickerFocusService.focusCell(this._elRef)}},{key:"ngOnDestroy",value:function(){this._subs.forEach((function(e){return e.unsubscribe()}))}},{key:"localeDays",get:function(){return this._localeHelperService.localeDays}},{key:"calendar",get:function(){return this._dateNavigationService.displayedCalendar}},{key:"selectedDay",get:function(){return this._dateNavigationService.selectedDay}},{key:"focusedDay",get:function(){return this._dateNavigationService.focusedDay}},{key:"today",get:function(){return this._dateNavigationService.today}}]),e}()).\u0275fac=function(e){return new(e||QE)(Zo(oI),Zo(rI),Zo(iI),Zo(sI),Zo(va))},QE.\u0275cmp=dt({type:QE,selectors:[["clr-calendar"]],hostBindings:function(e,t){1&e&&hs("keydown",(function(e){return t.onKeyDown(e)}))},decls:4,vars:2,consts:[[1,"calendar-table"],[1,"calendar-row","weekdays"],["class","calendar-cell weekday","role","heading",4,"ngFor","ngForOf"],["class","calendar-row",4,"ngFor","ngForOf"],["role","heading",1,"calendar-cell","weekday"],[1,"calendar-row"],["class","calendar-cell",4,"ngFor","ngForOf"],[1,"calendar-cell"],[3,"clrDayView"]],template:function(e,t){1&e&&(ns(0,"table",0),ns(1,"tr",1),Ko(2,tb,2,2,"td",2),rs(),Ko(3,rb,2,1,"tr",3),rs()),2&e&&(Ur(2),es("ngForOf",t.localeDays),Ur(1),es("ngForOf",t.calendarViewModel.calendarView))},directives:function(){return[Uh,vx]},encapsulation:2}),QE),uI=(($E=function(){function e(){_classCallCheck(this,e),this._focused=new Fc(!1)}return _createClass(e,[{key:"focusChange",get:function(){return this._focused.asObservable()}},{key:"focused",set:function(e){this._focused.next(e)}}]),e}()).\u0275fac=function(e){return new(e||$E)},$E.\u0275prov=he({token:$E,factory:$E.\u0275fac}),$E),cI=((WE=function(){function e(){_classCallCheck(this,e),this._touchedChange=new x,this._dirtyChange=new x}return _createClass(e,[{key:"markAsTouched",value:function(){this._touchedChange.next()}},{key:"markAsDirty",value:function(){this._dirtyChange.next()}},{key:"setDisabled",value:function(e){this.disabled=e}},{key:"touchedChange",get:function(){return this._touchedChange.asObservable()}},{key:"dirtyChange",get:function(){return this._dirtyChange.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||WE)},WE.\u0275prov=he({token:WE,factory:WE.\u0275fac}),WE),lI=((qE=function(){function e(t){_classCallCheck(this,e),this._document=t,this._isUserAgentMobile=!1,this._document&&(this._isUserAgentMobile=ME.test(t.defaultView.navigator.userAgent),this._innerWidth=t.defaultView.innerWidth)}return _createClass(e,[{key:"isEnabled",get:function(){return!(this._document&&this._innerWidth<768&&this._isUserAgentMobile)}}]),e}()).\u0275fac=function(e){return new(e||qE)(Ke(Nl))},qE.\u0275prov=he({token:qE,factory:qE.\u0275fac}),qE),hI=((HE=function(){function e(){_classCallCheck(this,e),this._currentView="DAYVIEW",this.position=zS["bottom-left"]}return _createClass(e,[{key:"changeToMonthView",value:function(){this._currentView="MONTHVIEW"}},{key:"changeToYearView",value:function(){this._currentView="YEARVIEW"}},{key:"changeToDayView",value:function(){this._currentView="DAYVIEW"}},{key:"isDayView",get:function(){return"DAYVIEW"===this._currentView}},{key:"isYearView",get:function(){return"YEARVIEW"===this._currentView}},{key:"isMonthView",get:function(){return"MONTHVIEW"===this._currentView}}]),e}()).\u0275fac=function(e){return new(e||HE)},HE.\u0275prov=he({token:HE,factory:HE.\u0275fac}),HE),fI=((GE=function(){function e(t,n,r,i,o,s,a,u,c,l,h){var f=this;_classCallCheck(this,e),this.toggleService=t,this.dateNavigationService=n,this.datepickerEnabledService=r,this.dateFormControlService=i,this.commonStrings=o,this.ifErrorService=s,this.focusService=a,this.viewManagerService=u,this.controlClassService=c,this.layoutService=l,this.ngControlService=h,this._dynamic=!1,this.invalid=!1,this.focus=!1,this.subscriptions=[],this.subscriptions.push(this.focusService.focusChange.subscribe((function(e){f.focus=e})),this.ngControlService.controlChanges.subscribe((function(e){f.control=e})),this.toggleService.openChange.subscribe((function(e){f.dateFormControlService.markAsTouched()})))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.subscriptions.push(this.ifErrorService.statusChanges.subscribe((function(t){e.invalid=t})))}},{key:"ngAfterViewInit",value:function(){var e=this;this.subscriptions.push(this.toggleService.openChange.subscribe((function(t){t?e.initializeCalendar():e.toggleButton.nativeElement.focus()})))}},{key:"controlClass",value:function(){return this.controlClassService.controlClass(this.invalid,this.addGrid())}},{key:"addGrid",value:function(){return this.layoutService&&!this.layoutService.isVertical()}},{key:"initializeCalendar",value:function(){this.dateNavigationService.initializeCalendar()}},{key:"ngOnDestroy",value:function(){this.subscriptions.map((function(e){return e.unsubscribe()}))}},{key:"clrPosition",set:function(e){e&&zS[e]&&(this.viewManagerService.position=zS[e])}},{key:"popoverPosition",get:function(){return this.viewManagerService.position}},{key:"open",get:function(){return this.toggleService.open}},{key:"actionButton",set:function(e){this.toggleButton=e}},{key:"isEnabled",get:function(){return this.datepickerEnabledService.isEnabled}},{key:"isInputDateDisabled",get:function(){return this.control&&this.control.disabled||this.dateFormControlService&&this.dateFormControlService.disabled}}]),e}()).\u0275fac=function(e){return new(e||GE)(Zo(_C),Zo(rI),Zo(lI),Zo(cI),Zo(JC),Zo(sE),Zo(uI),Zo(hI),Zo(nE),Zo(tE,8),Zo(oE))},GE.\u0275cmp=dt({type:GE,selectors:[["clr-date-container"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,aE,!0),2&e&&Eu(r=Ru())&&(t.label=r.first)},viewQuery:function(e,t){var n;1&e&&Tu(ib,!0),2&e&&Eu(n=Ru())&&(t.actionButton=n.first)},hostVars:6,hostBindings:function(e,t){2&e&&Os("clr-form-control-disabled",t.isInputDateDisabled)("clr-form-control",!0)("clr-row",t.addGrid())},inputs:{clrPosition:"clrPosition"},features:[ha([ZS,_C,bC,BC,oI,sE,nE,uI,oE,sI,rI,lI,cI,hI])],ngContentSelectors:hb,decls:11,vars:11,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],["clrPopoverAnchor","",1,"clr-input-wrapper"],[1,"clr-input-group"],["type","button","clrPopoverOpenCloseButton","","class","clr-input-group-icon-action",3,"disabled",4,"ngIf"],["clrFocusTrap","",4,"clrPopoverContent","clrPopoverContentAt","clrPopoverContentOutsideClickToClose","clrPopoverContentScrollToClose"],["shape","exclamation-circle",1,"clr-validate-icon"],["type","button","clrPopoverOpenCloseButton","",1,"clr-input-group-icon-action",3,"disabled"],["actionButton",""],["shape","calendar"],["clrFocusTrap",""]],template:function(e,t){1&e&&(ms(lb),_s(0),Ko(1,ob,1,0,"label",0),ns(2,"div",1),ns(3,"div",2),ns(4,"div",3),_s(5,1),Ko(6,sb,3,3,"button",4),Ko(7,ab,1,0,"clr-datepicker-view-manager",5),rs(),is(8,"clr-icon",6),rs(),Ko(9,ub,1,0,void 0,0),Ko(10,cb,1,0,void 0,0),rs()),2&e&&(Ur(1),es("ngIf",!t.label&&t.addGrid()),Ur(1),es("ngClass",t.controlClass()),Ur(2),Os("clr-focus",t.focus),Ur(2),es("ngIf",t.isEnabled),Ur(1),es("clrPopoverContent",t.open)("clrPopoverContentAt",t.popoverPosition)("clrPopoverContentOutsideClickToClose",!0)("clrPopoverContentScrollToClose",!0),Ur(2),es("ngIf",!t.invalid),Ur(1),es("ngIf",t.invalid))},directives:function(){return[zh,Vh,qC,zC,yC,aE,GC,px,DE]},encapsulation:2}),GE);function dI(e){return null!==e&&("string"==typeof e?e.length>=0:"boolean"==typeof e&&e)}var pI,vI,gI,yI,mI,_I,bI,kI,wI,CI,SI,EI,II,TI,xI,AI,OI,DI,RI,PI,NI,FI,LI,MI,VI,jI,UI,BI,zI,GI,HI,qI,WI,$I,QI,KI,YI,ZI,XI,JI,eT,tT,nT,rT,iT,oT,sT,aT,uT,cT,lT,hT,fT,dT,pT,vT,gT,yT,mT,_T,bT,kT,wT,CT,ST,ET,IT,TT,xT,AT,OT,DT,RT,PT,NT,FT,LT,MT,VT,jT,UT,BT,zT,GT,HT,qT,WT,$T,QT,KT,YT,ZT,XT,JT,ex,tx,nx,rx,ix,ox,sx,ax,ux,cx,lx,hx,fx,dx=(mI=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s,a,u,c,l,h,f,d,p){var v;return _classCallCheck(this,n),(v=t.call(this,e,fI,r,s,o,i)).el=i,v.renderer=o,v.control=s,v.container=a,v.dateIOService=u,v.dateNavigationService=c,v.datepickerEnabledService=l,v.dateFormControlService=h,v.platformId=f,v.focusService=d,v.datepickerFocusService=p,v.dateChange=new pu(!1),v.index=1,v}return _createClass(n,[{key:"ngOnInit",value:function(){_get(_getPrototypeOf(n.prototype),"ngOnInit",this).call(this),this.populateServicesFromContainerComponent(),this.subscriptions.push(this.listenForUserSelectedDayChanges(),this.listenForControlValueChanges(),this.listenForTouchChanges(),this.listenForDirtyChanges(),this.listenForInputRefocus())}},{key:"ngAfterViewInit",value:function(){this.processInitialInputs()}},{key:"setFocusStates",value:function(){this.setFocus(!0)}},{key:"triggerValidation",value:function(){_get(_getPrototypeOf(n.prototype),"triggerValidation",this).call(this),this.setFocus(!1)}},{key:"onValueChange",value:function(e){var t=this.dateIOService.getDateValueFromDateString(e.value);if(this.usingClarityDatepicker()&&t)this.updateDate(t,!0);else if(this.usingNativeDatepicker()){var n=_slicedToArray(e.value.split("-"),3),r=n[0],i=n[1],o=n[2];this.updateDate(new Date(+r,+i-1,+o),!0)}else this.emitDateOutput(null)}},{key:"usingClarityDatepicker",value:function(){return this.datepickerEnabledService.isEnabled}},{key:"usingNativeDatepicker",value:function(){return!this.datepickerEnabledService.isEnabled}},{key:"setFocus",value:function(e){this.focusService&&(this.focusService.focused=e)}},{key:"populateServicesFromContainerComponent",value:function(){this.container||(this.dateIOService=this.getProviderFromContainer(sI),this.dateNavigationService=this.getProviderFromContainer(rI),this.datepickerEnabledService=this.getProviderFromContainer(lI),this.dateFormControlService=this.getProviderFromContainer(cI))}},{key:"processInitialInputs",value:function(){this.datepickerHasFormControl()?this.updateDate(this.dateIOService.getDateValueFromDateString(this.control.value)):this.updateDate(this.initialClrDateInputValue)}},{key:"updateDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getValidDateValueFromDate(e);t?this.emitDateOutput(n):this.previousDateChange=n,this.dateNavigationService&&(this.dateNavigationService.selectedDay=n?new eI(n.getFullYear(),n.getMonth(),n.getDate()):null),this.updateInput(n)}},{key:"updateInput",value:function(e){if(e){var t=this.dateIOService.toLocaleDisplayFormatString(e);this.usingNativeDatepicker()?(e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),this.renderer.setProperty(this.el.nativeElement,"valueAsDate",e)):this.datepickerHasFormControl()&&t!==this.control.value?this.control.control.setValue(t):this.renderer.setProperty(this.el.nativeElement,"value",t)}else this.renderer.setProperty(this.el.nativeElement,"value","")}},{key:"getValidDateValueFromDate",value:function(e){if(this.dateIOService){var t=this.dateIOService.toLocaleDisplayFormatString(e);return this.dateIOService.getDateValueFromDateString(t)}return null}},{key:"emitDateOutput",value:function(e){var t,n;n=this.previousDateChange,(t=e)instanceof Date&&n instanceof Date&&t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()&&t.getDate()===n.getDate()?!e&&this.previousDateChange&&(this.dateChange.emit(null),this.previousDateChange=null):(this.dateChange.emit(e),this.previousDateChange=e)}},{key:"datepickerHasFormControl",value:function(){return!!this.control}},{key:"listenForControlValueChanges",value:function(){var e=this;return Uc(this.datepickerHasFormControl()).pipe(Hc((function(e){return e})),sd((function(){return e.control.valueChanges})),Hc((function(){return!e.datepickerFocusService.elementIsFocused(e.el.nativeElement)}))).subscribe((function(t){return e.updateDate(e.dateIOService.getDateValueFromDateString(t))}))}},{key:"listenForUserSelectedDayChanges",value:function(){var e=this;return this.dateNavigationService.selectedDayChange.subscribe((function(t){return e.updateDate(t.toDate(),!0)}))}},{key:"listenForTouchChanges",value:function(){var e=this;return this.dateFormControlService.touchedChange.pipe(Hc((function(){return e.datepickerHasFormControl()}))).subscribe((function(){return e.control.control.markAsTouched()}))}},{key:"listenForDirtyChanges",value:function(){var e=this;return this.dateFormControlService.dirtyChange.pipe(Hc((function(){return e.datepickerHasFormControl()}))).subscribe((function(){return e.control.control.markAsDirty()}))}},{key:"listenForInputRefocus",value:function(){var e=this;return this.dateNavigationService.selectedDayChange.pipe(Hc((function(e){return!!e}))).subscribe((function(t){return e.datepickerFocusService.focusInput(e.el.nativeElement)}))}},{key:"date",set:function(e){this.previousDateChange!==e&&this.updateDate(this.getValidDateValueFromDate(e)),this.initialClrDateInputValue||(this.initialClrDateInputValue=e)}},{key:"min",set:function(e){this.dateIOService.setMinDate(e)}},{key:"max",set:function(e){this.dateIOService.setMaxDate(e)}},{key:"placeholderText",get:function(){return this.placeholder?this.placeholder:this.dateIOService.placeholderText}},{key:"inputType",get:function(){return cf(this.platformId)&&this.usingNativeDatepicker()?"date":"text"}},{key:"disabled",set:function(e){this.dateFormControlService&&this.dateFormControlService.setDisabled(dI(e))},get:function(){return this.dateFormControlService?this.dateFormControlService.disabled:null}}]),n}(dE),mI.\u0275fac=function(e){return new(e||mI)(Zo(Ba),Zo(Ro),Zo(va),Zo(_a),Zo(Dy,10),Zo(fI,8),Zo(sI,8),Zo(rI,8),Zo(lI,8),Zo(cI,8),Zo(Gu),Zo(uI,8),Zo(iI))},mI.\u0275dir=_t({type:mI,selectors:[["","clrDate",""]],hostVars:5,hostBindings:function(e,t){1&e&&hs("focus",(function(){return t.setFocusStates()}))("blur",(function(){return t.triggerValidation()}))("change",(function(e){return t.onValueChange(e.target)})),2&e&&(Ws("disabled",t.disabled),$o("placeholder",t.placeholderText)("type",t.inputType),Os("clr-input",!0))},inputs:{date:["clrDate","date"],min:"min",max:"max",disabled:"disabled",placeholder:"placeholder"},outputs:{dateChange:"clrDateChange"},features:[ha([iI]),Ks]}),mI),px=(yI=function(){function e(t){_classCallCheck(this,e),this.viewManagerService=t}return _createClass(e,[{key:"isMonthView",get:function(){return this.viewManagerService.isMonthView}},{key:"isYearView",get:function(){return this.viewManagerService.isYearView}},{key:"isDayView",get:function(){return this.viewManagerService.isDayView}}]),e}(),yI.\u0275fac=function(e){return new(e||yI)(Zo(hI))},yI.\u0275cmp=dt({type:yI,selectors:[["clr-datepicker-view-manager"]],hostVars:3,hostBindings:function(e,t){2&e&&($o("aria-modal",!0),Os("datepicker",!0))},features:[ha([iI])],decls:3,vars:3,consts:[[4,"ngIf"]],template:function(e,t){1&e&&(Ko(0,fb,1,0,"clr-monthpicker",0),Ko(1,db,1,0,"clr-yearpicker",0),Ko(2,pb,1,0,"clr-daypicker",0)),2&e&&(es("ngIf",t.isMonthView),Ur(1),es("ngIf",t.isYearView),Ur(1),es("ngIf",t.isDayView))},directives:function(){return[zh,yx,_x,gx]},encapsulation:2}),yI),vx=(gI=function(){function e(t,n,r){_classCallCheck(this,e),this._dateNavigationService=t,this._toggleService=n,this.dateFormControlService=r}return _createClass(e,[{key:"onDayViewFocus",value:function(){this._dateNavigationService.focusedDay=this.dayView.dayModel}},{key:"selectDay",value:function(){this._dateNavigationService.notifySelectedDayChanged(this.dayView.dayModel),this.dateFormControlService.markAsDirty(),this._toggleService.open=!1}},{key:"dayView",set:function(e){this._dayView=e,this.dayString=this._dayView.dayModel.toDateString()},get:function(){return this._dayView}}]),e}(),gI.\u0275fac=function(e){return new(e||gI)(Zo(rI),Zo(_C),Zo(cI))},gI.\u0275cmp=dt({type:gI,selectors:[["clr-day"]],hostVars:2,hostBindings:function(e,t){2&e&&Os("day",!0)},inputs:{dayView:["clrDayView","dayView"]},decls:2,vars:11,consts:[["type","button",1,"day-btn",3,"click","focus"]],template:function(e,t){1&e&&(ns(0,"button",0),hs("click",(function(){return t.selectDay()}))("focus",(function(){return t.onDayViewFocus()})),zs(1),rs()),2&e&&(Os("is-today",t.dayView.isTodaysDate)("is-excluded",t.dayView.isExcluded)("is-disabled",t.dayView.isDisabled)("is-selected",t.dayView.isSelected),$o("tabindex",t.dayView.tabIndex)("aria-label",t.dayString),Ur(1),Hs(" ",t.dayView.dayModel.date," "))},encapsulation:2}),gI),gx=(vI=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this._viewManagerService=t,this._dateNavigationService=n,this._localeHelperService=r,this.commonStrings=i,this.ariaLiveService=o}return _createClass(e,[{key:"ngAfterViewInit",value:function(){this.ariaLiveService.announce("".concat(this.ariaLiveMonth," ").concat(this.updateAriaLiveYear))}},{key:"changeToMonthView",value:function(){this._viewManagerService.changeToMonthView()}},{key:"changeToYearView",value:function(){this._viewManagerService.changeToYearView()}},{key:"nextMonth",value:function(){this._dateNavigationService.moveToNextMonth()}},{key:"previousMonth",value:function(){this._dateNavigationService.moveToPreviousMonth()}},{key:"currentMonth",value:function(){this._dateNavigationService.moveToCurrentMonth()}},{key:"monthAttrString",get:function(){return this.commonStrings.parse(this.commonStrings.keys.datepickerSelectMonthText,{CALENDAR_MONTH:this.calendarMonth})}},{key:"yearAttrString",get:function(){return this.commonStrings.parse(this.commonStrings.keys.datepickerSelectYearText,{CALENDAR_YEAR:this.calendarYear.toString()})}},{key:"ariaLiveMonth",get:function(){return this.commonStrings.parse(this.commonStrings.keys.daypickerSRCurrentMonthPhrase,{CURRENT_MONTH:this.calendarMonth})}},{key:"updateAriaLiveYear",get:function(){return this.commonStrings.parse(this.commonStrings.keys.daypickerSRCurrentYearPhrase,{CURRENT_YEAR:this.calendarYear.toString()})}},{key:"calendarMonth",get:function(){return this._localeHelperService.localeMonthsAbbreviated[this._dateNavigationService.displayedCalendar.month]}},{key:"calendarYear",get:function(){return this._dateNavigationService.displayedCalendar.year}}]),e}(),vI.\u0275fac=function(e){return new(e||vI)(Zo(hI),Zo(rI),Zo(oI),Zo(JC),Zo(JS))},vI.\u0275cmp=dt({type:vI,selectors:[["clr-daypicker"]],hostVars:2,hostBindings:function(e,t){2&e&&Os("daypicker",!0)},features:[ha([JS])],decls:18,vars:14,consts:[[1,"clr-sr-only"],[1,"calendar-header"],[1,"calendar-pickers"],["type","button",1,"calendar-btn","monthpicker-trigger",3,"click"],["type","button",1,"calendar-btn","yearpicker-trigger",3,"click"],[1,"calendar-switchers"],["type","button",1,"calendar-btn","switcher",3,"click"],["shape","angle","dir","left"],["shape","event"],["shape","angle","dir","right"]],template:function(e,t){1&e&&(ns(0,"div",0),zs(1),rs(),ns(2,"div",1),ns(3,"div",2),ns(4,"button",3),hs("click",(function(){return t.changeToMonthView()})),zs(5),rs(),ns(6,"button",4),hs("click",(function(){return t.changeToYearView()})),zs(7),rs(),rs(),ns(8,"div",5),ns(9,"button",6),hs("click",(function(){return t.previousMonth()})),is(10,"clr-icon",7),rs(),ns(11,"button",6),hs("click",(function(){return t.currentMonth()})),is(12,"clr-icon",8),rs(),ns(13,"button",6),hs("click",(function(){return t.nextMonth()})),is(14,"clr-icon",9),rs(),rs(),rs(),is(15,"clr-calendar"),ns(16,"div",0),zs(17),rs()),2&e&&(Ur(1),Gs(t.commonStrings.keys.modalContentStart),Ur(3),$o("aria-label",t.monthAttrString)("title",t.monthAttrString),Ur(1),Hs(" ",t.calendarMonth," "),Ur(1),$o("aria-label",t.yearAttrString)("title",t.yearAttrString),Ur(1),Hs(" ",t.calendarYear," "),Ur(2),$o("aria-label",t.commonStrings.keys.datepickerPreviousMonth),Ur(1),$o("title",t.commonStrings.keys.datepickerPreviousMonth),Ur(1),$o("aria-label",t.commonStrings.keys.datepickerCurrentMonth),Ur(1),$o("title",t.commonStrings.keys.datepickerCurrentMonth),Ur(1),$o("aria-label",t.commonStrings.keys.datepickerNextMonth),Ur(1),$o("title",t.commonStrings.keys.datepickerNextMonth),Ur(3),Gs(t.commonStrings.keys.modalContentEnd))},directives:[yC,aI],encapsulation:2}),vI),yx=(pI=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this._viewManagerService=t,this._localeHelperService=n,this._dateNavigationService=r,this._datepickerFocusService=i,this._elRef=o,this._focusedMonthIndex=this.calendarMonthIndex}return _createClass(e,[{key:"changeMonth",value:function(e){this._dateNavigationService.changeMonth(e),this._viewManagerService.changeToDayView()}},{key:"getTabIndex",value:function(e){return e===this._focusedMonthIndex?0:-1}},{key:"onKeyDown",value:function(e){if(e){var t=e.keyCode;38===t&&this._focusedMonthIndex>0?(e.preventDefault(),this._focusedMonthIndex--,this._datepickerFocusService.focusCell(this._elRef)):40===t&&this._focusedMonthIndex<11?(e.preventDefault(),this._focusedMonthIndex++,this._datepickerFocusService.focusCell(this._elRef)):39===t&&this._focusedMonthIndex<6?(e.preventDefault(),this._focusedMonthIndex=this._focusedMonthIndex+6,this._datepickerFocusService.focusCell(this._elRef)):37===t&&this._focusedMonthIndex>5&&(e.preventDefault(),this._focusedMonthIndex=this._focusedMonthIndex-6,this._datepickerFocusService.focusCell(this._elRef))}}},{key:"ngAfterViewInit",value:function(){this._datepickerFocusService.focusCell(this._elRef)}},{key:"monthNames",get:function(){return this._localeHelperService.localeMonthsWide}},{key:"calendarMonthIndex",get:function(){return this._dateNavigationService.displayedCalendar.month}}]),e}(),pI.\u0275fac=function(e){return new(e||pI)(Zo(hI),Zo(oI),Zo(rI),Zo(iI),Zo(va))},pI.\u0275cmp=dt({type:pI,selectors:[["clr-monthpicker"]],hostVars:2,hostBindings:function(e,t){1&e&&hs("keydown",(function(e){return t.onKeyDown(e)})),2&e&&Os("monthpicker",!0)},decls:1,vars:1,consts:[["type","button","class","calendar-btn month",3,"is-selected","click",4,"ngFor","ngForOf"],["type","button",1,"calendar-btn","month",3,"click"]],template:function(e,t){1&e&&Ko(0,vb,2,4,"button",0),2&e&&es("ngForOf",t.monthNames)},directives:[Uh],encapsulation:2}),pI),mx=function(){function e(t){_classCallCheck(this,e),this.year=t,this.yearRange=[],this.generateYearRange()}return _createClass(e,[{key:"generateYearRange",value:function(){var e=this.year-this.year%10;this.yearRange=this.generateRange(e,e+10)}},{key:"generateRange",value:function(e,t){return Array.from({length:t-e},(function(t,n){return n+e}))}},{key:"nextDecade",value:function(){return new e(this.year+10)}},{key:"previousDecade",value:function(){return new e(this.year-10)}},{key:"currentDecade",value:function(){return new e((new Date).getFullYear())}},{key:"inRange",value:function(e){return this.yearRange.indexOf(e)>-1}},{key:"middleYear",get:function(){return this.yearRange[Math.floor(this.yearRange.length/2)]}}]),e}(),_x=(CI=function(){function e(t,n,r,i,o,s){_classCallCheck(this,e),this._dateNavigationService=t,this._viewManagerService=n,this._datepickerFocusService=r,this._elRef=i,this.commonStrings=o,this.ariaLiveService=s,this.yearRangeModel=new mx(this.calendarYear),this._focusedYear=this.calendarYear,this.updateRange(this.yearRangeModel)}return _createClass(e,[{key:"incrementFocusYearBy",value:function(e){this._focusedYear=this._focusedYear+e,this.yearRangeModel.inRange(this._focusedYear)||(this.yearRangeModel=e>0?this.yearRangeModel.nextDecade():this.yearRangeModel.previousDecade()),this._datepickerFocusService.focusCell(this._elRef)}},{key:"changeYear",value:function(e){this._dateNavigationService.changeYear(e),this._viewManagerService.changeToDayView()}},{key:"previousDecade",value:function(){this.yearRangeModel=this.yearRangeModel.previousDecade(),this.updateRange(this.yearRangeModel)}},{key:"currentDecade",value:function(){this.yearRangeModel.inRange(this._dateNavigationService.today.year)||(this.yearRangeModel=this.yearRangeModel.currentDecade()),this._datepickerFocusService.focusCell(this._elRef),this.updateRange(this.yearRangeModel)}},{key:"nextDecade",value:function(){this.yearRangeModel=this.yearRangeModel.nextDecade(),this.updateRange(this.yearRangeModel)}},{key:"getTabIndex",value:function(e){return this.yearRangeModel.inRange(this._focusedYear)||(this._focusedYear=this.yearRangeModel.inRange(this.calendarYear)?this.calendarYear:this.yearRangeModel.middleYear),this._focusedYear===e?0:-1}},{key:"onKeyDown",value:function(e){if(e){var t=e.keyCode;38===t?(e.preventDefault(),this.incrementFocusYearBy(-1)):40===t?(e.preventDefault(),this.incrementFocusYearBy(1)):39===t?(e.preventDefault(),this.incrementFocusYearBy(5)):37===t&&(e.preventDefault(),this.incrementFocusYearBy(-5))}}},{key:"updateRange",value:function(e){this.decadeRange="".concat(e.yearRange[0]," to ").concat(e.yearRange[e.yearRange.length-1]),this.ariaLiveService.announce(this.ariaLiveDecadeText)}},{key:"ngAfterViewInit",value:function(){this._datepickerFocusService.focusCell(this._elRef),this.ariaLiveService.announce(this.ariaLiveDecadeText)}},{key:"ariaLiveDecadeText",get:function(){return this.commonStrings.parse(this.commonStrings.keys.daypickerSRCurrentDecadePhrase,{DECADE_RANGE:this.decadeRange})}},{key:"calendarYear",get:function(){return this._dateNavigationService.displayedCalendar.year}}]),e}(),CI.\u0275fac=function(e){return new(e||CI)(Zo(rI),Zo(hI),Zo(iI),Zo(va),Zo(JC),Zo(JS))},CI.\u0275cmp=dt({type:CI,selectors:[["clr-yearpicker"]],hostVars:2,hostBindings:function(e,t){1&e&&hs("keydown",(function(e){return t.onKeyDown(e)})),2&e&&Os("yearpicker",!0)},features:[ha([JS])],decls:9,vars:7,consts:[[1,"year-switchers"],["type","button",1,"calendar-btn","switcher",3,"click"],["shape","angle","dir","left"],["shape","event"],["shape","angle","dir","right"],[1,"years"],["type","button","class","calendar-btn year",3,"is-selected","click",4,"ngFor","ngForOf"],["type","button",1,"calendar-btn","year",3,"click"]],template:function(e,t){1&e&&(ns(0,"div",0),ns(1,"button",1),hs("click",(function(){return t.previousDecade()})),is(2,"clr-icon",2),rs(),ns(3,"button",1),hs("click",(function(){return t.currentDecade()})),is(4,"clr-icon",3),rs(),ns(5,"button",1),hs("click",(function(){return t.nextDecade()})),is(6,"clr-icon",4),rs(),rs(),ns(7,"div",5),Ko(8,gb,2,4,"button",6),rs()),2&e&&(Ur(1),$o("aria-label",t.commonStrings.keys.datepickerPreviousDecade),Ur(1),$o("title",t.commonStrings.keys.datepickerPreviousDecade),Ur(1),$o("aria-label",t.commonStrings.keys.datepickerCurrentDecade),Ur(1),$o("title",t.commonStrings.keys.datepickerCurrentDecade),Ur(1),$o("aria-label",t.commonStrings.keys.datepickerNextDecade),Ur(1),$o("title",t.commonStrings.keys.datepickerNextDecade),Ur(2),es("ngForOf",t.yearRangeModel.yearRange))},directives:[yC,Uh],encapsulation:2}),CI),bx=(wI=function e(){_classCallCheck(this,e)},wI.\u0275mod=yt({type:wI}),wI.\u0275inj=fe({factory:function(e){return new(e||wI)},imports:[[uf,KS,AE,WC,mC,RE,pE]]}),wI),kx=(kI=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(hE),kI.\u0275fac=function(e){return KP(e||kI)},kI.\u0275cmp=dt({type:kI,selectors:[["clr-input-container"]],hostVars:6,hostBindings:function(e,t){2&e&&Os("clr-form-control",!0)("clr-form-control-disabled",null==t.control?null:t.control.disabled)("clr-row",t.addGrid())},features:[ha([sE,oE,ZS,nE]),Ks],ngContentSelectors:wb,decls:8,vars:5,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],[1,"clr-input-wrapper"],["class","clr-validate-icon","shape","exclamation-circle","aria-hidden","true",4,"ngIf"],["shape","exclamation-circle","aria-hidden","true",1,"clr-validate-icon"]],template:function(e,t){1&e&&(ms(kb),_s(0),Ko(1,yb,1,0,"label",0),ns(2,"div",1),ns(3,"div",2),_s(4,1),Ko(5,mb,1,0,"clr-icon",3),rs(),Ko(6,_b,1,0,void 0,0),Ko(7,bb,1,0,void 0,0),rs()),2&e&&(Ur(1),es("ngIf",!t.label&&t.addGrid()),Ur(1),es("ngClass",t.controlClass()),Ur(3),es("ngIf",t.invalid),Ur(1),es("ngIf",!t.invalid),Ur(1),es("ngIf",t.invalid))},directives:[zh,Vh,aE,yC],encapsulation:2}),kI),wx=(bI=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s){var a;return _classCallCheck(this,n),(a=t.call(this,e,kx,r,i,o,s)).index=1,a}return n}(dE),bI.\u0275fac=function(e){return new(e||bI)(Zo(Ba),Zo(Ro),Zo(Dy,10),Zo(_a),Zo(va))},bI.\u0275dir=_t({type:bI,selectors:[["","clrInput",""]],hostVars:2,hostBindings:function(e,t){2&e&&Os("clr-input",!0)},features:[Ks]}),bI),Cx=(_I=function e(){_classCallCheck(this,e)},_I.\u0275mod=yt({type:_I}),_I.\u0275inj=fe({factory:function(e){return new(e||_I)},imports:[[uf,x_,mC,pE],pE]}),_I),Sx=new Ue(void 0),Ex={provide:Sx,useFactory:function(){return new Fc(!1)}},Ix=(BI=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s,a,u){var c;return _classCallCheck(this,n),(c=t.call(this,e,r,i,o)).focusService=s,c.toggleService=a,c.commonStrings=u,c.show=!1,c.focus=!1,c._toggle=!0,c.subscriptions.push(c.focusService.focusChange.subscribe((function(e){c.focus=e}))),c}return _createClass(n,[{key:"toggle",value:function(){this.show=!this.show,this.toggleService.next(this.show)}},{key:"clrToggle",set:function(e){this._toggle=e,e||(this.show=!1)},get:function(){return this._toggle}}]),n}(hE),BI.\u0275fac=function(e){return new(e||BI)(Zo(sE),Zo(tE,8),Zo(nE),Zo(oE),Zo(uI),Zo(Sx),Zo(JC))},BI.\u0275cmp=dt({type:BI,selectors:[["clr-password-container"]],hostVars:6,hostBindings:function(e,t){2&e&&Os("clr-form-control",!0)("clr-form-control-disabled",null==t.control?null:t.control.disabled)("clr-row",t.addGrid())},inputs:{clrToggle:"clrToggle"},features:[ha([sE,oE,ZS,nE,uI,Ex]),Ks],ngContentSelectors:Ab,decls:10,vars:8,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],[1,"clr-input-wrapper"],[1,"clr-input-group"],["class","clr-input-group-icon-action","type","button",3,"disabled","click",4,"ngIf"],["class","clr-validate-icon","shape","exclamation-circle","aria-hidden","true",4,"ngIf"],["type","button",1,"clr-input-group-icon-action",3,"disabled","click"],["shape","exclamation-circle","aria-hidden","true",1,"clr-validate-icon"]],template:function(e,t){1&e&&(ms(xb),_s(0),Ko(1,Cb,1,0,"label",0),ns(2,"div",1),ns(3,"div",2),ns(4,"div",3),_s(5,1),Ko(6,Sb,2,3,"button",4),rs(),Ko(7,Eb,1,0,"clr-icon",5),rs(),Ko(8,Ib,1,0,void 0,0),Ko(9,Tb,1,0,void 0,0),rs()),2&e&&(Ur(1),es("ngIf",!t.label&&t.addGrid()),Ur(1),es("ngClass",t.controlClass()),Ur(2),Os("clr-focus",t.focus),Ur(2),es("ngIf",t.clrToggle),Ur(1),es("ngIf",t.invalid),Ur(1),es("ngIf",!t.invalid),Ur(1),es("ngIf",t.invalid))},directives:[zh,Vh,aE,yC],encapsulation:2}),BI),Tx=(UI=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s,a,u){var c;if(_classCallCheck(this,n),(c=t.call(this,e,Ix,r,i,o,s)).focusService=a,c.toggleService=u,c.index=1,!c.focusService)throw new Error("clrPassword requires being wrapped in <clr-password-container>");return c.subscriptions.push(c.toggleService.subscribe((function(e){o.setProperty(s.nativeElement,"type",e?"text":"password")}))),_possibleConstructorReturn(c)}return _createClass(n,[{key:"triggerFocus",value:function(){this.focusService&&(this.focusService.focused=!0)}},{key:"triggerValidation",value:function(){_get(_getPrototypeOf(n.prototype),"triggerValidation",this).call(this),this.focusService&&(this.focusService.focused=!1)}}]),n}(dE),UI.\u0275fac=function(e){return new(e||UI)(Zo(Ba),Zo(Ro),Zo(Dy,10),Zo(_a),Zo(va),Zo(uI,8),Zo(Sx,8))},UI.\u0275dir=_t({type:UI,selectors:[["","clrPassword",""]],hostVars:2,hostBindings:function(e,t){1&e&&hs("focus",(function(){return t.triggerFocus()}))("blur",(function(){return t.triggerValidation()})),2&e&&Os("clr-input",!0)},features:[Ks]}),UI),xx=(jI=function e(){_classCallCheck(this,e)},jI.\u0275mod=yt({type:jI}),jI.\u0275inj=fe({factory:function(e){return new(e||jI)},imports:[[uf,x_,mC,pE],pE]}),jI),Ax=(VI=function(){function e(){_classCallCheck(this,e),this._dynamic=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.label&&this.label.disableGrid()}}]),e}(),VI.\u0275fac=function(e){return new(e||VI)},VI.\u0275cmp=dt({type:VI,selectors:[["clr-radio-wrapper"]],contentQueries:function(e,t,n){var r;1&e&&Ou(n,aE,!0),2&e&&Eu(r=Ru())&&(t.label=r.first)},hostVars:2,hostBindings:function(e,t){2&e&&Os("clr-radio-wrapper",!0)},features:[ha([ZS])],ngContentSelectors:Rb,decls:3,vars:1,consts:[[4,"ngIf"]],template:function(e,t){1&e&&(ms(Db),_s(0),_s(1,1),Ko(2,Ob,1,0,"label",0)),2&e&&(Ur(2),es("ngIf",!t.label))},directives:[zh,aE],encapsulation:2}),VI),Ox=(MI=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s){return _classCallCheck(this,n),t.call(this,e,Ax,r,i,o,s)}return n}(dE),MI.\u0275fac=function(e){return new(e||MI)(Zo(Ba),Zo(Ro),Zo(Dy,10),Zo(_a),Zo(va))},MI.\u0275dir=_t({type:MI,selectors:[["","clrRadio",""]],features:[Ks]}),MI),Dx=(LI=function e(){_classCallCheck(this,e)},LI.\u0275mod=yt({type:LI}),LI.\u0275inj=fe({factory:function(e){return new(e||LI)},imports:[[uf,pE,KS,mC],pE]}),LI),Rx=(FI=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).multi=!1,e}return _createClass(n,[{key:"ngOnInit",value:function(){var e=this;this.subscriptions.push(this.ngControlService.controlChanges.subscribe((function(t){t&&(e.multi=t.valueAccessor instanceof gm,e.control=t)})))}},{key:"wrapperClass",value:function(){return this.multi?"clr-multiselect-wrapper":"clr-select-wrapper"}}]),n}(hE),FI.\u0275fac=function(e){return YP(e||FI)},FI.\u0275cmp=dt({type:FI,selectors:[["clr-select-container"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,gm,!0),2&e&&Eu(r=Ru())&&(t.multiple=r.first)},hostVars:6,hostBindings:function(e,t){2&e&&Os("clr-form-control",!0)("clr-form-control-disabled",null==t.control?null:t.control.disabled)("clr-row",t.addGrid())},features:[ha([sE,oE,ZS,nE]),Ks],ngContentSelectors:Vb,decls:8,vars:6,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],[3,"ngClass"],["class","clr-validate-icon","shape","exclamation-circle","aria-hidden","true",4,"ngIf"],["shape","exclamation-circle","aria-hidden","true",1,"clr-validate-icon"]],template:function(e,t){1&e&&(ms(Mb),_s(0),Ko(1,Pb,1,0,"label",0),ns(2,"div",1),ns(3,"div",2),_s(4,1),Ko(5,Nb,1,0,"clr-icon",3),rs(),Ko(6,Fb,1,0,void 0,0),Ko(7,Lb,1,0,void 0,0),rs()),2&e&&(Ur(1),es("ngIf",!t.label&&t.addGrid()),Ur(1),es("ngClass",t.controlClass()),Ur(1),es("ngClass",t.wrapperClass()),Ur(2),es("ngIf",t.invalid),Ur(1),es("ngIf",!t.invalid),Ur(1),es("ngIf",t.invalid))},directives:[zh,Vh,aE,yC],encapsulation:2}),FI),Px=(NI=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s){var a;return _classCallCheck(this,n),(a=t.call(this,e,Rx,r,i,o,s)).index=1,a}return n}(dE),NI.\u0275fac=function(e){return new(e||NI)(Zo(Ba),Zo(Ro),Zo(Dy,10),Zo(_a),Zo(va))},NI.\u0275dir=_t({type:NI,selectors:[["","clrSelect",""]],hostVars:2,hostBindings:function(e,t){2&e&&Os("clr-select",!0)},features:[Ks]}),NI),Nx=(PI=function e(){_classCallCheck(this,e)},PI.\u0275mod=yt({type:PI}),PI.\u0275inj=fe({factory:function(e){return new(e||PI)},imports:[[uf,x_,mC,pE],pE]}),PI),Fx=(RI=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(hE),RI.\u0275fac=function(e){return ZP(e||RI)},RI.\u0275cmp=dt({type:RI,selectors:[["clr-textarea-container"]],hostVars:6,hostBindings:function(e,t){2&e&&Os("clr-form-control",!0)("clr-form-control-disabled",null==t.control?null:t.control.disabled)("clr-row",t.addGrid())},features:[ha([sE,oE,ZS,nE]),Ks],ngContentSelectors:Hb,decls:8,vars:5,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],[1,"clr-textarea-wrapper"],["class","clr-validate-icon","shape","exclamation-circle","aria-hidden","true",4,"ngIf"],["shape","exclamation-circle","aria-hidden","true",1,"clr-validate-icon"]],template:function(e,t){1&e&&(ms(Gb),_s(0),Ko(1,jb,1,0,"label",0),ns(2,"div",1),ns(3,"div",2),_s(4,1),Ko(5,Ub,1,0,"clr-icon",3),rs(),Ko(6,Bb,1,0,void 0,0),Ko(7,zb,1,0,void 0,0),rs()),2&e&&(Ur(1),es("ngIf",!t.label&&t.addGrid()),Ur(1),es("ngClass",t.controlClass()),Ur(3),es("ngIf",t.invalid),Ur(1),es("ngIf",!t.invalid),Ur(1),es("ngIf",t.invalid))},directives:[zh,Vh,aE,yC],encapsulation:2}),RI),Lx=(DI=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s){var a;return _classCallCheck(this,n),(a=t.call(this,e,Fx,r,i,o,s)).index=1,a}return n}(dE),DI.\u0275fac=function(e){return new(e||DI)(Zo(Ba),Zo(Ro),Zo(Dy,10),Zo(_a),Zo(va))},DI.\u0275dir=_t({type:DI,selectors:[["","clrTextarea",""]],hostVars:2,hostBindings:function(e,t){2&e&&Os("clr-textarea",!0)},features:[Ks]}),DI),Mx=(OI=function e(){_classCallCheck(this,e)},OI.\u0275mod=yt({type:OI}),OI.\u0275inj=fe({factory:function(e){return new(e||OI)},imports:[[uf,x_,mC,pE],pE]}),OI),Vx=(AI=function e(){_classCallCheck(this,e)},AI.\u0275mod=yt({type:AI}),AI.\u0275inj=fe({factory:function(e){return new(e||AI)},imports:[[uf,pE,KS,mC],pE]}),AI),jx=(xI=function e(){_classCallCheck(this,e)},xI.\u0275mod=yt({type:xI}),xI.\u0275inj=fe({factory:function(e){return new(e||xI)},imports:[[uf,Cx,mC]]}),xI),Ux=(TI=function e(){_classCallCheck(this,e)},TI.\u0275mod=yt({type:TI}),TI.\u0275inj=fe({factory:function(e){return new(e||TI)},imports:[[uf],pE,bE,bx,Cx,xx,Dx,Nx,Mx,Vx,jx]}),TI),Bx=(II=function e(){_classCallCheck(this,e)},II.\u0275mod=yt({type:II}),II.\u0275inj=fe({factory:function(e){return new(e||II)},imports:[[uf]]}),II),zx=(EI=function e(){_classCallCheck(this,e)},EI.\u0275mod=yt({type:EI}),EI.\u0275inj=fe({factory:function(e){return new(e||EI)},imports:[[uf]]}),EI),Gx=(SI=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"userDefinedWidth",value:function(e){e.classList.add("datagrid-cell-width-zero");var t=this.clientRect(e).width;return e.classList.remove("datagrid-cell-width-zero"),t}},{key:"scrollBarWidth",value:function(e){return e.offsetWidth-e.clientWidth}},{key:"scrollWidth",value:function(e){return e.scrollWidth||0}},{key:"computedHeight",value:function(e){return parseInt(getComputedStyle(e).getPropertyValue("height"),10)}},{key:"clientRect",value:function(e){var t=e.getBoundingClientRect();return{top:parseInt(t.top,10),bottom:parseInt(t.bottom,10),left:parseInt(t.left,10),right:parseInt(t.right,10),width:parseInt(t.width,10),height:parseInt(t.height,10)}}},{key:"minWidth",value:function(e){return parseInt(getComputedStyle(e).getPropertyValue("min-width"),10)}},{key:"focus",value:function(e){e.focus()}}]),e}(),SI.\u0275fac=function(e){return new(e||SI)},SI.\u0275prov=he({token:SI,factory:SI.\u0275fac}),SI),Hx=function e(t){_classCallCheck(this,e),this.dragPosition=t.dragPosition,this.group=t.group,this.dragDataTransfer=t.dragDataTransfer,this.dropPointPosition=t.dropPointPosition},qx=function(e){return e[e.DRAG_START=0]="DRAG_START",e[e.DRAG_MOVE=1]="DRAG_MOVE",e[e.DRAG_END=2]="DRAG_END",e[e.DRAG_ENTER=3]="DRAG_ENTER",e[e.DRAG_LEAVE=4]="DRAG_LEAVE",e[e.DROP=5]="DROP",e}({}),Wx=((eT=function(){function e(){_classCallCheck(this,e),this.dragStart=new x,this.dragMove=new x,this.dragEnd=new x,this.drop=new x}return _createClass(e,[{key:"broadcast",value:function(e){switch(e.type){case qx.DRAG_START:this.dragStart.next(e);break;case qx.DRAG_MOVE:this.dragMove.next(e);break;case qx.DRAG_END:this.dragEnd.next(e);break;case qx.DROP:this.drop.next(e)}}},{key:"dragStarted",get:function(){return this.dragStart.asObservable()}},{key:"dragMoved",get:function(){return this.dragMove.asObservable()}},{key:"dragEnded",get:function(){return this.dragEnd.asObservable()}},{key:"dropped",get:function(){return this.drop.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||eT)},eT.\u0275prov=he({factory:function(){return new eT},token:eT,providedIn:"root"}),eT),$x=((JI=function(){function e(t,n,r){_classCallCheck(this,e),this.ngZone=t,this.renderer=n,this.eventBus=r,this.dragStart=new x,this.dragMove=new x,this.dragEnd=new x,this.hasDragStarted=!1}return _createClass(e,[{key:"attachDragListeners",value:function(e){this.draggableEl=e,this.listeners=[this.customDragEvent(this.draggableEl,"mousedown","mousemove","mouseup"),this.customDragEvent(this.draggableEl,"touchstart","touchmove","touchend")]}},{key:"detachDragListeners",value:function(){this.listeners&&this.listeners.map((function(e){return e()})),this.nestedListeners&&this.nestedListeners.map((function(e){return e()}))}},{key:"getNativeEventObject",value:function(e){return e.hasOwnProperty("changedTouches")?e.changedTouches[0]:e}},{key:"customDragEvent",value:function(e,t,n,r){var i=this;return this.renderer.listen(e,t,(function(e){i.initialPosition={pageX:i.getNativeEventObject(e).pageX,pageY:i.getNativeEventObject(e).pageY},i.nestedListeners=[],i.nestedListeners.push(i.renderer.listen("document","selectstart",(function(e){e.preventDefault(),e.stopImmediatePropagation()}))),i.nestedListeners.push(i.ngZone.runOutsideAngular((function(){return i.renderer.listen("document",n,(function(e){e.stopImmediatePropagation(),i.hasDragStarted?i.broadcast(e,qx.DRAG_MOVE):(i.hasDragStarted=!0,i.broadcast(e,qx.DRAG_START))}))}))),i.nestedListeners.push(i.renderer.listen("document",r,(function(e){i.hasDragStarted&&(i.hasDragStarted=!1,i.broadcast(e,qx.DRAG_END)),i.nestedListeners&&i.nestedListeners.map((function(e){return e()}))})))}))}},{key:"broadcast",value:function(e,t){var n=this.generateDragEvent(e,t);switch(n.type){case qx.DRAG_START:this.dragStart.next(n);break;case qx.DRAG_MOVE:this.dragMove.next(n);break;case qx.DRAG_END:this.dragEnd.next(n)}n.ghostElement=this.ghostElement,n.dropPointPosition=this.dropPointPosition,this.eventBus.broadcast(n)}},{key:"generateDragEvent",value:function(e,t){var n=this.getNativeEventObject(e);return{type:t,dragPosition:{pageX:n.pageX,pageY:n.pageY,moveX:n.pageX-this.initialPosition.pageX,moveY:n.pageY-this.initialPosition.pageY},group:this.group,dragDataTransfer:this.dragDataTransfer,ghostElement:this.ghostElement}}},{key:"dragStarted",get:function(){return this.dragStart.asObservable()}},{key:"dragMoved",get:function(){return this.dragMove.asObservable()}},{key:"dragEnded",get:function(){return this.dragEnd.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||JI)(Ke(oc),Ke(_a),Ke(Wx))},JI.\u0275prov=he({token:JI,factory:JI.\u0275fac}),JI),Qx=((XI=function(){function e(t){_classCallCheck(this,e),this.domAdapter=t}return _createClass(e,[{key:"capture",value:function(e,t){this.draggableElClientRect=this.domAdapter.clientRect(e),this.snapshotDragEvent=t}},{key:"discard",value:function(){delete this.draggableElClientRect,delete this.snapshotDragEvent}},{key:"hasDraggableState",get:function(){return!!this.snapshotDragEvent&&!!this.draggableElClientRect}},{key:"clientRect",get:function(){return this.draggableElClientRect}},{key:"dragEvent",get:function(){return this.snapshotDragEvent}}]),e}()).\u0275fac=function(e){return new(e||XI)(Ke(Gx))},XI.\u0275prov=he({token:XI,factory:XI.\u0275fac}),XI),Kx=((ZI=function(){function e(t,n,r,i,o){var s=this;if(_classCallCheck(this,e),this.el=t,this.dragEventListener=n,this.draggableSnapshot=r,this.renderer=i,this.ngZone=o,this.subscriptions=[],this.leaveAnimConfig={value:0,params:{top:"0px",left:"0px"}},!this.dragEventListener||!this.draggableSnapshot)throw new Error("The clr-draggable-ghost component can only be used inside of a clrDraggable directive.");this.draggableGhostEl=this.el.nativeElement,this.renderer.addClass(this.draggableGhostEl,"draggable-ghost"),this.dragEventListener.ghostElement=this.draggableGhostEl,this.setDefaultGhostSize(this.draggableGhostEl);var a={top:this.draggableSnapshot.hasDraggableState?this.draggableSnapshot.dragEvent.dragPosition.pageY-this.draggableSnapshot.clientRect.top:0,left:this.draggableSnapshot.hasDraggableState?this.draggableSnapshot.dragEvent.dragPosition.pageX-this.draggableSnapshot.clientRect.left:0},u=!1;this.subscriptions.push(this.dragEventListener.dragMoved.subscribe((function(e){u||(s.draggableSnapshot.hasDraggableState?s.animateToOnLeave(s.draggableSnapshot.clientRect.top+"px",s.draggableSnapshot.clientRect.left+"px"):s.animateToOnLeave(e.dragPosition.pageY+"px",e.dragPosition.pageX+"px"),u=!0);var t=s.findTopLeftPosition(e.dragPosition,a);s.setPositionStyle(s.draggableGhostEl,t.pageX,t.pageY),s.dragEventListener.dropPointPosition=s.findDropPointPosition(t)})))}return _createClass(e,[{key:"setDefaultGhostSize",value:function(e){this.draggableSnapshot.hasDraggableState&&this.setSizeStyle(e,this.draggableSnapshot.clientRect.width,this.draggableSnapshot.clientRect.height)}},{key:"animateToOnLeave",value:function(e,t){var n=this;this.ngZone.run((function(){n.leaveAnimConfig={value:0,params:{top:e,left:t}}}))}},{key:"findTopLeftPosition",value:function(e,t){return{pageX:e.pageX-t.left,pageY:e.pageY-t.top}}},{key:"findDropPointPosition",value:function(e){return this.draggableSnapshot.hasDraggableState?{pageX:e.pageX+this.draggableSnapshot.clientRect.width/2,pageY:e.pageY+this.draggableSnapshot.clientRect.height/2}:e}},{key:"setSizeStyle",value:function(e,t,n){this.renderer.setStyle(e,"width",t+"px"),this.renderer.setStyle(e,"height",n+"px")}},{key:"setPositionStyle",value:function(e,t,n){this.renderer.setStyle(e,"left",t+"px"),this.renderer.setStyle(e,"top",n+"px"),this.renderer.setStyle(e,"visibility","visible")}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||ZI)(Zo(va),Zo($x,8),Zo(Qx,8),Zo(_a),Zo(oc))},ZI.\u0275cmp=dt({type:ZI,selectors:[["clr-draggable-ghost"]],hostVars:1,hostBindings:function(e,t){2&e&&$s("@leaveAnimation",t.leaveAnimConfig)},ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2,data:{animation:[oy("leaveAnimation",[ly(":leave",[uy({left:"*",top:"*"}),sy("0.2s ease-in-out",uy({top:"{{top}}",left:"{{left}}"}))])])]}}),ZI),Yx=((YI=function(){function e(t,n,r){var i=this;if(_classCallCheck(this,e),this.template=t,this.container=n,this.dragEventListener=r,this.subscriptions=[],!this.dragEventListener||!this.container)throw new Error("The *clrIfDragged directive can only be used inside of a clrDraggable directive.");this.subscriptions.push(this.dragEventListener.dragStarted.subscribe((function(e){i.container.createEmbeddedView(i.template)}))),this.subscriptions.push(this.dragEventListener.dragEnded.subscribe((function(e){i.container.clear()})))}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||YI)(Zo(ja),Zo(Ba,12),Zo($x,8))},YI.\u0275dir=_t({type:YI,selectors:[["","clrIfDragged",""]]}),YI),Zx=((KI=function(){function e(t,n){_classCallCheck(this,e),this.dragEventListener=t,this.renderer=n}return _createClass(e,[{key:"makeElementHandle",value:function(e){this._defaultHandleEl&&this._defaultHandleEl!==e&&this.renderer.removeClass(this._defaultHandleEl,"drag-handle"),this.dragEventListener.attachDragListeners(e),this.renderer.addClass(e,"drag-handle")}},{key:"registerCustomHandle",value:function(e){this.dragEventListener.detachDragListeners(),this._customHandleEl=e,this.makeElementHandle(this._customHandleEl)}},{key:"unregisterCustomHandle",value:function(){this.dragEventListener.detachDragListeners(),this.renderer.removeClass(this._customHandleEl,"drag-handle"),delete this._customHandleEl,this._defaultHandleEl&&this.makeElementHandle(this._defaultHandleEl)}},{key:"defaultHandleEl",get:function(){return this._defaultHandleEl},set:function(e){this._defaultHandleEl=e,this._customHandleEl||this.makeElementHandle(this._defaultHandleEl)}},{key:"customHandleEl",get:function(){return this._customHandleEl}}]),e}()).\u0275fac=function(e){return new(e||KI)(Ke($x),Ke(_a))},KI.\u0275prov=he({token:KI,factory:KI.\u0275fac}),KI),Xx=((QI=function(){function e(t){_classCallCheck(this,e),this.renderer=t}return _createClass(e,[{key:"enter",value:function(){this.renderer.addClass(document.body,"in-drag")}},{key:"exit",value:function(){this.renderer.removeClass(document.body,"in-drag")}}]),e}()).\u0275fac=function(e){return new(e||QI)(Ke(_a))},QI.\u0275prov=he({token:QI,factory:QI.\u0275fac}),QI),Jx=(($I=function(){function e(t,n,r,i,o,s,a,u){_classCallCheck(this,e),this.el=t,this.dragEventListener=n,this.dragHandleRegistrar=r,this.viewContainerRef=i,this.cfr=o,this.injector=s,this.draggableSnapshot=a,this.globalDragMode=u,this.subscriptions=[],this.dragOn=!1,this.dragStartEmitter=new pu,this.dragMoveEmitter=new pu,this.dragEndEmitter=new pu,this.draggableEl=this.el.nativeElement,this.componentFactory=this.cfr.resolveComponentFactory(Kx)}return _createClass(e,[{key:"createDefaultGhost",value:function(e){this.draggableSnapshot.capture(this.draggableEl,e),this.viewContainerRef.createComponent(this.componentFactory,0,this.injector,[[this.draggableEl.cloneNode(!0)]])}},{key:"destroyDefaultGhost",value:function(){this.viewContainerRef.clear(),this.draggableSnapshot.discard()}},{key:"ngAfterContentInit",value:function(){var e=this;this.dragHandleRegistrar.defaultHandleEl=this.draggableEl,this.subscriptions.push(this.dragEventListener.dragStarted.subscribe((function(t){e.globalDragMode.enter(),e.dragOn=!0,e.customGhost||e.createDefaultGhost(t),e.dragStartEmitter.emit(new Hx(t))}))),this.subscriptions.push(this.dragEventListener.dragMoved.subscribe((function(t){e.dragMoveEmitter.emit(new Hx(t))}))),this.subscriptions.push(this.dragEventListener.dragEnded.subscribe((function(t){e.globalDragMode.exit(),e.dragOn=!1,e.customGhost||e.destroyDefaultGhost(),e.dragEndEmitter.emit(new Hx(t))})))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.dragEventListener.detachDragListeners()}},{key:"dataTransfer",set:function(e){this.dragEventListener.dragDataTransfer=e}},{key:"group",set:function(e){this.dragEventListener.group=e}}]),e}()).\u0275fac=function(e){return new(e||$I)(Zo(va),Zo($x),Zo(Zx),Zo(Ba),Zo(pa),Zo(Ro),Zo(Qx),Zo(Xx))},$I.\u0275dir=_t({type:$I,selectors:[["","clrDraggable",""]],contentQueries:function(e,t,n){var r;1&e&&Au(n,Yx,!0),2&e&&Eu(r=Ru())&&(t.customGhost=r.first)},hostVars:4,hostBindings:function(e,t){2&e&&Os("draggable",!0)("being-dragged",t.dragOn)},inputs:{dataTransfer:["clrDraggable","dataTransfer"],group:["clrGroup","group"]},outputs:{dragStartEmitter:"clrDragStart",dragMoveEmitter:"clrDragMove",dragEndEmitter:"clrDragEnd"},features:[ha([$x,Zx,Qx,Xx,Gx])]}),$I),eA=((WI=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:WI}),WI.\u0275inj=fe({factory:function(e){return new(e||WI)},imports:[[uf]]}),WI),tA=((qI=function(){function e(t,n){_classCallCheck(this,e),this.element=t,this.domAdapter=n,this.startHeight=0}return _createClass(e,[{key:"animationDone",value:function(){this.updateStartHeight()}},{key:"updateStartHeight",value:function(){this.startHeight=this.domAdapter.computedHeight(this.element.nativeElement)||0}},{key:"expandAnimation",get:function(){return{value:this.clrExpandTrigger,params:{startHeight:this.startHeight}}}}]),e}()).\u0275fac=function(e){return new(e||qI)(Zo(va),Zo(Gx))},qI.\u0275cmp=dt({type:qI,selectors:[["clr-expandable-animation"]],hostVars:1,hostBindings:function(e,t){1&e&&fs("@expandAnimation.done",(function(){return t.animationDone()})),2&e&&$s("@expandAnimation",t.expandAnimation)},inputs:{clrExpandTrigger:"clrExpandTrigger"},features:[ha([Gx])],ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},styles:["[_nghost-%COMP%] {\n      display: block;\n    }"],data:{animation:[oy("expandAnimation",[ly("true <=> false",[uy({height:"{{startHeight}}px",overflow:"hidden"}),sy("0.2s ease-in-out",uy({height:"*"}))])])]}}),qI),nA=((HI=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:HI}),HI.\u0275inj=fe({factory:function(e){return new(e||HI)},imports:[[uf]]}),HI),rA=((GI=function(){function e(t,n){_classCallCheck(this,e),this.el=t,this.ariaLiveService=n}return _createClass(e,[{key:"ngAfterViewInit",value:function(){this.ariaLiveService.announce(this.el.nativeElement,this.ariaLive)}},{key:"spinnerClass",get:function(){return!0}},{key:"inlineClass",get:function(){return this._inline}},{key:"clrInline",set:function(e){this._inline=dI(e)}},{key:"inverseClass",get:function(){return this._inverse}},{key:"clrInverse",set:function(e){this._inverse=dI(e)}},{key:"smallClass",get:function(){return this._small}},{key:"clrSmall",set:function(e){this._small=dI(e)}},{key:"mediumClass",get:function(){return!this._small&&this._medium}},{key:"clrMedium",set:function(e){this._medium=dI(e)}},{key:"ariaLive",get:function(){return dI(this.assertive)?XS.assertive:dI(this.off)?XS.off:XS.polite}}]),e}()).\u0275fac=function(e){return new(e||GI)(Zo(va),Zo(JS))},GI.\u0275cmp=dt({type:GI,selectors:[["clr-spinner"]],hostVars:11,hostBindings:function(e,t){2&e&&($o("aria-busy",!0),Os("spinner",t.spinnerClass)("spinner-inline",t.inlineClass)("spinner-inverse",t.inverseClass)("spinner-sm",t.smallClass)("spinner-md",t.mediumClass))},inputs:{clrInline:"clrInline",clrInverse:"clrInverse",clrSmall:"clrSmall",clrMedium:"clrMedium",assertive:["clrAssertive","assertive"],off:["clrOff","off"]},features:[ha([JS])],ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2}),GI),iA=((zI=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:zI}),zI.\u0275inj=fe({factory:function(e){return new(e||zI)},imports:[[uf]]}),zI),oA=new Ue("FOCUS_ON_VIEW_INIT"),sA={provide:oA,useValue:!0},aA=((nT=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.el=t,this.platformId=n,this.focusOnViewInit=r,this.renderer=o,this.directFocus=!0,this._isEnabled=this.focusOnViewInit,this.document=i}return _createClass(e,[{key:"onFocusout",value:function(){this.directFocus||(this.renderer.removeAttribute(this.el.nativeElement,"tabindex"),this.renderer.setStyle(this.el.nativeElement,"outline",null))}},{key:"ngAfterViewInit",value:function(){this.focus()}},{key:"focus",value:function(){cf(this.platformId)&&this._isEnabled&&this.document&&this.document.activeElement!==this.el.nativeElement&&(this.el.nativeElement.focus(),this.document.activeElement!==this.el.nativeElement&&(this.directFocus=!1,this.renderer.setAttribute(this.el.nativeElement,"tabindex","-1"),this.renderer.setStyle(this.el.nativeElement,"outline","none"),this.el.nativeElement.focus()))}},{key:"isEnabled",set:function(e){this.focusOnViewInit&&"boolean"==typeof e&&(this._isEnabled=e)}}]),e}()).\u0275fac=function(e){return new(e||nT)(Zo(va),Zo(Gu),Zo(oA),Zo(Nl),Zo(_a))},nT.\u0275dir=_t({type:nT,selectors:[["","clrFocusOnViewInit",""]],hostBindings:function(e,t){1&e&&hs("focusout",(function(){return t.onFocusout()}))},inputs:{isEnabled:["clrFocusOnViewInit","isEnabled"]}}),nT),uA=((tT=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:tT}),tT.\u0275inj=fe({factory:function(e){return new(e||tT)},providers:[sA],imports:[[uf]]}),tT),cA=function e(){_classCallCheck(this,e)},lA=((oT=function(){function e(){_classCallCheck(this,e),this._change=new x,this.nbChanges=0}return _createClass(e,[{key:"changeStart",value:function(){this.nbChanges++}},{key:"changeDone",value:function(){0==--this.nbChanges&&this._change.next()}},{key:"change",get:function(){return this._change.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||oT)},oT.\u0275prov=he({token:oT,factory:oT.\u0275fac}),oT),hA=((iT=function(){function e(t){_classCallCheck(this,e),this.stateDebouncer=t,this.preventEmit=!1,this.activated=!1,this._size=0,this._change=new x,this._sizeChange=new x,this._current=1}return _createClass(e,[{key:"previous",value:function(){this.current>1&&this.current--}},{key:"next",value:function(){this.current<this.last&&this.current++}},{key:"resetPageSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.preventEmit=e,this.size=0}},{key:"size",get:function(){return this._size},set:function(e){var t=this._size;e!==t&&(this.preventEmit||this.stateDebouncer.changeStart(),this._size=e,this._current=0===e?1:Math.floor(t/e*(this._current-1))+1,this.preventEmit||(this._change.next(this._current),this._sizeChange.next(this._size),this.stateDebouncer.changeDone())),this.preventEmit=!1}},{key:"totalItems",get:function(){return this._totalItems||0},set:function(e){this._totalItems=e,this.current>this.last&&(this.current=this.last)}},{key:"last",get:function(){return this._last?this._last:this.size>0&&this.totalItems?Math.ceil(this.totalItems/this.size):1},set:function(e){this._last=e}},{key:"change",get:function(){return this._change.asObservable()}},{key:"sizeChange",get:function(){return this._sizeChange.asObservable()}},{key:"current",get:function(){return this._current},set:function(e){e!==this._current&&(this.stateDebouncer.changeStart(),this._current=e,this._change.next(e),this.stateDebouncer.changeDone())}},{key:"firstItem",get:function(){return 0===this._totalItems?-1:0===this.size?0:(this.current-1)*this.size}},{key:"lastItem",get:function(){if(0===this._totalItems)return-1;if(0===this.size)return this.totalItems-1;var e=this.current*this.size-1;return this.totalItems&&(e=Math.min(e,this.totalItems-1)),e}}]),e}()).\u0275fac=function(e){return new(e||iT)(Ke(lA))},iT.\u0275prov=he({token:iT,factory:iT.\u0275fac}),iT),fA=((rT=function(){function e(t,n){_classCallCheck(this,e),this._page=t,this.stateDebouncer=n,this._change=new x,this._all=[]}return _createClass(e,[{key:"hasActiveFilters",value:function(){var e,t=_createForOfIteratorHelper(this._all);try{for(t.s();!(e=t.n()).done;){var n=e.value.filter;if(n&&n.isActive())return!0}}catch(r){t.e(r)}finally{t.f()}return!1}},{key:"getActiveFilters",value:function(){var e,t=[],n=_createForOfIteratorHelper(this._all);try{for(n.s();!(e=n.n()).done;){var r=e.value.filter;r&&r.isActive()&&t.push(r)}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"add",value:function(e){var t=this,n=e.changes.subscribe((function(){return t.resetPageAndEmitFilterChange([e])})),r=!1,i=new dA(e,(function(){if(!r){n.unsubscribe();var i=t._all.findIndex((function(t){return t.filter===e}));i>=0&&t._all.splice(i,1),e.isActive()&&t.resetPageAndEmitFilterChange([]),r=!0}}));return this._all.push(i),e.isActive()&&this.resetPageAndEmitFilterChange([e]),i}},{key:"accepts",value:function(e){var t,n=_createForOfIteratorHelper(this._all);try{for(n.s();!(t=n.n()).done;){var r=t.value.filter;if(r&&r.isActive()&&!r.accepts(e))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}},{key:"resetPageAndEmitFilterChange",value:function(e){this.stateDebouncer.changeStart(),this._page.current=1,this._change.next(e),this.stateDebouncer.changeDone()}},{key:"change",get:function(){return this._change.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||rT)(Ke(hA),Ke(lA))},rT.\u0275prov=he({token:rT,factory:rT.\u0275fac}),rT),dA=function e(t,n){_classCallCheck(this,e),this.filter=t,this.unregister=n},pA=((sT=function(){function e(t){_classCallCheck(this,e),this.filters=t}return _createClass(e,[{key:"setFilter",value:function(e){this.deleteFilter(),e instanceof dA?this.registered=e:e&&(this.registered=this.filters.add(e))}},{key:"deleteFilter",value:function(){this.registered&&(this.registered.unregister(),delete this.registered)}},{key:"ngOnDestroy",value:function(){this.deleteFilter()}},{key:"filter",get:function(){return this.registered&&this.registered.filter}}]),e}()).\u0275fac=function(e){Jo()},sT.\u0275dir=_t({type:sT}),sT),vA=((uT=aT=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s){var a;return _classCallCheck(this,n),(a=t.call(this,e)).commonStrings=r,a.smartToggleService=i,a.platformId=o,a.popoverId=s,a.subs=[],a.ariaExpanded=!1,a.smartPosition={axis:UC.VERTICAL,side:BS.AFTER,anchor:wC.END,content:wC.END},a._open=!1,a.openChange=new pu(!1),a.subs.push(i.openChange.subscribe((function(e){a.open=e,a.ariaExpanded=e}))),a}return _createClass(n,[{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this),this.subs.forEach((function(e){return e.unsubscribe()}))}},{key:"open",get:function(){return this._open},set:function(e){this.open!==(e=!!e)&&(this.smartToggleService.open=e,this.openChange.emit(e),!e&&cf(this.platformId)&&this.anchor.nativeElement.focus(),this._open=e)}},{key:"customFilter",set:function(e){this.setFilter(e)}},{key:"active",get:function(){return!!this.filter&&this.filter.isActive()}}]),n}(pA)).\u0275fac=function(e){return new(e||uT)(Zo(fA),Zo(JC),Zo(_C),Zo(Gu),Zo(tS))},uT.\u0275cmp=dt({type:uT,selectors:[["clr-dg-filter"]],viewQuery:function(e,t){var n;1&e&&Tu(qb,!0,va),2&e&&Eu(n=Ru())&&(t.anchor=n.first)},inputs:{open:["clrDgFilterOpen","open"],customFilter:["clrDgFilter","customFilter"]},outputs:{openChange:"clrDgFilterOpenChange"},features:[ha([{provide:cA,useExisting:aT},US]),Ks],ngContentSelectors:P_,decls:4,vars:12,consts:[["type","button","clrPopoverAnchor","","clrPopoverOpenCloseButton","",1,"datagrid-filter-toggle"],["anchor",""],[1,"is-solid"],["class","datagrid-filter","clrFocusTrap","",3,"id",4,"clrPopoverContent","clrPopoverContentAt","clrPopoverContentOutsideClickToClose","clrPopoverContentScrollToClose"],["clrFocusTrap","",1,"datagrid-filter",3,"id"],[1,"datagrid-filter-close-wrapper"],["type","button","clrPopoverCloseButton","",1,"close"],["shape","close"]],template:function(e,t){1&e&&(ms(),ns(0,"button",0,1),is(2,"clr-icon",2),rs(),Ko(3,Wb,5,2,"div",3)),2&e&&(Os("datagrid-filter-open",t.open)("datagrid-filtered",t.active),$o("aria-label",t.commonStrings.keys.datagridFilterAriaLabel)("aria-expanded",t.ariaExpanded)("aria-controls",t.popoverId),Ur(2),$o("shape",t.active?"filter-grid-circle":"filter-grid"),Ur(1),es("clrPopoverContent",t.open)("clrPopoverContentAt",t.smartPosition)("clrPopoverContentOutsideClickToClose",!0)("clrPopoverContentScrollToClose",!0))},directives:[qC,GC,yC,zC,DE,HC],encapsulation:2}),uT),gA=function(){function e(t){_classCallCheck(this,e),this.prop=t,t.indexOf(".")>=0&&(this.splitProp=t.split("."))}return _createClass(e,[{key:"getPropValue",value:function(e){if(this.splitProp){var t,n=e,r=_createForOfIteratorHelper(this.splitProp);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(null==n||void 0===n||void 0===n[i])return;n=n[i]}}catch(o){r.e(o)}finally{r.f()}return n}return e[this.prop]}}]),e}(),yA=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_classCallCheck(this,e),this.prop=t,this.exact=n,this.nestedProp=new gA(t)}return _createClass(e,[{key:"accepts",value:function(e,t){var n=this.nestedProp.getPropValue(e);return void 0!==n&&(this.exact?(""+n).toLowerCase()===t:(""+n).toLowerCase().indexOf(t)>=0)}}]),e}(),mA=function(){function e(t){_classCallCheck(this,e),this.filterFn=t,this._changes=new x,this._rawValue="",this._lowerCaseValue=""}return _createClass(e,[{key:"isActive",value:function(){return!!this.value}},{key:"accepts",value:function(e){return this.filterFn.accepts(e,this.lowerCaseValue)}},{key:"equals",value:function(t){return t instanceof e&&(t.filterFn instanceof yA?this.filterFn instanceof yA&&t.filterFn.prop===this.filterFn.prop&&t.value===this.value:t===this)}},{key:"changes",get:function(){return this._changes.asObservable()}},{key:"value",get:function(){return this._rawValue},set:function(e){e||(e=""),e!==this._rawValue&&(this._rawValue=e,this._lowerCaseValue=e.toLowerCase().trim(),this._changes.next(e))}},{key:"lowerCaseValue",get:function(){return this._lowerCaseValue}},{key:"state",get:function(){return this.filterFn instanceof yA?{property:this.filterFn.prop,value:this.value}:this}}]),e}(),_A=((lT=cT=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).domAdapter=r,o.smartToggleService=i,o.subs=[],o.open=!1,o.filterValueChange=new pu,o}return _createClass(n,[{key:"ngAfterViewInit",value:function(){var e=this;this.subs.push(this.smartToggleService.openChange.subscribe((function(t){e.open=t,setTimeout((function(){e.domAdapter.focus(e.input.nativeElement)}))})))}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this),this.subs.forEach((function(e){return e.unsubscribe()}))}},{key:"customStringFilter",set:function(e){this.setFilter(e instanceof dA?e:new mA(e)),this.initFilterValue&&(this.value=this.initFilterValue,delete this.initFilterValue)}},{key:"value",get:function(){return this.filter.value},set:function(e){this.filter?(e||(e=""),e!==this.filter.value&&(this.filter.value=e,this.filterValueChange.emit(e))):this.initFilterValue=e}}]),n}(pA)).\u0275fac=function(e){return new(e||lT)(Zo(fA),Zo(Gx),Zo(_C))},lT.\u0275cmp=dt({type:lT,selectors:[["clr-dg-string-filter"]],viewQuery:function(e,t){var n;1&e&&(Tu($b,!0),Tu(vA,!0)),2&e&&(Eu(n=Ru())&&(t.input=n.first),Eu(n=Ru())&&(t.filterContainer=n.first))},inputs:{customStringFilter:["clrDgStringFilter","customStringFilter"],value:["clrFilterValue","value"]},outputs:{filterValueChange:"clrFilterValueChange"},features:[ha([{provide:cA,useExisting:cT}]),Ks],decls:3,vars:3,consts:[[3,"clrDgFilter","clrDgFilterOpen","clrDgFilterOpenChange"],["type","text","name","search",1,"clr-input",3,"ngModel","ngModelChange"],["input",""]],template:function(e,t){1&e&&(ns(0,"clr-dg-filter",0),hs("clrDgFilterOpenChange",(function(e){return t.open=e})),ns(1,"input",1,2),hs("ngModelChange",(function(e){return t.value=e})),rs(),rs()),2&e&&(es("clrDgFilter",t.registered)("clrDgFilterOpen",t.open),Ur(1),es("ngModel",t.value))},directives:[vA,Sy,Py,i_],encapsulation:2}),lT),bA=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_classCallCheck(this,e),this.prop=t,this.exact=n,this.nestedProp=new gA(t)}return _createClass(e,[{key:"accepts",value:function(e,t,n){var r=this.nestedProp.getPropValue(e);return!(null!==t&&r<t||null!==n&&r>n)}}]),e}(),kA=function(){function e(t){_classCallCheck(this,e),this.filterFn=t,this._changes=new x,this._low=null,this._high=null}return _createClass(e,[{key:"isActive",value:function(){return null!==this._low||null!==this.high}},{key:"accepts",value:function(e){return this.filterFn.accepts(e,this._low,this._high)}},{key:"equals",value:function(t){return t instanceof e&&(t.filterFn instanceof bA?this.filterFn instanceof bA&&t.filterFn.prop===this.filterFn.prop&&t.low===this._low&&t.high===this._high:t===this)}},{key:"changes",get:function(){return this._changes.asObservable()}},{key:"value",get:function(){return[this._low,this._high]},set:function(e){var t=e[0],n=e[1];t===this._low&&n===this._high||(this._low=t,this._high=n,this._changes.next([this._low,this._high]))}},{key:"low",set:function(e){e!==this._low&&(this._low=e,this._changes.next([this._low,this._high]))},get:function(){return this._low}},{key:"high",set:function(e){e!==this._high&&(this._high=e,this._changes.next([this._low,this._high]))},get:function(){return this._high}},{key:"state",get:function(){return this.filterFn instanceof bA?{property:this.filterFn.prop,low:this._low,high:this._high}:this}}]),e}(),wA=((bT=hT=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;return _classCallCheck(this,n),(s=t.call(this,e)).domAdapter=r,s.commonStrings=i,s.popoverToggleService=o,s.subscriptions=[],s.open=!1,s.filterValueChange=new pu,s}return _createClass(n,[{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){e.unsubscribe()}))}},{key:"ngAfterViewInit",value:function(){var e=this;this.subscriptions.push(this.popoverToggleService.openChange.subscribe((function(t){e.open=t,setTimeout((function(){e.domAdapter.focus(e.input.nativeElement)}))})))}},{key:"customNumericFilter",set:function(e){this.setFilter(e instanceof dA?e:new kA(e)),this.initFilterValues&&(this.value=this.initFilterValues,delete this.initFilterValues)}},{key:"value",get:function(){return[this.filter.low,this.filter.high]},set:function(e){this.filter?!e||e[0]===this.filter.low&&e[1]===this.filter.high||(this.filter.low="number"==typeof e[0]?e[0]:null,this.filter.high="number"==typeof e[1]?e[1]:null,this.filterValueChange.emit(e)):this.initFilterValues=e}},{key:"low",get:function(){return"number"==typeof this.filter.low&&isFinite(this.filter.low)?this.filter.low:null},set:function(e){"number"==typeof e&&e!==this.filter.low?(this.filter.low=e,this.filterValueChange.emit([this.filter.low,this.filter.high])):"number"!=typeof e&&(this.filter.low=null,this.filterValueChange.emit([this.filter.low,this.filter.high]))}},{key:"high",get:function(){return"number"==typeof this.filter.high&&isFinite(this.filter.high)?this.filter.high:null},set:function(e){"number"==typeof e&&e!==this.filter.high?(this.filter.high=e,this.filterValueChange.emit([this.filter.low,this.filter.high])):"number"!=typeof e&&(this.filter.high=null,this.filterValueChange.emit([this.filter.low,this.filter.high]))}}]),n}(pA)).\u0275fac=function(e){return new(e||bT)(Zo(fA),Zo(Gx),Zo(JC),Zo(_C))},bT.\u0275cmp=dt({type:bT,selectors:[["clr-dg-numeric-filter"]],viewQuery:function(e,t){var n;1&e&&(Tu(Qb,!0),Tu(vA,!0)),2&e&&(Eu(n=Ru())&&(t.input=n.first),Eu(n=Ru())&&(t.filterContainer=n.first))},inputs:{customNumericFilter:["clrDgNumericFilter","customNumericFilter"],value:["clrFilterValue","value"]},outputs:{filterValueChange:"clrFilterValueChange"},features:[ha([{provide:cA,useExisting:hT}]),Ks],decls:6,vars:8,consts:[[3,"clrDgFilter","clrDgFilterOpen","clrDgFilterOpenChange"],["type","number","name","low",1,"datagrid-numeric-filter-input",3,"ngModel","placeholder","ngModelChange"],["input_low",""],[1,"datagrid-filter-input-spacer"],["type","number","name","high",1,"datagrid-numeric-filter-input",3,"ngModel","placeholder","ngModelChange"],["input_high",""]],template:function(e,t){1&e&&(ns(0,"clr-dg-filter",0),hs("clrDgFilterOpenChange",(function(e){return t.open=e})),ns(1,"input",1,2),hs("ngModelChange",(function(e){return t.low=e})),rs(),is(3,"span",3),ns(4,"input",4,5),hs("ngModelChange",(function(e){return t.high=e})),rs(),rs()),2&e&&(es("clrDgFilter",t.registered)("clrDgFilterOpen",t.open),Ur(1),es("ngModel",t.low)("placeholder",t.commonStrings.keys.minValue),$o("aria-label",t.commonStrings.keys.minValue),Ur(3),es("ngModel",t.high)("placeholder",t.commonStrings.keys.maxValue),$o("aria-label",t.commonStrings.keys.maxValue))},directives:[vA,Yy,Sy,Py,i_],encapsulation:2}),bT),CA=((_T=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.subscription=n.chocolate.subscribe((function(){r.latestFlavor!==r.flavor&&(n.disableChocolateCheck=!0,t.detectChanges(),n.disableChocolateCheck=!1)}))}return _createClass(e,[{key:"ngAfterContentChecked",value:function(){this.latestFlavor=this.flavor}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}]),e}()).\u0275fac=function(e){Jo()},_T.\u0275dir=_t({type:_T}),_T),SA=((mT=function(){function e(){_classCallCheck(this,e),this.actionableCount=0}return _createClass(e,[{key:"register",value:function(){this.actionableCount++}},{key:"unregister",value:function(){this.actionableCount--}},{key:"hasActionableRow",get:function(){return this.actionableCount>0}}]),e}()).\u0275fac=function(e){return new(e||mT)},mT.\u0275prov=he({token:mT,factory:mT.\u0275fac}),mT),EA=((yT=function(){function e(){_classCallCheck(this,e),this._chocolate=new x,this.disableChocolateCheck=!1}return _createClass(e,[{key:"ngAfterViewChecked",value:function(){this.disableChocolateCheck||this._chocolate.next()}},{key:"chocolate",get:function(){return this._chocolate.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||yT)},yT.\u0275dir=_t({type:yT}),yT),IA=((gT=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(EA)).\u0275fac=function(e){return XP(e||gT)},gT.\u0275dir=_t({type:gT,selectors:[["clr-datagrid"]],features:[Ks]}),gT),TA=((vT=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;if(_classCallCheck(this,n),!r)throw new Error("clr-dg-row should only be used inside of a clr-datagrid");return(o=t.call(this,e,r)).rowActions=i,o}return _createClass(n,[{key:"flavor",get:function(){return this.rowActions.hasActionableRow}}]),n}(CA)).\u0275fac=function(e){return new(e||vT)(Zo(vo),Zo(IA,8),Zo(SA))},vT.\u0275dir=_t({type:vT,selectors:[["clr-datagrid"],["clr-dg-row"]],features:[Ks]}),vT),xA=((pT=function(){function e(){_classCallCheck(this,e),this.toggleState=!1,this._state=new Fc(this.toggleState),this._enabled=!1}return _createClass(e,[{key:"close",value:function(){this.toggleState=!1,this._state.next(this.toggleState),this.button&&(this.button.focus(),this.button=null)}},{key:"open",value:function(e,t){this.cache=e,this.button=t,this.toggleState=!0,this._state.next(this.toggleState)}},{key:"toggle",value:function(e,t){this.isRowOpen(e)||!e?this.close():this.open(e,t)}},{key:"isRowOpen",value:function(e){return!(!this.toggleState||this.cache!==e)}},{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=e}},{key:"stateChange",get:function(){return this._state.asObservable()}},{key:"state",get:function(){return this.cache}},{key:"isOpen",get:function(){return!0===this.toggleState}}]),e}()).\u0275fac=function(e){return new(e||pT)},pT.\u0275prov=he({token:pT,factory:pT.\u0275fac}),pT),AA=((dT=function(){function e(t){_classCallCheck(this,e),this.detailService=t,this.expandableCount=0}return _createClass(e,[{key:"register",value:function(){this.expandableCount++}},{key:"unregister",value:function(){this.expandableCount--}},{key:"hasExpandableRow",get:function(){return!this.detailService.enabled&&this.expandableCount>0}}]),e}()).\u0275fac=function(e){return new(e||dT)(Ke(xA))},dT.\u0275prov=he({token:dT,factory:dT.\u0275fac}),dT),OA=((fT=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;if(_classCallCheck(this,n),!r)throw new Error("clr-dg-row should only be used inside of a clr-datagrid");return(o=t.call(this,e,r)).expandableCount=i,o}return _createClass(n,[{key:"flavor",get:function(){return this.expandableCount.hasExpandableRow}}]),n}(CA)).\u0275fac=function(e){return new(e||fT)(Zo(vo),Zo(IA,8),Zo(AA))},fT.\u0275dir=_t({type:fT,selectors:[["clr-datagrid"],["clr-dg-row"]],features:[Ks]}),fT),DA=function(){function e(t){_classCallCheck(this,e),this.prop=t,this.nestedProp=new gA(t)}return _createClass(e,[{key:"compare",value:function(e,t){var n=this.nestedProp.getPropValue(e),r=this.nestedProp.getPropValue(t);return"string"==typeof n&&(n=n.toLowerCase()),"string"==typeof r&&(r=r.toLowerCase()),null==n?null==r?0:1:null==r||n<r?-1:n>r?1:0}}]),e}(),RA=function(e){return e[e.UNSORTED=0]="UNSORTED",e[e.ASC=1]="ASC",e[e.DESC=-1]="DESC",e}({}),PA=((IT=function(){function e(t){_classCallCheck(this,e),this.stateDebouncer=t,this._reverse=!1,this._change=new x}return _createClass(e,[{key:"emitChange",value:function(){this._change.next(this)}},{key:"toggle",value:function(e,t){this.stateDebouncer.changeStart(),this.comparator===e?this._reverse=void 0!==t&&t||!this._reverse:(this._comparator=e,this._reverse=void 0!==t&&t),this.emitChange(),this.stateDebouncer.changeDone()}},{key:"clear",value:function(){this.comparator=null}},{key:"compare",value:function(e,t){return(this.reverse?-1:1)*this.comparator.compare(e,t)}},{key:"comparator",get:function(){return this._comparator},set:function(e){this.stateDebouncer.changeStart(),this._comparator=e,this.emitChange(),this.stateDebouncer.changeDone()}},{key:"reverse",get:function(){return this._reverse},set:function(e){this.stateDebouncer.changeStart(),this._reverse=e,this.emitChange(),this.stateDebouncer.changeDone()}},{key:"change",get:function(){return this._change.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||IT)(Ke(lA))},IT.\u0275prov=he({token:IT,factory:IT.\u0275fac}),IT),NA=((ET=function(){function e(){_classCallCheck(this,e),this._dynamic=!1}return _createClass(e,[{key:"ngAfterViewInit",value:function(){this.columnView=this.templateRef.createEmbeddedView(null)}},{key:"ngOnDestroy",value:function(){this.columnView.destroy()}}]),e}()).\u0275fac=function(e){return new(e||ET)},ET.\u0275cmp=dt({type:ET,selectors:[["dg-wrapped-column"]],viewQuery:function(e,t){var n;1&e&&Tu(Kb,!0),2&e&&Eu(n=Ru())&&(t.templateRef=n.first)},ngContentSelectors:P_,decls:2,vars:0,consts:[["columnPortal",""]],template:function(e,t){1&e&&(ms(),Ko(0,Yb,1,0,"ng-template",null,0,Lu))},encapsulation:2}),ET),FA=((ST=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s,a){var u;return _classCallCheck(this,n),(u=t.call(this,r))._sort=e,u.vcr=i,u.detailService=o,u.changeDetectorRef=s,u.commonStrings=a,u.showSeparator=!0,u.subscriptions=[],u._colType="string",u._sorted=!1,u.sortedChange=new pu,u._sortOrder=RA.UNSORTED,u.sortOrderChange=new pu,u.customFilter=!1,u.filterValueChange=new pu,u.subscriptions.push(u.listenForSortingChanges()),u.subscriptions.push(u.listenForDetailPaneChanges()),u}return _createClass(n,[{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"listenForDetailPaneChanges",value:function(){var e=this;return this.detailService.stateChange.subscribe((function(t){e.showSeparator!==!t&&(e.showSeparator=!t,e.changeDetectorRef.markForCheck())}))}},{key:"listenForSortingChanges",value:function(){var e=this;return this._sort.change.subscribe((function(t){e.changeDetectorRef.markForCheck(),e.sortOrder!==RA.UNSORTED&&t.comparator!==e._sortBy&&(e._sortOrder=RA.UNSORTED,e.sortOrderChange.emit(e._sortOrder),e.sortIcon=null),e.sorted&&t.comparator!==e._sortBy&&(e._sorted=!1,e.sortedChange.emit(!1))}))}},{key:"setupDefaultFilter",value:function(e,t){"number"===t?this.setFilter(new kA(new bA(e))):"string"===t&&this.setFilter(new mA(new yA(e))),this.filter&&this.initFilterValue&&(this.updateFilterValue=this.initFilterValue,delete this.initFilterValue)}},{key:"sort",value:function(e){this.sortable&&(this._sort.toggle(this._sortBy,e),this._sortOrder=this._sort.reverse?RA.DESC:RA.ASC,this.sortIcon=this._sortOrder===RA.DESC?"arrow down":"arrow",this.sortOrderChange.emit(this._sortOrder),this._sorted=!0,this.sortedChange.emit(!0))}},{key:"ngOnInit",value:function(){this.wrappedInjector=new fE(NA,this.vcr)}},{key:"field",get:function(){return this._field},set:function(e){"string"==typeof e&&(this._field=e,!this.customFilter&&this._colType&&this.setupDefaultFilter(this._field,this._colType),this._sortBy||(this._sortBy=new DA(this._field)))}},{key:"colType",get:function(){return this._colType},set:function(e){this._colType=e,!this.customFilter&&!this.filter&&this._colType&&this._field&&this.setupDefaultFilter(this._field,this._colType)}},{key:"sortBy",get:function(){return this._sortBy},set:function(e){"string"==typeof e?this._sortBy=new DA(e):e?this._sortBy=e:this._field?this._sortBy=new DA(this._field):delete this._sortBy}},{key:"sortable",get:function(){return!!this._sortBy}},{key:"sorted",get:function(){return this._sorted},set:function(e){!e&&this.sorted?(this._sorted=!1,this._sort.clear()):e&&!this.sorted&&this.sort()}},{key:"sortOrder",get:function(){return this._sortOrder},set:function(e){if(void 0!==e&&this._sortOrder!==e)switch(e){default:case RA.UNSORTED:this._sort.clear();break;case RA.ASC:this.sort(!1);break;case RA.DESC:this.sort(!0)}}},{key:"ariaSort",get:function(){switch(this._sortOrder){default:case RA.UNSORTED:return"none";case RA.ASC:return"ascending";case RA.DESC:return"descending"}}},{key:"projectedFilter",set:function(e){e&&(this.deleteFilter(),this.customFilter=!0)}},{key:"filterValue",get:function(){if(this.filter instanceof mA||this.filter instanceof kA)return this.filter.value},set:function(e){(this.filter instanceof mA||this.filter instanceof kA)&&(this.updateFilterValue=e,this.filterValueChange.emit(this.filter.value))}},{key:"updateFilterValue",set:function(e){this.filter?this.filter instanceof mA?(e&&"string"==typeof e||(e=""),e!==this.filter.value&&(this.filter.value=e)):this.filter instanceof kA&&(e&&e instanceof Array||(e=[null,null]),2!==e.length||e[0]===this.filter.value[0]&&e[1]===this.filter.value[1]||(this.filter.value=e)):this.initFilterValue=e}},{key:"_view",get:function(){return this.wrappedInjector.get(NA,this.vcr).columnView}}]),n}(pA)).\u0275fac=function(e){return new(e||ST)(Zo(PA),Zo(fA),Zo(Ba),Zo(xA),Zo(vo),Zo(JC))},ST.\u0275cmp=dt({type:ST,selectors:[["clr-dg-column"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,cA,!0),2&e&&Eu(r=Ru())&&(t.projectedFilter=r.first)},hostAttrs:["role","columnheader"],hostVars:3,hostBindings:function(e,t){2&e&&($o("aria-sort",t.ariaSort),Os("datagrid-column",!0))},inputs:{field:["clrDgField","field"],colType:["clrDgColType","colType"],updateFilterValue:["clrFilterValue","updateFilterValue"],sortBy:["clrDgSortBy","sortBy"],sorted:["clrDgSorted","sorted"],sortOrder:["clrDgSortOrder","sortOrder"]},outputs:{sortedChange:"clrDgSortedChange",sortOrderChange:"clrDgSortOrderChange",filterValueChange:"clrFilterValueChange"},features:[ha([BC,bC,_C]),Ks],ngContentSelectors:ak,decls:9,vars:5,consts:[[1,"datagrid-column-flex"],["class","datagrid-column-title","type","button",3,"click",4,"ngIf"],[3,"clrDgStringFilter","clrFilterValue","clrFilterValueChange",4,"ngIf"],[3,"clrDgNumericFilter","clrFilterValue","clrFilterValueChange",4,"ngIf"],["columnTitle",""],["class","datagrid-column-title",4,"ngIf"],[4,"ngIf"],["type","button",1,"datagrid-column-title",3,"click"],[4,"ngTemplateOutlet"],["class","sort-icon",4,"ngIf"],[1,"sort-icon"],[3,"clrDgStringFilter","clrFilterValue","clrFilterValueChange"],[3,"clrDgNumericFilter","clrFilterValue","clrFilterValueChange"],[1,"datagrid-column-title"]],template:function(e,t){1&e&&(ms(sk),ns(0,"div",0),Ko(1,Jb,3,3,"button",1),_s(2),Ko(3,ek,1,2,"clr-dg-string-filter",2),Ko(4,tk,1,2,"clr-dg-numeric-filter",3),Ko(5,nk,1,0,"ng-template",null,4,Lu),Ko(7,ik,2,1,"span",5),Ko(8,ok,1,0,"clr-dg-column-separator",6),rs()),2&e&&(Ur(1),es("ngIf",t.sortable),Ur(2),es("ngIf",t.field&&!t.customFilter&&"string"==t.colType),Ur(1),es("ngIf",t.field&&!t.customFilter&&"number"==t.colType),Ur(3),es("ngIf",!t.sortable),Ur(1),es("ngIf",t.showSeparator))},directives:function(){return[zh,Zh,yC,_A,wA,pO]},encapsulation:2,changeDetection:0}),ST),LA=((CT=function(){function e(t,n,r){_classCallCheck(this,e),this._filters=t,this._sort=n,this._page=r,this.loading=!1,this.trackBy=function(e,t){return t},this._smart=!1,this._displayed=[],this._change=new x,this._allChanges=new x}return _createClass(e,[{key:"destroy",value:function(){this._filtersSub&&this._filtersSub.unsubscribe(),this._sortSub&&this._sortSub.unsubscribe(),this._pageSub&&this._pageSub.unsubscribe()}},{key:"smartenUp",value:function(){var e=this;this._smart=!0,this._filtersSub=this._filters.change.subscribe((function(){return e._filterItems()})),this._sortSub=this._sort.change.subscribe((function(){e._sort.comparator?e._sortItems():e._filterItems()})),this._pageSub=this._page.change.subscribe((function(){return e._changePage()}))}},{key:"refresh",value:function(){this.smart&&this._filterItems()}},{key:"emitChange",value:function(){this._change.next(this.displayed)}},{key:"emitAllChanges",value:function(e){this._allChanges.next(e)}},{key:"_filterItems",value:function(){var e=this;this.uninitialized||(this._filtered=this._filters.hasActiveFilters()?this._all.filter((function(t){return e._filters.accepts(t)})):this._all.slice(),this._page.totalItems=this._filtered.length,this._sortItems())}},{key:"_sortItems",value:function(){var e=this;this.uninitialized||(this._sort.comparator&&this._filtered.sort((function(t,n){return e._sort.compare(t,n)})),this._changePage())}},{key:"_changePage",value:function(){this.uninitialized||this._page.activated&&0===this._page.size||(this._displayed=this._page.size>0?this._filtered.slice(this._page.firstItem,this._page.lastItem+1):this._filtered,this.emitChange())}},{key:"smart",get:function(){return this._smart}},{key:"all",get:function(){return this._all},set:function(e){this._all=e,this.emitAllChanges(e),this.smart?this._filterItems():(this._displayed=e,this.emitChange())}},{key:"displayed",get:function(){return this._displayed}},{key:"change",get:function(){return this._change.asObservable()}},{key:"allChanges",get:function(){return this._allChanges.asObservable()}},{key:"uninitialized",get:function(){return!this._all}}]),e}()).\u0275fac=function(e){return new(e||CT)(Ke(fA),Ke(PA),Ke(hA))},CT.\u0275prov=he({token:CT,factory:CT.\u0275fac}),CT),MA=((wT=function(){function e(t,n,r,i){var o=this;_classCallCheck(this,e),this.template=t,this.differs=n,this.items=r,this.vcr=i,this.differ=null,this.subscriptions=[],r.smartenUp(),this.iterableProxy=new Uh(this.vcr,this.template,this.differs),this.subscriptions.push(r.change.subscribe((function(e){o.iterableProxy.ngForOf=e,o.iterableProxy.ngDoCheck()})))}return _createClass(e,[{key:"ngDoCheck",value:function(){this.differ||(this.differ=this.differs.find(this._rawItems).create(this.iterableProxy.ngForTrackBy)),this.differ&&this.differ.diff(this._rawItems)&&(this.items.all=this._rawItems)}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"rawItems",set:function(e){this._rawItems=e||[]}},{key:"trackBy",set:function(e){this.iterableProxy.ngForTrackBy=e}}]),e}()).\u0275fac=function(e){return new(e||wT)(Zo(ja),Zo(Na),Zo(LA),Zo(Ba))},wT.\u0275dir=_t({type:wT,selectors:[["","clrDgItems","","clrDgItemsOf",""]],inputs:{rawItems:["clrDgItemsOf","rawItems"],trackBy:["clrDgItemsTrackBy","trackBy"]}}),wT),VA=((kT=function(){function e(t){_classCallCheck(this,e),this.items=t}return _createClass(e,[{key:"emptyDatagrid",get:function(){return!(this.items.loading||this.items.displayed&&0!==this.items.displayed.length)}}]),e}()).\u0275fac=function(e){return new(e||kT)(Zo(LA))},kT.\u0275cmp=dt({type:kT,selectors:[["clr-dg-placeholder"]],hostVars:2,hostBindings:function(e,t){2&e&&Os("datagrid-placeholder-container",!0)},ngContentSelectors:P_,decls:3,vars:4,consts:[[1,"datagrid-placeholder"],["class","datagrid-placeholder-image",4,"ngIf"],[4,"ngIf"],[1,"datagrid-placeholder-image"]],template:function(e,t){1&e&&(ms(),ns(0,"div",0),Ko(1,uk,1,0,"div",1),Ko(2,ck,1,0,void 0,2),rs()),2&e&&(Os("datagrid-empty",t.emptyDatagrid),Ur(1),es("ngIf",t.emptyDatagrid),Ur(1),es("ngIf",t.emptyDatagrid))},directives:[zh],encapsulation:2}),kT),jA=new Ue("POPOVER_HOST_ANCHOR"),UA=((RT=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"focusTrigger",value:function(){this._triggerEl&&this._triggerEl.focus()}},{key:"triggerEl",set:function(e){this._triggerEl=e}}]),e}()).\u0275fac=function(e){return new(e||RT)},RT.\u0275prov=he({token:RT,factory:RT.\u0275fac}),RT),BA=((DT=function(){function e(){_classCallCheck(this,e),this._id=new x}return _createClass(e,[{key:"setId",value:function(e){this._id.next(e)}},{key:"id",get:function(){return this._id.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||DT)},DT.\u0275prov=he({token:DT,factory:DT.\u0275fac}),DT),zA=((OT=function(){function e(t,n,r,i,o,s,a){_classCallCheck(this,e),this.toggleService=t,this.el=n,this.commonStrings=r,this.signpostIdService=i,this.signpostFocusManager=o,this.platformId=a,this.subscriptions=[],this.document=s}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.signpostFocusManager.triggerEl=this.el.nativeElement,this.subscriptions.push(this.toggleService.openChange.subscribe((function(t){e.ariaExpanded=t;var n=e.isOpen;e.isOpen=t,!e.isOpen&&n&&e.focusOnClose()})),this.signpostIdService.id.subscribe((function(t){return e.ariaControl=t})))}},{key:"focusOnClose",value:function(){cf(this.platformId)&&(this.isOpen||this.document.activeElement!==this.document.body||this.signpostFocusManager.focusTrigger())}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"onSignpostTriggerClick",value:function(e){this.toggleService.toggleWithEvent(e)}}]),e}()).\u0275fac=function(e){return new(e||OT)(Zo(_C),Zo(va),Zo(JC),Zo(BA),Zo(UA),Zo(Nl),Zo(Gu))},OT.\u0275dir=_t({type:OT,selectors:[["","clrSignpostTrigger",""]],hostAttrs:[1,"signpost-trigger"],hostVars:5,hostBindings:function(e,t){1&e&&hs("click",(function(e){return t.onSignpostTriggerClick(e)})),2&e&&($o("aria-label",t.commonStrings.keys.signpostToggle)("aria-expanded",t.ariaExpanded)("aria-controls",t.ariaControl),Os("active",t.isOpen))}}),OT),GA=((AT=function(){function e(t){_classCallCheck(this,e),this.commonStrings=t,this.useCustomTrigger=!1}return _createClass(e,[{key:"customTrigger",set:function(e){this.useCustomTrigger=!!e}}]),e}()).\u0275fac=function(e){return new(e||AT)(Zo(JC))},AT.\u0275cmp=dt({type:AT,selectors:[["clr-signpost"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,zA,!0),2&e&&Eu(r=Ru())&&(t.customTrigger=r.first)},hostVars:2,hostBindings:function(e,t){2&e&&Os("signpost",!0)},features:[ha([_C,UA,{provide:jA,useExisting:va},BA])],ngContentSelectors:P_,decls:2,vars:1,consts:[[4,"ngIf"],["type","button","clrSignpostTrigger","",1,"signpost-action","btn","btn-small","btn-link"],["shape","info"]],template:function(e,t){1&e&&(ms(),Ko(0,lk,3,1,"ng-container",0),_s(1)),2&e&&es("ngIf",!t.useCustomTrigger)},directives:[zh,zA,yC],encapsulation:2}),AT),HA=((xT=function(){function e(){_classCallCheck(this,e),this._dynamic=!1}return _createClass(e,[{key:"ngAfterViewInit",value:function(){this.cellView=this.templateRef.createEmbeddedView(null)}},{key:"ngOnDestroy",value:function(){this.cellView.destroy()}}]),e}()).\u0275fac=function(e){return new(e||xT)},xT.\u0275cmp=dt({type:xT,selectors:[["dg-wrapped-cell"]],viewQuery:function(e,t){var n;1&e&&Tu(hk,!0),2&e&&Eu(n=Ru())&&(t.templateRef=n.first)},ngContentSelectors:P_,decls:2,vars:0,consts:[["cellPortal",""]],template:function(e,t){1&e&&(ms(),Ko(0,fk,1,0,"ng-template",null,0,Lu))},encapsulation:2}),xT),qA=((TT=function(){function e(t){_classCallCheck(this,e),this.vcr=t}return _createClass(e,[{key:"ngOnInit",value:function(){this.wrappedInjector=new fE(HA,this.vcr)}},{key:"_view",get:function(){return this.wrappedInjector.get(HA,this.vcr).cellView}}]),e}()).\u0275fac=function(e){return new(e||TT)(Zo(Ba))},TT.\u0275cmp=dt({type:TT,selectors:[["clr-dg-cell"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,GA,!1),2&e&&Eu(r=Ru())&&(t.signpost=r)},hostAttrs:["role","gridcell"],hostVars:4,hostBindings:function(e,t){2&e&&Os("datagrid-cell",!0)("datagrid-signpost-trigger",t.signpost.length>0)},ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2}),TT),WA=function(e){return e[e.DISPLAY=0]="DISPLAY",e[e.CALCULATE=1]="CALCULATE",e}({}),$A=function(e){return e[e.ALIGN_COLUMNS=0]="ALIGN_COLUMNS",e[e.CALCULATE_MODE_ON=1]="CALCULATE_MODE_ON",e[e.CALCULATE_MODE_OFF=2]="CALCULATE_MODE_OFF",e[e.CLEAR_WIDTHS=3]="CLEAR_WIDTHS",e[e.COMPUTE_COLUMN_WIDTHS=4]="COMPUTE_COLUMN_WIDTHS",e}({}),QA=((NT=function(){function e(){_classCallCheck(this,e),this._renderStep=new x,this.alreadySized=!1}return _createClass(e,[{key:"filterRenderSteps",value:function(e){return this.renderStep.pipe(Hc((function(t){return e===t})))}},{key:"resize",value:function(){this._renderStep.next($A.CALCULATE_MODE_ON),this.alreadySized&&this._renderStep.next($A.CLEAR_WIDTHS),this._renderStep.next($A.COMPUTE_COLUMN_WIDTHS),this._renderStep.next($A.ALIGN_COLUMNS),this.alreadySized=!0,this._renderStep.next($A.CALCULATE_MODE_OFF)}},{key:"renderStep",get:function(){return this._renderStep.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||NT)},NT.\u0275prov=he({token:NT,factory:NT.\u0275fac}),NT),KA=((PT=function(){function e(t){var n=this;_classCallCheck(this,e),this.subscriptions=[],this._view=new Fc(WA.DISPLAY),this.subscriptions.push(t.filterRenderSteps($A.CALCULATE_MODE_ON).subscribe((function(){return n._view.next(WA.CALCULATE)}))),this.subscriptions.push(t.filterRenderSteps($A.CALCULATE_MODE_OFF).subscribe((function(){return n._view.next(WA.DISPLAY)})))}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"view",get:function(){return this._view.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||PT)(Ke(QA))},PT.\u0275prov=he({token:PT,factory:PT.\u0275fac}),PT),YA=function(e){return e[e.None=0]="None",e[e.Single=1]="Single",e[e.Multi=2]="Multi",e}({}),ZA=0,XA=((UT=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._items=t,this._filters=n,this.preserveSelection=!1,this.prevSelectionRefs=[],this.lockedRefs=[],this._selectionType=YA.None,this.rowSelectionMode=!1,this.debounce=!1,this.subscriptions=[],this._change=new x,this.id="clr-dg-selection"+ZA++,this.subscriptions.push(this._filters.change.subscribe((function(){r._selectable&&!r.preserveSelection&&r.clearSelection()}))),this.subscriptions.push(this._items.allChanges.subscribe((function(e){var t=[];switch(r.selectionType){case YA.None:break;case YA.Single:var n,i=r._items.trackBy,o=!1;if(r.currentSingle&&!r.prevSingleSelectionRef&&r._items.all&&r._items.trackBy){var s=r._items.all.findIndex((function(e){return e===r.currentSingle}));r.prevSingleSelectionRef=r._items.trackBy(s,r.currentSingle)}e.forEach((function(e,s){var a=i(s,e);r.prevSingleSelectionRef===a&&(n=e,o=!0),r.lockedRefs.indexOf(a)>-1&&t.push(a)})),r._items.smart&&!n&&(o=!0),setTimeout((function(){o&&(r.currentSingle=n)}),0);break;case YA.Multi:var a=r.current.slice(),u=r._items.trackBy,c=!1;r.current.length>0&&r.prevSelectionRefs.length!==r.current.length&&r._items.all&&r._items.trackBy&&(r.prevSelectionRefs=[],r.current.forEach((function(e){var t=r._items.all.findIndex((function(t){return t===e}));r.prevSelectionRefs.push(r._items.trackBy(t,e))}))),e.forEach((function(e,n){var i=u(n,e);r.lockedRefs.indexOf(i)>-1&&t.push(i)})),a.length>0&&(e.forEach((function(e,t){var n=u(t,e),i=r.prevSelectionRefs.indexOf(n);i>-1&&(a[i]=e,c=!0)})),r._items.smart&&(a=a.filter((function(t){return e.indexOf(t)>-1})),r.current.length!==a.length&&(c=!0)),setTimeout((function(){c&&(r.current=a)}),0))}r.lockedRefs=t})))}return _createClass(e,[{key:"clearSelection",value:function(){this.current.length=0,this.prevSelectionRefs=[],this._currentSingle=null,this.prevSingleSelectionRef=null,this.emitChange()}},{key:"destroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"updateCurrent",value:function(e,t){var n=this;this._current=e,t&&(this.emitChange(),this.debounce=!0,setTimeout((function(){return n.debounce=!1})))}},{key:"emitChange",value:function(){this._selectionType===YA.Single?this._change.next(this.currentSingle):this._selectionType===YA.Multi&&this._change.next(this.current)}},{key:"isSelected",value:function(e){return this._selectionType===YA.Single?this.currentSingle===e:this._selectionType===YA.Multi&&this.current.indexOf(e)>=0}},{key:"selectItem",value:function(e){if(this.current.push(e),this._items.trackBy&&this._items.all){var t=this._items.all.findIndex((function(t){return t===e}));this.prevSelectionRefs.push(this._items.trackBy(t,e))}}},{key:"deselectItem",value:function(e){if(this.current.splice(e,1),this._items.trackBy&&e<this.prevSelectionRefs.length){var t=this.prevSelectionRefs.splice(e,1);this.lockedRefs=this.lockedRefs.filter((function(e){return e!==t[0]}))}}},{key:"setSelected",value:function(e,t){switch(this._selectionType){case YA.None:case YA.Single:break;case YA.Multi:var n=this.current.indexOf(e);n>=0&&!t?(this.deselectItem(n),this.emitChange()):n<0&&t&&(this.selectItem(e),this.emitChange())}}},{key:"isAllSelected",value:function(){var e=this;if(this._selectionType!==YA.Multi||!this._items.displayed)return!1;var t=this._items.displayed.filter((function(t){return!1===e.isLocked(t)}));return!(t.length<1)&&t.filter((function(t){return e.current.indexOf(t)>-1})).length===t.length}},{key:"canItBeLocked",value:function(){return this._selectionType!==YA.None&&Array.isArray(this._items.all)}},{key:"lockItem",value:function(e,t){if(this.canItBeLocked()){var n=this._items.trackBy(this._items.all.findIndex((function(t){return t===e})),e);!0===t?this.lockedRefs.push(n):this.lockedRefs=this.lockedRefs.filter((function(e){return n!==e}))}}},{key:"isLocked",value:function(e){if(this.canItBeLocked()){var t=this._items.trackBy(this._items.all.findIndex((function(t){return t===e})),e);return this.lockedRefs.indexOf(t)>-1}return!1}},{key:"toggleAll",value:function(){var e=this;this._selectionType!==YA.None&&this._selectionType!==YA.Single&&(this.isAllSelected()?this._items.displayed.forEach((function(t){var n=e.current.indexOf(t);n>-1&&!1===e.isLocked(t)&&e.deselectItem(n)})):this._items.displayed.forEach((function(t){e.current.indexOf(t)<0&&!1===e.isLocked(t)&&e.selectItem(t)})),this.emitChange())}},{key:"selectionType",get:function(){return this._selectionType},set:function(e){e!==this.selectionType&&(this._selectionType=e,e===YA.None?delete this.current:this.updateCurrent([],!1))}},{key:"_selectable",get:function(){return this._selectionType===YA.Multi||this._selectionType===YA.Single}},{key:"currentSingle",get:function(){return this._currentSingle},set:function(e){var t=this;if(e!==this._currentSingle){if(this._currentSingle=e,this._items.all&&this._items.trackBy&&e){var n=this._items.all.findIndex((function(t){return t===e}));this.prevSingleSelectionRef=this._items.trackBy(n,e)}this.emitChange(),this.debounce=!0,setTimeout((function(){return t.debounce=!1}))}}},{key:"current",get:function(){return this._current},set:function(e){this.updateCurrent(e,!0)}},{key:"change",get:function(){return this._change.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||UT)(Ke(LA),Ke(fA))},UT.\u0275prov=he({token:UT,factory:UT.\u0275fac}),UT),JA=((jT=function(){function e(){_classCallCheck(this,e),this._dynamic=!1}return _createClass(e,[{key:"ngAfterViewInit",value:function(){this.rowView=this.templateRef.createEmbeddedView(null)}},{key:"ngOnDestroy",value:function(){this.rowView.destroy()}}]),e}()).\u0275fac=function(e){return new(e||jT)},jT.\u0275cmp=dt({type:jT,selectors:[["dg-wrapped-row"]],viewQuery:function(e,t){var n;1&e&&Tu(dk,!0),2&e&&Eu(n=Ru())&&(t.templateRef=n.first)},ngContentSelectors:P_,decls:2,vars:0,consts:[["rowPortal",""]],template:function(e,t){1&e&&(ms(),Ko(0,pk,1,0,"ng-template",null,0,Lu))},encapsulation:2}),jT),eO=0,tO=((VT=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).expandableId="",e._replace=new Fc(!1),e._animate=new x,eO++,e.expandableId="clr-dg-expandable-row-"+eO,e}return _createClass(n,[{key:"loadingStateChange",value:function(e){_get(_getPrototypeOf(n.prototype),"loadingStateChange",this).call(this,e),e!==QC.LOADING&&this._animate.next()}},{key:"setReplace",value:function(e){this._replace.next(e)}},{key:"expanded",get:function(){return this._expanded},set:function(e){(e=!!e)!==this._expanded&&(this._expanded=e,this._animate.next(),this._expandChange.next(e))}},{key:"replace",get:function(){return this._replace.asObservable()}},{key:"animate",get:function(){return this._animate.asObservable()}}]),n}(TE)).\u0275fac=function(e){return new(e||VT)},VT.\u0275prov=he({token:VT,factory:VT.\u0275fac}),VT),nO=0,rO=((MT=function(){function e(t,n,r,i,o,s,a,u,c,l){var h=this;_classCallCheck(this,e),this.selection=t,this.rowActionService=n,this.globalExpandable=r,this.expand=i,this.detailService=o,this.displayMode=s,this.vcr=a,this.renderer=u,this.el=c,this.commonStrings=l,this.SELECTION_TYPE=YA,this.expandAnimationTrigger=!1,this._selected=!1,this.selectedChanged=new pu(!1),this.expandedChange=new pu(!1),this._detailOpenLabel="",this._detailCloseLabel="",this.subscriptions=[],this.displayCells=!1,nO++,this.id="clr-dg-row"+nO,this.radioId="clr-dg-row-rd"+nO,this.checkboxId="clr-dg-row-cb"+nO,this.expandableId=i.expandableId,this.subscriptions.push(Wf(this.expand.replace,this.expand.expandChange).subscribe((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];n&&r?(h.replaced=!0,h.renderer.addClass(h.el.nativeElement,"datagrid-row-replaced")):(h.replaced=!1,h.renderer.removeClass(h.el.nativeElement,"datagrid-row-replaced"))})))}return _createClass(e,[{key:"toggle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.selected;e!==this.selected&&(this.selected=e,this.selectedChanged.emit(e))}},{key:"toggleExpand",value:function(){this.expand.expandable&&(this.expandAnimation.updateStartHeight(),this.expanded=!this.expanded,this.expandedChange.emit(this.expanded))}},{key:"ngAfterContentInit",value:function(){var e=this;this.dgCells.changes.subscribe((function(){e.dgCells.forEach((function(t){t._view.destroyed||e._scrollableCells.insert(t._view)}))}))}},{key:"ngAfterViewInit",value:function(){var e=this;this.subscriptions.push(this.displayMode.view.subscribe((function(t){for(var n=e._scrollableCells.length;n>0;n--)e._scrollableCells.detach();for(var r=e._calculatedCells.length;r>0;r--)e._calculatedCells.detach();t===WA.CALCULATE?(e.displayCells=!1,e.dgCells.forEach((function(t){t._view.destroyed||e._calculatedCells.insert(t._view)}))):(e.displayCells=!0,e.dgCells.forEach((function(t){t._view.destroyed||e._scrollableCells.insert(t._view)})))})),this.expand.animate.subscribe((function(){e.expandAnimationTrigger=!e.expandAnimationTrigger})))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"ngOnInit",value:function(){this.wrappedInjector=new fE(JA,this.vcr)}},{key:"selected",get:function(){return this.selection.selectionType===YA.None?this._selected:this.selection.isSelected(this.item)},set:function(e){this.selection.selectionType===YA.None?this._selected=e:this.selection.setSelected(this.item,e)}},{key:"clrDgSelectable",set:function(e){this.selection.lockItem(this.item,!1===e)},get:function(){return!this.selection.isLocked(this.item)}},{key:"expanded",get:function(){return this.expand.expanded},set:function(e){this.expand.expanded=e}},{key:"clrDgDetailOpenLabel",set:function(e){this._detailOpenLabel=e},get:function(){return this._detailOpenLabel?this._detailOpenLabel:this.commonStrings.keys.open}},{key:"clrDgDetailCloseLabel",set:function(e){this._detailCloseLabel=e},get:function(){return this._detailCloseLabel?this._detailCloseLabel:this.commonStrings.keys.close}},{key:"_view",get:function(){return this.wrappedInjector.get(JA,this.vcr).rowView}}]),e}()).\u0275fac=function(e){return new(e||MT)(Zo(XA),Zo(SA),Zo(AA),Zo(tO),Zo(xA),Zo(KA),Zo(Ba),Zo(_a),Zo(va),Zo(JC))},MT.\u0275cmp=dt({type:MT,selectors:[["clr-dg-row"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,qA,!1),2&e&&Eu(r=Ru())&&(t.dgCells=r)},viewQuery:function(e,t){var n;1&e&&(Tu(tA,!0),Tu(vk,!0),Tu(gk,!0,Ba),Tu(yk,!0,Ba),Tu(mk,!0,Ba)),2&e&&(Eu(n=Ru())&&(t.expandAnimation=n.first),Eu(n=Ru())&&(t.detailButton=n.first),Eu(n=Ru())&&(t._stickyCells=n.first),Eu(n=Ru())&&(t._scrollableCells=n.first),Eu(n=Ru())&&(t._calculatedCells=n.first))},hostAttrs:["role","rowgroup"],hostVars:5,hostBindings:function(e,t){2&e&&($o("aria-owns",t.id),Os("datagrid-row",!0)("datagrid-selected",t.selected))},inputs:{selected:["clrDgSelected","selected"],clrDgSelectable:"clrDgSelectable",expanded:["clrDgExpanded","expanded"],clrDgDetailOpenLabel:"clrDgDetailOpenLabel",clrDgDetailCloseLabel:"clrDgDetailCloseLabel",item:["clrDgItem","item"]},outputs:{selectedChanged:"clrDgSelectedChange",expandedChange:"clrDgExpandedChange"},features:[ha([tO,{provide:TE,useExisting:tO},{provide:$C,useExisting:tO}])],ngContentSelectors:qk,decls:9,vars:3,consts:[["class","datagrid-row-clickable",4,"ngIf"],[3,"clrExpandTrigger",4,"ngIf"],[4,"ngIf"],["detail",""],["rowContent",""],["calculatedCells",""],[1,"datagrid-row-clickable"],[3,"clrExpandTrigger"],[3,"ngTemplateOutlet"],["role","row",1,"datagrid-row-master","datagrid-row-flex",3,"id"],[1,"datagrid-row-sticky"],["stickyCells",""],["class","datagrid-select datagrid-fixed-column datagrid-cell","role","gridcell",3,"ngClass",4,"ngIf"],["class","datagrid-row-actions datagrid-fixed-column datagrid-cell","role","gridcell",4,"ngIf"],["class","datagrid-expandable-caret datagrid-fixed-column datagrid-cell","role","gridcell",4,"ngIf"],["class","datagrid-detail-caret datagrid-fixed-column datagrid-cell",4,"ngIf"],[1,"datagrid-row-scrollable",3,"ngClass"],[1,"datagrid-scrolling-cells"],["scrollableCells",""],["role","gridcell",1,"datagrid-select","datagrid-fixed-column","datagrid-cell",3,"ngClass"],["clrCheckbox","","type","checkbox",3,"ngModel","id","ngModelChange"],["type","radio","clrRadio","",3,"id","name","value","ngModel","checked","ngModelChange"],["role","gridcell",1,"datagrid-row-actions","datagrid-fixed-column","datagrid-cell"],["role","gridcell",1,"datagrid-expandable-caret","datagrid-fixed-column","datagrid-cell"],["type","button","class","datagrid-expandable-caret-button",3,"click",4,"ngIf"],["clrSmall","",4,"ngIf"],["type","button",1,"datagrid-expandable-caret-button",3,"click"],["shape","caret",1,"datagrid-expandable-caret-icon"],["clrSmall",""],[1,"datagrid-detail-caret","datagrid-fixed-column","datagrid-cell"],["type","button","aria-haspopup","dialog",1,"datagrid-detail-caret-button",3,"click"],["detailButton",""],["shape","angle-double",1,"datagrid-detail-caret-icon"]],template:function(e,t){1&e&&(ms(Hk),Ko(0,Ck,3,2,"label",0),Ko(1,Ek,2,2,"clr-expandable-animation",1),Ko(2,Tk,1,1,void 0,2),Ko(3,xk,1,0,"ng-template",null,3,Lu),Ko(5,Gk,16,13,"ng-template",null,4,Lu),as(7,null,5)),2&e&&(es("ngIf",t.selection.rowSelectionMode),Ur(1),es("ngIf",!t.selection.rowSelectionMode&&t.expand.expandable),Ur(1),es("ngIf",!t.selection.rowSelectionMode&&!t.expand.expandable))},directives:[zh,aE,tA,Zh,Vh,ky,mE,Py,i_,Jy,Sy,Ox,yC,rA],encapsulation:2}),MT),iO=((LT=function(){function e(t,n,r,i){var o=this;_classCallCheck(this,e),this.filters=t,this.sort=n,this.page=r,this.debouncer=i,this.change=this.debouncer.change.pipe(j((function(){return o.state})))}return _createClass(e,[{key:"state",get:function(){var e={};this.page.size>0&&(e.page={from:this.page.firstItem,to:this.page.lastItem,size:this.page.size,current:this.page.current}),this.sort.comparator&&(e.sort=this.sort.comparator instanceof DA?{by:this.sort.comparator.prop,reverse:this.sort.reverse}:{by:this.sort.comparator,reverse:this.sort.reverse});var t=this.filters.getActiveFilters();if(t.length>0){e.filters=[];var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;e.filters.push(i.state?i.state:i)}}catch(o){r.e(o)}finally{r.f()}}return e}}]),e}()).\u0275fac=function(e){return new(e||LT)(Ke(fA),Ke(PA),Ke(hA),Ke(lA))},LT.\u0275prov=he({token:LT,factory:LT.\u0275fac}),LT),oO=((FT=function(){function e(t){_classCallCheck(this,e),this.platformId=t}return _createClass(e,[{key:"getColumnDragHeight",value:function(){if(this.tableRef)return this.tableRef.clientHeight+"px"}},{key:"tableRef",get:function(){return this._tableRef},set:function(e){this._tableRef=e}},{key:"table",set:function(e){cf(this.platformId)&&e.nativeElement&&(this.tableRef=e.nativeElement.querySelector(".datagrid-table"))}}]),e}()).\u0275fac=function(e){return new(e||FT)(Ke(Gu))},FT.\u0275prov=he({token:FT,factory:FT.\u0275fac}),FT),sO=function(e){return e[e.WIDTH=0]="WIDTH",e[e.HIDDEN=1]="HIDDEN",e}({}),aO=Object.keys(sO).map((function(e){return sO[e]})).filter((function(e){return e===parseInt(e,10)})),uO=((tx=function(){function e(){_classCallCheck(this,e),this.columns=[],this._cache=[]}return _createClass(e,[{key:"cache",value:function(){this._cache=this.columns.map((function(e){var t=Object.assign({},e.value);return delete t.changes,t}))}},{key:"hasCache",value:function(){return!!this._cache.length}},{key:"resetToLastCache",value:function(){var e=this;this._cache.forEach((function(t,n){e.columns[n].next(Object.assign(Object.assign({},t),{changes:aO}))})),this._cache=[]}},{key:"emitStateChangeAt",value:function(e,t){this.columns[e]&&this.emitStateChange(this.columns[e],t)}},{key:"emitStateChange",value:function(e,t){e.next(Object.assign(Object.assign({},e.value),t))}},{key:"columnStates",get:function(){return this.columns.map((function(e){return e.value}))}},{key:"hasHideableColumns",get:function(){return this.columnStates.filter((function(e){return e.hideable})).length>0}}]),e}()).\u0275fac=function(e){return new(e||tx)},tx.\u0275prov=he({token:tx,factory:tx.\u0275fac}),tx),cO=((ex=function(){function e(t,n,r,i,o,s,a,u,c,l,h,f,d){_classCallCheck(this,e),this.organizer=t,this.items=n,this.expandableRows=r,this.selection=i,this.rowActionService=o,this.stateProvider=s,this.displayMode=a,this.renderer=u,this.detailService=c,this.el=h,this.page=f,this.commonStrings=d,this.SELECTION_TYPE=YA,this.refresh=new pu(!1),this.selectedChanged=new pu(!1),this.singleSelectedChanged=new pu(!1),this.clrDgSingleSelectionAriaLabel=this.commonStrings.keys.singleSelectionAriaLabel,this.clrDgSingleActionableAriaLabel=this.commonStrings.keys.singleActionableAriaLabel,this.clrDetailExpandableAriaLabel=this.commonStrings.keys.detailExpandableAriaLabel,this._subscriptions=[],this.detailService.id=l}return _createClass(e,[{key:"dataChanged",value:function(){this.items.refresh()}},{key:"ngAfterContentInit",value:function(){var e=this;this.items.smart||(this.items.all=this.rows.map((function(e){return e.item}))),this._subscriptions.push(this.rows.changes.subscribe((function(){e.items.smart||(e.items.all=e.rows.map((function(e){return e.item}))),e.rows.forEach((function(t){e._displayedRows.insert(t._view)}))})))}},{key:"ngAfterViewInit",value:function(){var e=this;this.refresh.emit(this.stateProvider.state),this._subscriptions.push(this.stateProvider.change.subscribe((function(t){return e.refresh.emit(t)})),this.selection.change.subscribe((function(t){e.selection.selectionType===YA.Single?e.singleSelectedChanged.emit(t):e.selection.selectionType===YA.Multi&&e.selectedChanged.emit(t)})),this.page.change.subscribe((function(){e.datagridTable.nativeElement.focus()})),this.displayMode.view.subscribe((function(t){for(var n=e._projectedDisplayColumns.length;n>0;n--)e._projectedDisplayColumns.detach();for(var r=e._projectedCalculationColumns.length;r>0;r--)e._projectedCalculationColumns.detach();for(var i=e._calculationRows.length;i>0;i--)e._calculationRows.detach();for(var o=e._displayedRows.length;o>0;o--)e._displayedRows.detach();t===WA.DISPLAY?(e.renderer.removeClass(e.el.nativeElement,"datagrid-calculate-mode"),e.columns.forEach((function(t){e._projectedDisplayColumns.insert(t._view)})),e.rows.forEach((function(t){e._displayedRows.insert(t._view)}))):(e.renderer.addClass(e.el.nativeElement,"datagrid-calculate-mode"),e.columns.forEach((function(t){e._projectedCalculationColumns.insert(t._view)})),e.rows.forEach((function(t){e._calculationRows.insert(t._view)})))})))}},{key:"ngOnDestroy",value:function(){this._subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"resize",value:function(){this.organizer.resize()}},{key:"loading",get:function(){return this.items.loading},set:function(e){this.items.loading=e}},{key:"selected",set:function(e){this.selection.selectionType=e?YA.Multi:YA.None,this.selection.updateCurrent(e,!1)}},{key:"singleSelected",set:function(e){this.selection.selectionType=YA.Single,e?this.selection.currentSingle=e:this.selection.currentSingle&&(this.selection.currentSingle=null)}},{key:"clrDgPreserveSelection",set:function(e){this.selection.preserveSelection=e}},{key:"rowSelectionMode",set:function(e){this.selection.rowSelectionMode=e}},{key:"allSelected",get:function(){return this.selection.isAllSelected()},set:function(e){this.selection.toggleAll()}}]),e}()).\u0275fac=function(e){return new(e||ex)(Zo(QA),Zo(LA),Zo(AA),Zo(XA),Zo(SA),Zo(iO),Zo(KA),Zo(_a),Zo(xA),Zo(tS),Zo(va),Zo(hA),Zo(JC))},ex.\u0275cmp=dt({type:ex,selectors:[["clr-datagrid"]],contentQueries:function(e,t,n){var r;1&e&&(Au(n,MA,!0),Au(n,VA,!0),Au(n,FA,!1),Au(n,rO,!1)),2&e&&(Eu(r=Ru())&&(t.iterator=r.first),Eu(r=Ru())&&(t.placeholder=r.first),Eu(r=Ru())&&(t.columns=r),Eu(r=Ru())&&(t.rows=r))},viewQuery:function(e,t){var n;1&e&&(Tu(Wk,!0,Ba),Tu($k,!0,va),Tu(Qk,!0,Ba),Tu(Kk,!0,Ba),Tu(Yk,!0,Ba),Tu(Zk,!0,Ba)),2&e&&(Eu(n=Ru())&&(t.scrollableColumns=n.first),Eu(n=Ru())&&(t.datagridTable=n.first),Eu(n=Ru())&&(t._projectedDisplayColumns=n.first),Eu(n=Ru())&&(t._projectedCalculationColumns=n.first),Eu(n=Ru())&&(t._displayedRows=n.first),Eu(n=Ru())&&(t._calculationRows=n.first))},hostVars:4,hostBindings:function(e,t){2&e&&Os("datagrid-host",!0)("datagrid-detail-open",t.detailService.isOpen)},inputs:{clrDgSingleSelectionAriaLabel:"clrDgSingleSelectionAriaLabel",clrDgSingleActionableAriaLabel:"clrDgSingleActionableAriaLabel",clrDetailExpandableAriaLabel:"clrDetailExpandableAriaLabel",loading:["clrDgLoading","loading"],selected:["clrDgSelected","selected"],singleSelected:["clrDgSingleSelected","singleSelected"],clrDgPreserveSelection:"clrDgPreserveSelection",rowSelectionMode:["clrDgRowSelection","rowSelectionMode"]},outputs:{refresh:"clrDgRefresh",selectedChanged:"clrDgSelectedChange",singleSelectedChanged:"clrDgSingleSelectedChange"},features:[ha([XA,PA,fA,hA,LA,QA,SA,AA,lA,xA,US,iO,oO,uO,KA])],ngContentSelectors:ow,decls:32,vars:7,consts:[[1,"datagrid-outer-wrapper"],[1,"datagrid-inner-wrapper"],[1,"datagrid"],["datagrid",""],[1,"datagrid-table-wrapper"],["role","grid","tabindex","-1",1,"datagrid-table"],["datagridTable",""],["role","rowgroup",1,"datagrid-header"],["role","row",1,"datagrid-row"],[1,"datagrid-row-master","datagrid-row-flex"],[1,"datagrid-row-sticky"],["role","columnheader","class","datagrid-column datagrid-select datagrid-fixed-column",4,"ngIf"],["role","columnheader","class","datagrid-column datagrid-row-actions datagrid-fixed-column",4,"ngIf"],["role","columnheader","class","datagrid-column datagrid-expandable-caret datagrid-fixed-column",4,"ngIf"],[1,"datagrid-row-scrollable"],["projectedDisplayColumns",""],["displayedRows",""],[4,"ngIf"],["class","datagrid-spinner",4,"ngIf"],[1,"datagrid-calculation-table"],[1,"datagrid-calculation-header"],["projectedCalculationColumns",""],["calculationRows",""],["role","columnheader",1,"datagrid-column","datagrid-select","datagrid-fixed-column"],[1,"datagrid-column-title"],["clrCheckbox","","type","checkbox",3,"ngModel","ngModelChange"],[1,"datagrid-column-separator"],["role","columnheader",1,"datagrid-column","datagrid-row-actions","datagrid-fixed-column"],["role","columnheader",1,"datagrid-column","datagrid-expandable-caret","datagrid-fixed-column"],[1,"datagrid-spinner"],["clrMedium",""]],template:function(e,t){1&e&&(ms(iw),_s(0),ns(1,"div",0),ns(2,"div",1),ns(3,"div",2,3),ns(5,"div",4),ns(6,"div",5,6),ns(8,"div",7),ns(9,"div",8),ns(10,"div",9),ns(11,"div",10),Ko(12,Xk,4,2,"div",11),Ko(13,Jk,2,1,"div",11),Ko(14,ew,2,1,"div",12),Ko(15,tw,2,1,"div",13),rs(),ns(16,"div",14),as(17,null,15),rs(),rs(),rs(),rs(),as(19,null,16),_s(21,1),Ko(22,nw,1,0,"clr-dg-placeholder",17),rs(),rs(),rs(),_s(23,2),Ko(24,rw,3,0,"div",18),rs(),_s(25,3),rs(),ns(26,"div",19),ns(27,"div",20),as(28,null,21),rs(),as(30,null,22),rs()),2&e&&(Ur(3),$o("aria-hidden",!!t.detailService.isOpen||null),Ur(9),es("ngIf",t.selection.selectionType===t.SELECTION_TYPE.Multi),Ur(1),es("ngIf",t.selection.selectionType===t.SELECTION_TYPE.Single),Ur(1),es("ngIf",t.rowActionService.hasActionableRow),Ur(1),es("ngIf",t.expandableRows.hasExpandableRow||t.detailService.enabled),Ur(7),es("ngIf",!t.placeholder),Ur(2),es("ngIf",t.loading))},directives:[zh,ky,mE,Py,i_,VA,rA],encapsulation:2}),ex),lO=((JT=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||JT)},JT.\u0275cmp=dt({type:JT,selectors:[["clr-dg-action-bar"]],hostVars:2,hostBindings:function(e,t){2&e&&Os("datagrid-action-bar",!0)},ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2}),JT),hO=0,fO=((XT=function(){function e(t,n,r,i,o,s){var a=this;_classCallCheck(this,e),this.rowActionService=t,this.commonStrings=n,this.platformId=r,this.zone=i,this.smartToggleService=o,this.popoverId=s,this.subscriptions=[],this.smartPosition={axis:UC.HORIZONTAL,side:BS.AFTER,anchor:wC.CENTER,content:wC.CENTER},this._open=!1,this.openChange=new pu(!1),this.rowActionService.register(),this.subscriptions.push(this.smartToggleService.openChange.subscribe((function(e){a.open=e,e&&a.focusFirstButton()}))),this.popoverId="clr-action-menu"+hO++}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.rowActionService.unregister(),this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"closeOverflowContent",value:function(e){this.smartToggleService.toggleWithEvent(e)}},{key:"focusFirstButton",value:function(){cf(this.platformId)&&this.zone.runOutsideAngular((function(){setTimeout((function(){var e=document.querySelector("button.action-item");e&&e.focus()}))}))}},{key:"open",get:function(){return this._open},set:function(e){var t=!!e;!!t!==this.open&&(this.smartToggleService.open=t,this.openChange.emit(t),this._open=t)}}]),e}()).\u0275fac=function(e){return new(e||XT)(Zo(SA),Zo(JC),Zo(Gu),Zo(oc),Zo(_C),Zo(tS))},XT.\u0275cmp=dt({type:XT,selectors:[["clr-dg-action-overflow"]],inputs:{open:["clrDgActionOverflowOpen","open"]},outputs:{openChange:"clrDgActionOverflowOpenChange"},features:[ha([US,_C,bC,BC])],ngContentSelectors:P_,decls:4,vars:8,consts:[["type","button","role","button","aria-haspopup","true","clrPopoverAnchor","","clrPopoverOpenCloseButton","",1,"datagrid-action-toggle"],["anchor",""],["shape","ellipsis-vertical"],["class","datagrid-action-overflow","role","menu","clrFocusTrap","",3,"id","click",4,"clrPopoverContent","clrPopoverContentAt","clrPopoverContentOutsideClickToClose","clrPopoverContentScrollToClose"],["role","menu","clrFocusTrap","",1,"datagrid-action-overflow",3,"id","click"]],template:function(e,t){1&e&&(ms(),ns(0,"button",0,1),is(2,"clr-icon",2),rs(),Ko(3,sw,2,3,"div",3)),2&e&&($o("aria-controls",t.popoverId)("aria-expanded",t.open)("aria-label",t.commonStrings.keys.rowActions),Ur(2),$o("title",t.commonStrings.keys.rowActions),Ur(1),es("clrPopoverContent",t.open)("clrPopoverContentAt",t.smartPosition)("clrPopoverContentOutsideClickToClose",!0)("clrPopoverContentScrollToClose",!0))},directives:[qC,GC,yC,zC,DE],encapsulation:2}),XT),dO=((ZT=function(){function e(t,n,r){_classCallCheck(this,e),this.el=t,this.domAdapter=n,this.organizer=r,this._resizedBy=0}return _createClass(e,[{key:"startResize",value:function(){this._resizedBy=0,this.isWithinMaxResizeRange=!0,this.widthBeforeResize=this.domAdapter.clientRect(this.el.nativeElement).width}},{key:"endResize",value:function(){this.organizer.resize()}},{key:"calculateResize",value:function(e){var t=e.dragPosition.moveX;t<-this.maxResizeRange?(this._resizedBy=-this.maxResizeRange,this.isWithinMaxResizeRange=!1):(this._resizedBy=t,this.isWithinMaxResizeRange=!0)}},{key:"resizedBy",get:function(){return this._resizedBy}},{key:"minColumnWidth",get:function(){return this.domAdapter.minWidth(this.el.nativeElement)||96}},{key:"maxResizeRange",get:function(){return this.widthBeforeResize-this.minColumnWidth}},{key:"widthAfterResize",get:function(){return this.widthBeforeResize+this._resizedBy}}]),e}()).\u0275fac=function(e){return new(e||ZT)(Ke(va),Ke(Gx),Ke(QA))},ZT.\u0275prov=he({token:ZT,factory:ZT.\u0275fac}),ZT),pO=((YT=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.columnResizerService=t,this.renderer=n,this.tableSizeService=r,this.document=i,this.columnSeparatorId=o}return _createClass(e,[{key:"showTracker",value:function(e){this.columnResizerService.startResize();var t=this.tableSizeService.getColumnDragHeight();this.renderer.setStyle(e,"height",t),this.renderer.setStyle(e,"display","block")}},{key:"moveTracker",value:function(e,t){this.columnResizerService.calculateResize(e),this.renderer.setStyle(t,"transform","translateX(".concat(this.columnResizerService.resizedBy,"px)")),this.renderer.setStyle(this.document.body,"cursor","col-resize"),this.redFlagTracker(t)}},{key:"hideTracker",value:function(e){this.columnResizerService.endResize(),this.renderer.setStyle(e,"display","none"),this.renderer.setStyle(e,"transform","translateX(0px)"),this.renderer.setStyle(this.document.body,"cursor","auto")}},{key:"redFlagTracker",value:function(e){var t;t!==this.columnResizerService.isWithinMaxResizeRange&&((t=this.columnResizerService.isWithinMaxResizeRange)?this.renderer.removeClass(e,"exceeded-max"):this.renderer.addClass(e,"exceeded-max"))}}]),e}()).\u0275fac=function(e){return new(e||YT)(Zo(dO),Zo(_a),Zo(oO),Zo(Nl),Zo(tS))},YT.\u0275cmp=dt({type:YT,selectors:[["clr-dg-column-separator"]],hostVars:2,hostBindings:function(e,t){2&e&&Os("datagrid-column-separator",!0)},features:[ha([US])],decls:3,vars:1,consts:[["aria-hidden","true","clrDraggable","",1,"datagrid-column-handle",3,"clrGroup","clrDragStart","clrDragMove","clrDragEnd"],[1,"datagrid-column-resize-tracker"],["resizeTrackerEl",""]],template:function(e,t){if(1&e){var n=us();ns(0,"div",0),hs("clrDragStart",(function(){Yt(n);var e=Yo(2);return t.showTracker(e)}))("clrDragMove",(function(e){Yt(n);var r=Yo(2);return t.moveTracker(e,r)}))("clrDragEnd",(function(){Yt(n);var e=Yo(2);return t.hideTracker(e)})),rs(),is(1,"div",1,2)}2&e&&es("clrGroup",t.columnSeparatorId)},directives:[Jx],encapsulation:2}),YT),vO=((KT=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||KT)},KT.\u0275cmp=dt({type:KT,selectors:[["clr-dg-column-toggle-title"]],ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2}),KT),gO=((QT=function(){function e(t){_classCallCheck(this,e),this.columnsService=t,this.allSelected=new pu}return _createClass(e,[{key:"hideableColumns",value:function(){return this.columnsService.columns.filter((function(e){return e.value.hideable}))}},{key:"selectAll",value:function(){var e=this;this.hideableColumns().forEach((function(t){return e.columnsService.emitStateChange(t,{hidden:!1,changes:[sO.HIDDEN]})})),this.allSelected.next(!0)}},{key:"clrAllSelected",get:function(){return this.allSelected.asObservable()}},{key:"allHideablesVisible",get:function(){return 0===this.hideableColumns().filter((function(e){return e.value.hidden})).length}}]),e}()).\u0275fac=function(e){return new(e||QT)(Zo(uO))},QT.\u0275cmp=dt({type:QT,selectors:[["clr-dg-column-toggle-button"]],outputs:{clrAllSelected:"clrAllSelected"},ngContentSelectors:P_,decls:2,vars:1,consts:[["type","button",1,"btn","btn-sm","btn-link","switch-button",3,"disabled","click"]],template:function(e,t){1&e&&(ms(),ns(0,"button",0),hs("click",(function(){return t.selectAll()})),_s(1),rs()),2&e&&es("disabled",t.allHideablesVisible)},encapsulation:2}),QT),yO=(($T=function(){function e(t,n,r,i,o,s){_classCallCheck(this,e),this.commonStrings=t,this.columnsService=n,this.columnSwitchId=r,this.platformId=i,this.zone=o,this.popoverId=s,this.smartPosition={axis:UC.VERTICAL,side:BS.BEFORE,anchor:wC.START,content:wC.START}}return _createClass(e,[{key:"toggleColumnState",value:function(e,t){var n=this.columnsService.columns.filter((function(t){return t.value===e}))[0];this.columnsService.emitStateChange(n,{hidden:t,changes:[sO.HIDDEN]})}},{key:"toggleSwitchPanel",value:function(){var e=this;this.openState=!this.openState,this.openState&&cf(this.platformId)&&this.menuDescriptionElement&&this.zone.runOutsideAngular((function(){setTimeout((function(){e.menuDescriptionElement.nativeElement.focus()}))}))}},{key:"allColumnsSelected",value:function(){this.allSelectedElement.nativeElement.focus()}},{key:"trackByFn",value:function(e){return e}},{key:"allColumnsVisible",get:function(){return this._allColumnsVisible},set:function(e){this._allColumnsVisible=e}},{key:"hideableColumnStates",get:function(){return this.columnsService.columns.filter((function(e){return e.value.hideable})).map((function(e){return e.value}))}},{key:"hasOnlyOneVisibleColumn",get:function(){return 0==this.columnsService.columns.length-this.hideableColumnStates.length&&1===this.hideableColumnStates.filter((function(e){return!e.hidden})).length}}]),e}()).\u0275fac=function(e){return new(e||$T)(Zo(JC),Zo(uO),Zo(tS),Zo(Gu),Zo(oc),Zo(tS))},$T.\u0275cmp=dt({type:$T,selectors:[["clr-dg-column-toggle"]],contentQueries:function(e,t,n){var r;1&e&&(Au(n,vO,!0),Au(n,gO,!0)),2&e&&(Eu(r=Ru())&&(t.customToggleTitle=r.first),Eu(r=Ru())&&(t.customToggleButton=r.first))},viewQuery:function(e,t){var n;1&e&&(Tu(aw,!0,va),Tu(uw,!0,va)),2&e&&(Eu(n=Ru())&&(t.menuDescriptionElement=n.first),Eu(n=Ru())&&(t.allSelectedElement=n.first))},hostVars:4,hostBindings:function(e,t){2&e&&Os("column-switch-wrapper",!0)("active",t.openState)},features:[ha([US,bC,BC,_C])],ngContentSelectors:vw,decls:3,vars:7,consts:[["role","button","type","button","clrPopoverAnchor","","clrPopoverOpenCloseButton","",1,"btn","btn-sm","btn-link","column-toggle--action"],["shape","view-columns"],["class","column-switch","role","dialog","clrFocusTrap","",3,"id",4,"clrPopoverContent","clrPopoverContentAt","clrPopoverContentOutsideClickToClose","clrPopoverContentScrollToClose"],["role","dialog","clrFocusTrap","",1,"column-switch",3,"id"],[1,"switch-header"],["tabindex","-1",1,"clr-sr-only"],["menuDescription",""],["allSelected",""],[4,"ngIf"],["clrPopoverCloseButton","","type","button",1,"btn","btn-sm","btn-link","toggle-switch-close-button"],["shape","close"],[1,"switch-content","list-unstyled"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"switch-footer"],[3,"clrAllSelected",4,"ngIf"],["clrCheckbox","","type","checkbox",3,"disabled","ngModel","ngModelChange"],[3,"ngTemplateOutlet"],[3,"clrAllSelected"]],template:function(e,t){1&e&&(ms(pw),ns(0,"button",0),is(1,"clr-icon",1),rs(),Ko(2,dw,17,9,"div",2)),2&e&&($o("aria-controls",t.popoverId)("aria-owns",t.popoverId),Ur(1),$o("title",t.commonStrings.keys.pickColumns),Ur(1),es("clrPopoverContent",t.openState)("clrPopoverContentAt",t.smartPosition)("clrPopoverContentOutsideClickToClose",!0)("clrPopoverContentScrollToClose",!0))},directives:function(){return[qC,GC,yC,zC,DE,zh,HC,Uh,IO,yE,ky,mE,Py,i_,aE,Zh,gO]},encapsulation:2}),$T),mO=((WT=function(){function e(t){_classCallCheck(this,e),this.expandableRowsCount=t,this.expandableRowsCount&&this.expandableRowsCount.register()}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.expandableRowsCount&&this.expandableRowsCount.unregister()}}]),e}()).\u0275fac=function(e){return new(e||WT)(Zo(AA,8))},WT.\u0275dir=_t({type:WT,selectors:[["","clrIfExpanded",""]]}),WT),_O=((qT=function(){function e(t,n){_classCallCheck(this,e),this.detailService=t,this.commonStrings=n}return _createClass(e,[{key:"titleId",get:function(){return this.detailService.id+"-title"}}]),e}()).\u0275fac=function(e){return new(e||qT)(Zo(xA),Zo(JC))},qT.\u0275cmp=dt({type:qT,selectors:[["clr-dg-detail-header"]],hostVars:2,hostBindings:function(e,t){2&e&&Os("datagrid-detail-header",!0)},ngContentSelectors:P_,decls:5,vars:2,consts:[["clrFocusOnViewInit","",1,"datagrid-detail-header-title",3,"id"],[1,"datagrid-detail-pane-close"],["type","button",1,"btn","btn-link",3,"click"],["size","24","shape","times"]],template:function(e,t){1&e&&(ms(),ns(0,"div",0),_s(1),rs(),ns(2,"div",1),ns(3,"button",2),hs("click",(function(){return t.detailService.close()})),is(4,"clr-icon",3),rs(),rs()),2&e&&(es("id",t.titleId),Ur(3),$o("aria-label",t.commonStrings.keys.close))},directives:[aA,yC],encapsulation:2}),qT),bO=((HT=function(){function e(t,n){_classCallCheck(this,e),this.detailService=t,this.commonStrings=n}return _createClass(e,[{key:"closeCheck",value:function(){this.detailService.close()}}]),e}()).\u0275fac=function(e){return new(e||HT)(Zo(xA),Zo(JC))},HT.\u0275cmp=dt({type:HT,selectors:[["clr-dg-detail"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,_O,!0),2&e&&Eu(r=Ru())&&(t.header=r.first)},hostVars:2,hostBindings:function(e,t){1&e&&hs("keyup.esc",(function(){return t.closeCheck()}),!1,zn),2&e&&Os("datagrid-detail-pane",!0)},ngContentSelectors:P_,decls:1,vars:1,consts:[["class","datagrid-detail-pane-content","role","dialog","aria-modal","true",3,"clrFocusTrap","id",4,"ngIf"],["role","dialog","aria-modal","true",1,"datagrid-detail-pane-content",3,"clrFocusTrap","id"],[1,"clr-sr-only"]],template:function(e,t){1&e&&(ms(),Ko(0,yw,6,6,"div",0)),2&e&&es("ngIf",t.detailService.isOpen)},directives:[zh,DE],encapsulation:2}),HT),kO=((GT=function(){function e(t,n,r){_classCallCheck(this,e),this.templateRef=t,this.viewContainer=n,this.detailService=r,this.subscriptions=[],this.skip=!1,this.stateChange=new pu(null),this.detailService.enabled=!0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.subscriptions.push(this.detailService.stateChange.subscribe((function(t){e.togglePanel(!0===t)})))}},{key:"togglePanel",value:function(e){var t=null;this.viewContainer.clear(),!0===e&&(this.viewContainer.createEmbeddedView(this.templateRef,{$implicit:this.detailService.state}),this.skip=!0,t=this.detailService.state),this.stateChange.emit(t)}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"state",set:function(e){this.skip||this.detailService.toggle(e),this.skip=!1}}]),e}()).\u0275fac=function(e){return new(e||GT)(Zo(ja),Zo(Ba),Zo(xA))},GT.\u0275dir=_t({type:GT,selectors:[["","clrIfDetail",""]],inputs:{state:["clrIfDetail","state"]},outputs:{stateChange:"clrIfDetailChange"}}),GT),wO=((zT=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||zT)},zT.\u0275cmp=dt({type:zT,selectors:[["clr-dg-detail-body"]],hostVars:2,hostBindings:function(e,t){2&e&&Os("datagrid-detail-body",!0)},ngContentSelectors:P_,decls:2,vars:0,consts:[[1,"clr-dg-detail-body-wrapper"]],template:function(e,t){1&e&&(ms(),ns(0,"div",0),_s(1),rs())},encapsulation:2}),zT),CO=((BT=function(){function e(t,n,r){_classCallCheck(this,e),this.selection=t,this.detailService=n,this.columnsService=r,this.SELECTION_TYPE=YA}return _createClass(e,[{key:"hasHideableColumns",get:function(){return this.columnsService.hasHideableColumns}}]),e}()).\u0275fac=function(e){return new(e||BT)(Zo(XA),Zo(xA),Zo(uO))},BT.\u0275cmp=dt({type:BT,selectors:[["clr-dg-footer"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,yO,!0),2&e&&Eu(r=Ru())&&(t.toggle=r.first)},hostVars:2,hostBindings:function(e,t){2&e&&Os("datagrid-footer",!0)},ngContentSelectors:ww,decls:3,vars:2,consts:[[4,"ngIf"],[1,"clr-form-control-disabled"],[1,"datagrid-footer-select"],["clrCheckbox","","type","checkbox","checked","checked","disabled",""],[1,"datagrid-footer-description"]],template:function(e,t){1&e&&(ms(kw),Ko(0,mw,6,1,"ng-container",0),Ko(1,bw,5,1,"ng-container",0),_s(2)),2&e&&(es("ngIf",t.selection.selectionType===t.SELECTION_TYPE.Multi&&t.selection.current.length>0),Ur(1),es("ngIf",!t.detailService.isOpen))},directives:[zh,yE,mE,aE,yO],encapsulation:2}),BT),SO=new Ue("COLUMN_STATE"),EO={provide:SO,useFactory:function(){return new Fc({changes:[]})}},IO=((sx=function(){function e(t){_classCallCheck(this,e),this._items=t}return _createClass(e,[{key:"trackBy",set:function(e){this._items&&(this._items.trackBy=e)}}]),e}()).\u0275fac=function(e){return new(e||sx)(Zo(LA,8))},sx.\u0275dir=_t({type:sx,selectors:[["","ngForTrackBy",""]],inputs:{trackBy:["ngForTrackBy","trackBy"]}}),sx),TO=((ox=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.el=t,this.renderer=n,this.subscriptions=[],this.subscriptions.push(r.filterRenderSteps($A.CLEAR_WIDTHS).subscribe((function(){return i.clearWidth()})))}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.stateSubscription&&this.stateSubscription.unsubscribe()}},{key:"stateChanges",value:function(e){var t=this;this.runAllChanges&&(e.changes=this.runAllChanges,delete this.runAllChanges),e.changes&&e.changes.length&&e.changes.forEach((function(n){switch(n){case sO.WIDTH:t.setWidth(e);break;case sO.HIDDEN:t.setHidden(e)}}))}},{key:"clearWidth",value:function(){this.renderer.removeClass(this.el.nativeElement,"datagrid-fixed-width"),this.renderer.setStyle(this.el.nativeElement,"width",null)}},{key:"setWidth",value:function(e){e.strictWidth?this.renderer.addClass(this.el.nativeElement,"datagrid-fixed-width"):this.renderer.removeClass(this.el.nativeElement,"datagrid-fixed-width"),this.renderer.setStyle(this.el.nativeElement,"width",e.width+"px")}},{key:"setHidden",value:function(e){e.hidden?this.renderer.addClass(this.el.nativeElement,"datagrid-hidden-column"):this.renderer.removeClass(this.el.nativeElement,"datagrid-hidden-column")}},{key:"columnState",set:function(e){var t=this;this.stateSubscription&&this.stateSubscription.unsubscribe(),this.runAllChanges=aO,this.stateSubscription=e.subscribe((function(e){return t.stateChanges(e)}))}}]),e}()).\u0275fac=function(e){return new(e||ox)(Zo(va),Zo(_a),Zo(QA))},ox.\u0275dir=_t({type:ox,selectors:[["clr-dg-cell"]]}),ox),xO=((ix=function(){function e(t,n,r,i,o,s,a){var u=this;_classCallCheck(this,e),this.el=t,this.renderer=n,this.organizer=r,this.domAdapter=i,this.columnResizerService=o,this.columnsService=s,this.columnState=a,this.resizeEmitter=new pu,this.widthSet=!1,this.autoSet=!1,this.subscriptions=[],this.subscriptions.push(this.organizer.filterRenderSteps($A.CLEAR_WIDTHS).subscribe((function(){return u.clearWidth()}))),this.subscriptions.push(a.subscribe((function(e){return u.stateChanges(e)})))}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"stateChanges",value:function(e){var t=this;e.changes&&e.changes.length&&e.changes.forEach((function(n){switch(n){case sO.WIDTH:t.setWidth(e);break;case sO.HIDDEN:t.setHidden(e)}}))}},{key:"clearWidth",value:function(){this.widthSet&&!this.columnResizerService.resizedBy&&this.renderer.setStyle(this.el.nativeElement,"width",null),this.autoSet&&this.renderer.removeClass(this.el.nativeElement,"datagrid-fixed-width")}},{key:"detectStrictWidth",value:function(){return this.columnResizerService.resizedBy?this.columnResizerService.widthAfterResize:this.autoSet?0:this.domAdapter.userDefinedWidth(this.el.nativeElement)}},{key:"computeWidth",value:function(e){var t=e;return t||(t=this.domAdapter.scrollWidth(this.el.nativeElement)),t}},{key:"getColumnWidthState",value:function(){var e=this.detectStrictWidth();return{width:this.computeWidth(e),strictWidth:e}}},{key:"setColumnState",value:function(e){this.columnsService.columns[e]=this.columnState}},{key:"setWidth",value:function(e){e.strictWidth?(this.columnResizerService.resizedBy&&(this.resizeEmitter.emit(e.width),this.renderer.setStyle(this.el.nativeElement,"width",e.width+"px"),this.widthSet=!1),this.renderer.addClass(this.el.nativeElement,"datagrid-fixed-width"),this.autoSet=!1):(this.renderer.removeClass(this.el.nativeElement,"datagrid-fixed-width"),this.renderer.setStyle(this.el.nativeElement,"width",e.width+"px"),this.widthSet=!0,this.autoSet=!0)}},{key:"setHidden",value:function(e){e.hidden?this.renderer.addClass(this.el.nativeElement,"datagrid-hidden-column"):this.renderer.removeClass(this.el.nativeElement,"datagrid-hidden-column")}}]),e}()).\u0275fac=function(e){return new(e||ix)(Zo(va),Zo(_a),Zo(QA),Zo(Gx),Zo(dO),Zo(uO),Zo(SO))},ix.\u0275dir=_t({type:ix,selectors:[["clr-dg-column"]],outputs:{resizeEmitter:"clrDgColumnResize"},features:[ha([dO,EO])]}),ix),AO=((rx=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"userDefinedWidth",value:function(e){return 0}},{key:"scrollBarWidth",value:function(e){return 0}},{key:"scrollWidth",value:function(e){return 0}},{key:"computedHeight",value:function(e){return 0}},{key:"clientRect",value:function(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},{key:"minWidth",value:function(e){return 0}},{key:"focus",value:function(e){}}]),e}()).\u0275fac=function(e){return new(e||rx)},rx.\u0275prov=he({token:rx,factory:rx.\u0275fac}),rx),OO=((nx=function(){function e(t){_classCallCheck(this,e),this.columnsService=t,this.subscriptions=[]}return _createClass(e,[{key:"ngAfterContentInit",value:function(){var e=this;this.setColumnState(),this.subscriptions.push(this.cells.changes.subscribe((function(){e.setColumnState()})))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"setColumnState",value:function(){var e=this;this.cells.length===this.columnsService.columns.length&&this.cells.forEach((function(t,n){e.columnsService.columns[n]&&(t.columnState=e.columnsService.columns[n])}))}}]),e}()).\u0275fac=function(e){return new(e||nx)(Zo(uO))},nx.\u0275dir=_t({type:nx,selectors:[["clr-dg-row"],["clr-dg-row-detail"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,TO,!1),2&e&&Eu(r=Ru())&&(t.cells=r)}}),nx),DO=function(e){return cf(e)?new Gx:new AO},RO=((fx=function(){function e(t,n,r,i,o,s,a,u,c){var l=this;_classCallCheck(this,e),this.organizer=t,this.items=n,this.page=r,this.domAdapter=i,this.el=o,this.renderer=s,this.detailService=a,this.tableSizeService=u,this.columnsService=c,this._heightSet=!1,this.subscriptions=[],this.columnsSizesStable=!1,this.shouldStabilizeColumns=!0,this.subscriptions.push(this.organizer.filterRenderSteps($A.COMPUTE_COLUMN_WIDTHS).subscribe((function(){return l.computeHeadersWidth()}))),this.subscriptions.push(this.page.sizeChange.subscribe((function(){l._heightSet&&l.resetDatagridHeight()}))),this.subscriptions.push(this.detailService.stateChange.subscribe((function(e){return l.toggleDetailPane(e)}))),this.subscriptions.push(this.items.change.subscribe((function(){return l.shouldStabilizeColumns=!0})))}return _createClass(e,[{key:"ngAfterContentInit",value:function(){var e=this;this.setupColumns(),this.subscriptions.push(this.headers.changes.subscribe((function(){e.setupColumns(),e.columnsSizesStable=!1,e.stabilizeColumns()})))}},{key:"ngAfterViewInit",value:function(){this.tableSizeService.table=this.el}},{key:"ngAfterViewChecked",value:function(){var e=this;this.shouldStabilizeColumns&&this.stabilizeColumns(),this.shouldComputeHeight()&&setTimeout((function(){e.computeDatagridHeight()}))}},{key:"setupColumns",value:function(){this.headers.forEach((function(e,t){return e.setColumnState(t)})),this.columnsService.columns.splice(this.headers.length),this.rows.forEach((function(e){return e.setColumnState()}))}},{key:"shouldComputeHeight",value:function(){return!this._heightSet&&this.page.size>0&&this.items.displayed.length===this.page.size}},{key:"toggleDetailPane",value:function(e){var t=this;this.headers&&(e&&!this.columnsService.hasCache()?(this.columnsService.cache(),this.headers.forEach((function(n,r){r>0&&t.columnsService.emitStateChangeAt(r,{changes:[sO.HIDDEN],hidden:e})}))):e||this.columnsService.resetToLastCache())}},{key:"computeDatagridHeight",value:function(){var e=this.domAdapter.clientRect(this.el.nativeElement).height;this.renderer.setStyle(this.el.nativeElement,"height",e+"px"),this._heightSet=!0}},{key:"resetDatagridHeight",value:function(){this.renderer.setStyle(this.el.nativeElement,"height",""),this._heightSet=!1}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"computeHeadersWidth",value:function(){var e=this,t=this.headers.length,n=!0;this.headers.forEach((function(r,i){var o=Object.assign({changes:[sO.WIDTH]},r.getColumnWidthState());o.strictWidth||(n=!1),t===i+1&&n&&(o.strictWidth=0),e.columnsService.emitStateChangeAt(i,o)}))}},{key:"stabilizeColumns",value:function(){this.shouldStabilizeColumns=!1,this.columnsSizesStable||this.items.displayed.length>0&&(this.organizer.resize(),this.columnsSizesStable=!0)}}]),e}()).\u0275fac=function(e){return new(e||fx)(Zo(QA),Zo(LA),Zo(hA),Zo(Gx),Zo(va),Zo(_a),Zo(xA),Zo(oO),Zo(uO))},fx.\u0275dir=_t({type:fx,selectors:[["clr-datagrid"]],contentQueries:function(e,t,n){var r;1&e&&(Au(n,xO,!1),Au(n,OO,!0)),2&e&&(Eu(r=Ru())&&(t.headers=r),Eu(r=Ru())&&(t.rows=r))},features:[ha([{provide:Gx,useFactory:DO,deps:[Gu]}])]}),fx),PO=((hx=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:hx}),hx.\u0275inj=fe({factory:function(e){return new(e||hx)},imports:[[uf,mC,Ux,x_,Bx,AE,zx,nA,eA,iA,WC,RE,uA]]}),hx),NO=((lx=function(){function e(t,n,r){_classCallCheck(this,e),this.parent=t,this.uniqueId=n,this.commonStrings=r,this.expanded=!1,this.expandedChange=new pu(!1),this.expandable=!1,this.focused=!1,this._changedChildren=0,this._fullyInitialized=!1,this._changed=!1,t&&t.addChild()}return _createClass(e,[{key:"ngOnInit",value:function(){this._fullyInitialized=!0}},{key:"addChild",value:function(){this.expandable=!0}},{key:"toggleExpand",value:function(){this.expandable&&(this.expanded=!this.expanded,this.expandedChange.emit(this.expanded))}},{key:"getStackChildrenId",value:function(){return this.expanded?"clr-stack-children-"+this.uniqueId:null}},{key:"getChangedValue",get:function(){return this._changed||this._changedChildren>0&&!this.expanded}},{key:"setChangedValue",set:function(e){this._changed=e,this.parent&&this._fullyInitialized&&(e?this.parent._changedChildren++:this.parent._changedChildren--)}},{key:"caretDirection",get:function(){return this.expanded?"down":"right"}},{key:"caretTitle",get:function(){return this.expanded?this.commonStrings.keys.collapse:this.commonStrings.keys.expand}},{key:"role",get:function(){return this.expandable?"button":null}},{key:"tabIndex",get:function(){return this.expandable?"0":null}},{key:"onStackLabelFocus",get:function(){return this.expandable&&!this.expanded&&this.focused}},{key:"ariaExpanded",get:function(){return this.expandable?this.expanded?"true":"false":null}}]),e}()).\u0275fac=function(e){return new(e||lx)(Zo(lx,12),Zo(tS),Zo(JC))},lx.\u0275cmp=dt({type:lx,selectors:[["clr-stack-block"]],hostVars:10,hostBindings:function(e,t){2&e&&Os("stack-block",!0)("stack-block-expanded",t.expanded)("stack-block-expandable",t.expandable)("stack-block-changed",t.getChangedValue)("on-focus",t.onStackLabelFocus)},inputs:{expanded:["clrSbExpanded","expanded"],expandable:["clrSbExpandable","expandable"],setChangedValue:["clrSbNotifyChange","setChangedValue"],ariaLevel:["clrStackViewLevel","ariaLevel"],ariaSetsize:["clrStackViewSetsize","ariaSetsize"],ariaPosinset:["clrStackViewPosinset","ariaPosinset"]},outputs:{expandedChange:"clrSbExpandedChange"},features:[ha([US])],ngContentSelectors:Iw,decls:10,vars:14,consts:[[1,"stack-block-label",3,"id","click","keyup.enter","keyup.space","focus","blur"],["shape","caret","class","stack-block-caret",4,"ngIf"],["class","clr-sr-only",4,"ngIf"],[1,"stack-view-key"],[1,"stack-block-content"],[1,"stack-children",3,"clrExpandTrigger"],["role","region"],["shape","caret",1,"stack-block-caret"],[1,"clr-sr-only"]],template:function(e,t){1&e&&(ms(Ew),ns(0,"div",0),hs("click",(function(){return t.toggleExpand()}))("keyup.enter",(function(){return t.toggleExpand()}))("keyup.space",(function(){return t.toggleExpand()}))("focus",(function(){return t.focused=!0}))("blur",(function(){return t.focused=!1})),Ko(1,Cw,1,2,"clr-icon",1),Ko(2,Sw,2,1,"span",2),ns(3,"div",3),_s(4),rs(),ns(5,"div",4),_s(6,1),rs(),rs(),ns(7,"clr-expandable-animation",5),ns(8,"div",6),_s(9,2),rs(),rs()),2&e&&(es("id",t.uniqueId),$o("role",t.role)("tabindex",t.tabIndex)("aria-expanded",t.ariaExpanded)("aria-controls",t.getStackChildrenId())("aria-posinset",t.ariaPosinset)("aria-level",t.ariaLevel)("aria-setsize",t.ariaSetsize),Ur(1),es("ngIf",t.expandable),Ur(1),es("ngIf",t.getChangedValue),Ur(5),es("clrExpandTrigger",t.expanded),$o("id",t.getStackChildrenId()),Ur(1),As("height",t.expanded?"auto":0))},directives:[zh,tA,yC],styles:["[_nghost-%COMP%] {\n        display: block;\n      }"]}),lx),FO=((cx=function(){function e(){_classCallCheck(this,e),this.editable=!1,this.save=new pu(!1),this._editMode=!1,this.editingChange=new pu(!1)}return _createClass(e,[{key:"editing",get:function(){return this.editable&&this._editMode},set:function(e){this.editable&&(this._editMode=e,this.editingChange.emit(e),e||this.save.emit(null))}}]),e}()).\u0275fac=function(e){return new(e||cx)},cx.\u0275cmp=dt({type:cx,selectors:[["clr-stack-view"]],outputs:{save:"clrStackSave"},ngContentSelectors:xw,decls:3,vars:0,consts:[[1,"stack-view"]],template:function(e,t){1&e&&(ms(Tw),_s(0),ns(1,"div",0),_s(2,1),rs())},styles:["[_nghost-%COMP%] { display: block; }"]}),cx),LO=((ux=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||ux)},ux.\u0275dir=_t({type:ux,selectors:[["clr-stack-label"],["clr-stack-content"]]}),ux),MO=((ax=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:ax}),ax.\u0275inj=fe({factory:function(e){return new(e||ax)},imports:[[uf,x_,mC,nA]]}),ax),VO=function(e){return e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Backspace="Backspace",e.Tab="TAB",e.Enter="Enter",e.Escape="Escape",e.Space="Space",e.Home="Home",e.End="End",e}({}),jO=function(e){return e.ArrowUp="Up",e.ArrowDown="Down",e.ArrowRight="Right",e.ArrowLeft="Left",e.Space="Spacebar",e.Escape="Esc",e.Home="Home",e.End="End",e.Enter="Enter",e.Tab="Tab",e}({});function UO(e){return e===VO.ArrowUp||e===jO.ArrowUp?VO.ArrowUp:e===VO.ArrowDown||e===jO.ArrowDown?VO.ArrowDown:e===VO.ArrowRight||e===jO.ArrowRight?VO.ArrowRight:e===VO.ArrowLeft||e===jO.ArrowLeft?VO.ArrowLeft:e===VO.Space||e===jO.Space?VO.Space:e===VO.Escape||e===jO.Escape?VO.Escape:e}function BO(e){var t=UO(e.key);t!==VO.ArrowUp&&t!==VO.ArrowDown&&t!==VO.ArrowLeft&&t!==VO.ArrowRight||e.preventDefault()}function zO(e){return void 0===e.code?jO:VO}var GO,HO,qO,WO,$O,QO,KO,YO,ZO=function(e){return e[e.UNSELECTED=0]="UNSELECTED",e[e.SELECTED=1]="SELECTED",e[e.INDETERMINATE=2]="INDETERMINATE",e}({}),XO=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).parent=e,e&&e._addChild(_assertThisInitialized(r)),r.children=[],r}return _createClass(n,[{key:"_addChild",value:function(e){this.children.push(e)}},{key:"_removeChild",value:function(e){var t=this.children.indexOf(e);t>-1&&this.children.splice(t,1)}},{key:"destroy",value:function(){this.parent&&this.parent._removeChild(this),_get(_getPrototypeOf(n.prototype),"destroy",this).call(this)}}]),n}(function(){function e(){_classCallCheck(this,e),this.selected=new Fc(ZO.UNSELECTED),this.loading=!1}return _createClass(e,[{key:"destroy",value:function(){this.selected.complete()}},{key:"setSelected",value:function(e,t,n){e!==this.selected.value&&(this.selected.next(e),n&&e!==ZO.INDETERMINATE&&this.children&&this.children.forEach((function(t){return t.setSelected(e,!1,!0)})),t&&this.parent&&this.parent._updateSelectionFromChildren())}},{key:"toggleSelection",value:function(e){this.setSelected(this.selected.value===ZO.SELECTED?ZO.UNSELECTED:ZO.SELECTED,!0,e)}},{key:"computeSelectionStateFromChildren",value:function(){var e,t=!1,n=!1,r=_createForOfIteratorHelper(this.children);try{for(r.s();!(e=r.n()).done;){switch(e.value.selected.value){case ZO.INDETERMINATE:return ZO.INDETERMINATE;case ZO.SELECTED:if(t=!0,n)return ZO.INDETERMINATE;break;case ZO.UNSELECTED:default:if(n=!0,t)return ZO.INDETERMINATE}}}catch(i){r.e(i)}finally{r.f()}return t?n?void 0:ZO.SELECTED:ZO.UNSELECTED}},{key:"_updateSelectionFromChildren",value:function(){var e=this.computeSelectionStateFromChildren();e!==this.selected.value&&(this.selected.next(e),this.parent&&this.parent._updateSelectionFromChildren())}}]),e}()),JO=((GO=function e(){_classCallCheck(this,e),this.selectable=!1,this.eager=!0,this.childrenFetched=new x}).\u0275prov=he({token:GO,factory:GO.\u0275fac=function(e){return new(e||GO)}}),GO),eD={provide:JO,useFactory:function(e){return e||new JO},deps:[[new oe,new ae,JO]]},tD=((YO=function(){function e(){_classCallCheck(this,e),this._focusRequest=new x,this._focusChange=new x}return _createClass(e,[{key:"findSiblings",value:function(e){return e.parent?e.parent.children:this.rootNodeModels}},{key:"findLastVisibleInNode",value:function(e){if(e){if(e.expanded&&e.children.length>0){var t=e.children;return this.findLastVisibleInNode(t[t.length-1])}return e}}},{key:"findNextFocusable",value:function(e){if(e){var t=this.findSiblings(e),n=t.indexOf(e);return n<t.length-1?t[n+1]:n===t.length-1?this.findNextFocusable(e.parent):void 0}}},{key:"findLastVisibleInTree",value:function(){return this.findLastVisibleInNode(this.rootNodeModels&&this.rootNodeModels.length&&this.rootNodeModels[this.rootNodeModels.length-1])}},{key:"findNodeAbove",value:function(e){if(e){var t=this.findSiblings(e),n=t.indexOf(e);return 0===n?e.parent:n>0?this.findLastVisibleInNode(t[n-1]):void 0}}},{key:"findNodeBelow",value:function(e){if(e)return e.expanded&&e.children.length>0?e.children[0]:this.findNextFocusable(e)}},{key:"focusNode",value:function(e){e&&this._focusRequest.next(e.nodeId)}},{key:"broadcastFocusedNode",value:function(e){this.focusedNodeId!==e&&(this.focusedNodeId=e,this._focusChange.next(e))}},{key:"focusParent",value:function(e){e&&this.focusNode(e.parent)}},{key:"focusFirstVisibleNode",value:function(){this.focusNode(this.rootNodeModels&&this.rootNodeModels[0])}},{key:"focusLastVisibleNode",value:function(){this.focusNode(this.findLastVisibleInTree())}},{key:"focusNodeAbove",value:function(e){this.focusNode(this.findNodeAbove(e))}},{key:"focusNodeBelow",value:function(e){this.focusNode(this.findNodeBelow(e))}},{key:"focusRequest",get:function(){return this._focusRequest.asObservable()}},{key:"focusChange",get:function(){return this._focusChange.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||YO)},YO.\u0275prov=he({token:YO,factory:YO.\u0275fac}),YO),nD=((KO=function(){function e(t){_classCallCheck(this,e),this.el=t}return _createClass(e,[{key:"activate",value:function(){this.el.nativeElement&&this.el.nativeElement.click&&this.el.nativeElement.click()}}]),e}()).\u0275fac=function(e){return new(e||KO)(Zo(va))},KO.\u0275dir=_t({type:KO,selectors:[["",8,"clr-treenode-link"]]}),KO),rD=((QO=function(){function e(t,n,r,i,o,s,a,u){_classCallCheck(this,e),this.nodeId=t,this.platformId=n,this.featuresService=i,this.expandService=o,this.commonStrings=s,this.focusManager=a,this.STATES=ZO,this.skipEmitChange=!1,this.selectedChange=new pu(!1),this.expandedChange=new pu,this.subscriptions=[],this.contentContainerTabindex=-1,this._model=this.featuresService.recursion?u.view?u.view.context.clrModel:u._lView[8].clrModel:new XO(r?r._model:null),this._model.nodeId=this.nodeId}return _createClass(e,[{key:"isExpandable",value:function(){return void 0!==this.expandable?this.expandable:!!this.expandService.expandable||this._model.children&&this._model.children.length>0}},{key:"ngOnInit",value:function(){var e=this;this._model.expanded=this.expanded,this.subscriptions.push(this._model.selected.pipe(Hc((function(){return!e.skipEmitChange}))).subscribe((function(t){e.selectedChange.emit(t)}))),this.subscriptions.push(this.expandService.expandChange.subscribe((function(t){e.expandedChange.emit(t),e._model.expanded=t}))),this.subscriptions.push(this.focusManager.focusRequest.subscribe((function(t){e.nodeId===t&&e.focusTreeNode()})),this.focusManager.focusChange.subscribe((function(t){e.checkTabIndex(t)})))}},{key:"ngOnDestroy",value:function(){this._model.destroy(),this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"setTabIndex",value:function(e){this.contentContainerTabindex=e,this.contentContainer.nativeElement.setAttribute("tabindex",e)}},{key:"checkTabIndex",value:function(e){cf(this.platformId)&&this.nodeId!==e&&-1!==this.contentContainerTabindex&&this.setTabIndex(-1)}},{key:"focusTreeNode",value:function(){cf(this.platformId)&&document.activeElement!==this.contentContainer.nativeElement&&(this.setTabIndex(0),this.contentContainer.nativeElement.focus())}},{key:"broadcastFocusOnContainer",value:function(){this.focusManager.broadcastFocusedNode(this.nodeId)}},{key:"onKeyDown",value:function(e){switch(BO(e),UO(e.key)){case VO.ArrowUp:this.focusManager.focusNodeAbove(this._model);break;case VO.ArrowDown:this.focusManager.focusNodeBelow(this._model);break;case VO.ArrowRight:this.expandOrFocusFirstChild();break;case VO.ArrowLeft:this.collapseOrFocusParent();break;case VO.Home:this.focusManager.focusFirstVisibleNode();break;case VO.End:this.focusManager.focusLastVisibleNode();break;case VO.Enter:this.triggerDefaultAction();break;case VO.Space:e.preventDefault(),this.triggerDefaultAction()}}},{key:"expandOrFocusFirstChild",value:function(){this.expanded?this._model.children.length>0&&this.focusManager.focusNodeBelow(this._model):this.isExpandable()&&(this.expandService.expanded=!0)}},{key:"collapseOrFocusParent",value:function(){this.expanded?this.expandService.expanded=!1:this.focusManager.focusParent(this._model)}},{key:"triggerDefaultAction",value:function(){this.treeNodeLink?this.treeNodeLink.activate():this.featuresService.selectable&&this._model.toggleSelection(this.featuresService.eager)}},{key:"selected",get:function(){return this._model.selected.value},set:function(e){this.featuresService.selectable=!0,null==e&&(e=ZO.UNSELECTED),"boolean"==typeof e&&(e=e?ZO.SELECTED:ZO.UNSELECTED),this.skipEmitChange=!0,this._model.setSelected(e,this.featuresService.eager,this.featuresService.eager),this.skipEmitChange=!1}},{key:"ariaSelected",get:function(){return this.featuresService.selectable?this._model.selected.value===ZO.SELECTED:null}},{key:"expanded",get:function(){return this.expandService.expanded},set:function(e){this.expandService.expanded=e}},{key:"treeNodeLink",get:function(){return this.treeNodeLinkList&&this.treeNodeLinkList.first}}]),e}()).\u0275fac=function(e){return new(e||QO)(Zo(tS),Zo(Gu),Zo(QO,12),Zo(JO),Zo(TE),Zo(JC),Zo(tD),Zo(Ro))},QO.\u0275cmp=dt({type:QO,selectors:[["clr-tree-node"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,nD,!1),2&e&&Eu(r=Ru())&&(t.treeNodeLinkList=r)},viewQuery:function(e,t){var n;1&e&&Iu(Aw,!0,va),2&e&&Eu(n=Ru())&&(t.contentContainer=n.first)},hostVars:3,hostBindings:function(e,t){2&e&&($o("role","treeitem"),Os("clr-tree-node",!0))},inputs:{selected:["clrSelected","selected"],expanded:["clrExpanded","expanded"],expandable:["clrExpandable","expandable"]},outputs:{selectedChange:"clrSelectedChange",expandedChange:"clrExpandedChange"},features:[ha([US,eD,TE,{provide:$C,useExisting:TE}])],ngContentSelectors:Mw,decls:12,vars:9,consts:[["role","treeitem","tabindex","-1",1,"clr-tree-node-content-container",3,"keydown","focus"],["contentContainer",""],["aria-hidden","true","type","button","tabindex","-1","class","clr-treenode-caret",3,"click","focus",4,"ngIf"],["class","clr-treenode-spinner-container",4,"ngIf"],["class","clr-checkbox-wrapper clr-treenode-checkbox",4,"ngIf"],[1,"clr-treenode-content",3,"mousedown"],["class","clr-sr-only",4,"ngIf"],[1,"clr-treenode-children"],[3,"parent"],["aria-hidden","true","type","button","tabindex","-1",1,"clr-treenode-caret",3,"click","focus"],["shape","caret",1,"clr-treenode-caret-icon"],[1,"clr-treenode-spinner-container"],[1,"clr-treenode-spinner","spinner"],[1,"clr-checkbox-wrapper","clr-treenode-checkbox"],["aria-hidden","true","type","checkbox","tabindex","-1",1,"clr-checkbox",3,"id","checked","indeterminate","change","focus"],[1,"clr-control-label",3,"for"],[1,"clr-sr-only"],[4,"ngIf"]],template:function(e,t){1&e&&(ms(Lw),ns(0,"div",0,1),hs("keydown",(function(e){return t.onKeyDown(e)}))("focus",(function(){return t.broadcastFocusOnContainer()})),Ko(2,Ow,2,1,"button",2),Ko(3,Dw,2,0,"div",3),Ko(4,Rw,3,4,"div",4),ns(5,"div",5),hs("mousedown",(function(){return t.focusTreeNode()})),_s(6),Ko(7,Fw,3,2,"div",6),rs(),rs(),ns(8,"div",7),_s(9,1),_s(10,2),is(11,"clr-recursive-children",8),rs()),2&e&&($o("aria-expanded",t.isExpandable()?t.expanded:null)("aria-selected",t.ariaSelected),Ur(2),es("ngIf",t.isExpandable()&&!t._model.loading&&!t.expandService.loading),Ur(1),es("ngIf",t.expandService.loading||t._model.loading),Ur(1),es("ngIf",t.featuresService.selectable),Ur(3),es("ngIf",t.featuresService.selectable),Ur(1),es("@toggleChildrenAnim",t.expandService.expanded?"expanded":"collapsed"),$o("role",t.isExpandable()&&!t.featuresService.recursion?"group":null),Ur(3),es("parent",t._model))},directives:function(){return[zh,oD,yC]},encapsulation:2,data:{animation:[oy("toggleChildrenAnim",[ly("collapsed => expanded",[uy({height:0}),sy(200,uy({height:"*"}))]),ly("expanded => collapsed",[uy({height:"*"}),sy(200,uy({height:0}))]),cy("expanded",uy({height:"*","overflow-y":"visible"})),cy("collapsed",uy({height:0}))])]}}),QO),iD=(($O=function(){function e(t,n,r){_classCallCheck(this,e),this.featuresService=t,this.focusManagerService=n,this.el=r,this.subscriptions=[],this.tabindex=0}return _createClass(e,[{key:"onFocusIn",value:function(e){e.target===this.el.nativeElement&&(this.focusManagerService.focusFirstVisibleNode(),delete this.tabindex)}},{key:"ngAfterContentInit",value:function(){var e=this;this.setRootNodes(),this.subscriptions.push(this.rootNodes.changes.subscribe((function(){e.setRootNodes()})))}},{key:"setRootNodes",value:function(){this.focusManagerService.rootNodeModels=this.rootNodes.map((function(e){return e._model})).filter((function(e){return!e.parent}))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"lazy",set:function(e){this.featuresService.eager=!e}},{key:"isMultiSelectable",get:function(){return this.featuresService.selectable&&this.rootNodes.length>0}}]),e}()).\u0275fac=function(e){return new(e||$O)(Zo(JO),Zo(tD),Zo(va))},$O.\u0275cmp=dt({type:$O,selectors:[["clr-tree"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,rD,!1),2&e&&Eu(r=Ru())&&(t.rootNodes=r)},hostVars:3,hostBindings:function(e,t){1&e&&hs("focusin",(function(e){return t.onFocusIn(e)})),2&e&&$o("tabindex",t.tabindex)("role","tree")("aria-multiselectable",t.isMultiSelectable)},inputs:{lazy:["clrLazy","lazy"]},features:[ha([eD,tD])],ngContentSelectors:P_,decls:2,vars:1,consts:[[3,"children",4,"ngIf"],[3,"children"]],template:function(e,t){1&e&&(ms(),_s(0),Ko(1,Vw,1,1,"clr-recursive-children",0)),2&e&&(Ur(1),es("ngIf",t.featuresService.recursion))},directives:function(){return[zh,oD]},encapsulation:2}),$O),oD=((WO=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.featuresService=t,this.expandService=n,n&&(this.subscription=this.expandService.expandChange.subscribe((function(e){!e&&r.parent&&!r.featuresService.eager&&r.featuresService.recursion&&r.parent.clearChildren()})))}return _createClass(e,[{key:"shouldRender",value:function(){return this.featuresService.recursion&&(this.featuresService.eager||!this.expandService||this.expandService.expanded)}},{key:"getContext",value:function(e){return{$implicit:e.model,clrModel:e}}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||WO)(Zo(JO),Zo(TE,8))},WO.\u0275cmp=dt({type:WO,selectors:[["clr-recursive-children"]],hostVars:1,hostBindings:function(e,t){2&e&&$o("role","group")},inputs:{parent:"parent",children:"children"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&Ko(0,Bw,2,1,"ng-container",0),2&e&&es("ngIf",t.shouldRender())},directives:[zh,Uh,Zh],encapsulation:2}),WO),sD=((qO=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:qO}),qO.\u0275inj=fe({factory:function(e){return new(e||qO)},imports:[[uf,mC,Bx]]}),qO),aD=((HO=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:HO}),HO.\u0275inj=fe({factory:function(e){return new(e||HO)},imports:[PO,MO,sD]}),HO),uD=function e(){_classCallCheck(this,e)};var cD,lD=function(e){return e.UP="up",e.DOWN="down",e.LEFT="left",e.RIGHT="right",e}({}),hD=((cD=function(){function e(t){_classCallCheck(this,e),this.renderer=t,this._unlistenFuncs=[]}return _createClass(e,[{key:"reset",value:function(e){this._current=e}},{key:"listenToArrowKeys",value:function(e){var t=this;this._unlistenFuncs.push(this.renderer.listen(e,"keydown.arrowup",(function(e){return!t.move(lD.UP)}))),this._unlistenFuncs.push(this.renderer.listen(e,"keydown.arrowdown",(function(e){return!t.move(lD.DOWN)}))),this._unlistenFuncs.push(this.renderer.listen(e,"keydown.arrowleft",(function(e){return!t.move(lD.LEFT)}))),this._unlistenFuncs.push(this.renderer.listen(e,"keydown.arrowright",(function(e){return!t.move(lD.RIGHT)})))}},{key:"registerContainer",value:function(e){var t=this;this.renderer.setAttribute(e,"tabindex","0"),this.listenToArrowKeys(e),this._unlistenFuncs.push(this.renderer.listen(e,"keydown.space",(function(){return!t.activateCurrent()}))),this._unlistenFuncs.push(this.renderer.listen(e,"keydown.enter",(function(){return!t.activateCurrent()})))}},{key:"moveTo",value:function(e){void 0!==e&&(this.current&&this.current.blur(),e.focus(),this._current=e)}},{key:"move",value:function(e){var t,n=this,r=!1;if(this.current){var i=this.current[e];i&&(t=i,t&&(t instanceof w||"function"==typeof t.lift&&"function"==typeof t.subscribe)?i:Uc(i)).subscribe((function(e){e&&(n.moveTo(e),r=!0)}))}return r}},{key:"activateCurrent",value:function(){return!(!this.current||!this.current.activate||(this.current.activate(),0))}},{key:"detachListeners",value:function(){this._unlistenFuncs.forEach((function(e){return e()}))}},{key:"current",get:function(){return this._current}}]),e}()).\u0275fac=function(e){return new(e||cD)(Ke(_a))},cD.\u0275prov=he({token:cD,factory:cD.\u0275fac}),cD),fD={provide:hD,useFactory:function(e,t){return e||new hD(t)},deps:[[new oe,new ae,hD],_a]},dD=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"linkParent",value:function(e,t,n){e.forEach((function(e){return e[n]=t}))}},{key:"linkVertical",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.forEach((function(t,n){n>0&&(t.up=e[n-1]),n<e.length-1&&(t.down=e[n+1])})),t&&e.length>1&&(e[0].up=e[e.length-1],e[e.length-1].down=e[0])}}]),e}();function pD(e,t,n){return w.create((function(r){t(r);var i=e.subscribe(r);return function(){i.unsubscribe(),n&&n(r)}}))}var vD,gD,yD,mD,_D,bD,kD,wD,CD,SD,ED,ID,TD,xD,AD,OD,DD,RD,PD,ND,FD,LD,MD,VD,jD,UD,BD,zD,GD,HD,qD,WD,$D,QD,KD,YD,ZD,XD,JD,eR,tR,nR,rR,iR,oR,sR,aR,uR,cR,lR,hR,fR,dR,pR,vR,gR,yR,mR,_R,bR,kR,wR=((vD=function(){function e(t,n,r,i,o,s){_classCallCheck(this,e),this.id=t,this.renderer=n,this.parent=r,this.toggleService=i,this.focusService=o,this.platformId=s,this._unlistenFuncs=[],this.focusBackOnTrigger=!1,this.resetChildren(),this.moveToFirstItemWhenOpen(),this.parent||this.handleRootFocus()}return _createClass(e,[{key:"moveToFirstItemWhenOpen",value:function(){var e=this;this.toggleService.openChange.subscribe((function(t){t&&e.toggleService.originalEvent&&setTimeout((function(){e.focusService.moveTo(e),e.focusService.move(e.parent?lD.RIGHT:lD.DOWN)}))}))}},{key:"handleRootFocus",value:function(){var e=this;this.toggleService.openChange.subscribe((function(t){t||(e.focusService.reset(e),e.focusBackOnTrigger&&e.focus()),e.focusBackOnTrigger=t}))}},{key:"focus",value:function(){this.trigger&&cf(this.platformId)&&this.trigger.focus()}},{key:"blur",value:function(){this.trigger&&cf(this.platformId)&&this.trigger.blur()}},{key:"activate",value:function(){cf(this.platformId)&&this.trigger.click()}},{key:"openAndGetChildren",value:function(){var e=this;return pD(this.children,(function(){return e.toggleService.open=!0}))}},{key:"closeAndGetThis",value:function(){var e=this;return pD(Uc(this),(function(){return e.toggleService.open=!1}))}},{key:"resetChildren",value:function(){this.children=new sg(1),this.parent?this.right=this.openAndGetChildren().pipe(j((function(e){return e[0]}))):(this.down=this.openAndGetChildren().pipe(j((function(e){return e[0]}))),this.up=this.openAndGetChildren().pipe(j((function(e){return e[e.length-1]}))))}},{key:"addChildren",value:function(e){dD.linkVertical(e),this.parent&&dD.linkParent(e,this.closeAndGetThis(),lD.LEFT),this.children.next(e)}},{key:"ngOnDestroy",value:function(){this._unlistenFuncs.forEach((function(e){return e()})),this.focusService.detachListeners()}},{key:"trigger",get:function(){return this._trigger},set:function(e){var t=this;this._trigger=e,this.parent?this._unlistenFuncs.push(this.renderer.listen(e,"keydown.arrowright",(function(e){return t.toggleService.toggleWithEvent(e)}))):(this._unlistenFuncs.push(this.renderer.listen(e,"keydown.arrowup",(function(e){return t.toggleService.toggleWithEvent(e)}))),this._unlistenFuncs.push(this.renderer.listen(e,"keydown.arrowdown",(function(e){return t.toggleService.toggleWithEvent(e)}))),this.focusService.listenToArrowKeys(e))}},{key:"container",get:function(){return this._container},set:function(e){var t=this;this._container=e,this._unlistenFuncs.push(this.renderer.listen(e,"keydown.tab",(function(e){return t.toggleService.toggleWithEvent(e)}))),this.parent?this._unlistenFuncs.push(this.renderer.listen(e,"keydown.esc",(function(e){t.focusService.move(lD.LEFT),e.stopPropagation()}))):(this.focusService.registerContainer(e),this._unlistenFuncs.push(this.renderer.listen(e,"keydown.esc",(function(e){return t.toggleService.toggleWithEvent(e)}))),this._unlistenFuncs.push(this.renderer.listen(e,"blur",(function(n){t.children.pipe(Nf(1)).subscribe((function(e){return e.forEach((function(e){return e.blur()}))}));var r=n.relatedTarget||document.activeElement;r&&cf(t.platformId)&&(e.contains(r)||r===t.trigger)||(t.focusBackOnTrigger=!1,t.toggleService.open=!1)}))))}}]),e}()).\u0275fac=function(e){return new(e||vD)(Ke(tS),Ke(_a),Ke(vD,12),Ke(_C),Ke(hD),Ke(Gu))},vD.\u0275prov=he({token:vD,factory:vD.\u0275fac}),vD),CR=[US,gD=wR,{provide:uD,useExisting:gD}],SR=((yD=function(){function e(){_classCallCheck(this,e),this._changes=new x}return _createClass(e,[{key:"closeMenus",value:function(){this._changes.next(!1)}},{key:"changes",get:function(){return this._changes.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||yD)},yD.\u0275prov=he({token:yD,factory:yD.\u0275fac}),yD),ER={provide:SR,useFactory:function(e){return e||new SR},deps:[[new oe,new ae,SR]]},IR=((mD=function(){function e(t,n,r,i){var o=this;_classCallCheck(this,e),this.parent=t,this.toggleService=n,this.cdr=r,this.subscriptions=[],this.isMenuClosable=!0,this.subscriptions.push(i.changes.subscribe((function(e){return o.toggleService.open=e}))),this.subscriptions.push(n.openChange.subscribe((function(e){return o.cdr.markForCheck()})))}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||mD)(Zo(mD,12),Zo(_C),Zo(vo),Zo(SR))},mD.\u0275cmp=dt({type:mD,selectors:[["clr-dropdown"]],hostVars:4,hostBindings:function(e,t){2&e&&Os("dropdown",!0)("open",t.toggleService.open)},inputs:{isMenuClosable:["clrCloseMenuOnItemClick","isMenuClosable"]},features:[ha([ER,{provide:jA,useExisting:va},fD,_C,CR])],ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2}),mD),TR=[US,{provide:uD,useClass:(_D=function(){function e(t,n,r,i){_classCallCheck(this,e),this.id=t,this.el=n,this.renderer=r,this.platformId=i,this.disabled=!1,r.setAttribute(n.nativeElement,"id",t),r.setAttribute(n.nativeElement,"tabindex","-1")}return _createClass(e,[{key:"focus",value:function(){cf(this.platformId)&&(this.renderer.setAttribute(this.el.nativeElement,"tabindex","0"),this.el.nativeElement.focus())}},{key:"blur",value:function(){cf(this.platformId)&&(this.renderer.setAttribute(this.el.nativeElement,"tabindex","-1"),this.el.nativeElement.blur())}},{key:"activate",value:function(){cf(this.platformId)&&this.el.nativeElement.click()}}]),e}(),_D.\u0275fac=function(e){return new(e||_D)(Ke(tS),Ke(va),Ke(_a),Ke(Gu))},_D.\u0275prov=he({token:_D,factory:_D.\u0275fac}),_D)}],xR=((bD=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.dropdown=t,this.el=n,this._dropdownService=r,this.renderer=i,this.focusableItem=o,this.setByDeprecatedDisabled=!1}return _createClass(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.unlisten=this.renderer.listen(this.el.nativeElement,"click",(function(){return e.onDropdownItemClick()}))}},{key:"onDropdownItemClick",value:function(){this.dropdown.isMenuClosable&&!this.el.nativeElement.classList.contains("disabled")&&this._dropdownService.closeMenus()}},{key:"ngOnDestroy",value:function(){this.unlisten()}},{key:"disabled",set:function(e){this.focusableItem.disabled=!!e||""===e},get:function(){return this.focusableItem.disabled}},{key:"disabledDeprecated",set:function(e){this.focusableItem.disabled=!!e||""===e,this.setByDeprecatedDisabled=!0},get:function(){return this.focusableItem.disabled}},{key:"dropdownItemId",set:function(e){this.focusableItem.id=e},get:function(){return this.focusableItem.id}}]),e}()).\u0275fac=function(e){return new(e||bD)(Zo(IR),Zo(va),Zo(SR),Zo(_a),Zo(uD))},bD.\u0275dir=_t({type:bD,selectors:[["","clrDropdownItem",""]],hostVars:8,hostBindings:function(e,t){2&e&&($o("role","menuitem")("aria-disabled",t.disabled)("disabled",t.disabled&&t.setByDeprecatedDisabled?"":null)("id",t.dropdownItemId),Os("disabled",t.disabled)("dropdown-item",!0))},inputs:{disabled:["clrDisabled","disabled"],disabledDeprecated:["disabled","disabledDeprecated"],dropdownItemId:["id","dropdownItemId"]},features:[ha([TR])]}),bD),AR=function(e){return e[e.RIGHT_CENTER=0]="RIGHT_CENTER",e[e.RIGHT_TOP=1]="RIGHT_TOP",e[e.RIGHT_BOTTOM=2]="RIGHT_BOTTOM",e[e.TOP_CENTER=3]="TOP_CENTER",e[e.TOP_RIGHT=4]="TOP_RIGHT",e[e.TOP_LEFT=5]="TOP_LEFT",e[e.BOTTOM_CENTER=6]="BOTTOM_CENTER",e[e.BOTTOM_RIGHT=7]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=8]="BOTTOM_LEFT",e[e.LEFT_CENTER=9]="LEFT_CENTER",e[e.LEFT_TOP=10]="LEFT_TOP",e[e.LEFT_BOTTOM=11]="LEFT_BOTTOM",e}({}),OR=function(){function e(t){_classCallCheck(this,e),this.element=t,this.scrollableElements=[],this.boundOnScrollListener=this.emitScrollEvent.bind(this),t.style.position="absolute",t.style.top=0,t.style.bottom="auto",t.style.left=0,t.style.right="auto"}return _createClass(e,[{key:"anchor",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.offsetX,o=void 0===i?0:i,s=r.offsetY,a=void 0===s?0:s,u=r.useAnchorParent,c=void 0!==u&&u;this.addScrollEventListeners(e),c&&(e=e.parentNode),e.style.position="static";var l=e.getBoundingClientRect(),h=this.element.getBoundingClientRect(),f=l.left-h.left+o,d=l.top-h.top+a;switch(t){case AR.LEFT_TOP:case AR.TOP_LEFT:break;case AR.TOP_CENTER:f+=l.width/2;break;case AR.TOP_RIGHT:case AR.RIGHT_TOP:f+=l.width;break;case AR.LEFT_BOTTOM:case AR.BOTTOM_LEFT:d+=l.height;break;case AR.BOTTOM_CENTER:d+=l.height,f+=l.width/2;break;case AR.BOTTOM_RIGHT:case AR.RIGHT_BOTTOM:d+=l.height,f+=l.width;break;case AR.LEFT_CENTER:d+=l.height/2;break;case AR.RIGHT_CENTER:d+=l.height/2,f+=l.width}switch(n){case AR.LEFT_TOP:case AR.TOP_LEFT:break;case AR.TOP_CENTER:f-=h.width/2;break;case AR.TOP_RIGHT:case AR.RIGHT_TOP:f-=h.width;break;case AR.LEFT_BOTTOM:case AR.BOTTOM_LEFT:d-=h.height;break;case AR.BOTTOM_CENTER:d-=h.height,f-=h.width/2;break;case AR.BOTTOM_RIGHT:case AR.RIGHT_BOTTOM:d-=h.height,f-=h.width;break;case AR.LEFT_CENTER:d-=h.height/2;break;case AR.RIGHT_CENTER:d-=h.height/2,f-=h.width}var p=getComputedStyle(this.element),v=parseInt(p.marginLeft,10),g=parseInt(p.marginRight,10),y=parseInt(p.marginTop,10),m=parseInt(p.marginBottom,10);switch(t){case AR.LEFT_TOP:case AR.TOP_LEFT:case AR.TOP_RIGHT:case AR.RIGHT_TOP:n!==AR.BOTTOM_RIGHT&&n!==AR.RIGHT_BOTTOM||(d-=m,f-=g),n!==AR.BOTTOM_LEFT&&n!==AR.LEFT_BOTTOM||(d-=y,f+=v),n!==AR.TOP_LEFT&&n!==AR.LEFT_TOP||(d+=y,f+=v),n!==AR.TOP_RIGHT&&n!==AR.RIGHT_TOP||(d+=y,f-=g);break;case AR.LEFT_BOTTOM:case AR.BOTTOM_LEFT:case AR.BOTTOM_RIGHT:case AR.RIGHT_BOTTOM:n!==AR.BOTTOM_LEFT&&n!==AR.LEFT_BOTTOM||(d-=m,f+=v),n!==AR.BOTTOM_RIGHT&&n!==AR.RIGHT_BOTTOM||(d-=m,f-=g),n!==AR.TOP_LEFT&&n!==AR.LEFT_TOP||(d+=y,f+=v),n!==AR.TOP_RIGHT&&n!==AR.RIGHT_TOP||(d+=y,f-=g);break;case AR.TOP_CENTER:d-=m,f+=v,f-=g;break;case AR.BOTTOM_CENTER:d+=y,f+=v,f-=g;break;case AR.LEFT_CENTER:d+=y,d-=m,f-=g;break;case AR.RIGHT_CENTER:d+=y,d-=m,f+=v}return this.element.style.transform="translateX(".concat(Math.round(f),"px) translateY(").concat(Math.round(d),"px)"),this._scroll.asObservable()}},{key:"release",value:function(){this.element.style.transform="",this.removeScrollEventListeners()}},{key:"isPositioned",value:function(e){var t=getComputedStyle(e).position;return"relative"===t||"absolute"===t||"fixed"===t}},{key:"emitScrollEvent",value:function(){this._scroll.next()}},{key:"addScrollEventListeners",value:function(e){this._scroll=new x;for(var t=e,n=e;n&&n!==document&&(this.scrolls(n)&&(n.addEventListener("scroll",this.boundOnScrollListener),this.scrollableElements.push(n)),n===t||!this.isPositioned(n));)n=n.parentNode}},{key:"removeScrollEventListeners",value:function(){var e,t=_createForOfIteratorHelper(this.scrollableElements);try{for(t.s();!(e=t.n()).done;){e.value.removeEventListener("scroll",this.boundOnScrollListener)}}catch(n){t.e(n)}finally{t.f()}this.scrollableElements.length=0,this._scroll&&(this._scroll.complete(),delete this._scroll)}},{key:"scrolls",value:function(e){var t=getComputedStyle(e);return"scroll"===t.overflowX||"auto"===t.overflowX||"scroll"===t.overflowY||"auto"===t.overflowY}}]),e}(),DR=((SD=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.parentHost=n,this.updateAnchor=!1,this.popoverOptions={},this.closeOnOutsideClick=!1,this.el=t.get(va),this.toggleService=t.get(_C),this.renderer=t.get(_a),this.anchorElem=n.nativeElement,this.popoverInstance=new OR(this.el.nativeElement),this.subscription=this.toggleService.openChange.subscribe((function(e){e?(r.anchor(),r.attachESCListener()):(r.release(),r.detachESCListener())})),this.toggleService.open&&(this.anchor(),this.attachESCListener())}return _createClass(e,[{key:"anchor",value:function(){this.updateAnchor=!0,this.ignore=this.toggleService.originalEvent}},{key:"release",value:function(){this.detachOutsideClickListener(),this.popoverInstance.release()}},{key:"ngAfterViewChecked",value:function(){var e=this;this.updateAnchor&&(this.updateAnchor=!1,this.popoverInstance.anchor(this.anchorElem,this.anchorPoint,this.popoverPoint,this.popoverOptions).subscribe((function(){e.toggleService.open=!1})),this.attachOutsideClickListener())}},{key:"ngOnDestroy",value:function(){this.release(),this.detachESCListener(),this.subscription.unsubscribe()}},{key:"attachESCListener",value:function(){var e=this;this.popoverOptions.ignoreGlobalESCListener||(this.documentESCListener=this.renderer.listen("document","keydown",(function(t){t&&t.key&&("Escape"!==t.key&&"Esc"!==t.key||(e.toggleService.open=!1))})))}},{key:"detachESCListener",value:function(){this.documentESCListener&&(this.documentESCListener(),delete this.documentESCListener)}},{key:"attachOutsideClickListener",value:function(){var e=this;this.closeOnOutsideClick&&(this.hostClickListener=this.renderer.listen(this.el.nativeElement,"click",(function(t){return e.ignore=t})),this.ignoredElement&&(this.ignoredElementClickListener=this.renderer.listen(this.ignoredElement,"click",(function(t){return e.ignore=t}))),this.documentClickListener=this.renderer.listen("document","click",(function(t){t===e.ignore?delete e.ignore:e.toggleService.open=!1})))}},{key:"detachOutsideClickListener",value:function(){this.closeOnOutsideClick&&(this.hostClickListener&&(this.hostClickListener(),delete this.hostClickListener),this.ignoredElementClickListener&&(this.ignoredElementClickListener(),delete this.ignoredElementClickListener),this.documentClickListener&&(this.documentClickListener(),delete this.documentClickListener))}},{key:"isOffScreen",get:function(){return!this.toggleService.open}}]),e}()).\u0275fac=function(e){return new(e||SD)(Ke(Ro),Ke(va,4))},SD.\u0275prov=he({token:SD,factory:SD.\u0275fac}),SD),RR=((CD=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;if(_classCallCheck(this,n),!r)throw new Error("clr-dropdown-menu should only be used inside of a clr-dropdown");return s=t.call(this,e,r),i?(s.anchorPoint=AR.RIGHT_TOP,s.popoverPoint=AR.LEFT_TOP):(s.anchorPoint=AR.BOTTOM_LEFT,s.popoverPoint=AR.LEFT_TOP),s.popoverOptions.allowMultipleOpen=!0,s.popoverOptions.ignoreGlobalESCListener=!0,s.closeOnOutsideClick=!0,s.focusHandler=o,s}return _createClass(n,[{key:"ngAfterContentInit",value:function(){var e=this;this.focusHandler.container=this.el.nativeElement,this.items.changes.subscribe((function(){return e.focusHandler.addChildren(e.items.toArray())})),this.items.notifyOnChanges()}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this),this.focusHandler.resetChildren()}},{key:"position",set:function(e){switch(e){case"top-right":this.anchorPoint=AR.TOP_RIGHT,this.popoverPoint=AR.RIGHT_BOTTOM;break;case"top-left":this.anchorPoint=AR.TOP_LEFT,this.popoverPoint=AR.LEFT_BOTTOM;break;case"bottom-right":this.anchorPoint=AR.BOTTOM_RIGHT,this.popoverPoint=AR.RIGHT_TOP;break;case"bottom-left":this.anchorPoint=AR.BOTTOM_LEFT,this.popoverPoint=AR.LEFT_TOP;break;case"right-top":this.anchorPoint=AR.RIGHT_TOP,this.popoverPoint=AR.LEFT_TOP;break;case"right-bottom":this.anchorPoint=AR.RIGHT_BOTTOM,this.popoverPoint=AR.LEFT_BOTTOM;break;case"left-top":this.anchorPoint=AR.LEFT_TOP,this.popoverPoint=AR.RIGHT_TOP;break;case"left-bottom":this.anchorPoint=AR.LEFT_BOTTOM,this.popoverPoint=AR.RIGHT_BOTTOM;break;default:this.anchorPoint=AR.BOTTOM_LEFT,this.popoverPoint=AR.LEFT_TOP}}}]),n}(DR)).\u0275fac=function(e){return new(e||CD)(Zo(Ro),Zo(jA,8),Zo(CD,12),Zo(wR))},CD.\u0275cmp=dt({type:CD,selectors:[["clr-dropdown-menu"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,uD,!1),2&e&&Eu(r=Ru())&&(t.items=r)},hostVars:3,hostBindings:function(e,t){2&e&&($o("role","menu"),Os("dropdown-menu",!0))},inputs:{position:["clrPosition","position"]},features:[Ks],ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2}),CD),PR=((wD=function(){function e(t,n,r,i){_classCallCheck(this,e),this.toggleService=n,this.isRootLevelToggle=!0,t.parent&&(this.isRootLevelToggle=!1),i.trigger=r.nativeElement}return _createClass(e,[{key:"onDropdownTriggerClick",value:function(e){this.toggleService.toggleWithEvent(e)}},{key:"active",get:function(){return this.toggleService.open}}]),e}()).\u0275fac=function(e){return new(e||wD)(Zo(IR),Zo(_C),Zo(va),Zo(wR))},wD.\u0275dir=_t({type:wD,selectors:[["","clrDropdownTrigger",""],["","clrDropdownToggle",""]],hostVars:10,hostBindings:function(e,t){1&e&&hs("click",(function(e){return t.onDropdownTriggerClick(e)})),2&e&&($o("aria-haspopup","menu")("aria-expanded",t.active),Os("dropdown-toggle",t.isRootLevelToggle)("dropdown-item",!t.isRootLevelToggle)("expandable",!t.isRootLevelToggle)("active",t.active))}}),wD),NR=((kD=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:kD}),kD.\u0275inj=fe({factory:function(e){return new(e||kD)},imports:[[uf],AE,mC]}),kD),FR=["info","warning","danger","success"],LR=((VD=function(){function e(t){_classCallCheck(this,e),this.commonStrings=t,this.defaultIconShape="info-circle",this._alertIconShape="",this._alertType="info"}return _createClass(e,[{key:"iconInfoFromType",value:function(e){var t={shape:"",cssClass:"",title:""};switch(e){case"warning":t.shape="exclamation-triangle",t.cssClass="alert-warning",t.title=this.commonStrings.keys.warning;break;case"danger":t.shape="exclamation-circle",t.cssClass="alert-danger",t.title=this.commonStrings.keys.danger;break;case"success":t.shape="check-circle",t.cssClass="alert-success",t.title=this.commonStrings.keys.success;break;default:t.shape=this.defaultIconShape,t.cssClass="alert-info",t.title=this.commonStrings.keys.info}return t}},{key:"alertType",get:function(){return this._alertType},set:function(e){FR.indexOf(e)>-1&&(this._alertType=e)}},{key:"alertIconShape",get:function(){return""===this._alertIconShape?this.iconInfoFromType(this._alertType).shape:this._alertIconShape},set:function(e){e?e!==this._alertIconShape&&(this._alertIconShape=e):this._alertIconShape=""}},{key:"alertIconTitle",get:function(){return this.iconInfoFromType(this._alertType).title}}]),e}()).\u0275fac=function(e){return new(e||VD)(Ke(JC))},VD.\u0275prov=he({token:VD,factory:VD.\u0275fac}),VD),MR=((MD=function(){function e(){_classCallCheck(this,e),this._change=new x}return _createClass(e,[{key:"manage",value:function(e){var t=this;this.subscription&&this.subscription.unsubscribe(),this.allAlerts=e,this.current="number"==typeof this._current?this._current:0,this._change.next(this.current),this.subscription=this.allAlerts.changes.subscribe((function(){t.current>=t.allAlerts.length&&(t.current=Math.max(0,t.allAlerts.length-1))}))}},{key:"next",value:function(){this.current=this.current===this.activeAlerts.length-1?0:this.current+1}},{key:"previous",value:function(){0!==this.activeAlerts.length&&(this.current=0===this.current?this.activeAlerts.length-1:this.current-1)}},{key:"close",value:function(){this.previous()}},{key:"destroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"changes",get:function(){return this._change.asObservable()}},{key:"current",get:function(){return this._current},set:function(e){e!==this._current&&(this._current=e,this._change.next(e))}},{key:"activeAlerts",get:function(){return this.allAlerts&&this.allAlerts.filter((function(e){return!e._closed}))}},{key:"currentAlert",get:function(){return this.activeAlerts&&this.activeAlerts[this.current]},set:function(e){this.current=this.activeAlerts.indexOf(e)}},{key:"count",get:function(){return this.activeAlerts&&this.activeAlerts.length||0}}]),e}()).\u0275fac=function(e){return new(e||MD)},MD.\u0275prov=he({token:MD,factory:MD.\u0275fac}),MD),VR=((LD=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||LD)},LD.\u0275dir=_t({type:LD,selectors:[["",8,"alert-text"]]}),LD),jR=((FD=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.iconService=t,this.cdr=n,this.multiAlertService=r,this.commonStrings=i,this.ariaLiveService=o,this.subscriptions=[],this.isSmall=!1,this.closable=!0,this.isAppLevel=!1,this.clrCloseButtonAriaLabel=this.commonStrings.keys.alertCloseButtonAriaLabel,this._closed=!1,this._closedChanged=new pu(!1),this.polite=!0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.multiAlertService&&this.subscriptions.push(this.multiAlertService.changes.subscribe((function(){e.hidden=e.multiAlertService.currentAlert!==e})))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"ngAfterViewInit",value:function(){this.announceAriaLiveMessage()}},{key:"announceAriaLiveMessage",value:function(){if(!this.hidden&&this.alertTexts.length){var e=this.alertTexts.map((function(e){return e.nativeElement.textContent})).join(" ");e&&this.ariaLiveService.announce(e,this.ariaLive)}}},{key:"close",value:function(){this.closable&&(this._closed=!0,this.multiAlertService&&this.multiAlertService.close(),this._closedChanged.emit(!0))}},{key:"open",value:function(){this._closed=!1,this._closedChanged.emit(!1)}},{key:"alertType",set:function(e){this.iconService.alertType=e},get:function(){return this.iconService.alertType}},{key:"ariaLive",get:function(){return dI(this.assertive)?XS.assertive:dI(this.off)?XS.off:XS.polite}},{key:"alertIconShape",set:function(e){this.iconService.alertIconShape=e}},{key:"alertClass",get:function(){return this.iconService.iconInfoFromType(this.iconService.alertType).cssClass}},{key:"hidden",set:function(e){e!==this._hidden&&(this._hidden=e,this.cdr.detectChanges())},get:function(){return this._hidden}}]),e}()).\u0275fac=function(e){return new(e||FD)(Zo(LR),Zo(vo),Zo(MR,8),Zo(JC),Zo(JS))},FD.\u0275cmp=dt({type:FD,selectors:[["clr-alert"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,VR,!0,va),2&e&&Eu(r=Ru())&&(t.alertTexts=r)},inputs:{isSmall:["clrAlertSizeSmall","isSmall"],closable:["clrAlertClosable","closable"],isAppLevel:["clrAlertAppLevel","isAppLevel"],clrCloseButtonAriaLabel:"clrCloseButtonAriaLabel",_closed:["clrAlertClosed","_closed"],polite:["clrPolite","polite"],alertType:["clrAlertType","alertType"],alertIconShape:["clrAlertIcon","alertIconShape"],assertive:["clrAssertive","assertive"],off:["clrOff","off"]},outputs:{_closedChanged:"clrAlertClosedChange"},features:[ha([LR,JS])],ngContentSelectors:P_,decls:1,vars:1,consts:[["class","alert",3,"ngClass","alert-hidden","alert-sm","alert-app-level",4,"ngIf"],[1,"alert",3,"ngClass"],[1,"alert-items"],["type","button","class","close",3,"click",4,"ngIf"],["type","button",1,"close",3,"click"],["shape","close"]],template:function(e,t){1&e&&(ms(),Ko(0,Gw,4,8,"div",0)),2&e&&es("ngIf",!t._closed)},directives:[zh,Vh,yC],styles:["[_nghost-%COMP%] { display: block; }"]}),FD),UR=((ND=function e(t){_classCallCheck(this,e),this.iconService=t}).\u0275fac=function(e){return new(e||ND)(Zo(LR))},ND.\u0275cmp=dt({type:ND,selectors:[["clr-alert-item"]],hostAttrs:[1,"alert-item"],ngContentSelectors:P_,decls:3,vars:2,consts:[[1,"alert-icon-wrapper"],[1,"alert-icon"]],template:function(e,t){1&e&&(ms(),ns(0,"div",0),is(1,"clr-icon",1),rs(),_s(2)),2&e&&(Ur(1),$o("shape",t.iconService.alertIconShape)("title",t.iconService.alertIconTitle))},directives:[yC],encapsulation:2}),ND),BR=((PD=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:PD}),PD.\u0275inj=fe({factory:function(e){return new(e||PD)},imports:[[uf,mC,NR]]}),PD),zR=((RD=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:RD}),RD.\u0275inj=fe({factory:function(e){return new(e||RD)},imports:[BR]}),RD),GR=((DD=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:DD}),DD.\u0275inj=fe({factory:function(e){return new(e||DD)},imports:[[uf,mC]]}),DD),HR=((OD=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:OD}),OD.\u0275inj=fe({factory:function(e){return new(e||OD)},imports:[[uf,mC,NR]]}),OD),qR=((AD=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||AD)},AD.\u0275cmp=dt({type:AD,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&Tu(ja,!0),2&e&&Eu(n=Ru())&&(t.template=n.first)},ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),Ko(0,Hw,1,0,"ng-template"))},encapsulation:2}),AD),WR=((xD=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:xD}),xD.\u0275inj=fe({factory:function(e){return new(e||xD)},imports:[[uf]]}),xD),$R=((TD=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(EA)).\u0275fac=function(e){return JP(e||TD)},TD.\u0275dir=_t({type:TD,selectors:[["clr-tabs"]],features:[Ks]}),TD),QR=((ID=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;if(_classCallCheck(this,n),!r)throw new Error("clrTabLink and clr-tab-content should only be used inside of a clr-tabs");return(s=t.call(this,e,r)).ifActive=o,s.id=i,s}return _createClass(n,[{key:"flavor",get:function(){return this.ifActive.current===this.id}}]),n}(CA)).\u0275fac=function(e){return new(e||ID)(Zo(vo),Zo($R,8),Zo(wE),Zo(SE))},ID.\u0275dir=_t({type:ID,selectors:[["","clrTabLink",""],["clr-tab-content"]],features:[Ks]}),ID),KR=((ED=function e(){_classCallCheck(this,e)}).\u0275prov=he({token:ED,factory:ED.\u0275fac=function(e){return new(e||ED)}}),ED),YR=function(e){return e.HORIZONTAL="horizontal",e.VERTICAL="vertical",e}({}),ZR=((UD=function(){function e(){_classCallCheck(this,e),this._children=[],this.layout=YR.HORIZONTAL}return _createClass(e,[{key:"register",value:function(e){this._children.push(e)}},{key:"unregister",value:function(e){var t=this.children.indexOf(e);t>-1&&this.children.splice(t,1)}},{key:"children",get:function(){return this._children}},{key:"activeTab",get:function(){return this.children.find((function(e){return e.active}))}},{key:"overflowTabs",get:function(){return this.layout===YR.VERTICAL?[]:this.children.filter((function(e){return!0===e.tabLink.inOverflow}))}}]),e}()).\u0275fac=function(e){return new(e||UD)},UD.\u0275prov=he({token:UD,factory:UD.\u0275fac}),UD),XR=0,JR=((jD=function(){function e(t,n,r,i){_classCallCheck(this,e),this.ifActiveService=t,this.id=n,this.ariaService=r,this.tabsService=i,this.tabContentId||(this.tabContentId="clr-tab-content-"+XR++)}return _createClass(e,[{key:"ngOnDestroy",value:function(){var e=this.tabsService.tabContentViewContainer.indexOf(this.viewRef);e>-1&&this.tabsService.tabContentViewContainer.remove(e)}},{key:"templateRef",set:function(e){this.viewRef=this.tabsService.tabContentViewContainer.createEmbeddedView(e)}},{key:"ariaLabelledBy",get:function(){return this.ariaService.ariaLabelledBy}},{key:"tabContentId",get:function(){return this.ariaService.ariaControls},set:function(e){this.ariaService.ariaControls=e}},{key:"active",get:function(){return this.ifActiveService.current===this.id}}]),e}()).\u0275fac=function(e){return new(e||jD)(Zo(SE),Zo(wE),Zo(KR),Zo(ZR))},jD.\u0275cmp=dt({type:jD,selectors:[["clr-tab-content"]],viewQuery:function(e,t){var n;1&e&&Iu(qw,!0),2&e&&Eu(n=Ru())&&(t.templateRef=n.first)},inputs:{tabContentId:["id","tabContentId"]},ngContentSelectors:P_,decls:2,vars:0,consts:[["tabContentProjectedRef",""],["role","tabpanel",1,"tab-content",3,"id","hidden"]],template:function(e,t){1&e&&(ms(),Ko(0,Ww,2,7,"ng-template",null,0,Lu))},encapsulation:2}),jD),eP=0,tP=new Ue("TABS_ID"),nP={provide:tP,useFactory:function(){return"clr-tabs-"+eP++}},rP=0,iP=((GD=function(){function e(t,n,r,i,o,s,a,u){_classCallCheck(this,e),this.ifActiveService=t,this.id=n,this.ariaService=r,this.el=i,this.cfr=o,this.viewContainerRef=s,this.tabsService=a,this.tabsId=u,this.tabLinkId||(this.tabLinkId="clr-tab-link-"+rP++);var c=this.cfr.resolveComponentFactory(qR);this.templateRefContainer=this.viewContainerRef.createComponent(c,void 0,void 0,[[this.el.nativeElement]]).instance}return _createClass(e,[{key:"activate",value:function(){this.ifActiveService.current=this.id}},{key:"inOverflow",set:function(e){this._inOverflow=e},get:function(){return this._inOverflow&&this.tabsService.layout!==YR.VERTICAL}},{key:"addLinkClasses",get:function(){return!this.inOverflow}},{key:"ariaControls",get:function(){return this.ariaService.ariaControls}},{key:"tabLinkId",get:function(){return this.ariaService.ariaLabelledBy},set:function(e){this.ariaService.ariaLabelledBy=e}},{key:"active",get:function(){return this.ifActiveService.current===this.id}},{key:"tabindex",get:function(){return this.active?0:-1}}]),e}()).\u0275fac=function(e){return new(e||GD)(Zo(SE),Zo(wE),Zo(KR),Zo(va),Zo(pa),Zo(Ba),Zo(ZR),Zo(tP))},GD.\u0275dir=_t({type:GD,selectors:[["","clrTabLink",""]],hostAttrs:["role","tab","type","button"],hostVars:13,hostBindings:function(e,t){1&e&&hs("click",(function(){return t.activate()})),2&e&&(Ws("id",t.tabLinkId),$o("aria-hidden",!1)("aria-controls",t.ariaControls)("aria-selected",t.active)("tabindex",t.tabindex),Os("btn",!0)("btn-link",t.addLinkClasses)("nav-link",t.addLinkClasses)("active",t.active))},inputs:{tabLinkId:["id","tabLinkId"],inOverflow:["clrTabLinkInOverflow","inOverflow"]}}),GD),oP=((zD=function(){function e(t,n,r){_classCallCheck(this,e),this.ifActiveService=t,this.id=n,this.tabsService=r,r.register(this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.tabsService.unregister(this)}},{key:"active",get:function(){return this.ifActiveService.current===this.id}}]),e}()).\u0275fac=function(e){return new(e||zD)(Zo(SE),Zo(wE),Zo(ZR))},zD.\u0275cmp=dt({type:zD,selectors:[["clr-tab"]],contentQueries:function(e,t,n){var r;1&e&&(Ou(n,iP,!0),Ou(n,JR,!0)),2&e&&(Eu(r=Ru())&&(t.tabLink=r.first),Eu(r=Ru())&&(t.tabContent=r.first))},features:[ha([CE,KR])],ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2}),zD),sP=((BD=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||BD)},BD.\u0275cmp=dt({type:BD,selectors:[["clr-tab-overflow-content"]],hostVars:2,hostBindings:function(e,t){2&e&&Os("dropdown-menu",!0)},ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2}),BD),aP=function(e){return e.VERTICAL="vertical",e.HORIZONTAL="horizontal",e.BOTH="both",e}({}),uP=((rR=function(){function e(t,n){_classCallCheck(this,e),this.elementRef=t,this.platformId=n}return _createClass(e,[{key:"focus",value:function(){cf(this.platformId)&&this.elementRef.nativeElement.focus()}},{key:"nativeElement",get:function(){return this.elementRef.nativeElement}}]),e}()).\u0275fac=function(e){return new(e||rR)(Zo(va),Zo(Gu))},rR.\u0275dir=_t({type:rR,selectors:[["","clrKeyFocusItem",""]],hostVars:1,hostBindings:function(e,t){2&e&&$o("tabindex",t.tabIndex)}}),rR),cP=((nR=function(){function e(t){_classCallCheck(this,e),this.elementRef=t,this.direction=aP.VERTICAL,this.focusOnLoad=!1,this.focusChange=new pu,this._current=0,this.subscriptions=[]}return _createClass(e,[{key:"focusCurrent",value:function(){this.currentItem.focus(),this.focusChange.next(this._current)}},{key:"moveTo",value:function(e){this.positionInRange(e)&&(this.current=e,this.focusCurrent())}},{key:"ngAfterContentInit",value:function(){this.subscriptions.push(this.listenForItemUpdates()),this.initializeFocus()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"handleKeyboardEvent",value:function(e){if(this.currentItemElement!==e.target){var t=this.getItemPosition(e.target);this.positionInRange(t)&&(this.current=t)}this.prevKeyPressed(e)&&this.currentFocusIsNotFirstItem()?this.moveTo(this.current-1):this.nextKeyPressed(e)&&this.currentFocusIsNotLastItem()?this.moveTo(this.current+1):e.code===VO.Home?this.moveTo(0):e.code===VO.End&&this.moveTo(this.focusableItems.length-1),BO(e)}},{key:"setClickedItemCurrent",value:function(e){var t=this.getItemPosition(e.target);t>-1&&this.moveTo(t)}},{key:"getItemPosition",value:function(e){return this._focusableItems?this.focusableItems.indexOf(e):this.focusableItems.map((function(e){return e.nativeElement})).indexOf(e)}},{key:"positionInRange",value:function(e){return e>=0&&e<this.focusableItems.length}},{key:"currentFocusIsNotFirstItem",value:function(){return this._current-1>=0}},{key:"currentFocusIsNotLastItem",value:function(){return this._current+1<this.focusableItems.length}},{key:"initializeFocus",value:function(){this.focusableItems&&this.focusableItems.length&&(this._current>=this.focusableItems.length&&(this._current=this.focusableItems.length-1),this.focusOnLoad&&(this.currentItem.focus(),this.focusChange.next()))}},{key:"listenForItemUpdates",value:function(){var e=this;return this.clrKeyFocusItems.changes.subscribe((function(){e.initializeFocus()}))}},{key:"nextKeyPressed",value:function(e){var t=zO(e);switch(this.direction){case aP.VERTICAL:return e.key===t.ArrowDown;case aP.HORIZONTAL:return e.key===t.ArrowRight;case aP.BOTH:return e.key===t.ArrowDown||e.key===t.ArrowRight;default:return!1}}},{key:"prevKeyPressed",value:function(e){var t=zO(e);switch(this.direction){case aP.VERTICAL:return e.key===t.ArrowUp;case aP.HORIZONTAL:return e.key===t.ArrowLeft;case aP.BOTH:return e.key===t.ArrowUp||e.key===t.ArrowLeft;default:return!1}}},{key:"focusableItems",set:function(e){e&&e.length&&(this._focusableItems=e,this.initializeFocus())},get:function(){return this._focusableItems?this._focusableItems:this.clrKeyFocusItems.toArray()}},{key:"nativeElement",get:function(){return this.elementRef.nativeElement}},{key:"current",get:function(){return this._current},set:function(e){this._current!==e&&(this._current=e)}},{key:"currentItem",get:function(){return this.focusableItems[this._current]}},{key:"currentItemElement",get:function(){return this.currentItem.nativeElement?this.currentItem.nativeElement:this.currentItem}}]),e}()).\u0275fac=function(e){return new(e||nR)(Zo(va))},nR.\u0275cmp=dt({type:nR,selectors:[["","clrKeyFocus",""]],contentQueries:function(e,t,n){var r;1&e&&Au(n,uP,!0),2&e&&Eu(r=Ru())&&(t.clrKeyFocusItems=r)},hostBindings:function(e,t){1&e&&hs("keydown",(function(e){return t.handleKeyboardEvent(e)}))("click",(function(e){return t.setClickedItemCurrent(e)}))},inputs:{direction:["clrDirection","direction"],focusOnLoad:["clrFocusOnLoad","focusOnLoad"],focusableItems:["clrKeyFocus","focusableItems"]},outputs:{focusChange:"clrFocusChange"},attrs:$w,ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2}),nR),lP=((tR=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.ifActiveService=t,this.toggleService=n,this.tabsService=r,this.tabsId=i,this.commonStrings=o,this.subscriptions=[],this._tabLinkDirectives=[],this.tabLinkElements=[],this._mousedown=!1}return _createClass(e,[{key:"toggleOverflowOnPosition",value:function(e){this.toggleService.open=e>=this.overflowPosition}},{key:"resetKeyFocusCurrentToActive",value:function(e){this.keyFocus.nativeElement.contains(e.relatedTarget)||this.keyFocus.current===this.activeTabPosition||(this.keyFocus.current=this.activeTabPosition)}},{key:"toggleOverflowOnClick",value:function(){this.keyFocus.moveTo(this.isCurrentInOverflow&&this.toggleService.open?this.overflowPosition-1:this.overflowPosition),this._mousedown=!1}},{key:"openOverflowOnFocus",value:function(){this._mousedown||this.toggleService.open||this.keyFocus.moveTo(this.activeTabPosition)}},{key:"closeOnFocusOut",value:function(e){this._tabOverflowEl.contains(e.relatedTarget)||!this.toggleService.open||this._mousedown||(this.toggleService.open=!1,this.tabLinkElements[this.activeTabPosition]===e.relatedTarget&&(this.keyFocus.current=this.activeTabPosition))}},{key:"closeOnEscapeKey",value:function(){this.keyFocus.moveTo(this.overflowPosition-1)}},{key:"closeOnOutsideClick",value:function(e,t){e.target===t||t.contains(e.target)||!this._tabOverflowEl.contains(e.target)&&this.isCurrentInOverflow&&this.keyFocus.moveTo(this.overflowPosition-1)}},{key:"listenForTabLinkChanges",value:function(){var e=this;return this.tabs.changes.pipe(ld(this.tabs.map((function(e){return e.tabLink})))).subscribe((function(){e._tabLinkDirectives=e.tabs.map((function(e){return e.tabLink})),e.tabLinkElements=e._tabLinkDirectives.map((function(e){return e.el.nativeElement}))}))}},{key:"ngAfterContentInit",value:function(){this.subscriptions.push(this.listenForTabLinkChanges()),void 0===this.ifActiveService.current&&this.tabLinkDirectives[0]&&this.tabLinkDirectives[0].activate(),this.keyFocus.current=this.activeTabPosition}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){e.unsubscribe()}))}},{key:"overflowPosition",get:function(){return this._tabLinkDirectives.filter((function(e){return!e.inOverflow})).length}},{key:"tabContentViewContainer",set:function(e){this.tabsService.tabContentViewContainer=e}},{key:"layout",set:function(e){Object.keys(YR).map((function(e){return YR[e]})).indexOf(e)>=0&&(this.tabsService.layout=e)},get:function(){return this.tabsService.layout}},{key:"tabLinkDirectives",get:function(){return this._tabLinkDirectives}},{key:"activeTabInOverflow",get:function(){return this.tabsService.overflowTabs.indexOf(this.tabsService.activeTab)>-1}},{key:"activeTabPosition",get:function(){return this._tabLinkDirectives.findIndex((function(e){return e.active}))}},{key:"tabIds",get:function(){return this.tabsService.children.map((function(e){return e.tabLink.tabLinkId})).join(" ")}},{key:"isCurrentInOverflow",get:function(){return this.keyFocus.current>=this.overflowPosition}},{key:"isVertical",get:function(){return this.layout===YR.VERTICAL}},{key:"tabOverflowEl",set:function(e){this._tabOverflowEl=e&&e.nativeElement,this.toggleService.open&&e&&this.keyFocus.focusCurrent()}}]),e}()).\u0275fac=function(e){return new(e||tR)(Zo(SE),Zo(_C),Zo(ZR),Zo(tP),Zo(JC))},tR.\u0275cmp=dt({type:tR,selectors:[["clr-tabs"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,oP,!1),2&e&&Eu(r=Ru())&&(t.tabs=r)},viewQuery:function(e,t){var n;1&e&&(Iu(Qw,!0,Ba),Tu(sP,!0,va),Iu(cP,!0)),2&e&&(Eu(n=Ru())&&(t.tabContentViewContainer=n.first),Eu(n=Ru())&&(t.tabOverflowEl=n.first),Eu(n=Ru())&&(t.keyFocus=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&Os("tabs-vertical",t.isVertical)},inputs:{layout:["clrLayout","layout"]},features:[ha([SE,_C,ZR,nP])],decls:5,vars:4,consts:[["role","tablist","clrDirection","both",1,"nav",3,"clrKeyFocus","clrFocusChange","focusout"],[4,"ngFor","ngForOf"],[4,"ngIf"],["tabContentViewContainer",""],["role","presentation",1,"nav-item"],[3,"ngTemplateOutlet"],["role","presentation",1,"tabs-overflow","bottom-right"],["role","application",1,"nav-item"],["type","button","aria-hidden","true",1,"btn","btn-link","nav-link","dropdown-toggle",3,"mousedown","focus","click"],["tabOverflowTrigger",""],["shape","ellipsis-horizontal"],[3,"keydown.esc","click","focusout",4,"ngIf"],[3,"keydown.esc","click","focusout"],[3,"ngTemplateOutlet",4,"ngIf"]],template:function(e,t){1&e&&(ns(0,"ul",0),hs("clrFocusChange",(function(e){return t.toggleOverflowOnPosition(e)}))("focusout",(function(e){return t.resetKeyFocusCurrentToActive(e)})),Ko(1,Yw,2,1,"ng-container",1),Ko(2,eC,7,11,"ng-container",2),rs(),as(3,null,3)),2&e&&(es("clrKeyFocus",t.tabLinkElements),$o("aria-owns",t.tabIds),Ur(1),es("ngForOf",t.tabLinkDirectives),Ur(1),es("ngIf",t.tabsService.overflowTabs.length>0))},directives:[cP,Uh,zh,Zh,yC,sP],encapsulation:2}),tR),hP=((eR=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:eR}),eR.\u0275inj=fe({factory:function(e){return new(e||eR)},imports:[[uf]]}),eR),fP=((JD=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:JD}),JD.\u0275inj=fe({factory:function(e){return new(e||JD)},imports:[[uf,AE,mC,WR,hP],AE]}),JD),dP=((XD=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:XD}),XD.\u0275inj=fe({factory:function(e){return new(e||XD)},imports:[[uf,mC,AE,uA],AE,mC,uA]}),XD),pP=((ZD=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:ZD}),ZD.\u0275inj=fe({factory:function(e){return new(e||ZD)},imports:[GR,HR,fP,dP]}),ZD),vP=((YD=function(){function e(t){_classCallCheck(this,e),this._document=t}return _createClass(e,[{key:"stopScrolling",value:function(){this._document.body.classList.add("no-scrolling")}},{key:"resumeScrolling",value:function(){this._document.body.classList.contains("no-scrolling")&&this._document.body.classList.remove("no-scrolling")}}]),e}()).\u0275fac=function(e){return new(e||YD)(Ke(Nl))},YD.\u0275prov=he({token:YD,factory:YD.\u0275fac}),YD),gP=((KD=function(){function e(t,n,r){_classCallCheck(this,e),this._scrollingService=t,this.commonStrings=n,this.modalId=r,this._open=!1,this._openChanged=new pu(!1),this.closable=!0,this.staticBackdrop=!0,this.skipAnimation="false",this.bypassScrollService=!1,this.stopClose=!1,this.altClose=new pu(!1)}return _createClass(e,[{key:"ngOnChanges",value:function(e){!this.bypassScrollService&&e&&e.hasOwnProperty("_open")&&(e._open.currentValue?this._scrollingService.stopScrolling():this._scrollingService.resumeScrolling())}},{key:"ngOnDestroy",value:function(){this._scrollingService.resumeScrolling()}},{key:"open",value:function(){this._open||(this._open=!0,this._openChanged.emit(!0))}},{key:"close",value:function(){this.stopClose?this.altClose.emit(!1):this.closable&&this._open&&(this._open=!1,this.focusTrap.setPreviousFocus())}},{key:"fadeDone",value:function(e){"void"===e.toState&&this._openChanged.emit(!1)}}]),e}()).\u0275fac=function(e){return new(e||KD)(Zo(vP),Zo(JC),Zo(tS))},KD.\u0275cmp=dt({type:KD,selectors:[["clr-modal"]],viewQuery:function(e,t){var n;1&e&&Tu(DE,!0),2&e&&Eu(n=Ru())&&(t.focusTrap=n.first)},hostVars:2,hostBindings:function(e,t){1&e&&hs("keyup.escape",(function(){return t.close()}),!1,Gn),2&e&&Os("open",t._open)},inputs:{_open:["clrModalOpen","_open"],closable:["clrModalClosable","closable"],staticBackdrop:["clrModalStaticBackdrop","staticBackdrop"],skipAnimation:["clrModalSkipAnimation","skipAnimation"],bypassScrollService:["clrModalOverrideScrollService","bypassScrollService"],stopClose:["clrModalPreventClose","stopClose"],size:["clrModalSize","size"]},outputs:{_openChanged:"clrModalOpenChange",altClose:"clrModalAlternateClose"},features:[ha([US],[vP]),ta],ngContentSelectors:iC,decls:1,vars:1,consts:[["clrFocusTrap","","class","modal",4,"ngIf"],["clrFocusTrap","",1,"modal"],["role","dialog","aria-modal","true",1,"modal-dialog"],[1,"clr-sr-only"],[1,"modal-content-wrapper"],[1,"modal-content"],[1,"modal-header"],["type","button","class","close",3,"click",4,"ngIf"],["clrFocusOnViewInit","",1,"modal-title-wrapper",3,"id"],["aria-hidden","true",1,"modal-backdrop",3,"click"],["type","button",1,"close",3,"click"],["shape","close"]],template:function(e,t){1&e&&(ms(rC),Ko(0,nC,16,14,"div",0)),2&e&&es("ngIf",t._open)},directives:[zh,DE,aA,yC],styles:["[_nghost-%COMP%] { display: none; }\n        .open[_nghost-%COMP%] { display: inline; }"],data:{animation:[oy("fadeDown",[ly("* => false",[uy({opacity:0,transform:"translate(0, -25%)"}),sy("0.2s ease-in-out")]),ly("false => *",[sy("0.2s ease-in-out",uy({opacity:0,transform:"translate(0, -25%)"}))])]),oy("fade",[ly("void => *",[uy({opacity:0}),sy("0.2s ease-in-out",uy({opacity:.85}))]),ly("* => void",[sy("0.2s ease-in-out",uy({opacity:0}))])])]}}),KD),yP=((QD=function(){function e(){_classCallCheck(this,e),this.tabindex=0}return _createClass(e,[{key:"mouseDown",value:function(){delete this.tabindex}},{key:"mouseUp",value:function(){this.tabindex=0}}]),e}()).\u0275fac=function(e){return new(e||QD)},QD.\u0275dir=_t({type:QD,selectors:[["",8,"modal-body"]],hostVars:1,hostBindings:function(e,t){1&e&&hs("mousedown",(function(){return t.mouseDown()}))("mouseup",(function(){return t.mouseUp()})),2&e&&$o("tabindex",t.tabindex)}}),QD),mP=(($D=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:$D}),$D.\u0275inj=fe({factory:function(e){return new(e||$D)},imports:[[uf,mC,RE,uA],mC,uA]}),$D),_P=((WD=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:WD}),WD.\u0275inj=fe({factory:function(e){return new(e||WD)},imports:[[uf,mC,uA],AE]}),WD),bP=((qD=function(){function e(){_classCallCheck(this,e),this._id=new x}return _createClass(e,[{key:"updateId",value:function(e){this._id.next(e)}},{key:"id",get:function(){return this._id.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||qD)},qD.\u0275prov=he({token:qD,factory:qD.\u0275fac}),qD),kP=((HD=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||HD)},HD.\u0275cmp=dt({type:HD,selectors:[["clr-tooltip"]],hostVars:2,hostBindings:function(e,t){2&e&&Os("tooltip",!0)},features:[ha([_C,{provide:jA,useExisting:va},US,bP])],ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2}),HD),wP=["bottom-left","bottom-right","top-left","top-right","right","left"],CP=["xs","sm","md","lg"],SP=((uR=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;if(_classCallCheck(this,n),(s=t.call(this,e,r)).uniqueId=i,s.tooltipIdService=o,!r)throw new Error("clr-tooltip-content should only be used inside of a clr-tooltip");return s.position="right",s.size="sm",s.updateId(i),_possibleConstructorReturn(s)}return _createClass(n,[{key:"updateId",value:function(e){this._id=e,this.tooltipIdService.updateId(e)}},{key:"position",get:function(){return this._position},set:function(e){switch(this.renderer.removeClass(this.el.nativeElement,"tooltip-"+this.position),this._position=e&&wP.indexOf(e)>-1?e:"right",this.renderer.addClass(this.el.nativeElement,"tooltip-"+this.position),e){case"top-right":this.anchorPoint=AR.TOP_CENTER,this.popoverPoint=AR.LEFT_BOTTOM;break;case"top-left":this.anchorPoint=AR.TOP_CENTER,this.popoverPoint=AR.RIGHT_BOTTOM;break;case"bottom-right":this.anchorPoint=AR.BOTTOM_CENTER,this.popoverPoint=AR.LEFT_TOP;break;case"bottom-left":this.anchorPoint=AR.BOTTOM_CENTER,this.popoverPoint=AR.RIGHT_TOP;break;case"right":this.anchorPoint=AR.RIGHT_CENTER,this.popoverPoint=AR.LEFT_TOP;break;case"left":this.anchorPoint=AR.LEFT_CENTER,this.popoverPoint=AR.RIGHT_TOP;break;default:this.anchorPoint=AR.RIGHT_CENTER,this.popoverPoint=AR.LEFT_TOP}}},{key:"id",get:function(){return this._id},set:function(e){this.updateId(e||"")}},{key:"size",get:function(){return this._size},set:function(e){this.renderer.removeClass(this.el.nativeElement,"tooltip-"+this.size),this._size=e&&CP.indexOf(e)>-1?e:"sm",this.renderer.addClass(this.el.nativeElement,"tooltip-"+this.size)}}]),n}(DR)).\u0275fac=function(e){return new(e||uR)(Zo(Ro),Zo(jA,8),Zo(tS),Zo(bP))},uR.\u0275cmp=dt({type:uR,selectors:[["clr-tooltip-content"]],hostVars:6,hostBindings:function(e,t){2&e&&(Ws("id",t.id),$o("role","tooltip"),As("opacity",1),Os("tooltip-content",!0))},inputs:{position:["clrPosition","position"],size:["clrSize","size"],id:"id"},features:[Ks],ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2}),uR),EP=((aR=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.toggleService=t,this.tooltipIdService=n,this.subs=[],this.subs.push(this.tooltipIdService.id.subscribe((function(e){return r.ariaDescribedBy=e})))}return _createClass(e,[{key:"showTooltip",value:function(){this.toggleService.open=!0}},{key:"hideTooltip",value:function(){this.toggleService.open=!1}},{key:"ngOnDestroy",value:function(){this.subs.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||aR)(Zo(_C),Zo(bP))},aR.\u0275dir=_t({type:aR,selectors:[["","clrTooltipTrigger",""]],hostAttrs:["tabindex","0"],hostVars:4,hostBindings:function(e,t){1&e&&hs("mouseenter",(function(){return t.showTooltip()}))("focus",(function(){return t.showTooltip()}))("mouseleave",(function(){return t.hideTooltip()}))("blur",(function(){return t.hideTooltip()})),2&e&&($o("aria-describedby",t.ariaDescribedBy)("role","button"),Os("tooltip-trigger",!0))}}),aR),IP=((sR=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:sR}),sR.\u0275inj=fe({factory:function(e){return new(e||sR)},imports:[[uf],AE,mC]}),sR),TP=((oR=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:oR}),oR.\u0275inj=fe({factory:function(e){return new(e||oR)},imports:[NR,_P,IP]}),oR),xP=((iR=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:iR}),iR.\u0275inj=fe({factory:function(e){return new(e||iR)},imports:[[uf,mP,BR]]}),iR),AP=function(e){return e.Default="default",e.Multi="multi",e}({}),OP=function(e){return e.Inactive="inactive",e.Error="error",e.Complete="complete",e}({}),DP=0,RP=function e(t,n){_classCallCheck(this,e),this.id=t,this.accordionId=n,this.status=OP.Inactive,this.index=null,this.disabled=!1,this.open=!1,this.templateId="".concat(this.id,"-").concat(this.accordionId)},PP=function(){function e(){_classCallCheck(this,e),this.strategy=AP.Default,this.accordionCount=DP++,this._panels={}}return _createClass(e,[{key:"setStrategy",value:function(e){this.strategy=e}},{key:"updatePanelOrder",value:function(e){var t=this;e.forEach((function(e,n){return t._panels[e].index=n})),this.removeOldPanels(e)}},{key:"addPanel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._panels[e]=new RP(e,this.accordionCount),this._panels[e].open=t}},{key:"togglePanel",value:function(e,t){var n=this._panels[e].open;this.strategy===AP.Default&&this.closeAllPanels(),this._panels[e].open=void 0!==t?t:!n}},{key:"disablePanel",value:function(e,t){this._panels[e].disabled=t}},{key:"closeAllPanels",value:function(){var e=this;this.panels.forEach((function(t){return e._panels[t.id].open=!1}))}},{key:"removeOldPanels",value:function(e){var t=this;this.panels.filter((function(t){return void 0===e.find((function(e){return e===t.id}))})).forEach((function(e){return delete t._panels[e.id]}))}},{key:"panels",get:function(){var e=this;return Object.keys(this._panels).map((function(t){return e._panels[t]}))}}]),e}(),NP=((cR=function(){function e(){_classCallCheck(this,e),this.accordion=new PP,this._panelsChanges=new Fc(this.accordion.panels)}return _createClass(e,[{key:"getPanelChanges",value:function(e){return this._panelsChanges.pipe(j((function(t){return t.find((function(t){return t.id===e}))})))}},{key:"setStrategy",value:function(e){this.accordion.setStrategy(e)}},{key:"addPanel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.accordion.addPanel(e,t),this.emitUpdatedPanels()}},{key:"togglePanel",value:function(e,t){this.accordion.togglePanel(e,t),this.emitUpdatedPanels()}},{key:"disablePanel",value:function(e,t){this.accordion.disablePanel(e,t),this.emitUpdatedPanels()}},{key:"updatePanelOrder",value:function(e){this.accordion.updatePanelOrder(e),this.emitUpdatedPanels()}},{key:"emitUpdatedPanels",value:function(){this._panelsChanges.next(this.accordion.panels)}}]),e}()).\u0275fac=function(e){return new(e||cR)},cR.\u0275prov=he({token:cR,factory:cR.\u0275fac}),cR),FP=[oy("skipInitialRender",[ly(":enter",[])]),oy("toggle",[ly("void => *",[uy({display:"block",height:0}),sy("0.2s ease-in-out",uy({height:"*"}))])])],LP=((kR=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||kR)},kR.\u0275cmp=dt({type:kR,selectors:[["clr-accordion-description"],["clr-step-description"]],hostVars:2,hostBindings:function(e,t){2&e&&Os("clr-accordion-description",!0)},ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2,changeDetection:0}),kR),MP=((bR=function(){function e(t,n,r,i){_classCallCheck(this,e),this.commonStrings=t,this.accordionService=n,this.ifExpandService=r,this.id=i,this.disabled=!1,this.panelOpen=!1,this.panelOpenChange=new pu,this.AccordionStatus=OP,this.isAccordion=!0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.panel=this.accordionService.getPanelChanges(this.id).pipe(il((function(t){return e.emitPanelChange(t)}))),this.accordionService.addPanel(this.id,this.panelOpen),this.accordionService.togglePanel(this.id,this.panelOpen),this.accordionService.disablePanel(this.id,this.disabled)}},{key:"ngOnChanges",value:function(e){this.panel&&e.panelOpen&&e.panelOpen.currentValue!==e.panelOpen.previousValue&&this.accordionService.togglePanel(this.id,e.panelOpen.currentValue),this.panel&&e.disabled&&e.disabled.currentValue!==e.disabled.previousValue&&this.accordionService.disablePanel(this.id,e.disabled.currentValue)}},{key:"togglePanel",value:function(){this.accordionService.togglePanel(this.id)}},{key:"collapsePanelOnAnimationDone",value:function(e){e.open||(this.ifExpandService.expanded=!1)}},{key:"getPanelStateClasses",value:function(e){return"clr-accordion-panel-".concat(e.status," ").concat(e.open?"clr-accordion-panel-open":"")}},{key:"getAccordionContentId",value:function(e){return"clr-accordion-content-".concat(e,"'")}},{key:"getAccordionHeaderId",value:function(e){return"clr-accordion-header-"+e}},{key:"emitPanelChange",value:function(e){this.panelOpenChange.emit(e.open),e.open&&(this.ifExpandService.expanded=!0)}}]),e}()).\u0275fac=function(e){return new(e||bR)(Zo(JC),Zo(NP),Zo(TE),Zo(tS))},bR.\u0275cmp=dt({type:bR,selectors:[["clr-accordion-panel"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,LP,!1),2&e&&Eu(r=Ru())&&(t.accordionDescription=r)},hostVars:2,hostBindings:function(e,t){2&e&&Os("clr-accordion-panel",!0)},inputs:{disabled:["clrAccordionPanelDisabled","disabled"],panelOpen:["clrAccordionPanelOpen","panelOpen"]},outputs:{panelOpenChange:"clrAccordionPanelOpenChange"},features:[ha([TE,US]),ta],ngContentSelectors:gC,decls:2,vars:3,consts:[[4,"ngIf"],["aria-live","assertive","class","clr-sr-only",4,"ngIf"],["role","group",3,"ngClass"],[1,"clr-accordion-header"],["type","button",1,"clr-accordion-header-button",3,"id","disabled","click"],["headerButton",""],[1,"clr-sr-only"],[1,"clr-accordion-status"],["shape","angle","dir","right",1,"clr-accordion-angle"],[1,"clr-accordion-number"],["shape","exclamation-circle",1,"clr-accordion-error-icon"],["shape","check-circle",1,"clr-accordion-complete-icon"],["role","region",3,"id"],["class","clr-accordion-content",4,"ngIf"],["aria-live","assertive",1,"clr-sr-only"],[1,"clr-accordion-content"],[1,"clr-accordion-inner-content"]],template:function(e,t){1&e&&(ms(vC),Ko(0,lC,19,18,"ng-container",0),cu(1,"async")),2&e&&es("ngIf",lu(1,1,t.panel))},directives:[zh,Vh,yC],pipes:[sf],encapsulation:2,data:{animation:FP},changeDetection:0}),bR),VP=((_R=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||_R)},_R.\u0275cmp=dt({type:_R,selectors:[["clr-accordion-title"],["clr-step-title"]],hostVars:2,hostBindings:function(e,t){2&e&&Os("clr-accordion-title",!0)},ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2,changeDetection:0}),_R),jP=((mR=function(){function e(t){_classCallCheck(this,e),this.accordionService=t,this.multiPanel=!1,this.subscriptions=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.setAccordionStrategy()}},{key:"ngOnChanges",value:function(e){e.multiPanel.currentValue!==e.multiPanel.previousValue&&this.setAccordionStrategy()}},{key:"ngAfterViewInit",value:function(){this.subscriptions.push(this.listenForDOMChanges())}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"setAccordionStrategy",value:function(){this.accordionService.setStrategy(this.multiPanel?AP.Multi:AP.Default)}},{key:"listenForDOMChanges",value:function(){var e=this;return this.panels.changes.pipe(ld(this.panels)).subscribe((function(t){return e.accordionService.updatePanelOrder(t.toArray().map((function(e){return e.id})))}))}}]),e}()).\u0275fac=function(e){return new(e||mR)(Zo(NP))},mR.\u0275cmp=dt({type:mR,selectors:[["clr-accordion"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,MP,!0),2&e&&Eu(r=Ru())&&(t.panels=r)},hostVars:2,hostBindings:function(e,t){2&e&&Os("clr-accordion",!0)},inputs:{multiPanel:["clrAccordionMultiPanel","multiPanel"]},features:[ha([NP]),ta],ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2,changeDetection:0}),mR),UP=((yR=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||yR)},yR.\u0275cmp=dt({type:yR,selectors:[["clr-accordion-content"],["clr-step-content"]],ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2,changeDetection:0}),yR),BP=((gR=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(EA)).\u0275fac=function(e){return eN(e||gR)},gR.\u0275dir=_t({type:gR,selectors:[["clr-accordion"]],features:[Ks]}),gR),zP=((vR=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;if(_classCallCheck(this,n),!r)throw new Error("clr-accordion-panel should only be used inside of clr-accordion");return(o=t.call(this,e,r)).expand=i,o}return _createClass(n,[{key:"flavor",get:function(){return this.expand.expanded}}]),n}(CA)).\u0275fac=function(e){return new(e||vR)(Zo(vo),Zo(BP,8),Zo(TE))},vR.\u0275dir=_t({type:vR,selectors:[["clr-accordion-panel"]],features:[Ks]}),vR),GP=((pR=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:pR}),pR.\u0275inj=fe({factory:function(e){return new(e||pR)},imports:[[uf,mC]]}),pR),HP=((dR=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:dR}),dR.\u0275inj=fe({factory:function(e){return new(e||dR)},imports:[[uf,mC,GP],GP]}),dR),qP=((fR=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:fR}),fR.\u0275inj=fe({factory:function(e){return new(e||fR)},imports:[[uf]]}),fR),WP=((hR=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:hR}),hR.\u0275inj=fe({factory:function(e){return new(e||hR)},imports:[[uf,mC,iA],mC,iA]}),hR),$P=((lR=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:lR}),lR.\u0275inj=fe({factory:function(e){return new(e||lR)},imports:[zR,aD,mC,mP,Bx,AE,RE,uA,$S,Ux,pP,TP,xP,eA,HP,iA,qP,WC,WP]}),lR),QP=ar(_E),KP=ar(kx),YP=ar(Rx),ZP=ar(Fx),XP=ar(IA),JP=ar($R),eN=ar(BP);function tN(e){if("string"!=typeof e||!e)throw new Error("expected a non-empty string, got: "+e)}function nN(e){if("number"!=typeof e)throw new Error("expected a number, got: "+e)}var rN="eTag",iN="url";function oN(e){return function(e,t){var n,r=new Set,i=[],o=_createForOfIteratorHelper(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,a=s.unicode;r.has(a)||(r.add(a),i.push(s))}}catch(u){o.e(u)}finally{o.f()}return i}(e)}var sN=[{version:1,migration:function(e,t,n){function r(t,n,r){var i=n?e.createObjectStore(t,{keyPath:n}):e.createObjectStore(t);if(r)for(var o=0,s=Object.entries(r);o<s.length;o++){var a=_slicedToArray(s[o],2),u=a[0],c=_slicedToArray(a[1],2),l=c[0],h=c[1];i.createIndex(u,l,{multiEntry:h})}return i}r("keyvalue"),r("emoji","unicode",{tokens:["tokens",!0],"group-order":[["group","order"]],skinUnicodes:["skinUnicodes",!0]}),r("favorites",void 0,{count:[""]}),n()}}],aN={},uN={},cN={};function lN(e,t,n){n.onerror=function(){return t(n.error)},n.onblocked=function(){return t(new Error("IDB blocked"))},n.onsuccess=function(){return e(n.result)}}function hN(e,t,n,r){return new Promise((function(i,o){var s,a=e.transaction(t,n),u="string"==typeof t?a.objectStore(t):t.map((function(e){return a.objectStore(e)}));r(u,(function(e){s=e})),a.oncomplete=function(){return i(s)},a.onerror=function(){return o(a.error)}}))}function fN(e){var t=aN[e],n=t&&t.result;if(n){n.close();var r=cN[e];if(r){var i,o=_createForOfIteratorHelper(r);try{for(o.s();!(i=o.n()).done;){(0,i.value)()}}catch(s){o.e(s)}finally{o.f()}}}delete aN[e],delete uN[e],delete cN[e]}var dN=new Set([":D","xD",":'D","o:)",":x",":p",";p","xp",":l",":z",":j","8D","xo","8)",":B",":o",":s",":'o","Dx","x(","D:",":c",">0)",":3","</3","<3","\\m/",":E","8#"]);function pN(e){return e.split(/[\s_]+/).map((function(e){return!e.match(/\w/)||dN.has(e)?e.toLowerCase():e.replace(/[)(:,]/g,"").replace(/\u2019/g,"'").toLowerCase()})).filter(Boolean)}function vN(e,t,n,r){e[t](n).onsuccess=function(e){return r&&r(e.target.result)}}function gN(e,t,n){vN(e,"get",t,n)}function yN(e,t,n){vN(e,"getAll",t,n)}function mN(e,t){var n,r=function(e,t){for(var n=e[0],r=1;r<e.length;r++){var i=e[r];t(n)>t(i)&&(n=i)}return n}(e,(function(e){return e.length})),i=[],o=_createForOfIteratorHelper(r);try{var s=function(){var r=n.value;e.some((function(e){return-1===e.findIndex((function(e){return t(e)===t(r)}))}))||i.push(r)};for(o.s();!(n=o.n()).done;)s()}catch(a){o.e(a)}finally{o.f()}return i}function _N(e,t,n,r){return bN.apply(this,arguments)}function bN(){return(bN=_asyncToGenerator(regeneratorRuntime.mark((function e(t,n,r,i){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=function(e){return e.map((function(e){var t=e.annotation,n=e.emoticon,r=e.group,i=e.order,o=e.shortcodes,s=e.skins,a=e.tags,u=e.emoji,c=e.version,l=_toConsumableArray(new Set([].concat(_toConsumableArray(o.map(pN).flat()),_toConsumableArray(a.map(pN).flat()),_toConsumableArray(pN(t)),[n]).filter(Boolean).map((function(e){return e.toLowerCase()})).filter((function(e){return e.length>=2})))).sort(),h={annotation:t,group:r,order:i,shortcodes:o,tags:a,tokens:l,unicode:u,version:c};if(n&&(h.emoticon=n),s){h.skinTones=[],h.skinUnicodes=[],h.skinVersions=[];var f,d=_createForOfIteratorHelper(s);try{for(d.s();!(f=d.n()).done;){var p=f.value,v=p.tone,g=p.emoji,y=p.version;h.skinTones.push(v),h.skinUnicodes.push(g),h.skinVersions.push(y)}}catch(m){d.e(m)}finally{d.f()}}return h}))}(n),e.next=4,hN(t,["emoji","keyvalue"],"readwrite",(function(e){var t,n,s,a=_slicedToArray(e,2),u=a[0],c=a[1],l=0;function h(){3==++l&&function(){if(t!==i||n!==r){var e,a=_createForOfIteratorHelper(s);try{for(a.s();!(e=a.n()).done;){var l=e.value;u.delete(l)}}catch(p){a.e(p)}finally{a.f()}var h,f=_createForOfIteratorHelper(o);try{for(f.s();!(h=f.n()).done;){var d=h.value;u.put(d)}}catch(p){f.e(p)}finally{f.f()}c.put(i,rN),c.put(r,iN)}}()}gN(c,rN,(function(e){t=e,h()})),gN(c,iN,(function(e){n=e,h()})),vN(u,"getAllKeys",void 0,(function(e){s=e,h()}))}));case 4:return e.prev=4,e.finish(4);case 6:case"end":return e.stop()}}),e,null,[[0,,4,6]])})))).apply(this,arguments)}function kN(e,t){return wN.apply(this,arguments)}function wN(){return(wN=_asyncToGenerator(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pN(n),e.abrupt("return",hN(t,"emoji","readonly",(function(e,t){for(var n=[],i=0;i<r.length;i++){var o=r[i],s=i===r.length-1?IDBKeyRange.bound(o,o+"\uffff",!1,!0):IDBKeyRange.only(o);yN(e.index("tokens"),s,(function(e){var i;n.push(e),n.length===r.length&&(i=mN(n,(function(e){return e.unicode})),t(i.sort((function(e,t){return e.order<t.order?-1:1}))))}))}})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CN(e,t,n){return hN(e,t,"readonly",(function(e,t){return gN(e,n,t)}))}var SN=["name","shortcodes","url"];function EN(e){!function(e){var t=e&&Array.isArray(e),n=t&&e.length&&(!e[0]||SN.some((function(t){return!(t in e[0])})));if(!t||n)throw new Error("Expected custom emojis to be in correct format")}(e);var t,n=function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:1},r=e.sort(n),i=function(e,t){var n,r=new Map,i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o,s=n.value,a=_createForOfIteratorHelper(_toConsumableArray(new Set(s.shortcodes.map((function(e){return pN(e)})).flat())));try{for(a.s();!(o=a.n()).done;){for(var u=o.value,c=r,l=0;l<u.length;l++){var h=u.charAt(l),f=c.get(h);f||(f=new Map,c.set(h,f)),c=f}var d=c.get("");d||(d=[],c.set("",d)),d.push(s)}}catch(p){a.e(p)}finally{a.f()}}}catch(p){i.e(p)}finally{i.f()}return function(e,t){for(var n=r,i=0;i<e.length;i++){var o=e.charAt(i),s=n.get(o);if(!s)return[];n=s}if(t)return n.get("")||[];for(var a=[],u=n?[n]:[];u.length;){var c,l=_createForOfIteratorHelper(_toConsumableArray(u.shift().entries()).sort((function(e,t){return e[0]<t[0]?-1:1})));try{for(l.s();!(c=l.n()).done;){var h=_slicedToArray(c.value,2),f=h[0],d=h[1];""===f?a.push.apply(a,_toConsumableArray(d)):u.push(d)}}catch(p){l.e(p)}finally{l.f()}}return a}}(e),o=function(e){return i(e,!0)},s=function(e){return i(e,!1)},a=new Map,u=new Map,c=_createForOfIteratorHelper(e);try{for(c.s();!(t=c.n()).done;){var l=t.value;u.set(l.name.toLowerCase(),l);var h,f=_createForOfIteratorHelper(l.shortcodes);try{for(f.s();!(h=f.n()).done;){var d=h.value;a.set(d.toLowerCase(),l)}}catch(p){f.e(p)}finally{f.f()}}}catch(p){c.e(p)}finally{c.f()}return{all:r,search:function(e){var t=pN(e);return mN(t.map((function(e,n){return(n<t.length-1?o:s)(e)})),(function(e){return e.name})).sort(n)},byShortcode:function(e){return a.get(e.toLowerCase())},byName:function(e){return u.get(e.toLowerCase())}}}function IN(e){if(!e)return e;if(delete e.tokens,e.skinTones){var t=e.skinTones.length;e.skins=Array(t);for(var n=0;n<t;n++)e.skins[n]={tone:e.skinTones[n],unicode:e.skinUnicodes[n],version:e.skinVersions[n]};delete e.skinTones,delete e.skinUnicodes,delete e.skinVersions}return e}function TN(e){e||function(){var e;(e=console).warn.apply(e,arguments)}("emoji-picker-element is more efficient if the dataSource server exposes an ETag header.")}var xN,AN=["annotation","emoji","emoticon","group","order","shortcodes","tags","version"];function ON(e,t){if(2!==Math.floor(e.status/100))throw new Error("Failed to fetch: "+t+":  "+e.status)}function DN(e){return RN.apply(this,arguments)}function RN(){return(RN=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return ON(n=e.sent,t),TN(r=n.headers.get("etag")),e.next=8,n.json();case 8:return i=e.sent,e.abrupt("return",(function(e){if(!e||!Array.isArray(e)||!e[0]||"object"!=typeof e[0]||AN.some((function(t){return!(t in e[0])})))throw new Error("Expected emojibase full (not compact) data, but data is in wrong format")}(i),[r,i]));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PN(e){return NN.apply(this,arguments)}function NN(){return(NN=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=-1;++i<t;)r[i]=e.charCodeAt(i);return n}(JSON.stringify(t)),e.t0=function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=-1;++i<r;)t+=String.fromCharCode(n[i]);return t},e.next=4,crypto.subtle.digest("SHA-1",n);case 4:return e.t1=e.sent,r=(0,e.t0)(e.t1),e.abrupt("return",btoa(r));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FN(){}function LN(e){return e()}function MN(){return Object.create(null)}function VN(e){e.forEach(LN)}function jN(e){return"function"==typeof e}function UN(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function BN(e){return e&&jN(e.destroy)?e.destroy:FN}function zN(e,t){e.appendChild(t)}function GN(e,t,n){e.insertBefore(t,n||null)}function HN(e){e.parentNode.removeChild(e)}function qN(e){return document.createElement(e)}function WN(e){return document.createTextNode(e)}function $N(e,t,n,r){return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}function QN(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function KN(e,t){e.data!==(t=""+t)&&(e.data=t)}function YN(e,t){(null!=t||e.value)&&(e.value=t)}function ZN(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}function XN(e){xN=e}function JN(){if(!xN)throw new Error("Function called outside component initialization");return xN}var eF=[],tF=[],nF=[],rF=[],iF=Promise.resolve(),oF=!1;function sF(){oF||(oF=!0,iF.then(hF))}function aF(){return sF(),iF}function uF(e){nF.push(e)}var cF=!1,lF=new Set;function hF(){if(!cF){cF=!0;do{for(var e=0;e<eF.length;e+=1){var t=eF[e];XN(t),fF(t.$$)}for(eF.length=0;tF.length;)tF.pop()();for(var n=0;n<nF.length;n+=1){var r=nF[n];lF.has(r)||(lF.add(r),r())}nF.length=0}while(eF.length);for(;rF.length;)rF.pop()();oF=!1,cF=!1,lF.clear()}}function fF(e){if(null!==e.fragment){e.update(),VN(e.before_update);var t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(uF)}}var dF=new Set;function pF(e,t){e&&e.i&&(dF.delete(e),e.i(t))}var vF,gF="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function yF(e,t){e.d(1),t.delete(e.key)}function mF(e,t,n,r,i,o,s,a,u,c,l,h){for(var f=e.length,d=o.length,p=f,v={};p--;)v[e[p].key]=p;var g=[],y=new Map,m=new Map;for(p=d;p--;){var _=h(i,o,p),b=n(_),k=s.get(b);k?r&&k.p(_,t):(k=c(b,_)).c(),y.set(b,g[p]=k),b in v&&m.set(b,Math.abs(p-v[b]))}var w=new Set,C=new Set;function S(e){pF(e,1),e.m(a,l,s.has(e.key)),s.set(e.key,e),l=e.first,d--}for(;f&&d;){var E=g[d-1],I=e[f-1],T=E.key,x=I.key;E===I?(l=E.first,f--,d--):y.has(x)?!s.has(T)||w.has(T)?S(E):C.has(x)?f--:m.get(T)>m.get(x)?(C.add(T),S(E)):(w.add(x),f--):(u(I,s),f--)}for(;f--;){var A=e[f];y.has(A.key)||u(A,s)}for(;d;)S(g[d-1]);return g}"function"==typeof HTMLElement&&(vF=function(e){_inherits(n,_wrapNativeSuper(HTMLElement));var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).attachShadow({mode:"open"}),e}return _createClass(n,[{key:"connectedCallback",value:function(){for(var e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}},{key:"attributeChangedCallback",value:function(e,t,n){this[e]=n}},{key:"$destroy",value:function(){var e;null!==(e=this.$$).fragment&&(VN(e.on_destroy),e.fragment&&e.fragment.d(1),e.on_destroy=e.fragment=null,e.ctx=[]),this.$destroy=FN}},{key:"$on",value:function(e,t){var n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}}},{key:"$set",value:function(){}}]),n}());var _F={categoriesLabel:"Categories",emojiUnsupportedMessage:"Your browser does not support color emoji.",favoritesLabel:"Favorites",loadingMessage:"Loading\u2026",networkErrorMessage:"Could not load emoji. Try refreshing.",regionLabel:"Emoji picker",searchDescription:"When search results are available, press up or down to select and enter to choose.",searchLabel:"Search",searchResultsLabel:"Search results",skinToneDescription:"When expanded, press up or down to select and enter to choose.",skinToneLabel:"Choose a skin tone (currently {skinTone})",skinTonesLabel:"Skin tones",skinTones:["Default","Light","Medium-Light","Medium","Medium-Dark","Dark"],categories:{custom:"Custom","smileys-emotion":"Smileys and emoticons","people-body":"People and body","animals-nature":"Animals and nature","food-drink":"Food and drink","travel-places":"Travel and places",activities:"Activities",objects:"Objects",symbols:"Symbols",flags:"Flags"}},bF=[[-1,"\u2728","custom"],[0,"\ud83d\ude00","smileys-emotion"],[1,"\ud83d\udc4b","people-body"],[3,"\ud83d\udc31","animals-nature"],[4,"\ud83c\udf4e","food-drink"],[5,"\ud83c\udfe0\ufe0f","travel-places"],[6,"\u26bd","activities"],[7,"\ud83d\udcdd","objects"],[8,"\u26d4\ufe0f","symbols"],[9,"\ud83c\udfc1","flags"]].map((function(e){var t=_slicedToArray(e,3);return{id:t[0],emoji:t[1],name:t[2]}})),kF=bF.slice(1),wF=bF[0],CF="function"==typeof requestIdleCallback?requestIdleCallback:setTimeout;function SF(e){return e.unicode.includes("\u200d")}var EF={"\ud83d\ude03":.6,"\ud83d\ude10\ufe0f":.7,"\ud83d\ude00":1,"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f":2,"\ud83e\udd23":3,"\ud83d\udc71\u200d\u2640\ufe0f":4,"\ud83e\udd29":5,"\ud83e\udd70":11,"\ud83e\udd7b":12,"\ud83e\uddd1\u200d\ud83e\uddb0":12.1,"\ud83e\udd72":13},IF=["\ud83d\ude0a","\ud83d\ude12","\u2665\ufe0f","\ud83d\udc4d\ufe0f","\ud83d\ude0d","\ud83d\ude02","\ud83d\ude2d","\u263a\ufe0f","\ud83d\ude14","\ud83d\ude29","\ud83d\ude0f","\ud83d\udc95","\ud83d\ude4c","\ud83d\ude18"],TF='"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Twemoji Mozilla","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif',xF=function(e,t){try{var n=document.createElement("canvas");n.width=n.height=1;var r=n.getContext("2d");return r.textBaseline="top",r.font="100px "+TF,r.fillStyle=t,r.scale(.01,.01),r.fillText(e,0,0),r.getImageData(0,0,1,1).data}catch(i){}};var AF=new Promise((function(e){return CF((function(){return e(function(){for(var e,t,n,r,i=0,o=Object.entries(EF);i<o.length;i++){var s=_slicedToArray(o[i],2),a=s[0],u=s[1];if(n=void 0,r=void 0,n=xF(t=a,"#000"),r=xF(t,"#fff"),!(n&&r&&function(e,t){var n=_toConsumableArray(e).join(",");return n===_toConsumableArray(t).join(",")&&"0,0,0,0"!==n}(n,r)))break;e=u}return e}())}))})),OF=new Map;function DF(e){e.preventDefault(),e.stopPropagation()}function RF(e,t,n){return(t+=e?-1:1)<0?t=n.length-1:t>=n.length&&(t=0),t}function PF(e,t){var n,r=new Set,i=[],o=_createForOfIteratorHelper(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,a=t(s);r.has(a)||(r.add(a),i.push(s))}}catch(u){o.e(u)}finally{o.f()}return i}var NF,FF=requestAnimationFrame,LF="function"==typeof ResizeObserver;function MF(e,t){var n;return LF?(n=new ResizeObserver((function(e){return t(e[0].contentRect.width)}))).observe(e):FF((function(){return t(e.getBoundingClientRect().width)})),{destroy:function(){n&&n.disconnect()}}}function VF(e){var t=document.createRange();return t.selectNode(e.firstChild),t.getBoundingClientRect().width}var jF=gF.Map;function UF(e,t,n){var r=e.slice();return r[64]=t[n],r[66]=n,r}function BF(e,t,n){var r=e.slice();return r[64]=t[n],r[66]=n,r}function zF(e,t,n){var r=e.slice();return r[67]=t[n],r[66]=n,r}function GF(e,t,n){var r=e.slice();return r[70]=t[n],r}function HF(e,t,n){var r=e.slice();return r[73]=t[n],r[66]=n,r}function qF(e,t){var n,r,i,o,s,a,u,c=t[73]+"";return{key:e,first:null,c:function(){n=qN("div"),r=WN(c),QN(n,"id",i="skintone-"+t[66]),QN(n,"class",o="emoji skintone-option cursor-pointer hide-focus "+(t[66]===t[15]?"active":"")),QN(n,"aria-selected",s=t[66]===t[15]),QN(n,"role","option"),QN(n,"title",a=t[0].skinTones[t[66]]),QN(n,"tabindex","-1"),QN(n,"aria-label",u=t[0].skinTones[t[66]]),this.first=n},m:function(e,t){GN(e,n,t),zN(n,r)},p:function(e,t){524288&t[0]&&c!==(c=e[73]+"")&&KN(r,c),524288&t[0]&&i!==(i="skintone-"+e[66])&&QN(n,"id",i),557056&t[0]&&o!==(o="emoji skintone-option cursor-pointer hide-focus "+(e[66]===e[15]?"active":""))&&QN(n,"class",o),557056&t[0]&&s!==(s=e[66]===e[15])&&QN(n,"aria-selected",s),524289&t[0]&&a!==(a=e[0].skinTones[e[66]])&&QN(n,"title",a),524289&t[0]&&u!==(u=e[0].skinTones[e[66]])&&QN(n,"aria-label",u)},d:function(e){e&&HN(n)}}}function WF(e,t){var n,r,i,o,s,a,u,c,l=t[70].emoji+"";function h(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t)[60].apply(e,[t[70]].concat(r))}return{key:e,first:null,c:function(){n=qN("button"),r=qN("div"),i=WN(l),QN(r,"class","emoji"),QN(n,"role","tab"),QN(n,"class","nav-button"),QN(n,"aria-controls",o="tab-"+t[70].id),QN(n,"aria-label",s=t[0].categories[t[70].name]),QN(n,"aria-selected",a=!t[7]&&t[23].id===t[70].id),QN(n,"title",u=t[0].categories[t[70].name]),this.first=n},m:function(e,t,o){GN(e,n,t),zN(n,r),zN(r,i),o&&c(),c=$N(n,"click",h)},p:function(e,r){t=e,4194304&r[0]&&l!==(l=t[70].emoji+"")&&KN(i,l),4194304&r[0]&&o!==(o="tab-"+t[70].id)&&QN(n,"aria-controls",o),4194305&r[0]&&s!==(s=t[0].categories[t[70].name])&&QN(n,"aria-label",s),12583040&r[0]&&a!==(a=!t[7]&&t[23].id===t[70].id)&&QN(n,"aria-selected",a),4194305&r[0]&&u!==(u=t[0].categories[t[70].name])&&QN(n,"title",u)},d:function(e){e&&HN(n),c()}}}function $F(e){var t;return{c:function(){QN(t=qN("div"),"class","custom-emoji"),ZN(t,"background-image","url("+e[64].url+")")},m:function(e,n){GN(e,t,n)},p:function(e,n){4&n[0]&&ZN(t,"background-image","url("+e[64].url+")")},d:function(e){e&&HN(t)}}}function QF(e){var t,n=tL(e[64],e[14])+"";return{c:function(){t=WN(n)},m:function(e,n){GN(e,t,n)},p:function(e,r){16388&r[0]&&n!==(n=tL(e[64],e[14])+"")&&KN(t,n)},d:function(e){e&&HN(t)}}}function KF(e,t){var n,r,i,o,s,a,u;function c(e,t){return e[64].unicode?QF:$F}var l=c(t),h=l(t);return{key:e,first:null,c:function(){n=qN("button"),h.c(),QN(n,"role",r=t[7]?"option":"menuitem"),QN(n,"aria-selected",i=t[7]?t[66]==t[8]:""),QN(n,"aria-label",o=t[26](t[64],t[14])),QN(n,"title",s=t[64].title),QN(n,"class",a="emoji "+(t[7]&&t[66]===t[8]?"active":"")),QN(n,"id",u="emo-"+t[64].id),this.first=n},m:function(e,t){GN(e,n,t),h.m(n,null)},p:function(e,t){l===(l=c(e))&&h?h.p(e,t):(h.d(1),(h=l(e))&&(h.c(),h.m(n,null))),128&t[0]&&r!==(r=e[7]?"option":"menuitem")&&QN(n,"role",r),388&t[0]&&i!==(i=e[7]?e[66]==e[8]:"")&&QN(n,"aria-selected",i),16388&t[0]&&o!==(o=e[26](e[64],e[14]))&&QN(n,"aria-label",o),4&t[0]&&s!==(s=e[64].title)&&QN(n,"title",s),388&t[0]&&a!==(a="emoji "+(e[7]&&e[66]===e[8]?"active":""))&&QN(n,"class",a),4&t[0]&&u!==(u="emo-"+e[64].id)&&QN(n,"id",u)},d:function(e){e&&HN(n),h.d()}}}function YF(e,t){for(var n,r,i,o,s,a,u,c,l,h=(t[7]?t[0].searchResultsLabel:t[67].category?t[67].category:t[2].length>1?t[0].categories.custom:t[0].categories[t[23].name])+"",f=[],d=new jF,p=t[67].emojis,v=function(e){return e[64].id},g=0;g<p.length;g+=1){var y=BF(t,p,g),m=v(y);d.set(m,f[g]=KF(m,y))}return{key:e,first:null,c:function(){n=qN("div"),r=WN(h),s=qN("div");for(var e=0;e<f.length;e+=1)f[e].c();QN(n,"id",i="menu-label-"+t[66]),QN(n,"class",o="category "+(t[2].length>1?"":"gone")),QN(n,"aria-hidden","true"),QN(s,"class","emoji-menu"),QN(s,"role",a=t[7]?"listbox":"menu"),QN(s,"aria-labelledby",u="menu-label-"+t[66]),QN(s,"id",c=t[7]?"search-results":""),this.first=n},m:function(e,i,o){GN(e,n,i),zN(n,r),GN(e,s,i);for(var a=0;a<f.length;a+=1)f[a].m(s,null);o&&l(),l=BN(t[27].call(null,s))},p:function(e,t){8388741&t[0]&&h!==(h=(e[7]?e[0].searchResultsLabel:e[67].category?e[67].category:e[2].length>1?e[0].categories.custom:e[0].categories[e[23].name])+"")&&KN(r,h),4&t[0]&&i!==(i="menu-label-"+e[66])&&QN(n,"id",i),4&t[0]&&o!==(o="category "+(e[2].length>1?"":"gone"))&&QN(n,"class",o),67125636&t[0]&&(f=mF(f,t,v,1,e,e[67].emojis,d,s,yF,KF,null,BF)),128&t[0]&&a!==(a=e[7]?"listbox":"menu")&&QN(s,"role",a),4&t[0]&&u!==(u="menu-label-"+e[66])&&QN(s,"aria-labelledby",u),128&t[0]&&c!==(c=e[7]?"search-results":"")&&QN(s,"id",c)},d:function(e){e&&HN(n),e&&HN(s);for(var t=0;t<f.length;t+=1)f[t].d();l()}}}function ZF(e){var t,n;return{c:function(){QN(t=qN("img"),"class","custom-emoji"),t.src!==(n=e[64].url)&&QN(t,"src",n),QN(t,"loading","lazy"),QN(t,"alt","")},m:function(e,n){GN(e,t,n)},p:function(e,r){1048576&r[0]&&t.src!==(n=e[64].url)&&QN(t,"src",n)},d:function(e){e&&HN(t)}}}function XF(e){var t,n=tL(e[64],e[14])+"";return{c:function(){t=WN(n)},m:function(e,n){GN(e,t,n)},p:function(e,r){1064960&r[0]&&n!==(n=tL(e[64],e[14])+"")&&KN(t,n)},d:function(e){e&&HN(t)}}}function JF(e,t){var n,r,i,o;function s(e,t){return e[64].unicode?XF:ZF}var a=s(t),u=a(t);return{key:e,first:null,c:function(){n=qN("button"),u.c(),QN(n,"role","menuitem"),QN(n,"aria-label",r=t[26](t[64],t[14])),QN(n,"title",i=t[64].title),QN(n,"class","emoji"),QN(n,"id",o="fav-"+t[64].id),this.first=n},m:function(e,t){GN(e,n,t),u.m(n,null)},p:function(e,t){a===(a=s(e))&&u?u.p(e,t):(u.d(1),(u=a(e))&&(u.c(),u.m(n,null))),1064960&t[0]&&r!==(r=e[26](e[64],e[14]))&&QN(n,"aria-label",r),1048576&t[0]&&i!==(i=e[64].title)&&QN(n,"title",i),1048576&t[0]&&o!==(o="fav-"+e[64].id)&&QN(n,"id",o)},d:function(e){e&&HN(n),u.d()}}}function eL(e){for(var t,n,r,i,o,s,a,u,c,l,h,f,d,p,v,g,y,m,_,b,k,w,C,S,E,I,T,x,A,O,D,R,P,N,F,L,M,V,j,U,B,z,G,H,q=e[0].searchLabel+"",W=e[0].searchDescription+"",$=e[0].skinToneDescription+"",Q=[],K=new jF,Y=[],Z=new jF,X=[],J=new jF,ee=[],te=new jF,ne=e[19],re=function(e){return e[73]},ie=0;ie<ne.length;ie+=1){var oe=HF(e,ne,ie),se=re(oe);K.set(se,Q[ie]=qF(se,oe))}for(var ae=e[22],ue=function(e){return e[70].id},ce=0;ce<ae.length;ce+=1){var le=GF(e,ae,ce),he=ue(le);Z.set(he,Y[ce]=WF(he,le))}for(var fe=e[2],de=function(e){return e[67].category},pe=0;pe<fe.length;pe+=1){var ve=zF(e,fe,pe),ge=de(ve);J.set(ge,X[pe]=YF(ge,ve))}for(var ye=e[20],me=function(e){return e[64].id},_e=0;_e<ye.length;_e+=1){var be=UF(e,ye,_e),ke=me(be);te.set(ke,ee[_e]=JF(ke,be))}return{c:function(){t=qN("section"),n=qN("div"),r=qN("div"),i=qN("div"),o=qN("input"),c=qN("label"),l=WN(q),h=qN("span"),f=WN(W),d=qN("div"),p=qN("button"),v=WN(e[16]),m=qN("span"),_=WN($),b=qN("div");for(var H=0;H<Q.length;H+=1)Q[H].c();I=qN("div");for(var K=0;K<Y.length;K+=1)Y[K].c();x=qN("div"),A=qN("div"),O=qN("div"),D=WN(e[9]),P=qN("div");for(var Z=0;Z<X.length;Z+=1)X[Z].c();V=qN("div");for(var J=0;J<ee.length;J+=1)ee[J].c();B=qN("div"),(z=qN("button")).textContent="\ud83d\ude00",this.c=FN,QN(n,"class","pad-top"),QN(o,"id","search"),QN(o,"class","search"),QN(o,"type","search"),QN(o,"role","combobox"),QN(o,"enterkeyhint","search"),QN(o,"placeholder",s=e[0].searchLabel),QN(o,"autocapitalize","none"),QN(o,"autocomplete","off"),QN(o,"spellcheck","true"),QN(o,"aria-expanded",a=!(!e[7]||!e[1].length)),QN(o,"aria-controls","search-results"),QN(o,"aria-owns","search-results"),QN(o,"aria-describedby","search-description"),QN(o,"aria-autocomplete","list"),QN(o,"aria-activedescendant",u=e[25]?"emo-"+e[25]:""),QN(c,"class","sr-only"),QN(c,"for","search"),QN(h,"id","search-description"),QN(h,"class","sr-only"),QN(i,"class","search-wrapper"),QN(p,"id","skintone-button"),QN(p,"class",g="emoji "+(e[11]?"hide-focus":"")),QN(p,"aria-label",e[18]),QN(p,"title",e[18]),QN(p,"aria-describedby","skintone-description"),QN(p,"aria-haspopup","listbox"),QN(p,"aria-expanded",e[11]),QN(p,"aria-controls","skintone-list"),QN(d,"class",y="skintone-button-wrapper "+(e[12]?"expanded":"")),QN(m,"id","skintone-description"),QN(m,"class","sr-only"),QN(b,"id","skintone-list"),QN(b,"class",k="skintone-list "+(e[11]?"":"hidden no-animate")),QN(b,"style",w=e[11]?"transform: translateY(0);":"transform: translateY(calc(-1 * var(--num-skintones) * var(--total-emoji-size)))"),QN(b,"role","listbox"),QN(b,"aria-label",C=e[0].skinTonesLabel),QN(b,"aria-activedescendant",S="skintone-"+e[15]),QN(b,"aria-hidden",E=!e[11]),QN(r,"class","search-row"),QN(I,"class","nav"),QN(I,"role","tablist"),ZN(I,"grid-template-columns","repeat("+e[22].length+", 1fr)"),QN(I,"aria-label",T=e[0].categoriesLabel),QN(A,"class","indicator"),QN(A,"style",e[10]),QN(x,"class","indicator-wrapper"),QN(x,"aria-hidden","true"),QN(O,"class",R="message "+(e[9]?"":"gone")),QN(O,"role","alert"),QN(O,"aria-live","polite"),QN(P,"class",N="tabpanel "+(!e[24]||e[9]?"gone":"")),QN(P,"role",F=e[7]?"region":"tabpanel"),QN(P,"aria-label",L=e[7]?e[0].searchResultsLabel:e[0].categories[e[23].name]),QN(P,"id",M=e[7]?"":"tab-"+e[23].id),QN(P,"tabindex","0"),QN(V,"class",j="favorites emoji-menu "+(e[9]?"gone":"")),QN(V,"role","menu"),QN(V,"aria-label",U=e[0].favoritesLabel),ZN(V,"padding-right",e[21]+"px"),QN(z,"tabindex","-1"),QN(z,"class","emoji baseline-emoji"),QN(B,"aria-hidden","true"),QN(B,"class","hidden abs-pos"),QN(t,"class","picker"),QN(t,"aria-label",G=e[0].regionLabel),QN(t,"style",e[17])},m:function(s,a,u){GN(s,t,a),zN(t,n),zN(t,r),zN(r,i),zN(i,o),YN(o,e[3]),zN(i,c),zN(c,l),zN(i,h),zN(h,f),zN(r,d),zN(d,p),zN(p,v),zN(r,m),zN(m,_),zN(r,b);for(var g=0;g<Q.length;g+=1)Q[g].m(b,null);e[59](b),zN(t,I);for(var y=0;y<Y.length;y+=1)Y[y].m(I,null);zN(t,x),zN(x,A),zN(t,O),zN(O,D),zN(t,P);for(var k=0;k<X.length;k+=1)X[k].m(P,null);e[61](P),zN(t,V);for(var w=0;w<ee.length;w+=1)ee[w].m(V,null);zN(t,B),zN(B,z),e[62](z),e[63](t),u&&VN(H),H=[$N(o,"input",e[58]),$N(o,"keydown",e[29]),$N(p,"click",e[34]),$N(b,"focusout",e[37]),$N(b,"click",e[33]),$N(b,"keydown",e[35]),$N(b,"keyup",e[36]),$N(I,"keydown",e[31]),BN(e[28].call(null,A)),$N(P,"click",e[32]),$N(V,"click",e[32])]},p:function(e,n){1&n[0]&&s!==(s=e[0].searchLabel)&&QN(o,"placeholder",s),130&n[0]&&a!==(a=!(!e[7]||!e[1].length))&&QN(o,"aria-expanded",a),33554432&n[0]&&u!==(u=e[25]?"emo-"+e[25]:"")&&QN(o,"aria-activedescendant",u),8&n[0]&&YN(o,e[3]),1&n[0]&&q!==(q=e[0].searchLabel+"")&&KN(l,q),1&n[0]&&W!==(W=e[0].searchDescription+"")&&KN(f,W),65536&n[0]&&KN(v,e[16]),2048&n[0]&&g!==(g="emoji "+(e[11]?"hide-focus":""))&&QN(p,"class",g),262144&n[0]&&QN(p,"aria-label",e[18]),262144&n[0]&&QN(p,"title",e[18]),2048&n[0]&&QN(p,"aria-expanded",e[11]),4096&n[0]&&y!==(y="skintone-button-wrapper "+(e[12]?"expanded":""))&&QN(d,"class",y),1&n[0]&&$!==($=e[0].skinToneDescription+"")&&KN(_,$),557057&n[0]&&(Q=mF(Q,n,re,1,e,e[19],K,b,yF,qF,null,HF)),2048&n[0]&&k!==(k="skintone-list "+(e[11]?"":"hidden no-animate"))&&QN(b,"class",k),2048&n[0]&&w!==(w=e[11]?"transform: translateY(0);":"transform: translateY(calc(-1 * var(--num-skintones) * var(--total-emoji-size)))")&&QN(b,"style",w),1&n[0]&&C!==(C=e[0].skinTonesLabel)&&QN(b,"aria-label",C),32768&n[0]&&S!==(S="skintone-"+e[15])&&QN(b,"aria-activedescendant",S),2048&n[0]&&E!==(E=!e[11])&&QN(b,"aria-hidden",E),1086324865&n[0]&&(Y=mF(Y,n,ue,1,e,e[22],Z,I,yF,WF,null,GF)),4194304&n[0]&&ZN(I,"grid-template-columns","repeat("+e[22].length+", 1fr)"),1&n[0]&&T!==(T=e[0].categoriesLabel)&&QN(I,"aria-label",T),1024&n[0]&&QN(A,"style",e[10]),512&n[0]&&KN(D,e[9]),512&n[0]&&R!==(R="message "+(e[9]?"":"gone"))&&QN(O,"class",R),75514245&n[0]&&(X=mF(X,n,de,1,e,e[2],J,P,yF,YF,null,zF)),16777728&n[0]&&N!==(N="tabpanel "+(!e[24]||e[9]?"gone":""))&&QN(P,"class",N),128&n[0]&&F!==(F=e[7]?"region":"tabpanel")&&QN(P,"role",F),8388737&n[0]&&L!==(L=e[7]?e[0].searchResultsLabel:e[0].categories[e[23].name])&&QN(P,"aria-label",L),8388736&n[0]&&M!==(M=e[7]?"":"tab-"+e[23].id)&&QN(P,"id",M),68173824&n[0]&&(ee=mF(ee,n,me,1,e,e[20],te,V,yF,JF,null,UF)),512&n[0]&&j!==(j="favorites emoji-menu "+(e[9]?"gone":""))&&QN(V,"class",j),1&n[0]&&U!==(U=e[0].favoritesLabel)&&QN(V,"aria-label",U),2097152&n[0]&&ZN(V,"padding-right",e[21]+"px"),1&n[0]&&G!==(G=e[0].regionLabel)&&QN(t,"aria-label",G),131072&n[0]&&QN(t,"style",e[17])},i:FN,o:FN,d:function(n){n&&HN(t);for(var r=0;r<Q.length;r+=1)Q[r].d();e[59](null);for(var i=0;i<Y.length;i+=1)Y[i].d();for(var o=0;o<X.length;o+=1)X[o].d();e[61](null);for(var s=0;s<ee.length;s+=1)ee[s].d();e[62](null),e[63](null),VN(H)}}}function tL(e,t){return t&&e.skins&&e.skins[t]||e.unicode}function nL(e,t,n){var r,i,o,s,a,u,c,l,h,f,d,p=t.locale,v=void 0===p?null:p,g=t.dataSource,y=void 0===g?null:g,m=t.skinToneEmoji,_=void 0===m?"\ud83d\udd90\ufe0f":m,b=t.i18n,k=void 0===b?_F:b,w=t.database,C=void 0===w?null:w,S=t.customEmoji,E=void 0===S?null:S,I=[],T=[],x="",A="",O=!1,D=-1,R=0,P="",N=!1,F=!1,L=0,M=0,V="",j=[],U=[],B=8,z=0,G=0,H=kF,q=!1;function W(e){r.getRootNode().getElementById(e).focus()}function $(e,t){r.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,composed:!0}))}function Q(e){var t=r.getRootNode();!function(e,t,n){var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var o=r.value,s=VF(n(o));void 0===NF&&(NF=VF(t));var a=s.toFixed(1)===NF.toFixed(1);OF.set(o.unicode,a)}}catch(u){i.e(u)}finally{i.f()}}(e,i,(function(e){return t.getElementById("emo-"+e.id)})),n(1,I=I)}function K(e){return!e.unicode||!SF(e)||OF.get(e.unicode)}function Y(e){return Z.apply(this,arguments)}function Z(){return(Z=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,AF;case 2:return n=e.sent,e.abrupt("return",t.filter((function(e){var t=e.version;return!t||t<=n})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){return J.apply(this,arguments)}function J(){return(J=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=function(e,t){var n=function(e){var n,r={},i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;"number"==typeof o.tone&&o.version<=t&&(r[o.tone]=o.unicode)}}catch(s){i.e(s)}finally{i.f()}return r};return e.map((function(e){var t=e.unicode,r=e.skins,i=e.shortcodes,o=e.url,s=e.name;return{unicode:t,name:s,shortcodes:i,url:o,category:e.category,id:t||s,skins:r&&n(r),title:i.join(", ")}}))},e.t1=t,e.next=4,AF;case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=2;break}return e.abrupt("return",[]);case 2:if(-1!==t){e.next=6;break}e.t0=E,e.next=9;break;case 6:return e.next=8,C.getEmojiByGroup(t);case 8:e.t0=e.sent;case 9:return n=e.t0,e.t1=X,e.next=13,Y(n);case 13:return e.t2=e.sent,e.abrupt("return",(0,e.t1)(e.t2));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){return re.apply(this,arguments)}function re(){return(re=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=X,e.t1=Y,e.next=4,C.getEmojiBySearchQuery(t);case 4:return e.t2=e.sent,e.next=7,(0,e.t1)(e.t2);case 7:return e.t3=e.sent,e.abrupt("return",(0,e.t0)(e.t3));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e){n(3,x=""),n(44,A=""),n(8,D=-1),n(48,G=H.findIndex((function(t){return t.id===e.id})))}function oe(e){return se.apply(this,arguments)}function se(){return(se=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.getEmojiByUnicodeOrName(t);case 2:return r=e.sent,i=[].concat(_toConsumableArray(I),_toConsumableArray(U)).find((function(e){return e.id===t})),o=i.unicode&&tL(i,L),e.next=7,C.incrementFavoriteEmojiCount(t);case 7:n(46,l=l),$("emoji-click",_objectSpread(_objectSpread({emoji:r,skinTone:L},o&&{unicode:o}),i.name&&{name:i.name}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){return ue.apply(this,arguments)}function ue(){return(ue=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t.target).classList.contains("skintone-option")){e.next=3;break}return e.abrupt("return");case 3:DF(t),i=parseInt(r.id.slice(9),10),n(14,L=i),n(11,N=!1),W("skintone-button"),$("skin-tone-change",{skinTone:i}),C.setPreferredSkinTone(i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return AF.then((function(e){e||n(9,s=k.emojiUnsupportedMessage)})),d=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aF();case 2:n(38,v=v||"en"),n(39,y=y||"https://cdn.jsdelivr.net/npm/emojibase-data@5/en/data.json");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),JN().$$.on_mount.push(d),JN().$$.on_destroy.push(_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=C,!e.t0){e.next=4;break}return e.next=4,C.close();case 4:case"end":return e.stop()}}),e)})))),e.$set=function(e){"locale"in e&&n(38,v=e.locale),"dataSource"in e&&n(39,y=e.dataSource),"skinToneEmoji"in e&&n(41,_=e.skinToneEmoji),"i18n"in e&&n(0,k=e.i18n),"database"in e&&n(40,C=e.database),"customEmoji"in e&&n(42,E=e.customEmoji)},e.$$.update=function(){if(896&e.$$.dirty[1]&&v&&y&&(!C||C.locale!==v&&C.dataSource!==y)&&n(40,C=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.dataSource,r=void 0===n?"https://cdn.jsdelivr.net/npm/emojibase-data@5/en/data.json":n,i=t.locale,o=void 0===i?"en":i,s=t.customEmoji,a=void 0===s?[]:s;_classCallCheck(this,e),this.dataSource=r,this.locale=o,this._dbName="emoji-picker-element-"+this.locale,this._db=void 0,this._lazyUpdate=void 0,this._custom=EN(a),this._clear=this._clear.bind(this),this._ready=this._init()}var t,n,r,i,o,s,a,u,c,l,h,f,d;return _createClass(e,[{key:"_init",value:(d=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n=this._dbName,uN[n]||(uN[n]=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){var r=indexedDB.open(t,1);aN[t]=r,r.onupgradeneeded=function(e){var t=r.result,n=e.currentTarget.transaction,i=sN.filter((function(t){var n=t.version;return e.oldVersion<n}));!function e(){i.length&&(0,i.shift().migration)(t,n,e)}()},lN(e,n,r)}));case 2:return n=e.sent,e.abrupt("return",(n.onclose=function(){return fN(t)},n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(n)),uN[n];case 2:return t=this._db=e.sent,function(e,t){var n=cN[e];n||(n=cN[e]=[]),n.push(t)}(this._dbName,this._clear),r=this.dataSource,e.next=7,function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,CN(t,"keyvalue",iN);case 2:return e.abrupt("return",!e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(t);case 7:if(!e.sent){e.next=12;break}return e.next=10,function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,n){var r,i,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,DN(n);case 2:if(r=e.sent,i=_slicedToArray(r,2),o=i[0],s=i[1],e.t0=o,e.t0){e.next=11;break}return e.next=10,PN(s);case 10:o=e.sent;case 11:return e.next=13,_N(t,s,n,o);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,r);case 10:e.next=13;break;case 12:this._lazyUpdate=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,n){var r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"HEAD"});case 2:return ON(n=e.sent,t),r=n.headers.get("etag"),e.abrupt("return",(TN(r),r));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(n);case 2:if(i=e.sent){e.next=14;break}return e.next=6,DN(n);case 6:if(o=e.sent,i=o[0],r=o[1],e.t0=i,e.t0){e.next=14;break}return e.next=13,PN(r);case 13:i=e.sent;case 14:return e.next=16,function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,n,r){var i,o,s,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([rN,iN].map((function(e){return CN(t,"keyvalue",e)})));case 2:return i=e.sent,o=_slicedToArray(i,2),s=o[0],a=o[1],e.abrupt("return",s===r&&a===n);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(t,n,i);case 16:if(e.t1=e.sent,e.t1){e.next=25;break}if(e.t2=r,e.t2){e.next=23;break}return e.next=22,DN(n);case 22:r=e.sent[1];case 23:return e.next=25,_N(t,r,n,i);case 25:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,r);case 13:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"ready",value:(f=_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this._ready||(this._ready=this._init()),this._ready));case 1:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"getEmojiByGroup",value:(h=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nN(t),e.next=3,this.ready();case 3:return e.t0=oN,e.next=6,function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hN(t,"emoji","readonly",(function(e,t){var r=IDBKeyRange.bound([n,0],[n+1,0],!1,!0);yN(e.index("group-order"),r,t)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this._db,t);case 6:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1).map(IN));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"getEmojiBySearchQuery",value:(l=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tN(t),e.next=3,this.ready();case 3:return e.t0=[],e.t1=_toConsumableArray(this._custom.search(t)),e.t2=_toConsumableArray,e.t3=oN,e.next=9,kN(this._db,t);case 9:return e.t4=e.sent,e.t5=(0,e.t3)(e.t4).map(IN),e.t6=(0,e.t2)(e.t5),e.abrupt("return",e.t0.concat.call(e.t0,e.t1,e.t6));case 13:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"getEmojiByShortcode",value:(c=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tN(t),e.next=3,this.ready();case 3:if(e.t0=this._custom.byShortcode(t),e.t0){e.next=10;break}return e.t1=IN,e.next=8,function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kN(t,n);case 2:if(e.t0=e.sent.filter((function(e){return e.shortcodes.map((function(e){return e.toLowerCase()})).includes(n.toLowerCase())}))[0],e.t0){e.next=5;break}e.t0=null;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this._db,t);case 8:e.t2=e.sent,e.t0=(0,e.t1)(e.t2);case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"getEmojiByUnicodeOrName",value:(u=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tN(t),e.next=3,this.ready();case 3:if(e.t0=this._custom.byName(t),e.t0){e.next=10;break}return e.t1=IN,e.next=8,function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hN(t,"emoji","readonly",(function(e,t){return gN(e,n,(function(r){if(r)return t(r);gN(e.index("skinUnicodes"),n,(function(e){return t(e||null)}))}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this._db,t);case 8:e.t2=e.sent,e.t0=(0,e.t1)(e.t2);case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"getPreferredSkinTone",value:(a=_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ready();case 2:return e.next=4,CN(this._db,"keyvalue","skinTone");case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0=0;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"setPreferredSkinTone",value:(s=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nN(t),e.next=3,this.ready();case 3:return n=t,e.abrupt("return",hN(this._db,"keyvalue","readwrite",(function(e){return e.put(n,"skinTone")})));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"incrementFavoriteEmojiCount",value:(o=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tN(t),e.next=3,this.ready();case 3:return n=t,e.abrupt("return",hN(this._db,"favorites","readwrite",(function(e){gN(e,n,(function(t){return e.put((t||0)+1,n)}))})));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"getTopFavoriteEmoji",value:(i=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nN(t),e.next=3,this.ready();case 3:return e.next=5,function(e,t,n){return 0===n?[]:hN(e,["favorites","emoji"],"readonly",(function(e,r){var i=_slicedToArray(e,2),o=i[0],s=i[1],a=[];o.index("count").openCursor(void 0,"prev").onsuccess=function(e){var i=e.target.result;if(!i)return r(a);function o(e){if(a.push(e),a.length===n)return r(a);i.continue()}var u=i.primaryKey,c=t.byName(u);if(c)return o(c);gN(s,u,(function(e){if(e)return o(e);i.continue()}))}}))}(this._db,this._custom,t);case 5:return e.abrupt("return",e.sent.map(IN));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"_shutdown",value:(r=_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ready();case 2:return e.prev=2,e.next=5,this._lazyUpdate;case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:if(!this._db){e.next=11;break}return e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e,this,[[2,7]])}))),function(){return r.apply(this,arguments)})},{key:"_clear",value:function(){this._db=this._ready=this._lazyUpdate=void 0}},{key:"close",value:(n=_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._shutdown();case 2:if(e.t0=e.sent,!e.t0){e.next=6;break}return e.next=6,fN(this._dbName);case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"delete",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._shutdown();case 2:if(e.t0=e.sent,!e.t0){e.next=6;break}return e.next=6,t=this._dbName,new Promise((function(e,n){fN(t),lN(e,n,indexedDB.deleteDatabase(t))}));case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"customEmoji",set:function(e){this._custom=EN(e)},get:function(){return this._custom.all}}]),e}())({dataSource:y,locale:v})),2560&e.$$.dirty[1]&&E&&C&&n(40,C.customEmoji=E,C),513&e.$$.dirty[0]|512&e.$$.dirty[1]&&C&&_asyncToGenerator(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=setTimeout((function(){n(9,s=k.loadingMessage)}),1e3),e.prev=1,e.next=4,C.ready();case 4:n(24,q=!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0),n(9,s=k.networkErrorMessage);case 10:return e.prev=10,clearTimeout(t),s===k.loadingMessage&&n(9,s=""),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,7,10,13]])})))(),4194304&e.$$.dirty[0]|2048&e.$$.dirty[1]&&(E&&E.length?n(22,H=[wF].concat(_toConsumableArray(kF))):H!==kF&&n(22,H=kF)),8&e.$$.dirty[0]&&CF((function(){n(44,A=(x||"").trim()),n(8,D=-1)})),4194304&e.$$.dirty[0]|131072&e.$$.dirty[1]&&n(23,h=H[G]),8388608&e.$$.dirty[0]|8704&e.$$.dirty[1]&&_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C){e.next=20;break}if(!(A.length>=2)){e.next=10;break}return e.t0=n,e.next=5,ne(A);case 5:e.t1=I=e.sent,(0,e.t0)(1,e.t1),n(7,O=!0),e.next=18;break;case 10:if(e.t2=h,!e.t2){e.next=18;break}return e.t3=n,e.next=15,ee(h.id);case 15:e.t4=I=e.sent,(0,e.t3)(1,e.t4),n(7,O=!1);case 18:e.next=21;break;case 20:n(1,I=[]),n(7,O=!1);case 21:case"end":return e.stop()}}),e)})))(),4194432&e.$$.dirty[0]&&n(17,c="\n  --font-family: ".concat(TF,";\n  --num-groups: ").concat(H.length,"; \n  --indicator-opacity: ").concat(O?0:1,"; \n  --num-skintones: 6;")),512&e.$$.dirty[1]&&_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=C,!e.t0){e.next=7;break}return e.t1=n,e.next=5,C.getPreferredSkinTone();case 5:e.t2=L=e.sent,(0,e.t1)(14,e.t2);case 7:case"end":return e.stop()}}),e)})))(),1024&e.$$.dirty[1]&&n(19,j=Array(6).fill().map((function(e,t){return function(e,t){if(0===t)return e;var n=e.indexOf("\u200d");return-1!==n?e.substring(0,n)+String.fromCodePoint(127995+t-1)+e.substring(n):(e.endsWith("\ufe0f")&&(e=e.substring(0,e.length-1)),e+"\ud83c"+String.fromCodePoint(57339+t-1))}(_,t)}))),540672&e.$$.dirty[0]&&n(16,u=j[L]),16385&e.$$.dirty[0]&&n(18,V=k.skinToneLabel.replace("{skinTone}",k.skinTones[L])),512&e.$$.dirty[1]&&C&&_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,Promise.all(IF.map((function(e){return C.getEmojiByUnicodeOrName(e)})));case 3:e.t1=l=e.sent.filter(Boolean),(0,e.t0)(46,e.t1);case 5:case"end":return e.stop()}}),e)})))(),98816&e.$$.dirty[1]&&C&&l&&_asyncToGenerator(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.getTopFavoriteEmoji(B);case 2:return t=e.sent,e.next=5,X(PF([].concat(_toConsumableArray(t),_toConsumableArray(l)),(function(e){return e.unicode||e.name})).slice(0,B));case 5:r=e.sent,n(20,U=r);case 7:case"end":return e.stop()}}),e)})))(),147456&e.$$.dirty[1]&&n(10,P=LF?"transform: translateX(".concat(G*R,"px);"):"transform: translateX(".concat(100*G,"%);")),2&e.$$.dirty[0]){var t=I.filter((function(e){return e.unicode})).filter((function(e){return SF(e)&&!OF.has(e.unicode)}));t.length?FF((function(){return Q(t)})):(n(1,I=I.filter(K)),FF((function(){n(6,o.scrollTop=0,o)})))}130&e.$$.dirty[0]&&n(2,T=function(){if(O)return[{category:"",emojis:I}];var e,t=new Map,n=_createForOfIteratorHelper(I);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=r.category||"",o=t.get(i);o||(o=[],t.set(i,o)),o.push(r)}}catch(s){n.e(s)}finally{n.f()}return _toConsumableArray(t.entries()).map((function(e){var t=_slicedToArray(e,2);return{category:t[0],emojis:t[1]}})).sort((function(e,t){return e.category<t.category?-1:1}))}()),258&e.$$.dirty[0]&&n(25,f=-1!==D&&I[D].id),10240&e.$$.dirty[0]&&(N?a.addEventListener("transitionend",(function(){n(12,F=!0)}),{once:!0}):n(12,F=!1))},[k,I,T,x,r,i,o,O,D,s,P,N,F,a,L,M,u,c,V,j,U,z,H,h,q,f,function(e,t){return(n=[e.name||tL(e,t)].concat(_toConsumableArray(e.shortcodes)),PF(n,(function(e){return e}))).join(", ");var n},function(e){return MF(e,(function(t){var i=parseInt(getComputedStyle(r).getPropertyValue("--num-columns"),10),o=e.parentElement.getBoundingClientRect().width-t;n(47,B=i),n(21,z=o)}))},function(e){return MF(e,(function(e){n(45,R=e)}))},function(e){if(O&&I.length){var t=function(t){DF(e),n(8,D=RF(t,D,I))};switch(e.key){case"ArrowDown":return t(!1);case"ArrowUp":return t(!0);case"Enter":if(-1!==D)return DF(e),oe(I[D].id);I.length&&n(8,D=0)}}},ie,function(e){var t=e.target,n=function(t){t&&(DF(e),t.focus())};switch(e.key){case"ArrowLeft":return n(t.previousSibling);case"ArrowRight":return n(t.nextSibling)}},function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=t.target).classList.contains("emoji")&&(DF(t),oe(n.id.substring(4)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae,function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(11,N=!N),n(15,M=L),N&&(DF(t),FF((function(){return W("skintone-"+M)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(e){if(N){var t=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return DF(e),n(15,M=RF(r,M,j)),t.next=4,aF();case 4:W("skintone-"+M);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();switch(e.key){case"ArrowUp":return t(!0);case"ArrowDown":return t(!1);case"Enter":return ae(e)}}},function(e){if(N)switch(e.key){case" ":return ae(e)}},function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=t.relatedTarget)&&r.classList.contains("skintone-option")||n(11,N=!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v,y,C,_,E,!0,A,R,l,B,G,W,$,Q,K,Y,X,ee,ne,oe,function(){x=this.value,n(3,x)},function(e){tF[e?"unshift":"push"]((function(){n(13,a=e)}))},function(e){return ie(e)},function(e){tF[e?"unshift":"push"]((function(){n(6,o=e)}))},function(e){tF[e?"unshift":"push"]((function(){n(5,i=e)}))},function(e){tF[e?"unshift":"push"]((function(){n(4,r=e)}))}]}var rL=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).shadowRoot.innerHTML="<style>:host{--emoji-padding:0.5rem;--emoji-size:1.375rem;--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555;--button-hover-background:#484848}@media(prefers-color-scheme:dark){:host{--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555;--button-hover-background:#484848}}button{margin:0;padding:0;border:none;background:none;box-shadow:none;cursor:pointer;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:none}:focus:not(:focus-visible){outline:none}.hide-focus{outline:none}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + 2*var(--emoji-padding))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.cursor-pointer{cursor:pointer}.skintone-button-wrapper{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;right:0;top:0;z-index:2;overflow:visible;background:var(--background);border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media(prefers-reduced-motion:reduce){.skintone-list{transition-duration:1ms}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;height:var(--total-emoji-size);width:var(--total-emoji-size);line-height:1;overflow:hidden;font-family:var(--font-family)}@media(hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.custom-emoji{height:var(--total-emoji-size);width:var(--total-emoji-size);padding:var(--emoji-padding);object-fit:contain;pointer-events:none;background-repeat:no-repeat;background-position:50%;background-size:var(--emoji-size) var(--emoji-size)}.nav{display:grid;justify-content:space-between;contain:content}.nav,.nav-button{align-items:center}.nav-button{display:flex;justify-content:center}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media(prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top{width:100%;height:var(--emoji-padding);z-index:3;background:var(--background)}.search-row{display:flex;align-items:center;position:relative;padding-left:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);background:var(--background);color:var(--input-font-color);width:100%;font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}</style>",function(e,t,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[-1],a=xN;XN(e);var u=t.props||{},c=e.$$={fragment:null,ctx:null,props:o,update:FN,not_equal:i,bound:MN(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:MN(),dirty:s},l=!1;if(c.ctx=n?n(e,u,(function(t,n){var r=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return c.ctx&&i(c.ctx[t],c.ctx[t]=r)&&(c.bound[t]&&c.bound[t](r),l&&function(e,t){-1===e.$$.dirty[0]&&(eF.push(e),sF(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],c.update(),l=!0,VN(c.before_update),c.fragment=!!r&&r(c.ctx),t.target){if(t.hydrate){var h=Array.from(t.target.childNodes);c.fragment&&c.fragment.l(h),h.forEach(HN)}else c.fragment&&c.fragment.c();t.intro&&pF(e.$$.fragment),function(e,t,n){var r=e.$$,i=r.fragment,o=r.on_mount,s=r.on_destroy,a=r.after_update;i&&i.m(t,n),uF((function(){var t=o.map(LN).filter(jN);s?s.push.apply(s,_toConsumableArray(t)):VN(t),e.$$.on_mount=[]})),a.forEach(uF)}(e,t.target,t.anchor),hF()}XN(a)}(_assertThisInitialized(r),{target:r.shadowRoot},nL,eL,UN,{locale:38,dataSource:39,skinToneEmoji:41,i18n:0,database:40,customEmoji:42},[-1,-1,-1]),e&&(e.target&&GN(e.target,_assertThisInitialized(r),e.anchor),e.props&&(r.$set(e.props),hF())),r}return _createClass(n,[{key:"locale",get:function(){return this.$$.ctx[38]},set:function(e){this.$set({locale:e}),hF()}},{key:"dataSource",get:function(){return this.$$.ctx[39]},set:function(e){this.$set({dataSource:e}),hF()}},{key:"skinToneEmoji",get:function(){return this.$$.ctx[41]},set:function(e){this.$set({skinToneEmoji:e}),hF()}},{key:"i18n",get:function(){return this.$$.ctx[0]},set:function(e){this.$set({i18n:e}),hF()}},{key:"database",get:function(){return this.$$.ctx[40]},set:function(e){this.$set({database:e}),hF()}},{key:"customEmoji",get:function(){return this.$$.ctx[42]},set:function(e){this.$set({customEmoji:e}),hF()}}],[{key:"observedAttributes",get:function(){return["locale","dataSource","skinToneEmoji","i18n","database","customEmoji"]}}]),n}(vF);customElements.define("emoji-picker",function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,{props:e})}return _createClass(n,[{key:"disconnectedCallback",value:function(){this.$destroy()}}]),n}(rL));var iL,oL=((iL=function(){function e(){_classCallCheck(this,e),this.title="error",this.subtitle=null,this.data=null,this.constants={}}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"checkTitle",value:function(){return"Regular programs"==this.title}},{key:"getTitle",value:function(){return this.title}},{key:"isType",value:function(e,t){if(e.type==t)return!0}},{key:"getCheckboxControl",value:function(e,t,n){return n&&n.controls?n.controls[e].controls[t]:(console.error("[Abstract Section] Form array is empty. Has it been built?"),[])}}]),e}()).\u0275fac=function(e){return new(e||iL)},iL.\u0275cmp=dt({type:iL,selectors:[["abstract-section"]],inputs:{title:"title",subtitle:"subtitle",data:"data",interface:"interface",constants:"constants",order:"order"},decls:4,vars:2,consts:[[1,"subtitle"]],template:function(e,t){1&e&&(ns(0,"h2"),zs(1),rs(),ns(2,"h6",0),zs(3),rs()),2&e&&(Ur(1),Hs(" ",t.title,"\n"),Ur(2),Gs(t.subtitle))},styles:[".subtitle[_ngcontent-%COMP%]{margin-top:0}"]}),iL);function sL(e,t){if(1&e&&(ns(0,"h5",6),zs(1),rs()),2&e){var n=gs();Ur(1),Gs(n.interface.subtitle)}}function aL(e,t){if(1&e&&(ns(0,"clr-dg-column"),zs(1),rs()),2&e){var n=t.$implicit;Ur(1),Gs(n.label)}}function uL(e,t){if(1&e&&(ns(0,"span"),zs(1),cu(2,"date"),rs()),2&e){var n=gs(2).$implicit;Ur(1),Gs(hu(2,1,n,"MM/dd/yyyy"))}}function cL(e,t){1&e&&zs(0),2&e&&Hs(" ",gs(2).$implicit," ")}function lL(e,t){if(1&e&&(ns(0,"span"),Ko(1,uL,3,4,"span",8),Ko(2,cL,1,1,"ng-template",null,10,Lu),rs()),2&e){var n=Yo(3),r=gs().index,i=gs(2);Ur(1),es("ngIf",i.isDate(r))("ngIfElse",n)}}function hL(e,t){if(1&e&&(ns(0,"span"),ns(1,"span",11),zs(2),rs(),rs()),2&e){var n=t.$implicit;Ur(1),bs("title",n.label),Ur(1),Gs(n.icon)}}function fL(e,t){1&e&&Ko(0,hL,3,2,"span",2),2&e&&es("ngForOf",gs().$implicit.tags)}function dL(e,t){if(1&e&&(ns(0,"clr-dg-cell"),Ko(1,lL,4,2,"span",8),Ko(2,fL,1,1,"ng-template",null,9,Lu),rs()),2&e){var n=t.$implicit,r=Yo(3),i=gs(2);Ur(1),es("ngIf",!i.isTagObj(n))("ngIfElse",r)}}function pL(e,t){if(1&e){var n=us();ns(0,"clr-dg-row"),ns(1,"clr-dg-action-overflow"),ns(2,"button",7),hs("click",(function(){Yt(n);var e=t.index;return gs().openEditModal(e)})),zs(3,"Edit"),rs(),ns(4,"button",7),hs("click",(function(){Yt(n);var e=t.index;return gs().deleteRow(e)})),zs(5,"Delete"),rs(),rs(),Ko(6,dL,4,2,"clr-dg-cell",2),rs()}if(2&e){var r=t.$implicit;Ur(6),es("ngForOf",r.row)}}function vL(e,t){if(1&e&&(ns(0,"clr-date-container"),ns(1,"label",25),zs(2),rs(),is(3,"input",26),rs()),2&e){var n=gs(),r=n.$implicit,i=n.index,o=gs(2);Ur(2),Gs(r.label),Ur(1),es("formControl",o.formArray.controls[i])}}function gL(e,t){if(1&e&&(ns(0,"option",30),zs(1),rs()),2&e){var n=t.$implicit;es("value",n.label),Ur(1),Hs(" ",n.label,"")}}function yL(e,t){if(1&e&&(ns(0,"select",28),Ko(1,gL,2,2,"option",29),rs()),2&e){var n=gs(2).index,r=gs(2);es("formControl",r.formArray.controls[n]),Ur(1),es("ngForOf",r.constants.divisions)}}function mL(e,t){if(1&e&&(ns(0,"clr-select-container"),ns(1,"label",25),zs(2),rs(),Ko(3,yL,2,2,"select",27),rs()),2&e){var n=gs().$implicit,r=gs(2);Ur(2),Gs(n.label),Ur(1),es("ngIf",r.constants)}}function _L(e,t){if(1&e&&(ns(0,"clr-input-container"),ns(1,"label",25),zs(2),rs(),is(3,"input",31),rs()),2&e){var n=gs(),r=n.$implicit,i=n.index,o=gs(2);Ur(2),Gs(r.label),Ur(1),es("formControl",o.formArray.controls[i])}}function bL(e,t){if(1&e&&(ns(0,"clr-input-container"),ns(1,"label",25),zs(2),rs(),is(3,"input",32),rs()),2&e){var n=gs(),r=n.$implicit,i=n.index,o=gs(2);Ur(2),Gs(r.label),Ur(1),es("formControl",o.formArray.controls[i])}}function kL(e,t){if(1&e&&(ns(0,"clr-checkbox-wrapper"),is(1,"input",33),ns(2,"label"),zs(3),rs(),rs()),2&e){var n=t.$implicit,r=t.index,i=gs(2).index,o=gs(2);Ur(1),es("formControl",o.getCheckboxControl(i,r,o.formArray)),Ur(2),qs("",n.icon," ",n.label,"")}}function wL(e,t){if(1&e&&(ns(0,"clr-checkbox-container"),ns(1,"label",25),zs(2),rs(),Ko(3,kL,4,3,"clr-checkbox-wrapper",2),rs()),2&e){var n=gs().$implicit;Ur(2),Gs(n.label),Ur(1),es("ngForOf",n.tags)}}function CL(e,t){if(1&e&&(ns(0,"form",23),Ko(1,vL,4,2,"clr-date-container",24),Ko(2,mL,4,2,"clr-select-container",24),Ko(3,_L,4,2,"clr-input-container",24),Ko(4,bL,4,2,"clr-input-container",24),Ko(5,wL,4,2,"clr-checkbox-container",24),rs()),2&e){var n=t.$implicit,r=gs(2);es("formGroup",r.formGroup),Ur(1),es("ngIf",r.isType(n,"date-select")),Ur(1),es("ngIf",r.isType(n,"division-select")),Ur(1),es("ngIf",r.isType(n,"text")),Ur(1),es("ngIf",r.isType(n,"number")),Ur(1),es("ngIf",r.isType(n,"tag-select"))}}function SL(e,t){if(1&e){var n=us();ns(0,"clr-modal",12,13),hs("clrModalOpenChange",(function(e){return Yt(n),gs().addModalOpened=e})),ns(2,"h3",14),zs(3,"Add row"),rs(),ns(4,"div",15),ns(5,"clr-alert",16),hs("clrAlertClosedChange",(function(e){return Yt(n),!(gs().showItemAddConfirmation=e)})),ns(6,"clr-alert-item"),ns(7,"span",17),zs(8,"Item successfully added."),rs(),rs(),rs(),Ko(9,CL,6,6,"form",18),rs(),ns(10,"div",19),ns(11,"button",20),hs("click",(function(){return Yt(n),gs().addModalCancel()})),zs(12," Cancel "),rs(),ns(13,"button",21),hs("click",(function(){return Yt(n),gs().addAnother()})),zs(14," Add another "),rs(),ns(15,"button",22),hs("click",(function(){return Yt(n),gs().finishAddModal()})),zs(16," Add and finish "),rs(),rs(),rs()}if(2&e){var r=gs();es("clrModalOpen",r.addModalOpened),Ur(5),es("clrAlertType","success")("clrAlertClosed",!r.showItemAddConfirmation),Ur(4),es("ngForOf",r.interface.columns),Ur(4),es("disabled",r.formArray.invalid),Ur(2),es("disabled",r.formArray.invalid)}}function EL(e,t){if(1&e&&(ns(0,"clr-date-container"),ns(1,"label",25),zs(2),rs(),is(3,"input",26),rs()),2&e){var n=gs(),r=n.$implicit,i=n.index,o=gs(2);Ur(2),Gs(r.label),Ur(1),es("formControl",o.formArray.controls[i])}}function IL(e,t){if(1&e&&(ns(0,"option",30),zs(1),rs()),2&e){var n=t.$implicit;es("value",n.label),Ur(1),Hs(" ",n.label,"")}}function TL(e,t){if(1&e&&(ns(0,"select",28),Ko(1,IL,2,2,"option",29),rs()),2&e){var n=gs(2).index,r=gs(2);es("formControl",r.formArray.controls[n]),Ur(1),es("ngForOf",r.constants.divisions)}}function xL(e,t){if(1&e&&(ns(0,"clr-select-container"),ns(1,"label",25),zs(2),rs(),Ko(3,TL,2,2,"select",27),rs()),2&e){var n=gs().$implicit,r=gs(2);Ur(2),Gs(n.label),Ur(1),es("ngIf",r.constants)}}function AL(e,t){if(1&e&&(ns(0,"clr-input-container"),ns(1,"label",25),zs(2),rs(),is(3,"input",31),rs()),2&e){var n=gs(),r=n.$implicit,i=n.index,o=gs(2);Ur(2),Gs(r.label),Ur(1),es("formControl",o.formArray.controls[i])}}function OL(e,t){if(1&e&&(ns(0,"clr-input-container"),ns(1,"label",25),zs(2),rs(),is(3,"input",32),rs()),2&e){var n=gs(),r=n.$implicit,i=n.index,o=gs(2);Ur(2),Gs(r.label),Ur(1),es("formControl",o.formArray.controls[i])}}function DL(e,t){if(1&e&&is(0,"input",33),2&e){var n=gs().index,r=gs(2).index,i=gs(2);es("formControl",i.getCheckboxControl(r,n,i.formArray))}}function RL(e,t){if(1&e&&(ns(0,"clr-checkbox-wrapper"),Ko(1,DL,1,1,"input",35),ns(2,"label"),zs(3),rs(),rs()),2&e){var n=t.$implicit,r=gs(4);Ur(1),es("ngIf",r.editModalOpened),Ur(2),qs("",n.icon," ",n.label,"")}}function PL(e,t){if(1&e&&(ns(0,"clr-checkbox-container"),ns(1,"label",25),zs(2),rs(),Ko(3,RL,4,3,"clr-checkbox-wrapper",2),rs()),2&e){var n=gs().$implicit;Ur(2),Gs(n.label),Ur(1),es("ngForOf",n.tags)}}function NL(e,t){if(1&e&&(ns(0,"form",23),Ko(1,EL,4,2,"clr-date-container",24),Ko(2,xL,4,2,"clr-select-container",24),Ko(3,AL,4,2,"clr-input-container",24),Ko(4,OL,4,2,"clr-input-container",24),Ko(5,PL,4,2,"clr-checkbox-container",24),rs()),2&e){var n=t.$implicit,r=gs(2);es("formGroup",r.formGroup),Ur(1),es("ngIf",r.isType(n,"date-select")),Ur(1),es("ngIf",r.isType(n,"division-select")),Ur(1),es("ngIf",r.isType(n,"text")),Ur(1),es("ngIf",r.isType(n,"number")),Ur(1),es("ngIf",r.isType(n,"tag-select"))}}function FL(e,t){if(1&e){var n=us();ns(0,"clr-modal",12,34),hs("clrModalOpenChange",(function(e){return Yt(n),gs().editModalOpened=e})),ns(2,"h3",14),zs(3,"Edit row"),rs(),ns(4,"div",15),Ko(5,NL,6,6,"form",18),rs(),ns(6,"div",19),ns(7,"button",20),hs("click",(function(){return Yt(n),gs().editModalCancel()})),zs(8," Cancel "),rs(),ns(9,"button",22),hs("click",(function(){return Yt(n),gs().finishEdits()})),zs(10," Apply "),rs(),rs(),rs()}if(2&e){var r=gs();es("clrModalOpen",r.editModalOpened),Ur(5),es("ngForOf",r.interface.columns),Ur(4),es("disabled",r.formArray.invalid)}}var LL,ML=((LL=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).constantService=e,r.formArray=new $m([]),r.formLabels=[],r.sectionChanged=new pu,r.addModalOpened=!1,r.editModalOpened=!1,r.showItemAddConfirmation=!1,r}return _createClass(n,[{key:"ngOnInit",value:function(){var e=this;this.constantService.constants.subscribe((function(t){e.constants=t})),this.interface.value||(this.interface.value=[],console.warn("No value supplied for datagrid "+this.interface.title)),this.formGroup=new Wm({array:this.formArray})}},{key:"hasTag",value:function(e,t){var n=[];return e.forEach((function(e){n.push(e.label)})),n.includes(t.label)}},{key:"convertISOtoTraditional",value:function(e){if(!e)return null;var t=new Date(e),n=t.getFullYear(),r=(t.getMonth()+1).toString(),i=t.getDate().toString();t.getDate()<10&&(i="0"+i.toString()),t.getMonth()<10&&(r="0"+r);var o=r+"/"+i+"/"+n;return console.log("Converting: "+e+" to "+o),o}},{key:"convertTraditionalToISO",value:function(e){if(!e)return null;var t=e.split("/");if(3!==t.length)return console.warn("Invalid date: "+e),null;var n=+t[0]-1,r=+t[1],i=+t[2],o=new Date;o.setMonth(n),o.setDate(r),o.setFullYear(i);var s=o.toISOString();return console.log("Converting: "+e+" to "+s),s}},{key:"buildFormFromInterface",value:function(e){var t=this;console.log(e);var n=this.interface.columns;this.formArray=new $m([]),this.formLabels=[],n?(n.forEach((function(n,r){if(t.formLabels.push(n.label),"tag-select"===n.type){var i=new $m([]);n.tags&&(n.tags.forEach((function(o,s){var a=new qm(!1);e&&e[r]&&e[r].tags&&(a.setValue(t.hasTag(e[r].tags,o)),console.log(o,t.hasTag(n.tags,o))),i.push(a)})),console.log(i.value),t.formArray.push(i))}else e&&e[r]?(console.log("Pushing "+e[r]),t.formArray.push(new qm("date-select"===n.type?t.convertISOtoTraditional(e[r]):e[r]))):t.formArray.push(new qm)})),console.log(this.formArray.value)):console.warn("[Datagrid] Cannot build form. No columns could be found.")}},{key:"addRowFromFormArray",value:function(){var e=this,t=[];this.interface.columns.forEach((function(n,r){if("tag-select"===n.type){var i=[];n.tags.forEach((function(t,n){!0===e.formArray.at(r).at(n).value&&i.push(t)})),t.push({tags:i})}else t.push("date-select"===n.type?e.convertTraditionalToISO(e.formArray.at(r).value):e.formArray.at(r).value)})),console.log(this.interface),this.interface.value.push({row:t}),this.sectionChanged.emit(this.interface)}},{key:"deleteRow",value:function(e){this.interface.value.splice(e,1),this.sectionChanged.emit(this.interface)}},{key:"finishAddModal",value:function(){this.addModalOpened=!1,this.addRowFromFormArray(),this.formArray.reset()}},{key:"openEditModal",value:function(e){this.selectedRow=e,this.buildFormFromInterface(this.interface.value[e].row),this.editModalOpened=!0}},{key:"finishEdits",value:function(){this.editModalOpened=!1,this.editRow(this.selectedRow),this.formArray.reset()}},{key:"editRow",value:function(e){var t=this,n=[];this.interface.columns.forEach((function(e,r){if("tag-select"===e.type){var i=[];e.tags.forEach((function(e,n){!0===t.formArray.at(r).at(n).value&&i.push(e)})),n.push({tags:i})}else n.push("date-select"===e.type?t.convertTraditionalToISO(t.formArray.at(r).value):t.formArray.at(r).value)})),console.log("Finished edits: "+n),this.interface.value[e]={row:n},this.sectionChanged.emit(this.interface)}},{key:"isDate",value:function(e){var t=this.interface.columns[e].type;return"date-select"===t||"month-select"===t}},{key:"openAddModal",value:function(){this.buildFormFromInterface(),this.addModalOpened=!0}},{key:"addAnother",value:function(){var e=this;this.addRowFromFormArray(),this.buildFormFromInterface(),console.log(this.interface.value),this.showItemAddConfirmation=!0,setTimeout((function(){e.showItemAddConfirmation=!1}),3e3)}},{key:"addModalCancel",value:function(){this.addModalOpened=!1,this.formArray.reset()}},{key:"editModalCancel",value:function(){this.editModalOpened=!1,this.formArray.reset()}},{key:"isTagObj",value:function(e){return!(null==e||!e.tags)}},{key:"checkArrayValidity",value:function(){this.formArray.controls.forEach((function(e){console.log(e.value+" | "+e.status)})),console.log(this.formArray.status),console.log(this.formArray.valid)}}]),n}(oL)).\u0275fac=function(e){return new(e||LL)(Zo(Df))},LL.\u0275cmp=dt({type:LL,selectors:[["datagrid-section"]],inputs:{interface:"interface"},outputs:{sectionChanged:"sectionChanged"},features:[Ks],decls:14,vars:6,consts:[["class","subtitle",4,"ngIf"],[4,"clrDgItems","clrDgItemsOf"],[4,"ngFor","ngForOf"],[1,"btn-group","btn-link","btn-sm"],[1,"btn",3,"click"],[3,"clrModalOpen","clrModalOpenChange",4,"ngIf"],[1,"subtitle"],[1,"action-item",3,"click"],[4,"ngIf","ngIfElse"],["tagRenderer",""],["plainCell",""],[3,"title"],[3,"clrModalOpen","clrModalOpenChange"],["addModal",""],[1,"modal-title"],[1,"modal-body"],[3,"clrAlertType","clrAlertClosed","clrAlertClosedChange"],[1,"alert-text"],["clrForm","","clrLayout","vertical",3,"formGroup",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn",3,"disabled","click"],["type","button",1,"btn","btn-success",3,"disabled","click"],["clrForm","","clrLayout","vertical",3,"formGroup"],[4,"ngIf"],["for",""],["type","date","clrDate","",3,"formControl"],["clrSelect","",3,"formControl",4,"ngIf"],["clrSelect","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["clrInput","","type","text",3,"formControl"],["clrInput","","type","number",3,"formControl"],["type","checkbox","clrCheckbox","",3,"formControl"],["editModal",""],["type","checkbox","clrCheckbox","",3,"formControl",4,"ngIf"]],template:function(e,t){1&e&&(ns(0,"h1"),zs(1),rs(),Ko(2,sL,2,1,"h5",0),ns(3,"clr-datagrid"),ns(4,"clr-dg-placeholder"),zs(5,"Nothing to see here. Try adding more content."),rs(),Ko(6,aL,2,1,"clr-dg-column",1),Ko(7,pL,7,1,"clr-dg-row",2),ns(8,"clr-dg-footer"),ns(9,"div",3),ns(10,"button",4),hs("click",(function(){return t.openAddModal()})),zs(11,"Add new"),rs(),rs(),rs(),rs(),Ko(12,SL,17,6,"clr-modal",5),Ko(13,FL,11,3,"clr-modal",5)),2&e&&(Ur(1),Gs(t.interface.title),Ur(1),es("ngIf",t.interface.subtitle),Ur(4),es("clrDgItemsOf",t.interface.columns),Ur(1),es("ngForOf",t.interface.value),Ur(5),es("ngIf",t.addModalOpened),Ur(1),es("ngIf",t.editModalOpened))},directives:[zh,cO,RO,IA,TA,OA,VA,MA,Uh,CO,FA,xO,rO,OO,fO,qA,TO,gP,yP,jR,UR,VR,o_,Ny,cE,lE,l_,fI,aE,Sy,dx,Py,u_,Rx,lm,Px,hm,ym,kx,wx,Yy,_E,yE,ky,mE],pipes:[af],styles:[".subtitle[_ngcontent-%COMP%]{margin-top:0}"]}),LL);function VL(e,t){if(1&e&&(ns(0,"option",7),zs(1),rs()),2&e){var n=t.$implicit;es("value",n),Ur(1),Hs(" ",n,"")}}var jL,UL=((jL=function(){function e(){_classCallCheck(this,e),this.year=(new Date).getFullYear(),this.onChange=function(e){},this.onTouched=function(){},this._monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"]}return _createClass(e,[{key:"writeValue",value:function(e){e||(e=(new Date).toISOString()),this.dateString=e,console.log(e),this.year=new Date(e).getFullYear(),this.monthIndex=new Date(e).getMonth(),console.log(this._monthNames[this.monthIndex]),this.formGroup.get("yearInput").setValue(this.year),this.formGroup.get("monthInput").setValue(this._monthNames[this.monthIndex])}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"ngOnInit",value:function(){var e=this;this.formGroup=new Wm({monthInput:new qm,yearInput:new qm(this.year)}),console.log("Initial is ",this.monthIndex),this.formGroup.valueChanges.subscribe((function(t){e.monthIndex!==e._monthNames.indexOf(t.monthInput)&&(console.log(e._monthNames.indexOf(t.monthInput)),e._monthNames.indexOf(t.monthInput)>-1&&(e.monthIndex=e._monthNames.indexOf(t.monthInput))),e.year=t.yearInput;var n=new Date;n.setMonth(e.monthIndex),n.setFullYear(e.year),e.dateString=n.toISOString(),e.value=e.dateString}))}},{key:"value",set:function(e){this.dateString=e,this.onChange(e),this.onTouched(e)}}]),e}()).\u0275fac=function(e){return new(e||jL)},jL.\u0275cmp=dt({type:jL,selectors:[["month-select"]],inputs:{label:"label"},features:[ha([{provide:_y,useExisting:Se((function(){return jL})),multi:!0}])],decls:10,vars:3,consts:[[3,"formGroup"],["for","",1,"p4"],[1,"clr-row","clr-align-items-start",2,"margin","0"],["clrSelect","","formControlName","monthInput",1,"clr-col"],[3,"value",4,"ngFor","ngForOf"],[1,"clr-col"],["clrInput","","type","number","placeholder","Year","formControlName","yearInput",2,"margin-left","0.5rem"],[3,"value"]],template:function(e,t){1&e&&(ns(0,"form",0),ns(1,"label",1),zs(2),rs(),ns(3,"div",2),ns(4,"select",3),Ko(5,VL,2,2,"option",4),rs(),ns(6,"clr-input-container",5),is(7,"input",6),ns(8,"clr-control-error"),zs(9,"Does this year make sense?"),rs(),rs(),rs(),rs()),2&e&&(es("formGroup",t.formGroup),Ur(2),Gs(t.label),Ur(3),es("ngForOf",t._monthNames))},directives:[o_,Ny,l_,aE,lm,Px,Py,C_,Uh,kx,Yy,Sy,wx,rE,hm,ym],styles:[""]}),jL);function BL(e,t){if(1&e&&(ns(0,"h5",2),zs(1),rs()),2&e){var n=gs();Ur(1),Gs(n.interface.subtitle)}}function zL(e,t){if(1&e&&(ns(0,"clr-date-container"),ns(1,"label",6),zs(2),rs(),is(3,"input",7),rs()),2&e){var n=gs(),r=n.$implicit,i=n.index,o=gs();Ur(2),Gs(r.label),Ur(1),es("formControl",o.formArray.controls[i])}}function GL(e,t){if(1&e&&(ns(0,"option",10),zs(1),rs()),2&e){var n=t.$implicit;es("value",n.label),Ur(1),Hs(" ",n.label,"")}}function HL(e,t){if(1&e&&(ns(0,"clr-select-container"),ns(1,"label",6),zs(2),rs(),ns(3,"select",8),Ko(4,GL,2,2,"option",9),rs(),rs()),2&e){var n=gs(),r=n.$implicit,i=n.index,o=gs();Ur(2),Gs(r.label),Ur(1),es("formControl",o.formArray.controls[i]),Ur(1),es("ngForOf",o.getConstant("divisions"))}}function qL(e,t){if(1&e&&is(0,"month-select",11),2&e){var n=gs(),r=n.$implicit,i=n.index,o=gs();es("label",r.label)("formControl",o.formArray.controls[i])}}function WL(e,t){if(1&e&&(ns(0,"clr-input-container"),ns(1,"label",6),zs(2),rs(),is(3,"input",12),rs()),2&e){var n=gs(),r=n.$implicit,i=n.index,o=gs();Ur(2),Gs(r.label),Ur(1),es("formControl",o.formArray.controls[i])}}function $L(e,t){if(1&e&&(ns(0,"clr-input-container"),ns(1,"label",6),zs(2),rs(),is(3,"input",13),rs()),2&e){var n=gs(),r=n.$implicit,i=n.index,o=gs();Ur(2),Gs(r.label),Ur(1),es("formControl",o.formArray.controls[i])}}function QL(e,t){if(1&e&&(ns(0,"clr-checkbox-wrapper"),is(1,"input",15),ns(2,"label"),zs(3),rs(),rs()),2&e){var n=t.$implicit,r=t.index,i=gs(2).index,o=gs();Ur(1),es("formControl",o.getCheckboxControl(i,r,o.formArray)),Ur(2),qs("",n.icon," ",n.label,"")}}function KL(e,t){if(1&e&&(ns(0,"clr-checkbox-container"),ns(1,"label",6),zs(2),rs(),Ko(3,QL,4,3,"clr-checkbox-wrapper",14),rs()),2&e){var n=gs().$implicit;Ur(2),Gs(n.label),Ur(1),es("ngForOf",n.tags)}}function YL(e,t){if(1&e&&(ns(0,"clr-textarea-container"),ns(1,"label"),zs(2),rs(),is(3,"textarea",16),rs()),2&e){var n=gs(),r=n.$implicit,i=n.index,o=gs();Ur(2),Gs(r.label),Ur(1),es("formControl",o.formArray.controls[i])}}function ZL(e,t){if(1&e&&(ns(0,"form",3),Ko(1,zL,4,2,"clr-date-container",4),Ko(2,HL,5,3,"clr-select-container",4),Ko(3,qL,1,2,"month-select",5),Ko(4,WL,4,2,"clr-input-container",4),Ko(5,$L,4,2,"clr-input-container",4),Ko(6,KL,4,2,"clr-checkbox-container",4),Ko(7,YL,4,2,"clr-textarea-container",4),rs()),2&e){var n=t.$implicit,r=gs();es("formGroup",r.formGroup),Ur(1),es("ngIf",r.isType(n,"date-select")),Ur(1),es("ngIf",r.isType(n,"division-select")),Ur(1),es("ngIf",r.isType(n,"month-select")),Ur(1),es("ngIf",r.isType(n,"text")),Ur(1),es("ngIf",r.isType(n,"number")),Ur(1),es("ngIf",r.isType(n,"tag-select")),Ur(1),es("ngIf",r.isType(n,"textarea"))}}var XL,JL=((XL=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._ReportService=e,r.formArray=new $m([],{updateOn:"blur"}),r.formLabels=[],r.sectionChanged=new pu,r}return _createClass(n,[{key:"hasTag",value:function(e,t){var n=[];return e&&e.forEach((function(e){n.push(e.label)})),n.includes(t.label)}},{key:"convertISOtoTraditional",value:function(e){var t=new Date(e),n=t.getFullYear(),r=(t.getMonth()+1).toString(),i=t.getDate().toString();t.getDate()<10&&(i="0"+i.toString()),t.getMonth()<10&&(r="0"+r);var o=r+"/"+i+"/"+n;return console.log("Converting: "+e+" to "+o),o}},{key:"convertTraditionalToISO",value:function(e){var t=e.split("/"),n=+t[0]-1,r=+t[1],i=+t[2],o=new Date;o.setMonth(n),o.setDate(r),o.setFullYear(i);var s=o.toISOString();return console.log("Converting: "+e+" to "+s),s}},{key:"buildForm",value:function(){var e=this;this.inputs?(this.inputs.forEach((function(t,n){if(e.formLabels.push(t.label),e.interface.value){var r=e.interface.value;if("tag-select"===t.type){var i=new $m([]);console.log(r),t.tags.forEach((function(t){i.push(r[n]?new qm(e.hasTag(r[n].tags,t)):new qm)})),e.formArray.push(i)}else e.formArray.push(new qm("month-select"===t.type?r[n]:"date-select"===t.typle?e.convertISOtoTraditional(r[n]):r[n]))}else if("tag-select"===t.type){var o=new $m([]);t.tags.forEach((function(e){o.push(new qm(null))})),e.formArray.push(o)}else if("month-select"===t.type){var s=new Date;e.formArray.push(new qm(s.toISOString()))}else e.formArray.push(new qm(null))})),console.log(this.formArray)):console.error("No inputs were found for "+this.title)}},{key:"ngOnInit",value:function(){var e=this;this.inputs=this.interface.inputs,this.buildForm(),this.formGroup=new Wm({array:this.formArray},{updateOn:"blur"}),this.formArray.valueChanges.subscribe((function(t){"meta"===e.interface.type&&e._ReportService.report&&e.interface.inputs.forEach((function(t,n){var r=t.link;if(console.log(r),"coverageDate"===r)e._ReportService.setCoverageDate(e.formArray.value[n]);else if("additionalInfo"===r)e._ReportService.setAdditionalInfo(e.formArray.value[n]);else if("title"===r)e._ReportService.setTitle(e.formArray.value[n]);else if("subject"===r)e._ReportService.setSubject(e.formArray.value[n]);else if("tags"===r){var i=[];console.warn(e.formArray.value[n]),e.formArray.value[n].forEach((function(e,n){e&&t.tags&&t.tags[n]&&(i.push(t.tags[n]),console.warn("Pushing "+t.tags[n].icon))})),e._ReportService.setTags(i)}})),console.log(t);var n=[];t.forEach((function(r,i){var o=e.interface.inputs[i].type;if("tag-select"===o){var s=[],a=e.interface.inputs[i].tags;r.forEach((function(e,t){e&&s.push(a[t])})),n.push({tags:s})}else n.push("date-select"===o?e.convertTraditionalToISO(t[i]):t[i])})),console.log(n),e.interface.value=n,e.sectionChanged.emit(e.interface)}))}},{key:"getConstant",value:function(e){return["a","b","c"]}}]),n}(oL)).\u0275fac=function(e){return new(e||XL)(Zo(_g))},XL.\u0275cmp=dt({type:XL,selectors:[["simple-input"]],inputs:{interface:"interface",meta:"meta",constants:"constants"},outputs:{sectionChanged:"sectionChanged"},features:[Ks],decls:4,vars:3,consts:[["class","subtitle",4,"ngIf"],["clrForm","","clrLayout","vertical",3,"formGroup",4,"ngFor","ngForOf"],[1,"subtitle"],["clrForm","","clrLayout","vertical",3,"formGroup"],[4,"ngIf"],[3,"label","formControl",4,"ngIf"],["for",""],["type","date","clrDate","",3,"formControl"],["clrSelect","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"label","formControl"],["clrInput","","type","text",3,"formControl"],["clrInput","","type","number",3,"formControl"],[4,"ngFor","ngForOf"],["type","checkbox","clrCheckbox","",3,"formControl"],["clrTextarea","","name","description",3,"formControl"]],template:function(e,t){1&e&&(ns(0,"h1"),zs(1),rs(),Ko(2,BL,2,1,"h5",0),Ko(3,ZL,8,8,"form",1)),2&e&&(Ur(1),Gs(t.interface.title),Ur(1),es("ngIf",t.interface.subtitle),Ur(1),es("ngForOf",t.inputs))},directives:[zh,Uh,o_,Ny,cE,lE,l_,fI,aE,Sy,dx,Py,u_,Rx,lm,Px,hm,ym,UL,kx,wx,Yy,_E,yE,ky,mE,Fx,Lx],styles:[".clr-textarea-wrapper[_ngcontent-%COMP%]{width:100%}"]}),XL);function eM(e,t){if(1&e){var n=us();ns(0,"input",10),hs("ngModelChange",(function(e){return Yt(n),gs()._template.templateID=e})),rs()}2&e&&es("ngModel",gs()._template.templateID)}function tM(e,t){1&e&&(ns(0,"span",11),is(1,"clr-icon",12),ns(2,"em"),zs(3,"No pages yet."),rs(),rs())}function nM(e,t){1&e&&(ns(0,"clr-tooltip-content",20),ns(1,"span"),zs(2,'Double click on a page or section below to open the properties pane. Use the "+" buttons to add content.'),rs(),rs())}function rM(e,t){if(1&e){var n=us();ns(0,"clr-tree-node"),ns(1,"h4",15),zs(2,"Overview"),rs(),ns(3,"clr-tooltip"),is(4,"clr-icon",16),Ko(5,nM,3,0,"clr-tooltip-content",17),rs(),ns(6,"button",18),hs("click",(function(){return Yt(n),gs(2).addPage()})),is(7,"clr-icon",19),rs(),rs()}}function iM(e,t){if(1&e){var n=us();ns(0,"button",28),hs("click",(function(){Yt(n);var e=gs().index;return gs(2).addMetaSection(e)})),zs(1," Add Meta Section "),is(2,"clr-icon",19),rs()}}function oM(e,t){if(1&e){var n=us();ns(0,"clr-tree-node",29),hs("dblclick",(function(){Yt(n);var e=t.$implicit;return gs(3).openEditSection(e)})),ns(1,"div",30),zs(2),is(3,"clr-icon",31),rs(),rs()}if(2&e){var r=t.$implicit;Ur(2),Hs(" ",r.title,"")}}function sM(e,t){if(1&e){var n=us();ns(0,"clr-tree-node",29),hs("dblclick",(function(){Yt(n);var e=t.$implicit;return gs(3).openEditSection(e)})),is(1,"clr-icon",32),ns(2,"div",30),zs(3),rs(),rs()}if(2&e){var r=t.$implicit;Ur(3),Gs(r.title)}}function aM(e,t){if(1&e){var n=us();ns(0,"clr-tree-node",29),hs("dblclick",(function(){Yt(n);var e=t.$implicit;return gs(3).openEditSection(e)})),is(1,"clr-icon",33),ns(2,"div",30),zs(3),rs(),rs()}if(2&e){var r=t.$implicit;Ur(3),Hs(" ",r.title," ")}}function uM(e,t){if(1&e){var n=us();ns(0,"clr-tree-node",21),hs("clrExpandedChange",(function(e){Yt(n);var r=t.index;return gs(2).pageExpansions[r]=e}))("click",(function(){Yt(n);var e=t.index;return gs(2).setCurrentPage(e)})),ns(1,"div",22),hs("dblclick",(function(){Yt(n);var e=t.index;return gs(2).openEditPage(e)})),ns(2,"div"),is(3,"clr-icon",23),zs(4),rs(),rs(),ns(5,"clr-tree-node"),is(6,"p",24),Ko(7,iM,3,0,"button",25),rs(),Ko(8,oM,4,1,"clr-tree-node",26),ns(9,"clr-tree-node"),ns(10,"p",24),zs(11,"Datagrids"),rs(),ns(12,"button",27),hs("click",(function(){Yt(n);var e=t.index;return gs(2).addDatagrid(e)})),is(13,"clr-icon",19),rs(),rs(),Ko(14,sM,4,1,"clr-tree-node",26),ns(15,"clr-tree-node"),ns(16,"p",24),zs(17,"SimpleInputs"),rs(),ns(18,"button",27),hs("click",(function(){Yt(n);var e=t.index;return gs(2).addSimpleInput(e)})),is(19,"clr-icon",19),rs(),rs(),Ko(20,aM,4,1,"clr-tree-node",26),rs()}if(2&e){var r=t.$implicit,i=t.index,o=gs(2);es("clrExpanded",o.pageExpansions[i]),Ur(4),Hs(" ",r.title,""),Ur(3),es("ngIf",!o.hasMetaSection),Ur(1),es("ngForOf",o.getSectionsByType(i,"meta")),Ur(6),es("ngForOf",o.getDatagrids(i)),Ur(6),es("ngForOf",o.getSimpleInputs(i))}}function cM(e,t){if(1&e&&(ns(0,"div",11),ns(1,"clr-tree"),Ko(2,rM,8,0,"clr-tree-node",13),Ko(3,uM,21,6,"clr-tree-node",14),rs(),rs()),2&e){var n=gs();Ur(2),es("ngIf",n._template.pages),Ur(1),es("ngForOf",n._template.pages)}}function lM(e,t){if(1&e){var n=us();ns(0,"datagrid-section",65),hs("sectionChanged",(function(e){Yt(n);var t=gs().$implicit;return gs(2).setSection(t,e)})),rs()}2&e&&es("interface",gs().$implicit)}function hM(e,t){if(1&e){var n=us();ns(0,"simple-input",65),hs("sectionChanged",(function(e){Yt(n);var t=gs().$implicit;return gs(2).setSection(t,e)})),rs()}2&e&&es("interface",gs().$implicit)}function fM(e,t){if(1&e){var n=us();ns(0,"div",11),ns(1,"div",35),ns(2,"div",62),ns(3,"button",37),hs("click",(function(){Yt(n);var e=t.$implicit;return gs(2).openEditSection(e)})),is(4,"clr-icon",38),rs(),rs(),rs(),ns(5,"div",39),Ko(6,lM,1,1,"datagrid-section",63),Ko(7,hM,1,1,"ng-template",null,64,Lu),is(9,"div"),rs(),rs()}if(2&e){var r=t.$implicit,i=Yo(8),o=gs(2);Ur(6),es("ngIf",o.isDatagrid(r))("ngIfElse",i)}}function dM(e,t){1&e&&(ns(0,"clr-tooltip-content",74),ns(1,"span"),ns(2,"em"),zs(3,"Datagrids"),rs(),zs(4," are tables, good for lots of data."),is(5,"br"),ns(6,"em"),zs(7,"SimpleInputs"),rs(),zs(8," are basic forms, good for a few questions."),is(9,"br"),ns(10,"em"),zs(11,"Meta sections"),rs(),zs(12," are SimpleInputs that link to properties in the report-- i.e. coverage date."),rs(),rs())}function pM(e,t){1&e&&(ns(0,"clr-tooltip-content",79),ns(1,"span"),zs(2,"Modifying this section might "),ns(3,"b"),zs(4,"clear existing prefill"),rs(),zs(5,"."),rs(),rs())}function vM(e,t){1&e&&(ns(0,"clr-tooltip"),is(1,"clr-icon",77),Ko(2,pM,6,0,"clr-tooltip-content",78),rs())}function gM(e,t){if(1&e&&(ns(0,"span"),zs(1),rs()),2&e){var n=gs(4);Ur(1),Hs("",n.sectionInEdit.columns.length," columns")}}function yM(e,t){if(1&e){var n=us();ns(0,"clr-accordion-content",94),ns(1,"label",56),zs(2,"Tag label"),rs(),ns(3,"input",54),hs("ngModelChange",(function(e){return Yt(n),gs().$implicit.label=e})),rs(),ns(4,"label",56),zs(5,"Tag icon"),rs(),ns(6,"emoji-picker",95),hs("emoji-click",(function(e){Yt(n);var t=gs().index,r=gs(2).$implicit;return gs(4).editTagEmoji(r,t,e)})),rs(),rs()}if(2&e){var r=gs().$implicit;Ur(3),es("ngModel",r.label)}}function mM(e,t){if(1&e){var n=us();ns(0,"clr-accordion-panel"),ns(1,"clr-accordion-title"),zs(2),ns(3,"button",91),hs("click",(function(){Yt(n);var e=t.index,r=gs(2).$implicit;return gs(4).deleteTag(r,e)})),is(4,"clr-icon",92),rs(),rs(),Ko(5,yM,7,1,"clr-accordion-content",93),rs()}if(2&e){var r=t.$implicit;Ur(2),qs("",r.icon," ",r.label," ")}}function _M(e,t){if(1&e){var n=us();ns(0,"div",89),ns(1,"div",11),ns(2,"label",56),zs(3,"Tags"),rs(),rs(),ns(4,"clr-accordion"),Ko(5,mM,6,2,"clr-accordion-panel",76),rs(),ns(6,"div",11),ns(7,"button",90),hs("click",(function(e){Yt(n);var t=gs().$implicit;return gs(4).addTag(t,e)})),zs(8," Add tag "),rs(),rs(),rs()}if(2&e){var r=gs().$implicit;Ur(5),es("ngForOf",r.tags)}}function bM(e,t){if(1&e){var n=us();ns(0,"clr-stack-block"),ns(1,"clr-stack-label"),zs(2),ns(3,"button",80),hs("click",(function(){Yt(n);var e=t.index;return gs(4).deleteColumn(e)})),is(4,"clr-icon",81),rs(),rs(),ns(5,"clr-stack-content"),ns(6,"input",82),hs("ngModelChange",(function(e){Yt(n);var r=t.index;return gs(4).sectionInEdit.columns[r].label=e})),rs(),ns(7,"select",70),hs("ngModelChange",(function(e){Yt(n);var r=t.index;return gs(4).sectionInEdit.columns[r].type=e}))("ngModelChange",(function(e){Yt(n);var r=t.$implicit;return gs(4).typeChanged(r,e)})),ns(8,"option",83),zs(9,"Division Select"),rs(),ns(10,"option",84),zs(11,"Text"),rs(),ns(12,"option",85),zs(13,"Number"),rs(),ns(14,"option",86),zs(15,"Date"),rs(),ns(16,"option",87),zs(17,"Tag Select"),rs(),rs(),Ko(18,_M,9,1,"div",88),rs(),rs()}if(2&e){var r=t.$implicit,i=t.index,o=gs(4);Ur(2),Hs("Column ",i+1," "),Ur(4),es("ngModel",o.sectionInEdit.columns[i].label),Ur(1),es("ngModel",o.sectionInEdit.columns[i].type),Ur(11),es("ngIf",o.isEqual(r.type,"tag-select"))}}function kM(e,t){if(1&e){var n=us();ns(0,"clr-stack-block"),ns(1,"clr-stack-label"),zs(2," Columns "),Ko(3,vM,3,0,"clr-tooltip",13),rs(),ns(4,"clr-stack-content"),Ko(5,gM,2,1,"span",13),ns(6,"button",75),hs("click",(function(e){return Yt(n),gs(3).addColumn(e)})),is(7,"clr-icon",19),rs(),rs(),Ko(8,bM,19,4,"clr-stack-block",76),rs()}if(2&e){var r=gs(3);Ur(3),es("ngIf",r.hasPrefill(r.sectionInEdit)),Ur(2),es("ngIf",r.sectionInEdit.columns),Ur(3),es("ngForOf",r.sectionInEdit.columns)}}function wM(e,t){1&e&&(ns(0,"clr-tooltip-content",79),ns(1,"span"),zs(2,"Modifying this section might "),ns(3,"b"),zs(4,"clear existing prefill"),rs(),zs(5,"."),rs(),rs())}function CM(e,t){1&e&&(ns(0,"clr-tooltip"),is(1,"clr-icon",77),Ko(2,wM,6,0,"clr-tooltip-content",78),rs())}function SM(e,t){if(1&e){var n=us();ns(0,"clr-stack-content"),zs(1),ns(2,"button",96),hs("click",(function(e){return Yt(n),gs(4).addInput(e)})),is(3,"clr-icon",19),rs(),rs()}if(2&e){var r=gs(4);Ur(1),Hs(" ",r.sectionInEdit.inputs.length," inputs ")}}function EM(e,t){if(1&e){var n=us();ns(0,"div",100),hs("click",(function(){Yt(n);var e=gs(2).index,t=gs(4);return t.moveInArray(e,e-1,t.sectionInEdit.inputs)})),zs(1," Move up "),rs()}}function IM(e,t){if(1&e){var n=us();ns(0,"div",100),hs("click",(function(){Yt(n);var e=gs(2).index,t=gs(4);return t.moveInArray(e,e+1,t.sectionInEdit.inputs)})),zs(1," Move down "),rs()}}function TM(e,t){if(1&e){var n=us();ns(0,"clr-dropdown-menu"),ns(1,"div",100),hs("click",(function(){Yt(n);var e=gs().index,t=gs(4);return t.deleteInArray(e,t.sectionInEdit.inputs)})),zs(2," Delete input "),rs(),Ko(3,EM,2,0,"div",101),Ko(4,IM,2,0,"div",101),rs()}if(2&e){var r=gs().index,i=gs(4);Ur(3),es("ngIf",r>0),Ur(1),es("ngIf",r<i.sectionInEdit.inputs.length-1)}}function xM(e,t){if(1&e){var n=us();ns(0,"clr-accordion-content",94),ns(1,"label",56),zs(2,"Tag label"),rs(),ns(3,"input",54),hs("ngModelChange",(function(e){return Yt(n),gs().$implicit.label=e})),rs(),ns(4,"label",56),zs(5,"Tag icon"),rs(),ns(6,"emoji-picker",95),hs("emoji-click",(function(e){Yt(n);var t=gs().index,r=gs(3).$implicit;return gs(4).editTagEmoji(r,t,e)})),rs(),rs()}if(2&e){var r=gs().$implicit;Ur(3),es("ngModel",r.label)}}function AM(e,t){if(1&e){var n=us();ns(0,"clr-accordion-panel"),ns(1,"clr-accordion-title"),zs(2),ns(3,"button",91),hs("click",(function(){Yt(n);var e=t.index,r=gs(3).$implicit;return gs(4).deleteTag(r,e)})),is(4,"clr-icon",92),rs(),rs(),Ko(5,xM,7,1,"clr-accordion-content",93),rs()}if(2&e){var r=t.$implicit;Ur(2),qs("",r.icon," ",r.label," ")}}function OM(e,t){if(1&e){var n=us();ns(0,"div",89),ns(1,"div",11),ns(2,"label",56),zs(3,"Tags"),rs(),rs(),ns(4,"clr-accordion"),Ko(5,AM,6,2,"clr-accordion-panel",76),rs(),ns(6,"div",11),ns(7,"button",90),hs("click",(function(e){Yt(n);var t=gs(2).$implicit;return gs(4).addTag(t,e)})),zs(8," Add tag "),rs(),rs(),rs()}if(2&e){var r=gs(2).$implicit;Ur(5),es("ngForOf",r.tags)}}function DM(e,t){if(1&e){var n=us();ns(0,"clr-select-container"),ns(1,"label"),zs(2,"Type"),rs(),ns(3,"select",102),hs("ngModelChange",(function(e){return Yt(n),gs().$implicit.type=e}))("ngModelChange",(function(e){Yt(n);var t=gs().$implicit;return gs(4).typeChanged(t,e)})),ns(4,"option",83),zs(5,"Division Select"),rs(),ns(6,"option",84),zs(7,"Text"),rs(),ns(8,"option",85),zs(9,"Number"),rs(),ns(10,"option",86),zs(11,"Date"),rs(),ns(12,"option",87),zs(13,"Tag Select"),rs(),ns(14,"option",103),zs(15,"Month"),rs(),ns(16,"option",104),zs(17,"Multiline text"),rs(),rs(),Ko(18,OM,9,1,"div",88),rs()}if(2&e){var r=gs().$implicit,i=gs(4);Ur(3),es("ngModel",r.type),Ur(15),es("ngIf",i.isEqual(r.type,"tag-select"))}}function RM(e,t){if(1&e){var n=us();ns(0,"clr-select-container"),ns(1,"label"),zs(2,"Link"),rs(),ns(3,"select",102),hs("ngModelChange",(function(e){return Yt(n),gs().$implicit.link=e}))("ngModelChange",(function(e){Yt(n);var t=gs().$implicit;return gs(4).linkChanged(t,e)})),ns(4,"option",105),zs(5,"Report coverage date"),rs(),ns(6,"option",106),zs(7,"Additional info"),rs(),ns(8,"option",107),zs(9,"Report title"),rs(),ns(10,"option",108),zs(11,"Report subject"),rs(),ns(12,"option",109),zs(13,"Report tags"),rs(),rs(),rs()}if(2&e){var r=gs().$implicit;Ur(3),es("ngModel",r.link)}}function PM(e,t){if(1&e){var n=us();ns(0,"clr-accordion-content",94),ns(1,"label",56),zs(2,"Tag label"),rs(),ns(3,"input",54),hs("ngModelChange",(function(e){return Yt(n),gs().$implicit.label=e})),rs(),ns(4,"label",56),zs(5,"Tag icon"),rs(),ns(6,"emoji-picker",95),hs("emoji-click",(function(e){Yt(n);var t=gs().index,r=gs(2).$implicit;return gs(4).editTagEmoji(r,t,e)})),rs(),rs()}if(2&e){var r=gs().$implicit;Ur(3),es("ngModel",r.label)}}function NM(e,t){if(1&e){var n=us();ns(0,"clr-accordion-panel"),ns(1,"clr-accordion-title"),zs(2),ns(3,"button",91),hs("click",(function(){Yt(n);var e=t.index,r=gs(2).$implicit;return gs(4).deleteTag(r,e)})),is(4,"clr-icon",92),rs(),rs(),Ko(5,PM,7,1,"clr-accordion-content",93),rs()}if(2&e){var r=t.$implicit;Ur(2),qs("",r.icon," ",r.label," ")}}function FM(e,t){if(1&e){var n=us();ns(0,"div",89),ns(1,"div",11),ns(2,"label",56),zs(3,"Tags"),rs(),rs(),ns(4,"clr-accordion"),Ko(5,NM,6,2,"clr-accordion-panel",76),rs(),ns(6,"div",11),ns(7,"button",90),hs("click",(function(e){Yt(n);var t=gs().$implicit;return gs(4).addTag(t,e)})),zs(8," Add tag "),rs(),rs(),rs()}if(2&e){var r=gs().$implicit;Ur(5),es("ngForOf",r.tags)}}function LM(e,t){if(1&e){var n=us();ns(0,"clr-stack-block"),ns(1,"clr-stack-label"),zs(2),ns(3,"clr-dropdown"),ns(4,"button",97),is(5,"clr-icon",98),rs(),Ko(6,TM,5,2,"clr-dropdown-menu",99),rs(),rs(),ns(7,"clr-stack-content"),ns(8,"clr-input-container"),ns(9,"label"),zs(10,"Label"),rs(),ns(11,"input",54),hs("ngModelChange",(function(e){return Yt(n),t.$implicit.label=e})),rs(),rs(),Ko(12,DM,19,2,"clr-select-container",13),Ko(13,RM,14,1,"clr-select-container",13),Ko(14,FM,9,1,"div",88),rs(),rs()}if(2&e){var r=t.$implicit,i=t.index,o=gs(4);Ur(2),Hs(" Input ",i+1," "),Ur(9),es("ngModel",r.label),Ur(1),es("ngIf",o.isSectionType(o.sectionInEdit,"simple-input")),Ur(1),es("ngIf",o.isSectionType(o.sectionInEdit,"meta")),Ur(1),es("ngIf",o.isEqual(r.type,"tag-select"))}}function MM(e,t){if(1&e&&(ns(0,"clr-stack-block"),ns(1,"clr-stack-label"),zs(2," Inputs "),Ko(3,CM,3,0,"clr-tooltip",13),rs(),Ko(4,SM,4,1,"clr-stack-content",13),Ko(5,LM,15,5,"clr-stack-block",76),rs()),2&e){var n=gs(3);Ur(3),es("ngIf",n.hasPrefill(n.sectionInEdit)),Ur(1),es("ngIf",n.sectionInEdit),Ur(1),es("ngForOf",n.sectionInEdit.inputs)}}function VM(e,t){if(1&e){var n=us();ns(0,"clr-tab-content",66),ns(1,"clr-stack-view"),ns(2,"clr-stack-block"),ns(3,"clr-stack-label"),zs(4,"Title"),rs(),ns(5,"clr-stack-content"),ns(6,"input",67),hs("ngModelChange",(function(e){return Yt(n),gs(2).sectionInEdit.title=e})),rs(),rs(),rs(),ns(7,"clr-stack-block"),ns(8,"clr-stack-label"),zs(9,"Subtitle (optional)"),rs(),ns(10,"clr-stack-content"),ns(11,"input",67),hs("ngModelChange",(function(e){return Yt(n),gs(2).sectionInEdit.subtitle=e})),rs(),rs(),rs(),ns(12,"clr-stack-block"),ns(13,"clr-stack-label"),zs(14,"Type"),ns(15,"clr-tooltip"),is(16,"clr-icon",68),Ko(17,dM,13,0,"clr-tooltip-content",69),rs(),rs(),ns(18,"clr-stack-content"),ns(19,"select",70),hs("ngModelChange",(function(e){return Yt(n),gs(2).sectionInEdit.type=e}))("ngModelChange",(function(){Yt(n);var e=gs(2);return e.sectionTypeChanged(e.sectionInEdit)})),ns(20,"option",71),zs(21,"Datagrid"),rs(),ns(22,"option",72),zs(23,"SimpleInput"),rs(),ns(24,"option",73),zs(25,"Meta"),rs(),rs(),rs(),rs(),ns(26,"clr-stack-block"),ns(27,"clr-stack-label"),zs(28,"Order"),rs(),ns(29,"clr-stack-content"),ns(30,"button",57),hs("click",(function(){Yt(n);var e=gs(2);return e.sectionInEdit.index=e.sectionInEdit.index-1})),is(31,"clr-icon",58),rs(),zs(32),ns(33,"button",59),hs("click",(function(){Yt(n);var e=gs(2);return e.sectionInEdit.index=e.sectionInEdit.index+1})),is(34,"clr-icon",60),rs(),rs(),rs(),Ko(35,kM,9,3,"clr-stack-block",13),Ko(36,MM,6,3,"clr-stack-block",13),rs(),rs()}if(2&e){var r=gs(2);Ur(6),es("ngModel",r.sectionInEdit.title),Ur(5),es("ngModel",r.sectionInEdit.subtitle),Ur(8),es("ngModel",r.sectionInEdit.type),Ur(11),es("disabled",r.sectionInEdit.index<1),Ur(2),qs(" ",r.sectionInEdit.index+1,"/",r.currentPage.sections.length," "),Ur(1),es("disabled",r.sectionInEdit.index>r.currentPage.sections.length-2),Ur(2),es("ngIf",r.isDatagrid(r.sectionInEdit)),Ur(1),es("ngIf",r.isSimpleInput(r.sectionInEdit)||r.isSectionType(r.sectionInEdit,"meta"))}}function jM(e,t){1&e&&is(0,"simple-input",111),2&e&&es("interface",gs(3).sectionInEdit)}function UM(e,t){1&e&&is(0,"datagrid-section",111),2&e&&es("interface",gs(3).sectionInEdit)}function BM(e,t){if(1&e&&(ns(0,"clr-tab-content"),ns(1,"p"),is(2,"clr-icon",12),zs(3," Prefill is the default information present in each section. You can use it to offer hints on how a form should be filled. "),rs(),Ko(4,jM,1,1,"simple-input",110),Ko(5,UM,1,1,"datagrid-section",110),rs()),2&e){var n=gs(2);Ur(4),es("ngIf",n.isSimpleInput(n.sectionInEdit)||n.isSectionType(n.sectionInEdit,"meta")),Ur(1),es("ngIf",n.isDatagrid(n.sectionInEdit))}}function zM(e,t){if(1&e){var n=us();ns(0,"div",34),ns(1,"div",11),ns(2,"div",35),ns(3,"div",36),ns(4,"button",37),hs("click",(function(){Yt(n);var e=gs();return e.openEditPage(e.currentPage)})),is(5,"clr-icon",38),rs(),rs(),rs(),ns(6,"div",39),ns(7,"h1"),zs(8),rs(),rs(),rs(),is(9,"hr"),Ko(10,fM,10,2,"div",40),ns(11,"clr-modal",41),hs("clrModalOpenChange",(function(e){return Yt(n),gs().editSectionOpened=e})),ns(12,"h3",42),zs(13,"Section properties"),rs(),ns(14,"div",43),ns(15,"clr-tabs"),ns(16,"clr-tab"),ns(17,"button",44),zs(18,"Properties"),rs(),Ko(19,VM,37,9,"clr-tab-content",45),rs(),ns(20,"clr-tab"),ns(21,"button",46),zs(22,"Preview & prefill"),rs(),Ko(23,BM,6,2,"clr-tab-content",47),rs(),rs(),rs(),ns(24,"div",48),ns(25,"button",49),hs("click",(function(){return Yt(n),gs().cancelEditSection()})),zs(26," Cancel "),rs(),ns(27,"button",50),hs("click",(function(){Yt(n);var e=gs();return e.deleteSection(e.sectionInEdit)})),zs(28," Delete section "),rs(),ns(29,"button",51),hs("click",(function(){return Yt(n),gs().finishEditSection()})),zs(30," Apply changes "),rs(),rs(),rs(),ns(31,"clr-modal",52),hs("clrModalOpenChange",(function(e){return Yt(n),gs().editPageOpened=e})),ns(32,"h3",42),zs(33,"Page properties"),rs(),ns(34,"div",43),ns(35,"div",53),ns(36,"div",11),ns(37,"clr-input-container"),ns(38,"label"),zs(39,"Page title"),rs(),ns(40,"input",54),hs("ngModelChange",(function(e){return Yt(n),gs().currentPage.title=e})),rs(),rs(),rs(),ns(41,"div",55),ns(42,"label",56),zs(43,"Page order "),rs(),ns(44,"button",57),hs("click",(function(){return Yt(n),gs().movePageUp()})),is(45,"clr-icon",58),rs(),zs(46),ns(47,"button",59),hs("click",(function(){return Yt(n),gs().movePageDown()})),is(48,"clr-icon",60),rs(),rs(),rs(),rs(),ns(49,"div",48),ns(50,"button",61),hs("click",(function(){Yt(n);var e=gs();return e.deletePage(e.currentPage.index)})),zs(51," Delete page "),rs(),ns(52,"button",51),hs("click",(function(){return Yt(n),gs().finishEditPage()})),zs(53," Finish "),rs(),rs(),rs(),rs()}if(2&e){var r=gs();Ur(8),Gs(r.currentPage.title),Ur(2),es("ngForOf",r.currentPage.sections),Ur(1),es("clrModalOpen",r.editSectionOpened)("clrModalSize","xl"),Ur(12),es("clrIfActive",!0),Ur(8),es("clrModalOpen",r.editPageOpened),Ur(9),es("ngModel",r.currentPage.title),Ur(4),es("disabled",r.currentPage.index<1),Ur(2),qs(" ",r.currentPage.index+1,"/",r._template.pages.length," "),Ur(1),es("disabled",r.currentPage.index>r._template.pages.length-2)}}function GM(e,t){if(1&e&&(ns(0,"span"),ns(1,"b"),zs(2,"Original title: "),rs(),zs(3),is(4,"br"),rs()),2&e){var n=gs(2);Ur(3),Hs("",n.originalTemplateName," ")}}function HM(e,t){if(1&e){var n=us();ns(0,"clr-modal",41),hs("clrModalOpenChange",(function(e){return Yt(n),gs().saveTemplateOpen=e})),ns(1,"h3",42),zs(2,"Save template?"),rs(),ns(3,"div",112),ns(4,"b"),zs(5,"Title: "),rs(),zs(6),is(7,"br"),Ko(8,GM,5,1,"span",13),ns(9,"b"),zs(10,"Page count: "),rs(),zs(11),is(12,"br"),is(13,"hr"),ns(14,"div",113),ns(15,"b"),zs(16,"Magic text (for nerds):"),rs(),ns(17,"pre",114),zs(18),rs(),rs(),rs(),ns(19,"div",48),ns(20,"button",49),hs("click",(function(){return Yt(n),gs().cancelSaveTemplate()})),zs(21," Cancel "),rs(),ns(22,"button",115),hs("click",(function(){return Yt(n),gs().saveTemplate()})),zs(23," Save template "),rs(),rs(),rs()}if(2&e){var r=gs();es("clrModalOpen",r.saveTemplateOpen)("clrModalSize","lg"),Ur(6),Hs("",r._template.templateID," "),Ur(2),es("ngIf",r.originalTemplateName),Ur(3),Hs("",r._template.pages.length," "),Ur(7),Gs(r.getMagicText()),Ur(4),es("clrLoading",r.saveLoadingStatus)}}var qM,WM=((qM=function(){function e(t,n,r,i,o,s){_classCallCheck(this,e),this._ActivatedRoute=t,this._AngularFirestore=n,this._ConstantService=r,this._TS=i,this._UserService=o,this._Router=s,this.editSectionOpened=!1,this.editPageOpened=!1,this.saveTemplateOpen=!1,this.emojiPickerOpened=!1,this.saveLoadingStatus=QC.DEFAULT,this.inputsForm=new Wm({array:new $m([])}),this.columnsForm=new Wm({array:new $m([])})}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.constants$=this._ConstantService.constants,this._UserService.getUserObservable().subscribe((function(t){console.log(t),t&&"admin"!==t.role&&(console.error("The Builder is for admins only. Redirecting home."),e._Router.navigate([""]))})),this._ActivatedRoute.queryParamMap.subscribe((function(t){var n=t.get("open");n?e.openTemplate(n).then((function(){e.originalTemplateName=e._template.templateID,console.log(e._template)})).catch((function(){})):(e._template={id:null,templateID:"",pageStatuses:[],pageCount:0,completionStatus:"incomplete",pages:[]},e.templateChanged())})),this.tempPropsGroup=new Wm({templateTitle:new qm("")}),this.tempPropsGroup.valueChanges.subscribe((function(){e.setTemplateTitle(e.tempPropsGroup.get("templateTitle").value)}))}},{key:"openTemplate",value:function(e){var t=this;return new Promise((function(n,r){console.log("[Builder] Opening "+e+"...");var i=t._AngularFirestore.doc("/templates/"+e);i.get().pipe(Hf()).subscribe((function(o){o.exists?function(){for(var e=o.data(),s=[],a=[],u=function(e){s.push(new Promise((function(t,n){i.collection("pages").doc(e.toString()).valueChanges().pipe(Hf()).subscribe((function(e){a.push(e),t()}),n)})))},c=0;c<e.pageCount;c++)u(c);Promise.all(s).then((function(){t._template={id:null,templateID:e.templateID,pageStatuses:e.pageStatuses,pageCount:e.pageCount,completionStatus:e.completionStatus,pages:a},t.templateChanged(),n()}),(function(){r()}))}():(console.warn("Template "+e+" does not exist. Setting to empty template instead."),t._TS.newTemplate(),r())}),r)}))}},{key:"pushTemplateObjectToDB",value:function(e,t){var n=this._AngularFirestore.doc("/templates/"+e.templateID);n.set(e).then((function(){var e=n.collection("pages");t.forEach((function(t,n){console.log(t),e.doc(n.toString()).set(t)}))})).catch((function(e){console.log(e)})).finally((function(){return console.log("Template "+e.templateID+" pushed")}))}},{key:"setTemplateTitle",value:function(e){this._template&&(this._template.title=e,console.log("[Builder] Template title is now "+e))}},{key:"templateChanged",value:function(){this.updateSidebar()}},{key:"updateSidebar",value:function(){var e=this;this._template&&(this.pageExpansions=[],this.pageHovers=[],this.sectionHovers=[[]],this._template.pages.forEach((function(t,n){e.pageExpansions.push(!1),e.pageHovers.push(!1);var r=[];t.sections.forEach((function(){r.push(!1)})),e.sectionHovers.push(r)})),console.log(this.sectionHovers))}},{key:"addPage",value:function(){this._template.pages.push({title:"Untitled page",index:this._template.pages.length,sections:[]}),this._template.pageStatuses||(this._template.pageStatuses=[]),this._template.pageStatuses.push("incomplete"),this._template.pageCount++,console.log(this._template.pages.length)}},{key:"setCurrentPage",value:function(e){this.currentPage=this._template.pages[e]}},{key:"isDatagrid",value:function(e){return!(!e||"datagrid"!==e.type)}},{key:"isSimpleInput",value:function(e){return!(!e||"simple-input"!==e.type)}},{key:"hasInputs",value:function(e){return!(!e||"simple-input"!==e.type||!e.inputs||e.inputs.length<1)}},{key:"getDatagrids",value:function(e){var t=[];return this._template&&this._template.pages&&this._template.pages[e].sections.forEach((function(e){"datagrid"===e.type&&t.push(e)})),t}},{key:"addDatagrid",value:function(e){this._template&&this._template.pages&&(this._template.pages[e].sections.push({title:"Untitled",columns:[],value:[],type:"datagrid",index:this._template.pages[e].sections.length}),console.log("Datagrid added. Sections now: "+this._template.pages[e].sections))}},{key:"getMagicText",value:function(){return this._template?JSON.stringify(this._template,null,4):"No template open"}},{key:"getSectionsByType",value:function(e,t){var n=[];return this._template.pages[e].sections.forEach((function(e){e.type===t&&n.push(e)})),n}},{key:"addMetaSection",value:function(e){if(this._template&&this._template.pages){var t={title:"Untitled",inputs:[],value:[],type:"meta",index:this._template.pages[e].sections.length};this._template.pages[e].sections.push(t),this.metaSection=t,console.log("Meta added. Sections now: "+this._template.pages[e].sections)}}},{key:"getSimpleInputs",value:function(e){var t=[];return this._template&&this._template.pages&&this._template.pages[e].sections.forEach((function(e){"simple-input"===e.type&&t.push(e)})),t}},{key:"addSimpleInput",value:function(e){this._template&&this._template.pages&&(this._template.pages[e].sections.push({title:"Untitled",inputs:[],value:[],type:"simple-input",index:this._template.pages[e].sections.length}),console.log("SimpleInput added. Sections now: "+this._template.pages[e].sections))}},{key:"sectionTypeChanged",value:function(e){"simple-input"===e.type?e.inputs||(e.inputs=[]):"datagrid"===e.type?e.columns||(e.columns=[]):console.error("New section type unrecognized: "+e.type)}},{key:"setSection",value:function(e,t){}},{key:"cancelEditSection",value:function(){this.editSectionOpened=!1}},{key:"openSaveTemplate",value:function(){this.saveTemplateOpen=!0}},{key:"cancelSaveTemplate",value:function(){this.saveTemplateOpen=!1}},{key:"openEditSection",value:function(e){this.sectionInEdit=JSON.parse(JSON.stringify(e)),this.originalSectionIndex=this.sectionInEdit.index,this.editSectionOpened=!0}},{key:"openEditPage",value:function(e){this.editPageOpened=!0,console.log("Opening page")}},{key:"closeEditPage",value:function(){this.editPageOpened=!1}},{key:"movePageUp",value:function(){var e=this.currentPage.index;this.movePage(e,e-1),this.resetPageIndices()}},{key:"movePageDown",value:function(){var e=this.currentPage.index;this.movePage(e,e+1),this.resetPageIndices()}},{key:"movePage",value:function(e,t){if(console.log("Moving to "+t),t>=0&&t<this._template.pages.length){var n=this._template.pages;n.splice(t,0,n.splice(e,1)[0])}else console.error("Can't move page. Out of bounds.")}},{key:"moveInArray",value:function(e,t,n){console.log("Moving to "+t),t>=0&&t<n.length?n.splice(t,0,n.splice(e,1)[0]):console.error("Can't move page. Out of bounds.")}},{key:"deleteInArray",value:function(e,t){e>=0&&e<t.length?t.splice(e,1):console.error("Can't delete element. Out of bounds.")}},{key:"linkChanged",value:function(e,t){console.log("Link changed"),"title"===e.link?e.type="text":"coverageDate"===e.link?e.type="month-select":"additionalInfo"===e.link?e.type="textarea":"subject"===e.link?e.type="text":"tags"===e.link&&(e.type="tag-select",e.tags||(e.tags=[])),this.refreshValueFromFields()}},{key:"resetPageIndices",value:function(){this._template.pages.forEach((function(e,t){e.index=t}))}},{key:"resetSectionIndices",value:function(){this.currentPage.sections.forEach((function(e,t){e.index=t}))}},{key:"finishEditSection",value:function(){console.log(this.sectionInEdit),this.moveSection(this.originalSectionIndex,this.sectionInEdit.index),this._template.pages[this.currentPage.index].sections[this.sectionInEdit.index]=this.sectionInEdit,this.currentPage.sections.forEach((function(e,t){e.index=t})),this.editSectionOpened=!1}},{key:"finishEditPage",value:function(){this.editPageOpened=!1}},{key:"isDatatype",value:function(e,t){return!(!this.sectionInEdit.columns||this.sectionInEdit.columns[e].type!==t)||!(!this.sectionInEdit.inputs||this.sectionInEdit.inputs[e].type!==t)}},{key:"isEqual",value:function(e,t){return e===t}},{key:"isSectionType",value:function(e,t){return!!e&&e.type===t}},{key:"isPlainDt",value:function(e){var t=this.sectionInEdit.columns[e].type;return"tag-select"!==t&&"date-select"!==t&&"month-select"!==t}},{key:"toggleTag",value:function(e,t,n,r){var i=this.sectionInEdit.value[e].row[t].tags;!0===n?i.push(r):i.forEach((function(e,t){r.label===e.label&&i.splice(t,1)})),console.log(this.sectionInEdit)}},{key:"renderDgCell",value:function(e,t){var n=this.sectionInEdit.value[e].row[t];if("tag-select"===this.sectionInEdit.columns[t].type){var r="";return n.tags.forEach((function(e){r=r+" "+e.icon})),r}return n}},{key:"moveSection",value:function(e,t){if(console.log("Moving to "+t),t>=0&&t<this.currentPage.sections.length){var n=this.currentPage.sections;n.splice(t,0,n.splice(e,1)[0])}else console.error("Can't move section. Out of bounds.")}},{key:"addColumn",value:function(e){e.stopPropagation(),this.sectionInEdit.columns?(this.sectionInEdit.columns.push({label:"New column",type:"text",tags:[]}),this.sectionInEdit.value.forEach((function(e){e.row.push("")}))):this.sectionInEdit.columns=[{label:"New column",type:"text"}]}},{key:"clearPrefill",value:function(){this.sectionInEdit.value&&(this.sectionInEdit.value=[])}},{key:"deleteColumn",value:function(e){this.clearPrefill(),console.log(this.sectionInEdit.columns),this.sectionInEdit.columns.splice(e,1),console.log(this.sectionInEdit.columns)}},{key:"deleteInput",value:function(e){this.clearPrefill(),this.sectionInEdit.inputs.splice(e,1)}},{key:"deleteSection",value:function(e){confirm('Are you sure you want to delete "'+e.title+'"?')&&(this.currentPage.sections.splice(e.index,1),this.resetSectionIndices(),console.log("Section @ "+e.index+" deleted."),this.cancelEditSection())}},{key:"deletePage",value:function(e){confirm("Delete page "+(e+1)+" ("+this._template.pages[e].title+")?")&&(this.currentPage.index===e&&(this.currentPage=null),this._template.pages.splice(e,1),this._template.pageCount--,this.closeEditPage())}},{key:"addInput",value:function(e){e.stopPropagation();var t=this.sectionInEdit.inputs;t||(t=[]),t.push("meta"===this.sectionInEdit.type?{label:"Untitled",type:"month-select",link:"coverageDate",tags:[]}:{label:"Untitled",type:"text",link:null,tags:[]}),this.refreshValueFromFields()}},{key:"hoverEnterPageSB",value:function(e){this.pageHovers[e]=!0}},{key:"hoverLeavePageSB",value:function(e){this.pageHovers[e]=!1}},{key:"hasTagSelect",value:function(e){var t=!1;return e.inputs?e.inputs.forEach((function(e){"tag-select"===e.type&&(t=!0)})):e.columns&&e.columns.forEach((function(e){"tag-select"===e.type&&(t=!0)})),t}},{key:"hasTag",value:function(e,t,n){var r=[];return this.sectionInEdit.value[e].row[t].tags.forEach((function(e){r.push(e.icon)})),r.includes(n.icon)}},{key:"hasPrefill",value:function(e){return!!(e.value&&e.value.length>0)}},{key:"addTag",value:function(e,t){t.stopPropagation(),console.log(e),e.tags||(e.tags=[]),e.tags.push({icon:"\u2753",label:"Untitled"}),console.log(e),this.refreshValueFromFields()}},{key:"refreshValueFromFields",value:function(){var e=[];this.sectionInEdit.inputs?(this.sectionInEdit.inputs.forEach((function(t){e.push("tag-select"===t.type?{tags:[]}:null)})),this.sectionInEdit.value=e,console.log("Value refreshed: "),console.log(this.sectionInEdit.value)):this.sectionInEdit.columns?(this.sectionInEdit.columns.forEach((function(t){e.push("tag-select"===t.type?{tags:[]}:null)})),this.sectionInEdit.value=[{row:e}],console.log("Value refreshed: "),console.log(this.sectionInEdit.value)):console.error("Could not refresh value from fields: no columns or inputs were found.")}},{key:"typeChanged",value:function(e,t){this.refreshValueFromFields(),console.log(this.sectionInEdit)}},{key:"deleteTag",value:function(e,t){console.log(e.tags.splice(t,1))}},{key:"editTagEmoji",value:function(e,t,n){console.log(t,n.detail),e.tags[t].icon=n.detail.unicode,console.log(this.sectionInEdit)}},{key:"saveTemplate",value:function(){var e=this;this.saveLoadingStatus=QC.LOADING,this._TS.saveTemplate(this._template).then((function(){e.saveLoadingStatus=QC.SUCCESS,setTimeout((function(){e.saveTemplateOpen=!1}),500),e._TS.openTemplate(e._template.templateID)})).catch((function(t){console.error("Save failed: "+t),alert("Save failed: "+t),e.saveLoadingStatus=QC.ERROR}))}},{key:"hasMetaSection",get:function(){var e=this,t=!1;return this._template.pages.forEach((function(n){n.sections.forEach((function(n){"meta"===n.type&&(e.metaSection=n,t=!0)}))})),t}},{key:"templateValid",get:function(){return this._template?!this._template.templateID||this._template.templateID.length<1?(this.validMessage="Template title is missing.",!1):(this.validMessage="Ready to save.",!0):(this.validMessage="Template is missing.",!1)}},{key:"pagesEmpty",get:function(){return!this._template||!this._template.pages||this._template.pages.length<1}},{key:"tag",get:function(){return"Hello"}}]),e}()).\u0275fac=function(e){return new(e||qM)(Zo(wp),Zo(Of),Zo(Df),Zo(kg),Zo(mg),Zo(Dv))},qM.\u0275cmp=dt({type:qM,selectors:[["app-builder"]],decls:14,vars:7,consts:[[1,"clr-row","clr-justify-content-between",2,"width","100vw","overflow","hidden"],[1,"clr-col-3","builder-sidebar",2,"box-shadow","0px 10px 18px #c7c6c6","margin-left","10px","overflow-y","auto"],[1,"clr-row",2,"margin","1rem 0 1rem 0"],[2,"margin-top","3rem"],["class","templateTitle","clrInput","","placeholder","Untitled template","name","name",3,"ngModel","ngModelChange",4,"ngIf"],["class","clr-row",4,"ngIf"],["class","clr-col preview-area",4,"ngIf"],[1,"btn","btn-primary","builder-save-button",3,"disabled","title","click"],["shape","floppy"],[3,"clrModalOpen","clrModalSize","clrModalOpenChange",4,"ngIf"],["clrInput","","placeholder","Untitled template","name","name",1,"templateTitle",3,"ngModel","ngModelChange"],[1,"clr-row"],["shape","help-info"],[4,"ngIf"],[3,"clrExpanded","clrExpandedChange","click",4,"ngFor","ngForOf"],[2,"margin","0"],["clrTooltipTrigger","","shape","help-info","size","16","aria-label","Uniq tooltip 3"],["clrPosition","bottom-right","clrSize","md",4,"clrIfOpen"],["title","Add page",1,"btn","btn-sm","btn-link","btn-icon",3,"click"],["shape","plus"],["clrPosition","bottom-right","clrSize","md"],[3,"clrExpanded","clrExpandedChange","click"],[1,"tree-text","clr-row",3,"dblclick"],["shape","file"],[1,"p4",2,"margin","0"],["class","btn btn-sm btn-link","title","Add Meta Section",3,"click",4,"ngIf"],["style","width: 100%;",3,"dblclick",4,"ngFor","ngForOf"],["title","Add Datagrid",1,"btn","btn-sm","btn-link","btn-icon",3,"click"],["title","Add Meta Section",1,"btn","btn-sm","btn-link",3,"click"],[2,"width","100%",3,"dblclick"],[1,"tree-text"],["shape","flag","title","Meta section",1,"is-solid","is-error"],["shape","table"],["shape","form"],[1,"clr-col","preview-area"],[1,"clr-col-1","clr-align-self-center",2,"padding","0"],[1,"clr-row","clr-justify-content-end","clr-align-items-end"],[1,"btn","btn-link","btn-icon",2,"margin-right","1rem",3,"click"],["shape","pencil",2,"color","black"],[1,"clr-col-11",2,"padding","0"],["class","clr-row",4,"ngFor","ngForOf"],[3,"clrModalOpen","clrModalSize","clrModalOpenChange"],[1,"modal-title"],[1,"modal-body",2,"overflow","auto"],["clrTabLink","","id","link1"],["id","content1",4,"clrIfActive"],["clrTabLink",""],[4,"clrIfActive"],[1,"modal-footer"],["type","button",1,"btn",3,"click"],[1,"btn","btn-warning-outline",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[3,"clrModalOpen","clrModalOpenChange"],[1,"clr-col-12"],["clrInput","",3,"ngModel","ngModelChange"],[1,"clr-row",2,"padding-top","1rem"],[1,"clr-control-label"],["title","Move up",1,"btn","btn-link","btn-sm",2,"margin","0",3,"disabled","click"],["shape","angle","dir","up"],["title","Move down",1,"btn","btn-link","btn-sm",2,"margin","0",3,"disabled","click"],["shape","angle","dir","down"],["type","button",1,"btn","btn-danger",3,"click"],[1,"clr-row","clr-justify-content-end"],["class","grayout",3,"interface","sectionChanged",4,"ngIf","ngIfElse"],["simpleInput",""],[1,"grayout",3,"interface","sectionChanged"],["id","content1"],["type","text",1,"clr-input",3,"ngModel","ngModelChange"],["clrTooltipTrigger","","shape","help-info","size","16"],["clrPosition","right","clrSize","lg",4,"clrIfOpen"],[1,"clr-select",3,"ngModel","ngModelChange"],["value","datagrid"],["value","simple-input"],["value","meta"],["clrPosition","right","clrSize","lg"],["title","Add column",1,"btn","btn-sm","btn-link","btn-icon",2,"margin","0",3,"click"],[4,"ngFor","ngForOf"],["clrTooltipTrigger","","shape","warning-standard","size","16",1,"is-warning","is-solid"],["clrPosition","top-right","clrSize","md",4,"clrIfOpen"],["clrPosition","top-right","clrSize","md"],[1,"btn","btn-sm","btn-link","btn-icon",3,"click"],["shape","trash"],["type","text","placeholder","Label",1,"clr-input",3,"ngModel","ngModelChange"],["value","division-select"],["value","text"],["value","number"],["value","date-select"],["value","tag-select"],["class","clr-col",4,"ngIf"],[1,"clr-col"],[1,"btn","btn-link","btn-sm",3,"click"],[1,"btn","btn-link","btn-sm","btn-icon",2,"margin","0",3,"click"],["shape","trash",1,"is-danger"],["class","tagAccordion",4,"clrIfExpanded"],[1,"tagAccordion"],[3,"emoji-click"],["title","Add input",1,"btn","btn-sm","btn-link","btn-icon",2,"margin","0",3,"click"],["clrDropdownTrigger",""],["shape","ellipsis-vertical","size","16"],[4,"clrIfOpen"],["clrDropdownItem","",3,"click"],["clrDropdownItem","",3,"click",4,"ngIf"],["clrSelect","",3,"ngModel","ngModelChange"],["value","month-select"],["value","textarea"],["value","coverageDate"],["value","additionalInfo"],["value","title"],["value","subject"],["value","tags"],[3,"interface",4,"ngIf"],[3,"interface"],[1,"modal-body",2,"overflow-y","auto"],[2,"overflow-y","auto","overflow-x","hidden","height","75%"],[2,"max-height","400px","overflow-y","auto"],["type","button",1,"btn","btn-success",3,"clrLoading","click"]],template:function(e,t){1&e&&(ns(0,"div",0),ns(1,"div",1),ns(2,"div",2),ns(3,"clr-input-container",3),Ko(4,eM,1,1,"input",4),ns(5,"clr-control-helper"),zs(6,"Template title"),rs(),rs(),rs(),Ko(7,tM,4,0,"span",5),Ko(8,cM,4,2,"div",5),rs(),Ko(9,zM,54,11,"div",6),ns(10,"button",7),hs("click",(function(){return t.openSaveTemplate()})),is(11,"clr-icon",8),zs(12," Save template "),rs(),Ko(13,HM,24,7,"clr-modal",9),rs()),2&e&&(Ur(4),es("ngIf",t._template),Ur(3),es("ngIf",t.pagesEmpty),Ur(1),es("ngIf",t._template),Ur(1),es("ngIf",t.currentPage),Ur(1),es("disabled",!t.templateValid)("title",t.validMessage),Ur(3),es("ngIf",t.saveTemplateOpen))},directives:[kx,zh,iE,yC,Sy,wx,Py,i_,iD,Uh,rD,kP,EP,IE,SP,gP,yP,lP,$R,oP,iP,QR,EE,aE,ML,JL,JR,FO,NO,LO,lm,hm,ym,jP,BP,MP,zP,VP,mO,xE,UP,IR,PR,RR,xR,Rx,Px,qS,KC],styles:[".templateTitle[_ngcontent-%COMP%]{font-size:1rem!important;width:100%!important}.builder-sidebar[_ngcontent-%COMP%], .preview-area[_ngcontent-%COMP%]{height:calc(100vh - 61px)}.preview-area[_ngcontent-%COMP%]{overflow-y:auto}.builder-save-button[_ngcontent-%COMP%]{position:absolute;right:1vw;bottom:1vh}.tree-text[_ngcontent-%COMP%]{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}emoji-picker[_ngcontent-%COMP%]{width:100%;max-height:15rem;--emoji-size:1.2rem;--emoji-padding:0.3rem;--input-font-size:0.67rem;--input-line-height:1rem;--num-columns:8}.tagAccordion[_ngcontent-%COMP%]{height:20rem}.clr-form-control[_ngcontent-%COMP%]{margin:0!important}"]}),qM);function $M(e,t){if(1&e&&(ns(0,"option",10),zs(1),rs()),2&e){var n=t.$implicit;es("value",n),Ur(1),Gs(n)}}var QM,KM=((QM=function(){function e(t,n,r){_classCallCheck(this,e),this._ConstantService=t,this._UserService=n,this._Router=r,this.saveBtnState=QC.DEFAULT}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.formGroup=new Wm({branchSelect:new qm("")}),this.constants=this._ConstantService.constants,this._UserService.getUserObservable().subscribe((function(t){t&&e.formGroup.get("branchSelect").setValue(t.branch)}))}},{key:"saveChanges",value:function(){var e=this;this.saveBtnState=QC.LOADING,this._UserService.setBranch(this.formGroup.get("branchSelect").value).then((function(){e.saveBtnState=QC.SUCCESS,console.log("[Preferences Component] Changes saved. Redirecting to home."),e._Router.navigate([""])})).catch((function(){e.saveBtnState=QC.ERROR}))}}]),e}()).\u0275fac=function(e){return new(e||QM)(Zo(Df),Zo(mg),Zo(Dv))},QM.\u0275cmp=dt({type:QM,selectors:[["app-preferences"]],decls:20,vars:5,consts:[[1,"clr-row","clr-justify-content-center",2,"width","100vw","margin-left","1rem"],[1,"clr-col","clr-col-md-6","clr-col-xl-6"],[1,"clr-row","clr-justify-content-between","clr-align-items-end"],[1,"clr-row"],["clrForm","",3,"formGroup"],[1,"clr-sr-only"],["clrSelect","","name","type","formControlName","branchSelect"],[3,"value",4,"ngFor","ngForOf"],[1,"clr-row",2,"margin-top","3rem"],[1,"btn","btn-primary",3,"clrLoading","click"],[3,"value"]],template:function(e,t){if(1&e&&(ns(0,"div",0),ns(1,"div",1),ns(2,"div",2),ns(3,"h1"),zs(4,"User preferences"),rs(),rs(),ns(5,"div",3),ns(6,"form",4),ns(7,"h3"),zs(8,"Change your branch affiliation"),rs(),ns(9,"clr-select-container"),ns(10,"label",5),zs(11,"Which branch do you work for?"),rs(),ns(12,"select",6),Ko(13,$M,2,2,"option",7),cu(14,"async"),rs(),ns(15,"clr-control-helper"),zs(16,"Which branch do you work for?"),rs(),rs(),rs(),rs(),ns(17,"div",8),ns(18,"button",9),hs("click",(function(){return t.saveChanges()})),zs(19," Save changes "),rs(),rs(),rs(),rs()),2&e){var n,r=null==(n=lu(14,3,t.constants))?null:n.branches;Ur(6),es("formGroup",t.formGroup),Ur(7),es("ngForOf",r),Ur(5),es("clrLoading",t.saveBtnState)}},directives:[o_,Ny,cE,l_,Rx,aE,lm,Px,Py,C_,Uh,iE,qS,KC,hm,ym],pipes:[sf],styles:[""]}),QM);function YM(e,t){if(1&e){var n=us();ns(0,"clr-alert",27),ns(1,"clr-alert-item"),ns(2,"span",28),zs(3," This report has been marked complete. You can still edit it, but consider creating a duplicate instead. "),rs(),ns(4,"div",29),ns(5,"clr-dropdown"),ns(6,"button",30),zs(7," Actions "),is(8,"clr-icon",31),rs(),ns(9,"clr-dropdown-menu",32),ns(10,"a",33),hs("click",(function(){return Yt(n),gs().duplicateCurrentReport()})),zs(11,"Duplicate this report"),rs(),rs(),rs(),rs(),rs(),rs()}2&e&&es("clrAlertClosable",!1)("clrAlertType","warning")("clrAlertIcon","warning-standard")}function ZM(e,t){if(1&e){var n=us();ns(0,"datagrid-section",36),hs("sectionChanged",(function(e){Yt(n);var t=gs().$implicit;return gs().setSection(t,e)})),rs()}2&e&&es("interface",gs().$implicit)}function XM(e,t){if(1&e){var n=us();ns(0,"simple-input",36),hs("sectionChanged",(function(e){Yt(n);var t=gs().$implicit;return gs().setSection(t,e)})),rs()}2&e&&es("interface",gs().$implicit)}function JM(e,t){if(1&e&&(ns(0,"div"),Ko(1,ZM,1,1,"datagrid-section",34),Ko(2,XM,1,1,"ng-template",null,35,Lu),rs()),2&e){var n=t.$implicit,r=Yo(3),i=gs();Ur(1),es("ngIf",i.isDatagrid(n))("ngIfElse",r)}}function eV(e,t){1&e&&(ns(0,"clr-alert",37),ns(1,"clr-alert-item"),ns(2,"span",28),zs(3," Heads up: not all pages have been marked as complete. "),rs(),rs(),rs()),2&e&&es("clrAlertType","warning")("clrAlertClosable",!1)}function tV(e,t){1&e&&(ns(0,"div",38),ns(1,"div",39),ns(2,"div",40),ns(3,"div",41),is(4,"clr-icon",42),rs(),ns(5,"span",28),zs(6,"Page saved"),rs(),rs(),rs(),rs())}function nV(e,t){if(1&e){var n=us();ns(0,"button",43),hs("click",(function(){return Yt(n),gs().savePage()})),is(1,"clr-icon",44),zs(2),rs()}if(2&e){var r=gs();Os("btn-primary",r.saveStale)("btn-link",!r.saveStale),es("clrLoading",r.saveButtonState),Ur(1),Os("has-alert",r.saveStale),Ur(1),Hs(" ",r.saveTimeElapsed," ")}}function rV(e,t){1&e&&is(0,"clr-icon",50)}function iV(e,t){1&e&&zs(0),2&e&&Hs(" ",gs().index," ")}function oV(e,t){1&e&&is(0,"clr-icon",51)}function sV(e,t){if(1&e){var n=us();ns(0,"clr-button",46),hs("click",(function(){Yt(n);var e=t.index;return gs(2).goToPage(e)})),Ko(1,rV,1,0,"clr-icon",47),Ko(2,iV,1,1,"ng-template",null,48,Lu),Ko(4,oV,1,0,"clr-icon",49),rs()}if(2&e){var r=t.index,i=Yo(3),o=gs(2);Ds(o.getPageButtonClass(r)),Ur(1),es("ngIf",r<1)("ngIfElse",i),Ur(3),es("ngIf",o.pageComplete(r))}}function aV(e,t){if(1&e&&(ns(0,"clr-button-group"),Ko(1,sV,5,5,"clr-button",45),cu(2,"async"),rs()),2&e){var n,r=null==(n=lu(2,1,gs().report$))?null:n.pageStatuses;Ur(1),es("ngForOf",r)}}function uV(e,t){if(1&e){var n=us();ns(0,"button",52),hs("click",(function(){return Yt(n),gs().confirmSubmitReport()})),zs(1," Finish"),is(2,"clr-icon",53),rs()}if(2&e){var r=gs();Os("btn-success",r.reportFullyComplete),es("clrLoading",r.submitButtonState)}}function cV(e,t){1&e&&(ns(0,"label"),zs(1,"Complete"),rs())}function lV(e,t){1&e&&(ns(0,"label"),zs(1,"Incomplete"),rs())}function hV(e,t){if(1&e&&(ns(0,"div",54),ns(1,"clr-toggle-container",null,55),ns(3,"label",56),zs(4,"Mark this page:"),rs(),ns(5,"clr-toggle-wrapper"),is(6,"input",57),Ko(7,cV,2,0,"label",58),Ko(8,lV,2,0,"ng-template",null,59,Lu),rs(),rs(),rs()),2&e){var n=Yo(9),r=gs();Ur(6),es("formControl",r.markCompleteControl),Ur(1),es("ngIf",r.pageComplete(r.currentPageIndex))("ngIfElse",n)}}var fV,dV,pV,vV=((fV=function(){function e(t,n,r,i){_classCallCheck(this,e),this.activeRoute=t,this._Router=n,this._ReportService=r,this._UserService=i,this.datagrids=[],this.simpleInputs=[],this.markCompleteControl=new qm,this.submitButtonState=QC.DEFAULT,this.saveButtonState=QC.DEFAULT,this.saveSuccessful=!1,this.submitConfirmationVisible=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.report$=this._ReportService.getReportObservable(),this.page$=this._ReportService.getPageObservable(),this.activeRoute.paramMap.subscribe((function(t){e.urlPageNumber=+t.get("page-number"),null!=e.urlPageNumber&&e.urlPageNumber!==e.currentPageIndex&&e._ReportService.report&&e._ReportService.openPage(e.urlPageNumber)})),this.markCompleteControl.valueChanges.subscribe((function(t){e._ReportService.setPageStatus(e.currentPageIndex,!0===t?"complete":"incomplete"),e._ReportService.saveReportOnline()})),this.report$.subscribe((function(t){if(!t){var n=e.activeRoute.snapshot.paramMap.get("report-id"),r=e.activeRoute.snapshot.paramMap.get("page-number");e._ReportService.openReport(n,+r)}})),this.page$.subscribe((function(t){t&&(e.datagrids=[],e.simpleInputs=[],t.sections.forEach((function(t){"datagrid"==t.type?e.datagrids.push(t):"simple-input"!==t.type&&"meta"!==t.type||e.simpleInputs.push(t)})),e.markCompleteControl.setValue("complete"===e._ReportService.report.pageStatuses[t.index]))}))}},{key:"getPageButtonClass",value:function(e){return e==this.currentPageIndex?"btn btn-primary":"btn"}},{key:"pageComplete",value:function(e){return!!this._ReportService.report&&"complete"===this._ReportService.report.pageStatuses[e]}},{key:"isDatagrid",value:function(e){return!(!e||"datagrid"!==e.type)}},{key:"ngOnDestroy",value:function(){this._ReportService.closeReport()}},{key:"savePage",value:function(){var e=this;this.saveButtonState=QC.LOADING,this._ReportService.page.sections.forEach((function(t){"meta"===t.type&&e._ReportService.saveReportOnline()})),this._ReportService.savePageOnline().then((function(){e.saveButtonState=QC.DEFAULT,e.saveSuccessful=!0,e.saveTime=Date.now(),setTimeout((function(){return e.saveSuccessful=!1}),2500)})).catch((function(){e.saveButtonState=QC.ERROR}))}},{key:"goToPage",value:function(e){this.editable&&this.savePage(),this._Router.navigate(["report",this._ReportService.report.id,e])}},{key:"confirmSubmitReport",value:function(){this.submitConfirmationVisible=!0}},{key:"cancelSubmitReport",value:function(){this.submitConfirmationVisible=!1}},{key:"submitReport",value:function(){var e=this;console.log("[R Comp] Submitting report..."),this.submitButtonState=QC.LOADING,this._ReportService.submitReport().then((function(){e.submitButtonState=QC.SUCCESS,e._Router.navigate([""])}))}},{key:"setSection",value:function(e,t){this._ReportService.setSectionValue(this.currentPageIndex,e.order,t),e.meta&&this._ReportService.saveReportOnline()}},{key:"duplicateCurrentReport",value:function(){var e=this,t=this._ReportService.report;console.log(t.id),this._ReportService.duplicateReport(t.id).then((function(t){alert("Report successfully duplicated. Moving to new report..."),e._ReportService.openReport(t).then((function(){e._Router.navigate(["report",t,0])})).catch((function(e){console.error("Error opening new report with ID "+t+": "+e)}))}),(function(){console.error("Error duplicating report "+t.id)}))}},{key:"reportFullyComplete",get:function(){var e=!0;return this._ReportService.report&&this._ReportService.report.pageStatuses.forEach((function(t){"complete"!==t&&(e=!1)})),e}},{key:"currentPageIndex",get:function(){return this._ReportService.page?this._ReportService.page.index:null}},{key:"currentSections",get:function(){return this._ReportService.page.sections}},{key:"saveTimeElapsed",get:function(){return this.saveTime?((Date.now()-this.saveTime)/6e4).toFixed()+" min since save":null}},{key:"saveStale",get:function(){return!this.saveTime||(Date.now()-this.saveTime)/6e4>10}},{key:"editable",get:function(){return!this._ReportService.report||"admin"===this._UserService.getUserSnapshot().role||"complete"!==this._ReportService.report.completionStatus}},{key:"adminSubmitted",get:function(){return!(!this._UserService.getUserSnapshot()||"admin"!==this._UserService.getUserSnapshot().role||!this._ReportService.report||"complete"!==this._ReportService.report.completionStatus)}},{key:"submitted",get:function(){return!(!this._ReportService.report||"complete"!==this._ReportService.report.completionStatus)}}]),e}()).\u0275fac=function(e){return new(e||fV)(Zo(wp),Zo(Dv),Zo(_g),Zo(mg))},fV.\u0275cmp=dt({type:fV,selectors:[["app-report"]],decls:42,vars:21,consts:[[1,"topDiv","clr-col"],[1,"clr-row","clr-justify-content-center"],[1,"clr-col","clr-col-lg-10","clr-col-xl-8","sectionCol"],[3,"clrAlertClosable","clrAlertType","clrAlertIcon",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"clr-col-md-6","clr-offset-md-3","clr-align-self-end"],["shape","help-info"],[2,"height","48px"],[3,"clrModalOpen","clrModalOpenChange"],[1,"modal-title"],[1,"modal-body"],[3,"clrAlertType","clrAlertClosable",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn","btn-primary",3,"clrLoading","click"],["class","alert alert-success","role","alert","style","\n      position: fixed;\n      bottom: 54px;\n      left: 6px;\n      width: 10rem;\n      z-index: 1000;\n    ",4,"ngIf"],[1,"stickybar","clr-row"],[1,"clr-col-8","clr-col-md-10"],[1,"clr-row","clr-justify-content-center","clr-align-items-center"],["type","button","class","btn","aria-label","save page","title","Save current page",3,"btn-primary","btn-link","clrLoading","click",4,"ngIf"],["type","button","aria-label","previous page",1,"btn","btn-icon","btn-link",3,"disabled","click"],["shape","angle","dir","left"],[4,"ngIf"],["type","button","aria-label","next page",1,"btn","btn-icon","btn-link",3,"disabled","click"],["shape","angle","dir","right"],["type","button","class","btn","aria-label","next page",3,"btn-success","clrLoading","click",4,"ngIf"],["class","clr-col-4 clr-col-md-2",4,"ngIf"],[3,"clrAlertClosable","clrAlertType","clrAlertIcon"],[1,"alert-text"],[1,"alert-actions"],["clrDropdownTrigger","",1,"dropdown-toggle"],["shape","caret down"],["clrPosition","bottom-right"],["clrDropdownItem","",1,"dropdown-item",3,"click"],[3,"interface","sectionChanged",4,"ngIf","ngIfElse"],["simpleInput",""],[3,"interface","sectionChanged"],[3,"clrAlertType","clrAlertClosable"],["role","alert",1,"alert","alert-success",2,"position","fixed","bottom","54px","left","6px","width","10rem","z-index","1000"],[1,"alert-items"],[1,"alert-item","static"],[1,"alert-icon-wrapper"],["shape","check-circle",1,"alert-icon"],["type","button","aria-label","save page","title","Save current page",1,"btn",3,"clrLoading","click"],["shape","floppy"],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"],["shape","home",4,"ngIf","ngIfElse"],["showPageNumber",""],["shape","check","title","Marked complete",4,"ngIf"],["shape","home"],["shape","check","title","Marked complete"],["type","button","aria-label","next page",1,"btn",3,"clrLoading","click"],["shape","step-forward-2"],[1,"clr-col-4","clr-col-md-2"],["markCompleteToggle",""],[1,"p6",2,"margin-top","0.3rem"],["type","checkbox","clrToggle","","value","option1","name","options",3,"formControl"],[4,"ngIf","ngIfElse"],["incompleteLabel",""]],template:function(e,t){if(1&e&&(ns(0,"div",0),ns(1,"div",1),ns(2,"div",2),Ko(3,YM,12,3,"clr-alert",3),ns(4,"h1"),zs(5),cu(6,"async"),rs(),is(7,"hr"),Ko(8,JM,4,2,"div",4),ns(9,"div",5),is(10,"clr-icon",6),ns(11,"em"),zs(12,"Try the buttons below to continue the report."),rs(),rs(),is(13,"div",7),rs(),rs(),ns(14,"clr-modal",8),hs("clrModalOpenChange",(function(e){return t.submitConfirmationVisible=e})),ns(15,"h3",9),zs(16,"All finished?"),rs(),ns(17,"div",10),Ko(18,eV,4,2,"clr-alert",11),is(19,"hr"),ns(20,"b"),zs(21,"Marking a report as complete"),rs(),zs(22," indicates that all data inside should be considered final. You can still edit the report after it's been marked complete. "),rs(),ns(23,"div",12),ns(24,"button",13),hs("click",(function(){return t.cancelSubmitReport()})),zs(25," Cancel "),rs(),ns(26,"button",14),hs("click",(function(){return t.submitReport()})),zs(27," Mark as complete "),rs(),rs(),rs(),Ko(28,tV,7,0,"div",15),ns(29,"div",16),ns(30,"div",17),ns(31,"div",18),Ko(32,nV,3,8,"button",19),ns(33,"button",20),hs("click",(function(){return t.goToPage(t.currentPageIndex-1)})),is(34,"clr-icon",21),rs(),Ko(35,aV,3,3,"clr-button-group",22),cu(36,"async"),ns(37,"button",23),hs("click",(function(){return t.goToPage(t.currentPageIndex+1)})),cu(38,"async"),is(39,"clr-icon",24),rs(),Ko(40,uV,3,3,"button",25),rs(),rs(),Ko(41,hV,10,3,"div",26),rs(),rs()),2&e){var n,r,i,o=null==(r=lu(36,17,t.report$))?null:r.id,s=t.currentPageIndex>(null==(i=lu(38,19,t.report$))?null:i.pageCount)-2;Ur(1),Os("block-clicks",!t.editable),Ur(2),es("ngIf",t.submitted),Ur(2),Hs(" ",null==(n=lu(6,15,t.page$))?null:n.title," "),Ur(3),es("ngForOf",t.currentSections),Ur(6),es("clrModalOpen",t.submitConfirmationVisible),Ur(4),es("ngIf",!t.reportFullyComplete),Ur(8),es("clrLoading",t.submitButtonState),Ur(2),es("ngIf",t.saveSuccessful),Ur(4),es("ngIf",t.editable),Ur(1),es("disabled",t.currentPageIndex<1),Ur(2),es("ngIf",o),Ur(2),es("disabled",s),Ur(3),es("ngIf",t.editable),Ur(1),es("ngIf",t.editable)}},directives:[zh,Uh,yC,gP,yP,qS,KC,jR,UR,VR,IR,PR,RR,xR,ML,JL,GS,ZC,_E,aE,yE,ky,mE,Py,u_],pipes:[sf],styles:[".topDiv[_ngcontent-%COMP%]{width:100vw!important;height:100%;margin:0!important;padding:0!important}.startSection[_ngcontent-%COMP%]{height:calc(100% - 48px)}.sectionCol[_ngcontent-%COMP%]{width:100%!important;padding:0 48px!important}.stickybar[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;margin:0;z-index:1000;width:100%;height:48px;background-color:#f5f5f5;border-top:1px solid #a89f9f}clr-toggle-container[_ngcontent-%COMP%]{margin:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.save-success[_ngcontent-%COMP%]{position:fixed;bottom:54;left:6}.block-clicks[_ngcontent-%COMP%]{pointer-events:none}"]}),fV),gV=new Ue("WindowToken","undefined"!=typeof window&&window.document?{providedIn:"root",factory:function(){return window}}:void 0),yV=((pV=function(){function e(t,n){_classCallCheck(this,e),this.document=t,this.window=n,this.copySubject=new x,this.copyResponse$=this.copySubject.asObservable(),this.config={}}return _createClass(e,[{key:"configure",value:function(e){this.config=e}},{key:"copy",value:function(e){if(!this.isSupported||!e)return this.pushCopyResponse({isSuccess:!1,content:e});var t=this.copyFromContent(e);return this.pushCopyResponse(t?{content:e,isSuccess:t}:{isSuccess:!1,content:e})}},{key:"isTargetValid",value:function(e){if(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement){if(e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');return!0}throw new Error("Target should be input or textarea")}},{key:"copyFromInputElement",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{this.selectTarget(e);var n=this.copyText();return this.clearSelection(t?e:void 0,this.window),n&&this.isCopySuccessInIE11()}catch(r){return!1}}},{key:"isCopySuccessInIE11",value:function(){var e=this.window.clipboardData;return!(e&&e.getData&&!e.getData("Text"))}},{key:"copyFromContent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.document.body;if(this.tempTextArea&&!t.contains(this.tempTextArea)&&this.destroy(this.tempTextArea.parentElement||void 0),!this.tempTextArea){this.tempTextArea=this.createTempTextArea(this.document,this.window);try{t.appendChild(this.tempTextArea)}catch(r){throw new Error("Container should be a Dom element")}}this.tempTextArea.value=e;var n=this.copyFromInputElement(this.tempTextArea,!1);return this.config.cleanUpAfterCopy&&this.destroy(this.tempTextArea.parentElement||void 0),n}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.document.body;this.tempTextArea&&(e.removeChild(this.tempTextArea),this.tempTextArea=void 0)}},{key:"selectTarget",value:function(e){return e.select(),e.setSelectionRange(0,e.value.length),e.value.length}},{key:"copyText",value:function(){return this.document.execCommand("copy")}},{key:"clearSelection",value:function(e,t){var n;e&&e.focus(),null===(n=t.getSelection())||void 0===n||n.removeAllRanges()}},{key:"createTempTextArea",value:function(e,t){var n,r="rtl"===e.documentElement.getAttribute("dir");return(n=e.createElement("textarea")).style.fontSize="12pt",n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[r?"right":"left"]="-9999px",n.style.top=(t.pageYOffset||e.documentElement.scrollTop)+"px",n.setAttribute("readonly",""),n}},{key:"pushCopyResponse",value:function(e){this.copySubject.next(e)}},{key:"pushCopyReponse",value:function(e){this.pushCopyResponse(e)}},{key:"isSupported",get:function(){return!!this.document.queryCommandSupported&&!!this.document.queryCommandSupported("copy")&&!!this.window}}]),e}()).\u0275fac=function(e){return new(e||pV)(Ke(Nl),Ke(gV,8))},pV.\u0275prov=he({factory:function(){return new pV(Ke(Nl),Ke(gV,8))},token:pV,providedIn:"root"}),pV),mV=((dV=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:dV}),dV.\u0275inj=fe({factory:function(e){return new(e||dV)},imports:[[uf]]}),dV);function _V(e,t){if(1&e){var n=us();ns(0,"div",4),ns(1,"div",5),ns(2,"div",6),ns(3,"div",7),is(4,"clr-icon",8),rs(),ns(5,"span",9),zs(6," In order to continue, please verify your account using the link emailed to you, then refresh this page. If you don't receive a verification email (check your spam), "),ns(7,"a",10),hs("click",(function(){return Yt(n),gs().resendVerification()})),zs(8,"click here to resend one"),rs(),zs(9,". "),rs(),rs(),rs(),rs()}}function bV(e,t){1&e&&(ns(0,"div",11),ns(1,"div",5),ns(2,"div",6),ns(3,"div",7),is(4,"clr-icon",8),rs(),ns(5,"span",9),zs(6," A new email has been sent to you. "),rs(),rs(),rs(),rs())}function kV(e,t){if(1&e&&(ns(0,"h1"),zs(1),cu(2,"async"),rs()),2&e){var n,r=gs(2);Ur(1),Hs("Reports for ",null==(n=lu(2,1,r.user))?null:n.branch,"")}}function wV(e,t){1&e&&(ns(0,"h1"),zs(1,"Reports for all branches"),rs())}function CV(e,t){if(1&e){var n=us();ns(0,"button",48),hs("click",(function(){return Yt(n),gs(2).showTemplateModal()})),is(1,"clr-icon",49),zs(2," Templates "),rs()}}function SV(e,t){if(1&e){var n=us();os(0),ns(1,"button",52),hs("click",(function(){Yt(n);var e=t.$implicit,r=t.index;return gs(3).createReport(e.templateID,r)})),zs(2),rs(),ss()}if(2&e){var r=t.$implicit,i=t.index,o=gs(3);Ur(1),es("clrLoading",o.templateLoadStatuses[i]),Ur(1),Hs(" ",r.templateID," ")}}function EV(e,t){1&e&&(os(0),is(1,"clr-icon",53),zs(2," No templates are available right now."),ss())}function IV(e,t){if(1&e&&(ns(0,"clr-dropdown-menu",50),Ko(1,SV,3,2,"ng-container",51),Ko(2,EV,3,0,"ng-container",14),rs()),2&e){var n=gs(2);Ur(1),es("ngForOf",n._TemplateService.visibleTemplates),Ur(1),es("ngIf",n._TemplateService.visibleTemplates.length<1)}}function TV(e,t){if(1&e){var n=us();ns(0,"button",54),hs("click",(function(){Yt(n);var e=gs(2);return e.copyMagic(e.selectedReports)})),is(1,"clr-icon",55),zs(2),rs()}if(2&e){var r=gs(2);es("clrLoading",r.magicLoading),Ur(2),Hs(" Copy magic for ",r.selectedReports.length," reports ")}}function xV(e,t){if(1&e){var n=us();ns(0,"button",57),hs("click",(function(){Yt(n);var e=gs().$implicit;return gs(2).showDelete(e)})),is(1,"clr-icon",65),zs(2," Delete report "),ns(3,"span",66),zs(4,"Admin"),rs(),rs()}}function AV(e,t){if(1&e){var n=us();ns(0,"button",57),hs("click",(function(){Yt(n);var e=gs().$implicit;return gs(2).showDelete(e)})),is(1,"clr-icon",65),zs(2," Delete draft "),rs()}}function OV(e,t){1&e&&(ns(0,"span"),ns(1,"em"),zs(2,"Unsubmitted"),rs(),rs())}function DV(e,t){1&e&&(ns(0,"span",67),zs(1,"Draft"),rs())}function RV(e,t){if(1&e&&(ns(0,"span",69),zs(1),rs()),2&e){var n=t.$implicit;es("title",n.label),Ur(1),Gs(n.icon)}}function PV(e,t){if(1&e&&(ns(0,"span"),Ko(1,RV,2,2,"span",68),rs()),2&e){var n=gs().$implicit;Ur(1),es("ngForOf",n.tags)}}function NV(e,t){1&e&&(ns(0,"em"),zs(1,"No tags"),rs())}function FV(e,t){if(1&e){var n=us();ns(0,"clr-dg-row",56),ns(1,"clr-dg-action-overflow"),ns(2,"button",57),hs("click",(function(){Yt(n);var e=t.$implicit;return gs(2).navigate(e)})),is(3,"clr-icon",58),zs(4," Open report "),rs(),ns(5,"button",57),hs("click",(function(){Yt(n);var e=t.$implicit;return gs(2).showCopy(e)})),is(6,"clr-icon",59),zs(7," Duplicate to new report "),rs(),Ko(8,xV,5,0,"button",60),Ko(9,AV,3,0,"button",60),ns(10,"button",57),hs("click",(function(){Yt(n);var e=t.$implicit;return gs(2).copyMagic([e])})),is(11,"clr-icon",55),zs(12," Copy magic text "),rs(),rs(),ns(13,"clr-dg-cell",61),hs("click",(function(){Yt(n);var e=t.$implicit;return gs(2).navigate(e)})),zs(14),rs(),ns(15,"clr-dg-cell",61),hs("click",(function(){Yt(n);var e=t.$implicit;return gs(2).navigate(e)})),zs(16),cu(17,"date"),Ko(18,OV,3,0,"span",14),rs(),ns(19,"clr-dg-cell",61),hs("click",(function(){Yt(n);var e=t.$implicit;return gs(2).navigate(e)})),zs(20),Ko(21,DV,2,0,"span",62),rs(),ns(22,"clr-dg-cell",61),hs("click",(function(){Yt(n);var e=t.$implicit;return gs(2).navigate(e)})),Ko(23,PV,2,1,"span",63),Ko(24,NV,2,0,"ng-template",null,64,Lu),rs(),ns(26,"clr-dg-cell",61),hs("click",(function(){Yt(n);var e=t.$implicit;return gs(2).navigate(e)})),zs(27),rs(),ns(28,"clr-dg-cell",61),hs("click",(function(){Yt(n);var e=t.$implicit;return gs(2).navigate(e)})),zs(29),cu(30,"date"),rs(),rs()}if(2&e){var r=t.$implicit,i=Yo(25),o=gs(2);es("clrDgItem",r),Ur(8),es("ngIf",!o.isUnfinished(r)&&o.isAdmin),Ur(1),es("ngIf",o.isUnfinished(r)),Ur(5),Gs(r.id),Ur(2),Gs(hu(17,12,r.submitDate,"shortDate")),Ur(2),es("ngIf",!r.submitDate),Ur(2),Hs("",r.templateID," "),Ur(1),es("ngIf",o.isUnfinished(r)),Ur(2),es("ngIf",r.tags)("ngIfElse",i),Ur(4),Gs(r.author),Ur(2),Gs(hu(30,15,r.coverageDate,"MMMM \u2019yy"))}}function LV(e,t){if(1&e&&(ns(0,"clr-dg-detail"),ns(1,"clr-dg-detail-header"),zs(2,"Report details"),rs(),ns(3,"clr-dg-detail-body"),ns(4,"b"),zs(5,"ID: "),rs(),zs(6),is(7,"br"),ns(8,"b"),zs(9,"Coverage date: "),rs(),zs(10),cu(11,"date"),is(12,"br"),ns(13,"b"),zs(14,"Submitted: "),rs(),zs(15),cu(16,"date"),is(17,"br"),ns(18,"b"),zs(19,"Author: "),rs(),zs(20),is(21,"br"),ns(22,"b"),zs(23,"Branch: "),rs(),zs(24),is(25,"br"),ns(26,"b"),zs(27,"Page count: "),rs(),zs(28),is(29,"br"),ns(30,"b"),zs(31,"Completion: "),rs(),zs(32),is(33,"br"),ns(34,"b"),zs(35,"Additional info: "),rs(),zs(36),is(37,"br"),rs(),rs()),2&e){var n=t.$implicit;Ur(6),Hs(" ",n.id," "),Ur(4),Hs(" ",hu(11,8,n.coverageDate,"MMMM \u2019yy")," "),Ur(5),Hs(" ",hu(16,11,n.submitDate,"longDate")," "),Ur(5),Hs(" ",n.author," "),Ur(4),Hs(" ",n.branch," "),Ur(4),Hs(" ",n.pageCount," "),Ur(4),Hs(" ",n.completionStatus," "),Ur(4),Hs("",n.additionalInfo," ")}}function MV(e,t){1&e&&(ns(0,"span",67),zs(1,"Draft"),rs())}function VV(e,t){if(1&e&&(ns(0,"div",41),ns(1,"p"),ns(2,"strong"),zs(3,"Template: "),rs(),zs(4),Ko(5,MV,2,0,"span",62),rs(),ns(6,"p"),ns(7,"strong"),zs(8,"Coverage date: "),rs(),zs(9),rs(),ns(10,"p"),ns(11,"strong"),zs(12,"Author: "),rs(),zs(13),rs(),rs()),2&e){var n=gs(2);Ur(4),Gs(n.selectedReport.templateID),Ur(1),es("ngIf",n.isUnfinished(n.selectedReport)),Ur(4),Hs("",n.selectedReport.coverageDate," "),Ur(4),Gs(n.selectedReport.author)}}function jV(e,t){if(1&e&&(ns(0,"option",84),zs(1),rs()),2&e){var n=t.$implicit;es("value",n),Ur(1),Gs(n)}}function UV(e,t){if(1&e&&(ns(0,"clr-select-container",81),ns(1,"label"),zs(2,"Template"),rs(),ns(3,"select",82),ns(4,"option",77),zs(5,"All"),rs(),Ko(6,jV,2,2,"option",83),rs(),rs()),2&e){var n=gs(3);Ur(6),es("ngForOf",n._TemplateService.templateNames)}}function BV(e,t){if(1&e&&(ns(0,"option",84),zs(1),rs()),2&e){var n=t.$implicit;es("value",n),Ur(1),Gs(n)}}function zV(e,t){if(1&e&&(ns(0,"clr-select-container",81),ns(1,"label"),zs(2,"Branch"),rs(),ns(3,"select",85),ns(4,"option",77),zs(5,"All"),rs(),Ko(6,BV,2,2,"option",83),rs(),rs()),2&e){var n=gs(3);Ur(6),es("ngForOf",n._constants.branches)}}function GV(e,t){if(1&e&&(ns(0,"option",84),zs(1),rs()),2&e){var n=t.$implicit;es("value",n.label),Ur(1),qs("",n.icon," ",n.label,"")}}function HV(e,t){if(1&e&&(ns(0,"clr-select-container",81),ns(1,"label"),zs(2,"Has tag"),rs(),ns(3,"select",86),ns(4,"option",77),zs(5,"All"),rs(),Ko(6,GV,2,3,"option",83),rs(),rs()),2&e){var n=gs(3);Ur(6),es("ngForOf",n.allTags)}}function qV(e,t){if(1&e){var n=us();ns(0,"clr-modal",32),hs("clrModalOpenChange",(function(e){return Yt(n),gs(2).filterVisible=e})),ns(1,"h3",33),zs(2," Filter reports "),rs(),ns(3,"div",41),ns(4,"p",70),zs(5," Note: all fields are optional. Empty filters are not applied. "),rs(),ns(6,"form",71),ns(7,"clr-input-container"),ns(8,"label"),zs(9,"Report ID"),rs(),is(10,"input",72),rs(),ns(11,"clr-input-container"),ns(12,"label"),zs(13,"Author"),rs(),is(14,"input",73),rs(),ns(15,"clr-date-container"),ns(16,"label"),zs(17,"Coverage date from"),rs(),is(18,"input",74),rs(),ns(19,"clr-date-container"),ns(20,"label"),zs(21,"Coverage date to"),rs(),is(22,"input",75),rs(),ns(23,"clr-select-container"),ns(24,"label"),zs(25,"Completion status"),rs(),ns(26,"select",76),ns(27,"option",77),zs(28,"All"),rs(),ns(29,"option",78),zs(30,"Complete"),rs(),ns(31,"option",79),zs(32,"Incomplete (draft)"),rs(),rs(),rs(),Ko(33,UV,7,1,"clr-select-container",80),Ko(34,zV,7,1,"clr-select-container",80),Ko(35,HV,7,1,"clr-select-container",80),rs(),rs(),ns(36,"div",35),ns(37,"button",36),hs("click",(function(){return Yt(n),gs(2).clearFilters()})),zs(38," Clear filters "),rs(),ns(39,"button",39),hs("click",(function(){return Yt(n),gs(2).finishFilterModal()})),zs(40," Finish "),rs(),rs(),rs()}if(2&e){var r=gs(2);es("clrModalSize","lg")("clrModalOpen",r.filterVisible),Ur(6),es("formGroup",r.filterGroup),Ur(27),es("ngIf",r.filterVisible),Ur(1),es("ngIf",r.isAdmin),Ur(1),es("ngIf",r.isAdmin),Ur(4),es("clrLoading",r.filterLoading)}}function WV(e,t){1&e&&(ns(0,"span",67),zs(1,"Draft"),rs())}function $V(e,t){if(1&e&&(ns(0,"div",41),ns(1,"p"),zs(2,"This will open the new report in the editor."),rs(),ns(3,"p"),ns(4,"strong"),zs(5,"Template: "),rs(),zs(6),is(7,"br"),ns(8,"strong"),zs(9,"ID: "),rs(),zs(10),is(11,"br"),ns(12,"b"),zs(13,"Submitted: "),rs(),zs(14),cu(15,"date"),Ko(16,WV,2,0,"span",62),rs(),rs()),2&e){var n=gs(2);Ur(6),Gs(n.selectedReport.templateID),Ur(4),Gs(n.selectedReport.id),Ur(4),Gs(lu(15,4,n.selectedReport.submitDate)),Ur(2),es("ngIf",n.isUnfinished(n.selectedReport))}}function QV(e,t){if(1&e){var n=us();ns(0,"div",93),hs("click",(function(){Yt(n);var e=gs(2).$implicit;return gs(2)._TemplateService.markHidden(e)})),is(1,"clr-icon",97),zs(2," Hide from users "),rs()}}function KV(e,t){if(1&e){var n=us();ns(0,"div",93),hs("click",(function(){Yt(n);var e=gs(2).$implicit;return gs(2)._TemplateService.markVisible(e)})),is(1,"clr-icon",98),zs(2," Show to users "),rs()}}function YV(e,t){if(1&e){var n=us();ns(0,"clr-dropdown-menu",91),ns(1,"label",92),zs(2,"Template actions"),rs(),ns(3,"div",93),hs("click",(function(){Yt(n);var e=gs().$implicit;return gs(2)._TemplateService.openTemplate(e)})),is(4,"clr-icon",94),zs(5," Edit "),rs(),ns(6,"div",93),hs("click",(function(){Yt(n);var e=gs().$implicit;return gs(2).showDuplicateTemplate(e)})),is(7,"clr-icon",59),zs(8," Duplicate as... "),rs(),Ko(9,QV,3,0,"div",95),Ko(10,KV,3,0,"ng-template",null,96,Lu),ns(12,"div",93),hs("click",(function(){Yt(n);var e=gs().$implicit;return gs(2).deleteTemplate(e)})),is(13,"clr-icon",65),zs(14," Delete "),rs(),rs()}if(2&e){var r=Yo(11),i=gs().$implicit,o=gs(2);Ur(9),es("ngIf",!o.isHidden(i))("ngIfElse",r)}}function ZV(e,t){if(1&e&&(ns(0,"div",87),zs(1),ns(2,"clr-dropdown"),ns(3,"button",88),is(4,"clr-icon",89),rs(),Ko(5,YV,15,2,"clr-dropdown-menu",90),rs(),rs()),2&e){var n=t.$implicit;Ur(1),Hs(" ",n," ")}}function XV(e,t){if(1&e){var n=us();ns(0,"div",12),ns(1,"div",13),Ko(2,kV,3,3,"h1",14),Ko(3,wV,2,0,"h1",14),Ko(4,CV,3,0,"button",15),ns(5,"clr-dropdown",16),ns(6,"button",17),is(7,"clr-icon",18),zs(8," New report "),rs(),Ko(9,IV,3,2,"clr-dropdown-menu",19),rs(),rs(),ns(10,"div",20),ns(11,"clr-datagrid",21),hs("clrDgSelectedChange",(function(e){return Yt(n),gs().selectedReports=e})),ns(12,"clr-dg-placeholder"),zs(13,"No reports found."),rs(),ns(14,"clr-dg-column"),zs(15,"ID"),rs(),ns(16,"clr-dg-column"),zs(17,"Submitted"),rs(),ns(18,"clr-dg-column"),zs(19,"Template"),rs(),ns(20,"clr-dg-column"),zs(21,"Tags"),rs(),ns(22,"clr-dg-column"),zs(23,"Author"),rs(),ns(24,"clr-dg-column"),zs(25,"Coverage date"),rs(),ns(26,"clr-dg-action-bar"),ns(27,"button",22),hs("click",(function(){return Yt(n),gs().showFilterModal()})),is(28,"clr-icon",23),zs(29," Filter reports "),rs(),Ko(30,TV,3,2,"button",24),rs(),Ko(31,FV,31,18,"clr-dg-row",25),Ko(32,LV,38,14,"clr-dg-detail",26),ns(33,"clr-dg-footer"),zs(34,"Show "),ns(35,"select",27),hs("ngModelChange",(function(e){return Yt(n),gs().sizeLimit=e})),ns(36,"option",28),zs(37,"10"),rs(),ns(38,"option",29),zs(39,"30"),rs(),ns(40,"option",30),zs(41,"100"),rs(),ns(42,"option",31),zs(43,"all"),rs(),rs(),zs(44),rs(),rs(),ns(45,"clr-modal",32),hs("clrModalOpenChange",(function(e){return Yt(n),gs().deleteVisible=e})),ns(46,"h3",33),zs(47," Are you sure you want to delete this report? "),rs(),Ko(48,VV,14,4,"div",34),ns(49,"div",35),ns(50,"button",36),hs("click",(function(){return Yt(n),gs().hideDelete()})),zs(51," Cancel "),rs(),ns(52,"button",37),hs("click",(function(){Yt(n);var e=gs();return e.deleteReport(e.selectedReport)})),zs(53," Delete "),rs(),rs(),rs(),Ko(54,qV,41,7,"clr-modal",38),ns(55,"clr-modal",32),hs("clrModalOpenChange",(function(e){return Yt(n),gs().copyVisible=e})),ns(56,"h3",33),zs(57,"Create a deplicate report?"),rs(),Ko(58,$V,17,6,"div",34),ns(59,"div",35),ns(60,"button",36),hs("click",(function(){return Yt(n),gs().hideCopy()})),zs(61," Cancel "),rs(),ns(62,"button",39),hs("click",(function(){Yt(n);var e=gs();return e.duplicateReport(e.selectedReport)})),zs(63," Duplicate "),rs(),rs(),rs(),ns(64,"clr-modal",40),hs("clrModalOpenChange",(function(e){return Yt(n),gs().templateModalVisible=e})),ns(65,"h3",33),zs(66),rs(),ns(67,"div",41),Ko(68,ZV,6,1,"div",42),ns(69,"div",43),ns(70,"button",44),hs("click",(function(){return Yt(n),gs()._TemplateService.newTemplate()})),zs(71," Create new "),is(72,"clr-icon",45),rs(),rs(),rs(),ns(73,"div",35),ns(74,"button",36),hs("click",(function(){return Yt(n),gs().hideTemplateModal()})),zs(75," Close "),rs(),rs(),rs(),ns(76,"clr-modal",32),hs("clrModalOpenChange",(function(e){return Yt(n),gs().tempDuplicateVisible=e})),ns(77,"h3",33),zs(78),rs(),ns(79,"div",41),ns(80,"clr-input-container"),ns(81,"label"),zs(82,"New template name"),rs(),ns(83,"input",46),hs("ngModelChange",(function(e){return Yt(n),gs().newTemplateName=e})),rs(),ns(84,"clr-control-helper"),zs(85,"What should the new template be named?"),rs(),rs(),rs(),ns(86,"div",35),ns(87,"button",36),hs("click",(function(){return Yt(n),gs().hideTemplateModal()})),zs(88," Cancel "),rs(),ns(89,"button",47),hs("click",(function(){Yt(n);var e=gs();return e.duplicateTemplate(e.selectedTemplateName,e.newTemplateName)})),zs(90," Duplicate "),rs(),rs(),rs(),rs(),rs()}if(2&e){var r=gs();Ur(2),es("ngIf",!r.isAdmin),Ur(1),es("ngIf",r.isAdmin),Ur(1),es("ngIf",r.isAdmin),Ur(1),es("clrCloseMenuOnItemClick",!1),Ur(6),es("clrDgSelected",r.selectedReports),Ur(19),es("ngIf",r.selectedReports.length>0),Ur(1),es("clrDgItemsOf",r.reports),Ur(4),es("ngModel",r.sizeLimit),Ur(9),qs(" reports | ",r.reports.length," of ",r.reportCount,""),Ur(1),es("clrModalSize","sm")("clrModalOpen",r.deleteVisible),Ur(3),es("ngIf",r.selectedReport),Ur(4),es("clrLoading",r.deleteLoading),Ur(2),es("ngIf",r.filterVisible),Ur(1),es("clrModalSize","sm")("clrModalOpen",r.copyVisible),Ur(3),es("ngIf",r.selectedReport),Ur(4),es("clrLoading",r.templateDupStatus),Ur(2),es("clrModalOpen",r.templateModalVisible),Ur(2),Hs(" ",r._TemplateService.templateNames.length," templates "),Ur(2),es("ngForOf",r._TemplateService.templateNames),Ur(8),es("clrModalSize","sm")("clrModalOpen",r.tempDuplicateVisible),Ur(2),Hs("Duplicate ",r.selectedTemplateName,""),Ur(5),es("ngModel",r.newTemplateName),Ur(6),es("disabled",r.newTemplateName.length<1)}}var JV,ej=((JV=function(){function e(t,n,r,i,o,s,a){_classCallCheck(this,e),this._TemplateService=t,this._ReportService=n,this._UserService=r,this._Router=i,this._clipboardService=o,this.fb=s,this.constantService=a,this.detailState=!1,this.editVisible=!1,this.copyVisible=!1,this.deleteVisible=!1,this.exportVisible=!1,this.filterVisible=!1,this.newTemplateName="",this.emailSent=!1,this.user=this._UserService.getUserObservable(),this.reports=[],this.templateModalVisible=!1,this.tempDuplicateVisible=!1,this.reportCount=-1,this.selectedReports=[],this._sizeLimit="10",this.selectedTemplates=[],this.selectedBranches=[],this.allTags=[],this.filterLoading=QC.DEFAULT,this.magicLoading=QC.DEFAULT,this.templateDupStatus=QC.DEFAULT}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.user.subscribe((function(t){t&&(e.showUnverifiedAlert=!t.emailVerified,"admin"===t.role?"all"!==e._sizeLimit?e._ReportService.fetchAllReportsWithLimit(+e._sizeLimit).then((function(t){e.reports=t,e.getAllTagsFromReports(),console.log(t)})).catch((function(){console.error("Could not fetch reports for "+t.email)})):e._ReportService.fetchAllReports().then((function(t){e.reports=t,e.getAllTagsFromReports(),console.log(t)})).catch((function(){console.error("Could not fetch reports for "+t.email)})):"all"!==e._sizeLimit?e._ReportService.fetchReportsByBranchWithLimit(t.branch,+e._sizeLimit).then((function(t){e.reports=t,e.getAllTagsFromReports(),console.log(t)})).catch((function(){console.error("Could not fetch reports for "+t.email)})):e._ReportService.fetchReportsByBranch(t.branch).then((function(t){e.reports=t,e.getAllTagsFromReports(),console.log(t)})).catch((function(){console.error("Could not fetch reports for "+t.email)})),e.getReportCount().then((function(t){e.reportCount=t})))})),this.templates=this._TemplateService.templateObservable,this.templateLoadStatuses=[],this._TemplateService.templateNames.forEach((function(){e.templateLoadStatuses.push(QC.DEFAULT)})),this.constantService.constants.subscribe((function(t){e._constants=t})),this.filterGroup=this.fb.group({idSearch:[""],completionStatus:["All"],template:["All"],authorSearch:[""],coverageFrom:[""],coverageTo:[""],branch:["All"],tag:["All"]})}},{key:"getReportCount",value:function(){return"admin"===this._UserService.getUserSnapshot().role?this._ReportService.getFullReportCount():this._ReportService.getReportCountByBranch(this._UserService.getUserSnapshot().branch)}},{key:"getAllTagsFromReports",value:function(){var e=[],t=[];this.reports.forEach((function(n){n.tags&&n.tags.forEach((function(n){t.includes(n.label)||(e.push(n),t.push(n.label))}))})),console.log(e),this.allTags=e}},{key:"showExport",value:function(e){this.selectedReport=e,this.exportVisible=!0}},{key:"hideExport",value:function(){this.exportVisible=!1}},{key:"isHidden",value:function(e){var t=this._TemplateService.templateSnapshot;return!(!t||!t.get(e))&&t.get(e).hidden}},{key:"duplicateReport",value:function(e){var t=this;console.log(e.id),this._ReportService.duplicateReport(e.id).then((function(e){t._ReportService.openReport(e).then((function(){t._Router.navigate(["report",e,0])})).catch((function(t){console.error("Error opening new report with ID "+e+": "+t)}))}),(function(){console.error("Error duplicating report "+e.id)}))}},{key:"showCopy",value:function(e){this.selectedReport=e,this.copyVisible=!0}},{key:"hideCopy",value:function(){this.copyVisible=!1}},{key:"showFilterModal",value:function(){console.log("Showing filter modal"),this.filterVisible=!0}},{key:"applyFilter",value:function(){var e=this;return new Promise((function(t,n){e.refreshReports().then((function(){var n=e.reports,r=e.filterGroup.value;r.idSearch&&r.idSearch.length>0&&(n=n.filter((function(e){return e.id.includes(r.idSearch)}))),r.completionStatus&&"All"!==r.completionStatus&&(n=n.filter((function(e){return e.completionStatus===r.completionStatus}))),r.template&&"All"!==r.template&&(n=n.filter((function(e){return e.templateID===r.template}))),r.authorSearch&&r.authorSearch.length>0&&(n=n.filter((function(e){return e.author&&e.author.includes(r.authorSearch)}))),r.branch&&"All"!==r.branch&&(n=n.filter((function(e){return e.branch&&e.branch===r.branch}))),r.tag&&"All"!==r.tag&&(n=n.filter((function(t){if(t.tags){var n=[];return t.tags.forEach((function(e){n.push(e.label)})),console.warn(n),console.warn(e.filterGroup.value),n.includes(r.tag)}}))),r.completionStatus&&"All"!==r.completionStatus&&(n=n.filter((function(e){return e.completionStatus&&e.completionStatus===r.completionStatus}))),r.coverageFrom&&r.coverageFrom.length>0&&(n=n.filter((function(t){return t.coverageDate&&t.coverageDate>=e.convertTraditionalToISO(r.coverageFrom)}))),r.coverageTo&&r.coverageTo.length>0&&(n=n.filter((function(t){return t.coverageDate&&t.coverageDate<=e.convertTraditionalToISO(r.coverageTo)}))),e.reports=n,console.log(n),t()}))}))}},{key:"refreshReports",value:function(){var e=this;return new Promise((function(t,n){"admin"===e._UserService.getUserSnapshot().role&&("all"!==e._sizeLimit?e._ReportService.fetchAllReportsWithLimit(+e._sizeLimit).then((function(n){e.reports=n,console.log(n),t()})).catch((function(){console.error("Could not fetch reports for "+e._UserService.getUserSnapshot().email),n()})):e._ReportService.fetchAllReports().then((function(n){e.reports=n,e.getAllTagsFromReports(),console.log(n),t()})).catch((function(){console.error("Could not fetch reports for "+e._UserService.getUserSnapshot().email),n()})))}))}},{key:"convertTraditionalToISO",value:function(e){if(!e)return null;var t=e.split("/");if(3!==t.length)return console.warn("Invalid date: "+e),null;var n=+t[0]-1,r=+t[1],i=+t[2],o=new Date;o.setMonth(n),o.setDate(r),o.setFullYear(i);var s=o.toISOString();return console.log("Converting: "+e+" to "+s),s}},{key:"getTemplateCBArray",value:function(e){return this.filterGroup.get("templateCBs")?this.filterGroup.get("templatesCBs").controls[e]:null}},{key:"getBranchCBArray",value:function(e){return this.filterGroup.get("branchCBs")?this.filterGroup.get("branchCBs").controls[e]:null}},{key:"clearFilters",value:function(){this.filterGroup=this.fb.group({idSearch:[""],completionStatus:["All"],template:["All"],authorSearch:[""],coverageFrom:[""],coverageTo:[""],branch:["All"]})}},{key:"finishFilterModal",value:function(){var e=this;this.filterLoading=QC.LOADING,console.log(this.filterGroup.value),this.applyFilter().then((function(){e.filterLoading=QC.SUCCESS,e.hideFilterModal()})).catch((function(t){console.error("Filter application failed: "+t),e.filterLoading=QC.ERROR}))}},{key:"hideFilterModal",value:function(){this.filterVisible=!1}},{key:"deleteReport",value:function(e){var t=this;this.deleteLoading=QC.LOADING,this._ReportService.deleteReport(e).then((function(){var e=t._UserService.getUserSnapshot();"admin"===e.role?"all"!==t._sizeLimit?t._ReportService.fetchAllReportsWithLimit(+t._sizeLimit).then((function(e){t.reports=e,console.log(e)})).catch((function(){console.error("Could not fetch reports for "+e.email)})):t._ReportService.fetchAllReports().then((function(e){t.reports=e,console.log(e)})).catch((function(){console.error("Could not fetch reports for "+e.email)})):"all"!==t._sizeLimit?t._ReportService.fetchReportsByBranchWithLimit(e.branch,+t._sizeLimit).then((function(e){t.reports=e,console.log(e)})).catch((function(){console.error("Could not fetch reports for "+e.email)})):t._ReportService.fetchReportsByBranch(e.branch).then((function(e){t.reports=e,console.log(e)})).catch((function(){console.error("Could not fetch reports for "+e.email)})),t.deleteLoading=QC.SUCCESS,t.deleteVisible=!1}))}},{key:"showDelete",value:function(e){this.selectedReport=e,this.deleteVisible=!0}},{key:"copyMagic",value:function(e){var t=this;this.magicLoading=QC.LOADING,this._ReportService.getMagicString(e).then((function(e){console.log(e),t._clipboardService.copyFromContent(e),t.magicLoading=QC.SUCCESS,alert("\ud83d\udd2e Magic string copied to clipboard.")}))}},{key:"hideDelete",value:function(){this.deleteVisible=!1}},{key:"isUnfinished",value:function(e){return!!e&&"incomplete"===e.completionStatus}},{key:"resendVerification",value:function(){var e=this;this._UserService.sendVerificationEmail().then((function(){e.emailSent=!0,e.showUnverifiedAlert=!1}))}},{key:"createReport",value:function(e,t){var n=this;this.templateLoadStatuses[t]=QC.LOADING,this._ReportService.createNewReport(e).then((function(e){n._ReportService.openReport(e).then((function(){console.log("Created report: "),console.log(n._ReportService.report),n._Router.navigate(["report",e,0])})).catch((function(t){console.error("Error opening new report with ID "+e+": "+t)}))}),(function(){console.error("Error creating new report with template "+e)}))}},{key:"navigate",value:function(e){console.log("Opening: "+e.id),this._Router.navigate(["report",e.id,0])}},{key:"json",value:function(e){return JSON.stringify(e)}},{key:"showTemplateModal",value:function(){console.log(this._TemplateService.templateNames),this.templateModalVisible=!0}},{key:"hideTemplateModal",value:function(){this.templateModalVisible=!1}},{key:"showDuplicateTemplate",value:function(e){this.selectedTemplateName=e,this.tempDuplicateVisible=!0}},{key:"hideDuplicateTemplate",value:function(){this.tempDuplicateVisible=!1}},{key:"duplicateTemplate",value:function(e,t){var n=this;this.templateDupStatus=QC.LOADING,this._TemplateService.duplicateTemplate(e,t).then((function(){n.templateDupStatus=QC.SUCCESS,n.tempDuplicateVisible=!1}))}},{key:"deleteTemplate",value:function(e){var t=this;this._TemplateService.deleteTemplate(e).then((function(){console.log("Success"),console.log(t._TemplateService.templateNames)}),(function(e){console.log("Error "+e)}))}},{key:"sizeLimit",get:function(){return this._sizeLimit},set:function(e){var t=this;this._sizeLimit=e;var n=this._UserService.getUserSnapshot();this.showUnverifiedAlert=!n.emailVerified,"admin"===n.role?"all"!==this._sizeLimit?this._ReportService.fetchAllReportsWithLimit(+this._sizeLimit).then((function(e){t.reports=e,console.log(e)})).catch((function(){console.error("Could not fetch reports for "+n.email)})):this._ReportService.fetchAllReports().then((function(e){t.reports=e,console.log(e)})).catch((function(){console.error("Could not fetch reports for "+n.email)})):"all"!==this._sizeLimit?this._ReportService.fetchReportsByBranchWithLimit(n.branch,+this._sizeLimit).then((function(e){t.reports=e,console.log(e)})).catch((function(){console.error("Could not fetch reports for "+n.email)})):this._ReportService.fetchReportsByBranch(n.branch).then((function(e){t.reports=e,console.log(e)})).catch((function(){console.error("Could not fetch reports for "+n.email)}))}},{key:"isAdmin",get:function(){var e=this._UserService.getUserSnapshot();return!(!e||"admin"!==e.role)}}]),e}()).\u0275fac=function(e){return new(e||JV)(Zo(kg),Zo(_g),Zo(mg),Zo(Dv),Zo(yV),Zo(T_),Zo(Df))},JV.\u0275cmp=dt({type:JV,selectors:[["app-start"]],decls:5,vars:5,consts:[[1,"clr-row","clr-justify-content-center",2,"width","100vw"],["class","clr-col-md-6 alert alert-warning",4,"ngIf"],["class","clr-col-md-6 alert",4,"ngIf"],["class","clr-col clr-col-md-10 clr-col-xl-8",4,"ngIf"],[1,"clr-col-md-6","alert","alert-warning"],[1,"alert-items"],["role","alert",1,"alert-item","static"],[1,"alert-icon-wrapper"],["shape","exclamation-circle",1,"alert-icon"],[1,"alert-text"],["href","javascript://",3,"click"],[1,"clr-col-md-6","alert"],[1,"clr-col","clr-col-md-10","clr-col-xl-8"],[1,"clr-row","clr-justify-content-between","clr-align-items-end"],[4,"ngIf"],["class","btn",3,"click",4,"ngIf"],[3,"clrCloseMenuOnItemClick"],["clrDropdownTrigger","",1,"btn","btn-primary"],["shape","plus"],["clrPosition","bottom-right",4,"clrIfOpen"],[1,"clr-row"],[2,"width","100%",3,"clrDgSelected","clrDgSelectedChange"],["type","button",1,"btn","btn-sm","btn-secondary",3,"click"],["shape","filter"],["type","button","class","btn btn-sm btn-magic",3,"clrLoading","click",4,"ngIf"],[3,"clrDgItem",4,"clrDgItems","clrDgItemsOf"],[4,"clrIfDetail"],["name","options",3,"ngModel","ngModelChange"],["value","10"],["value","30"],["value","100"],["value","all"],[3,"clrModalSize","clrModalOpen","clrModalOpenChange"],[1,"modal-title"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn","btn-danger",3,"clrLoading","click"],[3,"clrModalSize","clrModalOpen","clrModalOpenChange",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"clrLoading","click"],[3,"clrModalOpen","clrModalOpenChange"],[1,"modal-body"],["class","clr-row clr-align-items-center template-row","style","padding-left: 12px;",4,"ngFor","ngForOf"],[1,"clr-row","clr-justify-content-end"],[1,"btn","btn-sm","btn-link","btn-icon",2,"margin","24px 0 0 0",3,"click"],["shape","plus","dir","right","title","This will open a blank template in the builder."],["clrInput","","required","",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"btn",3,"click"],["shape","scroll"],["clrPosition","bottom-right"],[4,"ngFor","ngForOf"],["clrDropdownItem","",3,"clrLoading","click"],["shape","exclamation-triangle"],["type","button",1,"btn","btn-sm","btn-magic",3,"clrLoading","click"],["shape","wand"],[3,"clrDgItem"],[1,"action-item",3,"click"],["shape","login"],["shape","copy"],["class","action-item",3,"click",4,"ngIf"],[1,"clickable",3,"click"],["class","label label-warning",4,"ngIf"],[4,"ngIf","ngIfElse"],["noTags",""],["shape","trash",1,"is-danger"],[1,"badge","badge-light-blue"],[1,"label","label-warning"],[3,"title",4,"ngFor","ngForOf"],[3,"title"],[1,"p5"],["clrForm","","clrLayout","compact",3,"formGroup"],["clrInput","","type","text","placeholder","All","formControlName","idSearch"],["clrInput","","type","text","placeholder","All","formControlName","authorSearch"],["type","date","name","date","formControlName","coverageFrom","clrDate",""],["type","date","name","date","formControlName","coverageTo","clrDate",""],["clrSelect","","name","options","formControlName","completionStatus"],["value","All","selected","selected"],["value","complete"],["value","incomplete"],["clrInline","",4,"ngIf"],["clrInline",""],["clrSelect","","formControlName","template"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["clrSelect","","formControlName","branch"],["clrSelect","","formControlName","tag"],[1,"clr-row","clr-align-items-center","template-row",2,"padding-left","12px"],["clrDropdownTrigger","",1,"btn","btn-link","btn-sm","btn-icon",2,"padding","0 12px 0 12px"],["shape","angle","dir","down"],["clrPosition","top-left",4,"clrIfOpen"],["clrPosition","top-left"],["aria-hidden","true",1,"dropdown-header"],["clrDropdownItem","",3,"click"],["shape","angle-double","dir","right",1,"is-highlight"],["clrDropdownItem","",3,"click",4,"ngIf","ngIfElse"],["showTempl",""],["shape","eye-hide"],["shape","eye"]],template:function(e,t){if(1&e&&(ns(0,"div",0),Ko(1,_V,10,0,"div",1),Ko(2,bV,7,0,"div",2),Ko(3,XV,91,27,"div",3),cu(4,"async"),rs()),2&e){var n,r=null==(n=lu(4,3,t.user))?null:n.emailVerified;Ur(1),es("ngIf",t.showUnverifiedAlert),Ur(1),es("ngIf",t.emailSent),Ur(1),es("ngIf",r)}},directives:[zh,yC,VR,IR,PR,IE,cO,RO,IA,TA,OA,VA,FA,xO,lO,MA,kO,CO,lm,Py,i_,hm,ym,gP,qS,KC,yP,Uh,kx,aE,Sy,wx,E_,iE,RR,xR,rO,OO,fO,qA,TO,bO,_O,wO,o_,Ny,cE,lE,l_,C_,fI,dx,Rx,Px],pipes:[sf,af],styles:["clr-dropdown[_ngcontent-%COMP%]{margin:6px 0}.template-row[_ngcontent-%COMP%]{border-radius:5px;border:1px solid grey}.btn-magic[_ngcontent-%COMP%]{border-color:purple;color:#fff;background-color:purple}"]}),JV);function tj(e,t){1&e&&(ns(0,"h5",14),zs(1," Use your staff email to sign in, or create a new account now "),rs())}function nj(e,t){if(1&e){var n=us();ns(0,"clr-password-container"),ns(1,"label",8),zs(2,"Password"),rs(),is(3,"input",15),ns(4,"clr-control-helper"),zs(5,"Forgot your password? "),ns(6,"a",16),hs("click",(function(){return Yt(n),gs(2).showReset()})),zs(7,"Reset it here."),rs(),rs(),rs()}}function rj(e,t){if(1&e&&(ns(0,"div",17),ns(1,"div",18),ns(2,"div",19),ns(3,"span",20),zs(4),rs(),rs(),rs(),rs()),2&e){var n=gs(2);es("className",n.alertClass),Ur(4),Hs(" ",n.alertMessage," ")}}function ij(e,t){if(1&e){var n=us();ns(0,"button",21),hs("click",(function(){return Yt(n),gs(2).tryLogin()})),zs(1," LOG IN "),rs()}2&e&&es("disabled",gs(2).loginGroup.invalid)}function oj(e,t){if(1&e){var n=us();ns(0,"a",22),hs("click",(function(){return Yt(n),gs(2).showSignup()})),zs(1,"Or create a new account"),rs()}}function sj(e,t){if(1&e&&(ns(0,"form",3),ns(1,"section",4),ns(2,"h3",5),zs(3,"Welcome to the"),rs(),zs(4," Monthly Program Statistics tool "),Ko(5,tj,2,0,"h5",6),rs(),ns(6,"div",7),ns(7,"clr-input-container"),ns(8,"label",8),zs(9,"Staff email"),rs(),is(10,"input",9),rs(),Ko(11,nj,8,0,"clr-password-container",10),Ko(12,rj,5,2,"div",11),Ko(13,ij,2,1,"button",12),Ko(14,oj,2,0,"a",13),rs(),rs()),2&e){var n=gs();es("formGroup",n.loginGroup),Ur(5),es("ngIf",!n.resetVisible),Ur(6),es("ngIf",n.loginVisible),Ur(1),es("ngIf",n.alert),Ur(1),es("ngIf",n.loginVisible),Ur(1),es("ngIf",n.loginVisible)}}function aj(e,t){if(1&e&&(ns(0,"option",27),zs(1),rs()),2&e){var n=t.$implicit;es("value",n),Ur(1),Gs(n)}}function uj(e,t){if(1&e&&(ns(0,"div",17),ns(1,"div",18),ns(2,"div",19),ns(3,"span",20),zs(4),rs(),rs(),rs(),rs()),2&e){var n=gs(2);es("className",n.alertClass),Ur(4),Hs(" ",n.alertMessage," ")}}function cj(e,t){if(1&e){var n=us();ns(0,"a",22),hs("click",(function(){return Yt(n),gs(2).showLogin()})),zs(1,"Already have an account? Log in"),rs()}}function lj(e,t){if(1&e){var n=us();ns(0,"form",3),ns(1,"section",4),ns(2,"h3",5),zs(3,"Welcome to the"),rs(),zs(4," Monthly Program Statistics tool "),ns(5,"h5",14),zs(6," Use your staff email to sign in, or create a new account now "),rs(),rs(),ns(7,"div",7),ns(8,"clr-input-container"),ns(9,"label",8),zs(10,"Staff email"),rs(),is(11,"input",9),rs(),ns(12,"clr-select-container"),ns(13,"label",8),zs(14,"Which branch do you work for?"),rs(),ns(15,"select",23),Ko(16,aj,2,2,"option",24),rs(),ns(17,"clr-control-helper"),zs(18,"Which branch do you work for?"),rs(),rs(),ns(19,"clr-password-container"),ns(20,"label",8),zs(21,"New password"),rs(),is(22,"input",25),rs(),ns(23,"clr-password-container"),ns(24,"label",8),zs(25,"Confirm password"),rs(),is(26,"input",26),rs(),Ko(27,uj,5,2,"div",11),ns(28,"button",21),hs("click",(function(){return Yt(n),gs().createAccount()})),zs(29," Create account "),rs(),Ko(30,cj,2,0,"a",13),rs(),rs()}if(2&e){var r=gs();es("formGroup",r.createAccountGroup),Ur(16),es("ngForOf",r.getConstant("branches")),Ur(11),es("ngIf",r.alert),Ur(1),es("disabled",r.createAccountGroup.invalid),Ur(2),es("ngIf",r.signupVisible)}}function hj(e,t){if(1&e&&(ns(0,"div",17),ns(1,"div",18),ns(2,"div",19),ns(3,"span",20),zs(4),rs(),rs(),rs(),rs()),2&e){var n=gs(2);es("className",n.alertClass),Ur(4),Hs(" ",n.alertMessage," ")}}function fj(e,t){if(1&e){var n=us();ns(0,"button",21),hs("click",(function(){return Yt(n),gs(2).sendResetEmail()})),zs(1," Send reset email "),rs()}2&e&&es("disabled",gs(2).forgotPasswordGroup.invalid)}function dj(e,t){if(1&e){var n=us();ns(0,"form",3),ns(1,"section",4),ns(2,"h3",5),zs(3,"Welcome to the"),rs(),zs(4," Monthly Program Statistics tool "),ns(5,"h5",14),is(6,"hr"),zs(7," Reset your password "),rs(),rs(),ns(8,"div",7),ns(9,"clr-input-container"),ns(10,"label",8),zs(11,"Staff email"),rs(),is(12,"input",9),rs(),Ko(13,hj,5,2,"div",11),Ko(14,fj,2,1,"button",12),ns(15,"a",22),hs("click",(function(){return Yt(n),gs().showLogin()})),zs(16,"Back to login"),rs(),rs(),rs()}if(2&e){var r=gs();es("formGroup",r.forgotPasswordGroup),Ur(13),es("ngIf",!r.forgotPasswordGroup.valid),Ur(1),es("ngIf",r.resetVisible)}}function pj(e){return e.get("newPasswordInput").value!==e.get("confirmPasswordInput").value?{notMatching:!0}:null}function vj(e){var t=e.get("emailInput").value.split("@")[1];return"ebrpl.com"!==t&&"brla.gov"!==t?{outsideEmail:!0}:null}var gj,yj,mj=((gj=function(){function e(t,n){_classCallCheck(this,e),this._Router=t,this.userv=n,this.currentScreen="login",this.alert=null,this.alertMessage=""}return _createClass(e,[{key:"ngOnInit",value:function(){this.loginGroup=new Wm({emailInput:new qm("",jy.required),passwordInput:new qm("",jy.required)}),this.createAccountGroup=new Wm({emailInput:new qm("",jy.required),newPasswordInput:new qm("",jy.required),confirmPasswordInput:new qm("",jy.required),branchSelect:new qm("Branch",jy.required)},[pj,vj]),this.forgotPasswordGroup=new Wm({emailInput:new qm("",jy.required)})}},{key:"tryLogin",value:function(){var e=this;console.log("Logging in...");var t=this.loginGroup.get("emailInput").value,n=this.loginGroup.get("passwordInput").value;console.log(this.loginGroup.get("emailInput").value),this.userv.logIn(t,n).then((function(){console.log("Login successful."),e._Router.navigate([""])})).catch((function(t){console.log(t),e.showErrorAlert("Invalid username or password. Does this account exist?")}))}},{key:"createAccount",value:function(){var e=this,t=this.createAccountGroup.get("emailInput").value,n=this.createAccountGroup.get("newPasswordInput").value,r=(this.createAccountGroup.get("confirmPasswordInput"),this.createAccountGroup.get("branchSelect").value);this.createAccountGroup.errors?this.createAccountGroup.getError("notMatching")?(console.error("Passwords do not match"),this.showErrorAlert("Passwords do not match.")):this.createAccountGroup.getError("outsideEmail")?(console.error("Employee email required."),this.showErrorAlert("Please use your employee email.")):console.error(this.createAccountGroup.errors):(console.log("Creating account"),this.hideAlert(),this.userv.createAccount({email:t,emailVerified:!1,branch:r,role:"user"},n).then((function(){Object(yl.auth)().currentUser.sendEmailVerification(),e.showSuccessAlert("Account successfully created. Please check your email to finish up. Redirecting..."),setTimeout((function(){e._Router.navigate([""])}),5e3)})).catch((function(t){console.error("ERROR"+t),e.showErrorAlert(t),e.createAccountGroup.setErrors({firebase:!0})})))}},{key:"sendResetEmail",value:function(){Object(yl.auth)().sendPasswordResetEmail(this.forgotPasswordGroup.get("emailInput").value).catch((function(e){console.log(e.code)})),this.showSuccessAlert("If that account exists, a reset email has been sent."),this.showLogin()}},{key:"showErrorAlert",value:function(e){this.alert="danger",this.alertMessage=e}},{key:"showSuccessAlert",value:function(e){this.alert="success",this.alertMessage=e}},{key:"hideAlert",value:function(){this.alert=null,this.alertMessage=""}},{key:"showSignup",value:function(){this.currentScreen="signup",this.hideAlert()}},{key:"showLogin",value:function(){this.currentScreen="login"}},{key:"showReset",value:function(){this.currentScreen="reset",this.hideAlert()}},{key:"getConstant",value:function(e){return["Main Library","Baker Branch","Bluebonnet Regional Branch","Carver Branch","Central Branch","Delmont Gardens Branch","Eden Park Branch","Fairwood Branch","Greenwell Springs Rd. Regional Branch","Jones Creek Regional Branch","Pride-Chaneyville Branch","River Center Branch","Scotlandville Branch","Zachary Branch"]}},{key:"alertClass",get:function(){return"danger"===this.alert?"alert alert-danger":"warning"===this.alert?"alert alert-warning":"info"===this.alert?"alert alert-info":"success"===this.alert?"alert alert-success":null}},{key:"loginVisible",get:function(){return"login"===this.currentScreen}},{key:"signupVisible",get:function(){return"signup"===this.currentScreen}},{key:"resetVisible",get:function(){return"reset"===this.currentScreen}}]),e}()).\u0275fac=function(e){return new(e||gj)(Zo(Dv),Zo(mg))},gj.\u0275cmp=dt({type:gj,selectors:[["app-login"]],decls:5,vars:3,consts:[[1,"clr-row","clr-justify-content-center",2,"width","95vw"],[1,"clr-col","clr-offset-md-4","login-wrapper"],["class","login",3,"formGroup",4,"ngIf"],[1,"login",3,"formGroup"],[1,"title"],[1,"welcome"],["class","hint",4,"ngIf"],[1,"login-group"],[1,"clr-sr-only"],["type","email","formControlName","emailInput","clrInput","","placeholder","Staff email"],[4,"ngIf"],["role","alert",3,"className",4,"ngIf"],["class","btn btn-primary",3,"disabled","click",4,"ngIf"],["class","signup",3,"click",4,"ngIf"],[1,"hint"],["type","password","formControlName","passwordInput","clrPassword","","placeholder","Password","autocomplete","current-password"],[3,"click"],["role","alert",3,"className"],[1,"alert-items"],[1,"alert-item","static"],[1,"alert-text"],[1,"btn","btn-primary",3,"disabled","click"],[1,"signup",3,"click"],["clrSelect","","name","type","formControlName","branchSelect"],[3,"value",4,"ngFor","ngForOf"],["type","password","formControlName","newPasswordInput","clrPassword","","placeholder","New password","autocomplete","new-password"],["type","password","formControlName","confirmPasswordInput","clrPassword","","placeholder","Confirm password"],[3,"value"]],template:function(e,t){1&e&&(ns(0,"div",0),ns(1,"div",1),Ko(2,sj,15,6,"form",2),Ko(3,lj,31,5,"form",2),Ko(4,dj,17,3,"form",2),rs(),rs()),2&e&&(Ur(2),es("ngIf",t.loginVisible),Ur(1),es("ngIf",t.signupVisible),Ur(1),es("ngIf",t.resetVisible))},directives:[zh,o_,Ny,l_,kx,aE,Sy,Py,C_,wx,Ix,Tx,iE,VR,Rx,lm,Px,Uh,hm,ym],styles:[""]}),gj),_j=j((function(e){return!!e})),bj=((yj=function e(t,r,i,o){var s=this;_classCallCheck(this,e),this.router=o,this.canActivate=function(e,t){var n=e.data.authGuardPipe||function(){return _j};return s.authState.pipe(Nf(1),n(e,t),j((function(e){return"boolean"==typeof e?e:s.router.createUrlTree(e)})))};var a=wl(new kl(i)),u=Uc(void 0).pipe(Zc(new kl(i).outsideAngular),sd((function(){return i.runOutsideAngular((function(){return n.e(1).then(n.bind(null,"6nsN"))}))})),j((function(){return Tl(t,i,r)})),j((function(e){return i.runOutsideAngular((function(){return e.auth()}))})),ug({bufferSize:1,refCount:!1}));this.authState=u.pipe(sd((function(e){return new w(e.onAuthStateChanged.bind(e))})),a)}).\u0275fac=function(e){return new(e||yj)(Ke(Sl),Ke(El,8),Ke(oc),Ke(Dv))},yj.\u0275prov=he({factory:function(){return new yj(Ke(Sl),Ke(El,8),Ke(oc),Ke(Dv))},token:yj,providedIn:"any"}),yj),kj=j((function(e){return!!e&&e.emailVerified})),wj=function(){return kj};j((function(e){console.log(e)}));var Cj,Sj=[{path:"report/:report-id/:page-number",component:vV,canActivate:[bj],data:{authGuardPipe:wj}},{path:"preferences",component:KM,canActivate:[bj],data:{authGuardPipe:wj}},{path:"builder",component:WM,canActivate:[bj],data:{authGuardPipe:wj}},{path:"",component:ej,canActivate:[bj],data:{authGuardPipe:function(){return e=["login"],_(_j,j((function(t){return t||e})));var e}}},{path:"login",component:mj}],Ej=((Cj=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:Cj}),Cj.\u0275inj=fe({factory:function(e){return new(e||Cj)},imports:[[Yv.forRoot(Sj)],Yv]}),Cj);function Ij(e,t){1&e&&(ns(0,"clr-alert",9),ns(1,"clr-alert-item"),ns(2,"span",10),zs(3," It looks like you aren't connected to the internet. "),rs(),rs(),rs()),2&e&&es("clrAlertType","warning")("clrAlertAppLevel",!0)("clrAlertClosable",!1)}function Tj(e,t){1&e&&is(0,"img",11)}function xj(e,t){1&e&&(ns(0,"span",12),zs(1,"Admin"),rs())}function Aj(e,t){if(1&e&&(ns(0,"p",15),zs(1),cu(2,"date"),rs()),2&e){var n=gs(2);Ur(1),qs(" ",n.report.templateID,": ",hu(2,2,n.report.coverageDate,"MMMM \u2019yy")," ")}}function Oj(e,t){if(1&e&&(ns(0,"div",13),Ko(1,Aj,3,5,"p",14),rs()),2&e){var n=gs();Ur(1),es("ngIf",n.report.coverageDate)}}function Dj(e,t){if(1&e&&(ns(0,"span"),zs(1),rs()),2&e){var n=gs().ngIf;Ur(1),Gs(n.email)}}var Rj=function(){return["preferences"]};function Pj(e,t){if(1&e){var n=us();ns(0,"clr-dropdown-menu",22),ns(1,"a",23),zs(2,"Preferences"),rs(),ns(3,"a",24),hs("click",(function(){return Yt(n),gs(3).logout()})),zs(4,"Log out"),rs(),rs()}2&e&&(Ur(1),es("routerLink",ou(1,Rj)))}function Nj(e,t){if(1&e&&(ns(0,"clr-dropdown"),ns(1,"button",19),is(2,"clr-icon"),Ko(3,Dj,2,1,"span",20),rs(),Ko(4,Pj,5,2,"clr-dropdown-menu",21),rs()),2&e){var n=gs(2);Ur(2),$o("shape",n.userShape),Ur(1),es("ngIf",n.vw>769)}}function Fj(e,t){if(1&e){var n=us();ns(0,"a",25),hs("click",(function(){return Yt(n),gs(2).login()})),zs(1,"LOGIN"),rs()}}function Lj(e,t){if(1&e&&(ns(0,"div",16),Ko(1,Nj,5,2,"clr-dropdown",17),cu(2,"async"),Ko(3,Fj,2,0,"ng-template",null,18,Lu),rs()),2&e){var n=Yo(4),r=gs();Ur(1),es("ngIf",lu(2,2,r.auth.user))("ngIfElse",n)}}var Mj,Vj=((Mj=function(){function e(t,n,r,i){_classCallCheck(this,e),this._ReportService=t,this.auth=n,this._Router=r,this.userv=i,this.vw=0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this._ReportService.getReportObservable().subscribe((function(t){e.report=t})),this.vw=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),window.onresize=function(t){e.vw=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0)},onoffline=function(){e.offline=!navigator.onLine},ononline=function(){e.offline=!navigator.onLine}}},{key:"login",value:function(){this._Router.navigate(["login"])}},{key:"logout",value:function(){this.userv.logOut(),this._Router.navigate(["login"])}},{key:"userShape",get:function(){return this.userv.getUserSnapshot()&&"admin"===this.userv.getUserSnapshot().role?"administrator":"user"}},{key:"isAdmin",get:function(){var e=this.userv.getUserSnapshot();return!(!e||"admin"!==e.role)}}]),e}()).\u0275fac=function(e){return new(e||Mj)(Zo(_g),Zo(yg),Zo(Dv),Zo(mg))},Mj.\u0275cmp=dt({type:Mj,selectors:[["app-navbar"]],decls:10,vars:5,consts:[[3,"clrAlertType","clrAlertAppLevel","clrAlertClosable",4,"ngIf"],[1,"header","header-7"],[1,"branding","app-title",2,"z-index","1000"],["routerLink","",1,"nav-link"],["src","assets/logo.svg",4,"ngIf"],[1,"title"],["class","badge badge-light-blue",4,"ngIf"],["class","reportTitle",4,"ngIf"],["class","header-actions navbar-links",4,"ngIf"],[3,"clrAlertType","clrAlertAppLevel","clrAlertClosable"],[1,"alert-text"],["src","assets/logo.svg"],[1,"badge","badge-light-blue"],[1,"reportTitle"],["class","titleText",4,"ngIf"],[1,"titleText"],[1,"header-actions","navbar-links"],[4,"ngIf","ngIfElse"],["logIn",""],["clrDropdownTrigger","","aria-label","open user profile",1,"nav-text"],[4,"ngIf"],["clrPosition","bottom-right",4,"clrIfOpen"],["clrPosition","bottom-right"],["clrDropdownItem","",3,"routerLink"],["clrDropdownItem","",3,"click"],[1,"nav-link","nav-text",3,"click"]],template:function(e,t){1&e&&(Ko(0,Ij,4,3,"clr-alert",0),ns(1,"header",1),ns(2,"div",2),ns(3,"a",3),Ko(4,Tj,1,0,"img",4),ns(5,"span",5),zs(6,"Monthly Program Statistics "),Ko(7,xj,2,0,"span",6),rs(),rs(),rs(),Ko(8,Oj,2,1,"div",7),Ko(9,Lj,5,4,"div",8),rs()),2&e&&(es("ngIf",t.offline),Ur(4),es("ngIf",t.vw>600),Ur(3),es("ngIf",t.isAdmin),Ur(1),es("ngIf",t.report),Ur(1),es("ngIf",!t.offline))},directives:[zh,Rv,jR,UR,VR,IR,PR,yC,IE,RR,xR],pipes:[af,sf],styles:["img[_ngcontent-%COMP%]{max-height:2rem;padding-right:.5rem}.reportTitle[_ngcontent-%COMP%]{max-width:30vw;height:60px;left:35vw;display:flex;align-items:center}.app-title[_ngcontent-%COMP%]{min-width:40vw!important;position:relative;top:0;left:0}.navbar-links[_ngcontent-%COMP%]{max-width:30vw!important;position:fixed;top:0;right:0}.titleText[_ngcontent-%COMP%]{margin:auto;text-align:center;color:grey}"]}),Mj);function jj(e,t){1&e&&is(0,"app-navbar")}var Uj,Bj=((Uj=function(){function e(t,n){_classCallCheck(this,e),this.router=t,this.tserv=n}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.router.events.subscribe((function(t){e.navHidden="/login"===e.router.url}))}}]),e}()).\u0275fac=function(e){return new(e||Uj)(Zo(Dv),Zo(kg))},Uj.\u0275cmp=dt({type:Uj,selectors:[["app-root"]],decls:4,vars:1,consts:[[1,"main-container"],[4,"ngIf"],[1,"content-container"]],template:function(e,t){1&e&&(ns(0,"div",0),Ko(1,jj,1,0,"app-navbar",1),ns(2,"div",2),is(3,"router-outlet"),rs(),rs()),2&e&&(Ur(1),es("ngIf",!t.navHidden))},directives:[zh,jv,Vj],styles:[".content-container[_ngcontent-%COMP%]{overflow-x:hidden;margin:0}"]}),Uj);function zj(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Gj(e){switch(e.length){case 0:return new fy;case 1:return e[0];default:return new dy(e)}}function Hj(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=[],a=[],u=-1,c=null;if(r.forEach((function(e){var n=e.offset,r=n==u,l=r&&c||{};Object.keys(e).forEach((function(n){var r=n,a=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,s),a){case"!":a=i[n];break;case"*":a=o[n];break;default:a=t.normalizeStyleValue(n,r,a,s)}l[r]=a})),r||a.push(l),c=l,u=n})),s.length){var l="\n - ";throw new Error("Unable to animate due to the following errors:".concat(l).concat(s.join(l)))}return a}function qj(e,t,n,r){switch(t){case"start":e.onStart((function(){return r(n&&Wj(n,"start",e))}));break;case"done":e.onDone((function(){return r(n&&Wj(n,"done",e))}));break;case"destroy":e.onDestroy((function(){return r(n&&Wj(n,"destroy",e))}))}}function Wj(e,t,n){var r=n.totalTime,i=$j(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),o=e._data;return null!=o&&(i._data=o),i}function $j(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6?arguments[6]:void 0;return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Qj(e,t,n){var r;return e instanceof Map?(r=e.get(t))||e.set(t,r=n):(r=e[t])||(r=e[t]=n),r}function Kj(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var Yj=function(e,t){return!1},Zj=function(e,t){return!1},Xj=function(e,t,n){return[]},Jj=zj();(Jj||"undefined"!=typeof Element)&&(Yj=function(e,t){return e.contains(t)},Zj=function(){if(Jj||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:Zj}(),Xj=function(e,t,n){var r=[];if(n)r.push.apply(r,_toConsumableArray(e.querySelectorAll(t)));else{var i=e.querySelector(t);i&&r.push(i)}return r});var eU=null,tU=!1;function nU(e){eU||(eU=("undefined"!=typeof document?document.body:null)||{},tU=!!eU.style&&"WebkitAppearance"in eU.style);var t=!0;return eU.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(!(t=e in eU.style)&&tU)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in eU.style),t}var rU=Zj,iU=Yj,oU=Xj;function sU(e){var t={};return Object.keys(e).forEach((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]})),t}var aU,uU=((aU=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return nU(e)}},{key:"matchesElement",value:function(e,t){return rU(e,t)}},{key:"containsElement",value:function(e,t){return iU(e,t)}},{key:"query",value:function(e,t,n){return oU(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,r,i){return arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6],new fy(n,r)}}]),e}()).\u0275fac=function(e){return new(e||aU)},aU.\u0275prov=he({token:aU,factory:aU.\u0275fac}),aU),cU=function(){var e=function e(){_classCallCheck(this,e)};return e.NOOP=new uU,e}();function lU(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:hU(parseFloat(t[1]),t[2])}function hU(e,t){switch(t){case"s":return 1e3*e;default:return e}}function fU(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var r,i=0,o="";if("string"==typeof e){var s=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};r=hU(parseFloat(s[1]),s[2]);var a=s[3];null!=a&&(i=hU(parseFloat(a),s[4]));var u=s[5];u&&(o=u)}else r=e;if(!n){var c=!1,l=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),c=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&t.splice(l,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(e,t,n)}function dU(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach((function(n){t[n]=e[n]})),t}function pU(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var r in e)n[r]=e[r];else dU(e,n);return n}function vU(e,t,n){return n?t+":"+n+";":""}function gU(e){for(var t="",n=0;n<e.style.length;n++){var r=e.style.item(n);t+=vU(0,r,e.style.getPropertyValue(r))}for(var i in e.style)e.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=vU(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[i]));e.setAttribute("style",t)}function yU(e,t,n){e.style&&(Object.keys(t).forEach((function(r){var i=EU(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]})),zj()&&gU(e))}function mU(e,t){e.style&&(Object.keys(t).forEach((function(t){var n=EU(t);e.style[n]=""})),zj()&&gU(e))}function _U(e){return Array.isArray(e)?1==e.length?e[0]:ay(e):e}var bU=new RegExp("{{\\s*(.+?)\\s*}}","g");function kU(e){var t=[];if("string"==typeof e){for(var n;n=bU.exec(e);)t.push(n[1]);bU.lastIndex=0}return t}function wU(e,t,n){var r=e.toString(),i=r.replace(bU,(function(e,r){var i=t[r];return t.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()}));return i==r?e:i}function CU(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var SU=/-+([a-z0-9])/g;function EU(e){return e.replace(SU,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()}))}function IU(e,t){return 0===e||0===t}function TU(e,t,n){var r=Object.keys(n);if(r.length&&t.length){var i=t[0],o=[];if(r.forEach((function(e){i.hasOwnProperty(e)||o.push(e),i[e]=n[e]})),o.length)for(var s=function(){var n=t[a];o.forEach((function(t){n[t]=AU(e,t)}))},a=1;a<t.length;a++)s()}return t}function xU(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function AU(e,t){return window.getComputedStyle(e)[t]}var OU=new Set(["true","1"]),DU=new Set(["false","0"]);function RU(e,t){var n=OU.has(e)||DU.has(e),r=OU.has(t)||DU.has(t);return function(i,o){var s="*"==e||e==i,a="*"==t||t==o;return!s&&n&&"boolean"==typeof i&&(s=i?OU.has(e):DU.has(e)),!a&&r&&"boolean"==typeof o&&(a=o?OU.has(t):DU.has(t)),s&&a}}var PU=new RegExp("s*:selfs*,?","g");function NU(e,t,n){return new FU(e).build(t,n)}var FU=function(){function e(t){_classCallCheck(this,e),this._driver=t}return _createClass(e,[{key:"build",value:function(e,t){var n=new LU(t);return this._resetContextStyleTimingState(n),xU(this,_U(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach((function(e){if(n._resetContextStyleTimingState(t),0==e.type){var a=e,u=a.name;u.toString().split(/\s*,\s*/).forEach((function(e){a.name=e,o.push(n.visitState(a,t))})),a.name=u}else if(1==e.type){var c=n.visitTransition(e,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach((function(e){if(MU(e)){var t=e;Object.keys(t).forEach((function(e){kU(t[e]).forEach((function(e){o.hasOwnProperty(e)||i.add(e)}))}))}})),i.size){var s=CU(i.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(s.join(", ")))}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n,r,i,o=xU(this,_U(e.animation),t);return{type:1,matchers:(n=e.expr,r=t.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(e){return function(e,t,n){if(":"==e[0]){var r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}var i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var o=i[1],s=i[2],a=i[3];t.push(RU(o,a)),"<"!=s[0]||"*"==o&&"*"==a||t.push(RU(a,o))}(e,i,r)})):i.push(n),i),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:VU(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map((function(e){return xU(n,e,t)})),options:VU(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,r=t.currentTime,i=0,o=e.steps.map((function(e){t.currentTime=r;var o=xU(n,e,t);return i=Math.max(i,t.currentTime),o}));return t.currentTime=i,{type:3,steps:o,options:VU(e.options)}}},{key:"visitAnimate",value:function(e,t){var n,r=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return jU(fU(e,t).duration,0,"");var r=e;if(r.split(/\s+/).some((function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)}))){var i=jU(0,0,"");return i.dynamic=!0,i.strValue=r,i}return jU((n=n||fU(r,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;var i=e.styles?e.styles:uy({});if(5==i.type)n=this.visitKeyframes(i,t);else{var o=e.styles,s=!1;if(!o){s=!0;var a={};r.easing&&(a.easing=r.easing),o=uy(a)}t.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,t);u.isEmptyStep=s,n=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach((function(e){"string"==typeof e?"*"==e?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)})):n.push(e.styles);var r=!1,i=null;return n.forEach((function(e){if(MU(e)){var t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(var o in t)if(t[o].toString().indexOf("{{")>=0){r=!0;break}}})),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach((function(e){"string"!=typeof e&&Object.keys(e).forEach((function(r){if(n._driver.validateStyleProperty(r)){var s,a,u,c,l,h=t.collectedStyles[t.currentQuerySelector],f=h[r],d=!0;f&&(o!=i&&o>=f.startTime&&i<=f.endTime&&(t.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),d=!1),o=f.startTime),d&&(h[r]={startTime:o,endTime:i}),t.options&&(s=e[r],a=t.options,u=t.errors,c=a.params||{},(l=kU(s)).length&&l.forEach((function(e){c.hasOwnProperty(e)||u.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))})))}else t.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(e,t){var n=this,r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],s=!1,a=!1,u=0,c=e.steps.map((function(e){var r=n._makeStyleAst(e,t),c=null!=r.offset?r.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach((function(e){if(MU(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}}));else if(MU(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(r.styles),l=0;return null!=c&&(i++,l=r.offset=c),a=a||l<0||l>1,s=s||l<u,u=l,o.push(l),r}));a&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&t.errors.push("Please ensure that all keyframe offsets are in order");var l=e.steps.length,h=0;i>0&&i<l?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(l-1));var f=l-1,d=t.currentTime,p=t.currentAnimateTimings,v=p.duration;return c.forEach((function(e,i){var s=h>0?i==f?1:h*i:o[i],a=s*v;t.currentTime=d+p.delay+a,p.duration=a,n._validateStyleAst(e,t),e.offset=s,r.styles.push(e)})),r}},{key:"visitReference",value:function(e,t){return{type:8,animation:xU(this,_U(e.animation),t),options:VU(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:VU(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:VU(e.options)}}},{key:"visitQuery",value:function(e,t){var n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;var i=_slicedToArray(function(e){var t=!!e.split(/\s*,\s*/).find((function(e){return":self"==e}));return t&&(e=e.replace(PU,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(e){return".ng-trigger-"+e.substr(1)})).replace(/:animating/g,".ng-animating"),t]}(e.selector),2),o=i[0],s=i[1];t.currentQuerySelector=n.length?n+" "+o:o,Qj(t.collectedStyles,t.currentQuerySelector,{});var a=xU(this,_U(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:VU(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:fU(e.timings,t.errors,!0);return{type:12,animation:xU(this,_U(e.animation),t),timings:n,options:null}}}]),e}(),LU=function e(t){_classCallCheck(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function MU(e){return!Array.isArray(e)&&"object"==typeof e}function VU(e){var t;return e?(e=dU(e)).params&&(e.params=(t=e.params)?dU(t):null):e={},e}function jU(e,t,n){return{duration:e,delay:t,easing:n}}function UU(e,t,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var BU=function(){function e(){_classCallCheck(this,e),this._map=new Map}return _createClass(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n,r=this._map.get(e);r||this._map.set(e,r=[]),(n=r).push.apply(n,_toConsumableArray(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),zU=new RegExp(":enter","g"),GU=new RegExp(":leave","g");function HU(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},a=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new qU).buildKeyframes(e,t,n,r,i,o,s,a,u,c)}var qU=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"buildKeyframes",value:function(e,t,n,r,i,o,s,a,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new BU;var l=new $U(e,t,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([o],null,l.errors,a),xU(this,n,l);var h=l.timelines.filter((function(e){return e.containsAnimation()}));if(h.length&&Object.keys(s).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([s],null,l.errors,a)}return h.length?h.map((function(e){return e.buildKeyframes()})):[UU(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var r=t.currentTimeline.currentTime,i=null!=n.duration?lU(n.duration):null,o=null!=n.delay?lU(n.delay):null;return 0!==i&&e.forEach((function(e){var n=t.appendInstructionToTimeline(e,i,o);r=Math.max(r,n.duration+n.delay)})),r}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),xU(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&((i=t.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=WU);var s=lU(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach((function(e){return xU(n,e,i)})),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?lU(e.options.delay):0;e.steps.forEach((function(s){var a=t.createSubContext(e.options);o&&a.delayNextStep(o),xU(n,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)})),r.forEach((function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)})),t.transformIntoNewTimeline(i),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return fU(t.params?wU(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());var i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach((function(e){o.forwardTime((e.offset||0)*i),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()})),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(r+i),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?lU(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=WU);var s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;var u=null;a.forEach((function(r,i){t.currentQueryIndex=i;var a=t.createSubContext(e.options,r);o&&a.delayNextStep(o),r===t.element&&(u=a.currentTimeline),xU(n,e.animation,a),a.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,a.currentTimeline.currentTime)})),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,r=t.currentTimeline,i=e.timings,o=Math.abs(i.duration),s=o*(t.currentQueryTotal-1),a=o*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}var u=t.currentTimeline;a&&u.delayNextStep(a);var c=u.currentTime;xU(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}]),e}(),WU={},$U=function(){function e(t,n,r,i,o,s,a,u){_classCallCheck(this,e),this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=WU,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new QU(this._driver,n,0),a.push(this.currentTimeline)}return _createClass(e,[{key:"updateOptions",value:function(e,t){var n=this;if(e){var r=e,i=this.options;null!=r.duration&&(i.duration=lU(r.duration)),null!=r.delay&&(i.delay=lU(r.delay));var o=r.params;if(o){var s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach((function(e){t&&s.hasOwnProperty(e)||(s[e]=wU(o[e],s,n.errors))}))}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach((function(e){n[e]=t[e]}))}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new e(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=WU,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new KU(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,r,i,o){var s=[];if(r&&s.push(this.element),e.length>0){e=(e=e.replace(zU,"."+this._enterClassName)).replace(GU,"."+this._leaveClassName);var a=this._driver.query(this.element,e,1!=n);0!==n&&(a=n<0?a.slice(a.length+n,a.length):a.slice(0,n)),s.push.apply(s,_toConsumableArray(a))}return i||0!=s.length||o.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),s}},{key:"params",get:function(){return this.options.params}}]),e}(),QU=function(){function e(t,n,r,i){_classCallCheck(this,e),this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach((function(e){t._backFill[e]=t._globalTimelineStyles[e]||"*",t._currentKeyframe[e]="*"})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,r){var i=this;t&&(this._previousKeyframe.easing=t);var o=r&&r.params||{},s=function(e,t){var n,r={};return e.forEach((function(e){"*"===e?(n=n||Object.keys(t)).forEach((function(e){r[e]="*"})):pU(e,!1,r)})),r}(e,this._globalTimelineStyles);Object.keys(s).forEach((function(e){var t=wU(s[e],o,n);i._pendingStyles[e]=t,i._localTimelineStyles.hasOwnProperty(e)||(i._backFill[e]=i._globalTimelineStyles.hasOwnProperty(e)?i._globalTimelineStyles[e]:"*"),i._updateStyle(e,t)}))}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){e._currentKeyframe[n]=t[n]})),Object.keys(this._localTimelineStyles).forEach((function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])})))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach((function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach((function(n){var r=t._styleSummary[n],i=e._styleSummary[n];(!r||i.time>r.time)&&t._updateStyle(n,i.value)}))}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach((function(o,s){var a=pU(o,!0);Object.keys(a).forEach((function(e){var r=a[e];"!"==r?t.add(e):"*"==r&&n.add(e)})),r||(a.offset=s/e.duration),i.push(a)}));var o=t.size?CU(t.values()):[],s=n.size?CU(n.values()):[];if(r){var a=i[0],u=dU(a);a.offset=0,u.offset=1,i=[a,u]}return UU(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}}]),e}(),KU=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s,a){var u,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,n),(u=t.call(this,e,r,a.delay)).element=r,u.keyframes=i,u.preStyleProps=o,u.postStyleProps=s,u._stretchStartingKeyframe=c,u.timings={duration:a.duration,delay:a.delay,easing:a.easing},u}return _createClass(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,r=t.duration,i=t.easing;if(this._stretchStartingKeyframe&&n){var o=[],s=r+n,a=n/s,u=pU(e[0],!1);u.offset=0,o.push(u);var c=pU(e[0],!1);c.offset=YU(a),o.push(c);for(var l=e.length-1,h=1;h<=l;h++){var f=pU(e[h],!1);f.offset=YU((n+f.offset*r)/s),o.push(f)}r=s,n=0,i="",e=o}return UU(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(QU);function YU(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var ZU=function e(){_classCallCheck(this,e)},XU=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"normalizePropertyName",value:function(e,t){return EU(e)}},{key:"normalizeStyleValue",value:function(e,t,n,r){var i="",o=n.toString().trim();if(JU[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&r.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return o+i}}]),n}(ZU),JU=function(e){var t={};return e.forEach((function(e){return t[e]=!0})),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function eB(e,t,n,r,i,o,s,a,u,c,l,h,f){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}var tB={},nB=function(){function e(t,n,r){_classCallCheck(this,e),this._triggerName=t,this.ast=n,this._stateStyles=r}return _createClass(e,[{key:"match",value:function(e,t,n,r){return function(e,t,n,r,i){return e.some((function(e){return e(t,n,r,i)}))}(this.ast.matchers,e,t,n,r)}},{key:"buildStyles",value:function(e,t,n){var r=this._stateStyles["*"],i=this._stateStyles[e],o=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):o}},{key:"build",value:function(e,t,n,r,i,o,s,a,u,c){var l=[],h=this.ast.options&&this.ast.options.params||tB,f=this.buildStyles(n,s&&s.params||tB,l),d=a&&a.params||tB,p=this.buildStyles(r,d,l),v=new Set,g=new Map,y=new Map,m="void"===r,_={params:Object.assign(Object.assign({},h),d)},b=c?[]:HU(e,t,this.ast.animation,i,o,f,p,_,u,l),k=0;if(b.forEach((function(e){k=Math.max(e.duration+e.delay,k)})),l.length)return eB(t,this._triggerName,n,r,m,f,p,[],[],g,y,k,l);b.forEach((function(e){var n=e.element,r=Qj(g,n,{});e.preStyleProps.forEach((function(e){return r[e]=!0}));var i=Qj(y,n,{});e.postStyleProps.forEach((function(e){return i[e]=!0})),n!==t&&v.add(n)}));var w=CU(v.values());return eB(t,this._triggerName,n,r,m,f,p,b,w,g,y,k)}}]),e}(),rB=function(){function e(t,n){_classCallCheck(this,e),this.styles=t,this.defaultParams=n}return _createClass(e,[{key:"buildStyles",value:function(e,t){var n={},r=dU(this.defaultParams);return Object.keys(e).forEach((function(t){var n=e[t];null!=n&&(r[t]=n)})),this.styles.styles.forEach((function(e){if("string"!=typeof e){var i=e;Object.keys(i).forEach((function(e){var o=i[e];o.length>1&&(o=wU(o,r,t)),n[e]=o}))}})),n}}]),e}(),iB=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.name=t,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(e){r.states[e.name]=new rB(e.style,e.options&&e.options.params||{})})),oB(this.states,"true","1"),oB(this.states,"false","0"),n.transitions.forEach((function(e){r.transitionFactories.push(new nB(t,e,r.states))})),this.fallbackTransition=new nB(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(e,[{key:"matchTransition",value:function(e,t,n,r){return this.transitionFactories.find((function(i){return i.match(e,t,n,r)}))||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),e}();function oB(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var sB=new BU,aB=function(){function e(t,n,r){_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return _createClass(e,[{key:"register",value:function(e,t){var n=[],r=NU(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[e]=r}},{key:"_buildPlayer",value:function(e,t,n){var r=e.element,i=Hj(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],s=this._animations[e],a=new Map;if(s?(n=HU(this._driver,t,s,"ng-enter","ng-leave",{},{},i,sB,o)).forEach((function(e){var t=Qj(a,e.element,{});e.postStyleProps.forEach((function(e){return t[e]=null}))})):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));a.forEach((function(e,t){Object.keys(e).forEach((function(n){e[n]=r._driver.computeStyle(t,n,"*")}))}));var u=Gj(n.map((function(e){var t=a.get(e.element);return r._buildPlayer(e,{},t)})));return this._playersById[e]=u,u.onDestroy((function(){return r.destroy(e)})),this.players.push(u),u}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t}},{key:"listen",value:function(e,t,n,r){var i=$j(t,"","","");return qj(this._getPlayer(e),n,i,r),function(){}}},{key:"command",value:function(e,t,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,r[0]||{});else this.register(e,r[0])}}]),e}(),uB=[],cB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},lB={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hB=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,e),this.namespaceId=n;var r,i=t&&t.hasOwnProperty("value");if(this.value=null!=(r=i?t.value:t)?r:null,i){var o=dU(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return _createClass(e,[{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach((function(e){null==n[e]&&(n[e]=t[e])}))}}},{key:"params",get:function(){return this.options.params}}]),e}(),fB=new hB("void"),dB=function(){function e(t,n,r){_classCallCheck(this,e),this.id=t,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,bB(n,this._hostClassName)}return _createClass(e,[{key:"listen",value:function(e,t,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var s=Qj(this._elementListeners,e,[]),a={name:t,phase:n,callback:r};s.push(a);var u=Qj(this._engine.statesByElement,e,{});return u.hasOwnProperty(t)||(bB(e,"ng-trigger"),bB(e,"ng-trigger-"+t),u[t]=fB),function(){o._engine.afterFlush((function(){var e=s.indexOf(a);e>=0&&s.splice(e,1),o._triggers[t]||delete u[t]}))}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(t),s=new vB(this.id,t,e),a=this._engine.statesByElement.get(e);a||(bB(e,"ng-trigger"),bB(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,a={}));var u=a[t],c=new hB(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),a[t]=c,u||(u=fB),"void"===c.value||u.value!==c.value){var l=Qj(this._engine.playersByElement,e,[]);l.forEach((function(e){e.namespaceId==r.id&&e.triggerName==t&&e.queued&&e.destroy()}));var h=o.matchTransition(u.value,c.value,e,c.params),f=!1;if(!h){if(!i)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:u,toState:c,player:s,isFallbackTransition:f}),f||(bB(e,"ng-animate-queued"),s.onStart((function(){kB(e,"ng-animate-queued")}))),s.onDone((function(){var t=r.players.indexOf(s);t>=0&&r.players.splice(t,1);var n=r._engine.playersByElement.get(e);if(n){var i=n.indexOf(s);i>=0&&n.splice(i,1)}})),this.players.push(s),l.push(s),s}if(!function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}(u.params,c.params)){var d=[],p=o.matchStyles(u.value,u.params,d),v=o.matchStyles(c.value,c.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush((function(){mU(e,p),yU(e,v)}))}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach((function(t,n){delete t[e]})),this._elementListeners.forEach((function(n,r){t._elementListeners.set(r,n.filter((function(t){return t.name!=e})))}))}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach((function(e){return e.destroy()})),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this,r=this._engine.driver.query(e,".ng-trigger",!0);r.forEach((function(e){if(!e.__ng_removed){var r=n._engine.fetchNamespacesByElement(e);r.size?r.forEach((function(n){return n.triggerLeaveAnimation(e,t,!1,!0)})):n.clearElementCache(e)}})),this._engine.afterFlushAnimationsDone((function(){return r.forEach((function(e){return n.clearElementCache(e)}))}))}},{key:"triggerLeaveAnimation",value:function(e,t,n,r){var i=this,o=this._engine.statesByElement.get(e);if(o){var s=[];if(Object.keys(o).forEach((function(t){if(i._triggers[t]){var n=i.trigger(e,t,"void",r);n&&s.push(n)}})),s.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&Gj(s).onDone((function(){return i._engine.processLeaveNode(e)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e);if(n){var r=new Set;n.forEach((function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=t._triggers[i].fallbackTransition,s=t._engine.statesByElement.get(e)[i]||fB,a=new hB("void"),u=new vB(t.id,i,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:i,transition:o,fromState:s,toState:a,player:u,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(e,t){var n=this,r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else for(var s=e;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{var a=e.__ng_removed;a&&a!==cB||(r.afterFlush((function(){return n.clearElementCache(e)})),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}}},{key:"insertNode",value:function(e,t){bB(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach((function(r){var i=r.player;if(!i.destroyed){var o=r.element,s=t._elementListeners.get(o);s&&s.forEach((function(t){if(t.name==r.triggerName){var n=$j(o,r.triggerName,r.fromState.value,r.toState.value);n._data=e,qj(r.player,t.phase,n,t.callback)}})),i.markedForDestroy?t._engine.afterFlush((function(){i.destroy()})):n.push(r)}})),this._queue=[],n.sort((function(e,n){var r=e.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:t._engine.driver.containsElement(e.element,n.element)?1:-1}))}},{key:"destroy",value:function(e){this.players.forEach((function(e){return e.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find((function(t){return t.element===e}))||t}}]),e}(),pB=function(){function e(t,n,r){_classCallCheck(this,e),this.bodyNode=t,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return _createClass(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"createNamespace",value:function(e,t){var n=new dB(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var r=this._fetchNamespace(e);this.afterFlush((function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(r);t>=0&&n._namespaceList.splice(t,1)})),this.afterFlushAnimationsDone((function(){return r.destroy(t)}))}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var s=this._fetchNamespace(o);s&&t.add(s)}}return t}},{key:"trigger",value:function(e,t,n,r){if(gB(t)){var i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}},{key:"insertNode",value:function(e,t,n,r){if(gB(t)){var i=t.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){var s=this._fetchNamespace(e);s&&s.insertNode(t,n)}r&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),bB(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),kB(e,"ng-animate-disabled"))}},{key:"removeNode",value:function(e,t,n,r){if(gB(t)){var i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){var o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}},{key:"markElementAsRemoved",value:function(e,t,n,r){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,r,i){return gB(t)?this._fetchNamespace(e).listen(t,n,r,i):function(){}}},{key:"_buildInstruction",value:function(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,".ng-trigger",!0);n.forEach((function(e){return t.destroyActiveAnimationsForElement(e)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,".ng-animating",!0)).forEach((function(e){return t.finishActiveQueriedAnimationOnElement(e)}))}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach((function(e){e.queued?e.markedForDestroy=!0:e.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach((function(e){return e.finish()}))}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise((function(t){if(e.players.length)return Gj(e.players).onDone((function(){return t()}));t()}))}},{key:"processLeaveNode",value:function(e){var t=this,n=e.__ng_removed;if(n&&n.setForRemoval){if(e.__ng_removed=cB,n.namespaceId){this.destroyInnerAnimations(e);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach((function(e){t.markElementAsDisabled(e,!1)}))}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(t,n){return e._balanceNamespaceList(t,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)bB(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,t)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(e){return e()})),this._flushFns=[],this._whenQuietFns.length){var a=this._whenQuietFns;this._whenQuietFns=[],n.length?Gj(n).onDone((function(){a.forEach((function(e){return e()}))})):a.forEach((function(e){return e()}))}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))}},{key:"_flushAnimations",value:function(e,t){var n=this,r=new BU,i=[],o=new Map,s=[],a=new Map,u=new Map,c=new Map,l=new Set;this.disabledNodes.forEach((function(e){l.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),r=0;r<t.length;r++)l.add(t[r])}));var h=this.bodyNode,f=Array.from(this.statesByElement.keys()),d=_B(f,this.collectedEnterElements),p=new Map,v=0;d.forEach((function(e,t){var n="ng-enter"+v++;p.set(t,n),e.forEach((function(e){return bB(e,n)}))}));for(var g=[],y=new Set,m=new Set,_=0;_<this.collectedLeaveElements.length;_++){var b=this.collectedLeaveElements[_],k=b.__ng_removed;k&&k.setForRemoval&&(g.push(b),y.add(b),k.hasAnimation?this.driver.query(b,".ng-star-inserted",!0).forEach((function(e){return y.add(e)})):m.add(b))}var w=new Map,C=_B(f,Array.from(y));C.forEach((function(e,t){var n="ng-leave"+v++;w.set(t,n),e.forEach((function(e){return bB(e,n)}))})),e.push((function(){d.forEach((function(e,t){var n=p.get(t);e.forEach((function(e){return kB(e,n)}))})),C.forEach((function(e,t){var n=w.get(t);e.forEach((function(e){return kB(e,n)}))})),g.forEach((function(e){n.processLeaveNode(e)}))}));for(var S=[],E=[],I=this._namespaceList.length-1;I>=0;I--)this._namespaceList[I].drainQueuedTransitions(t).forEach((function(e){var t=e.player,o=e.element;if(S.push(t),n.collectedEnterElements.length){var l=o.__ng_removed;if(l&&l.setForMove)return void t.destroy()}var f=!h||!n.driver.containsElement(h,o),d=w.get(o),v=p.get(o),g=n._buildInstruction(e,r,v,d,f);if(g.errors&&g.errors.length)E.push(g);else{if(f)return t.onStart((function(){return mU(o,g.fromStyles)})),t.onDestroy((function(){return yU(o,g.toStyles)})),void i.push(t);if(e.isFallbackTransition)return t.onStart((function(){return mU(o,g.fromStyles)})),t.onDestroy((function(){return yU(o,g.toStyles)})),void i.push(t);g.timelines.forEach((function(e){return e.stretchStartingKeyframe=!0})),r.append(o,g.timelines),s.push({instruction:g,player:t,element:o}),g.queriedElements.forEach((function(e){return Qj(a,e,[]).push(t)})),g.preStyleProps.forEach((function(e,t){var n=Object.keys(e);if(n.length){var r=u.get(t);r||u.set(t,r=new Set),n.forEach((function(e){return r.add(e)}))}})),g.postStyleProps.forEach((function(e,t){var n=Object.keys(e),r=c.get(t);r||c.set(t,r=new Set),n.forEach((function(e){return r.add(e)}))}))}}));if(E.length){var T=[];E.forEach((function(e){T.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach((function(e){return T.push("- ".concat(e,"\n"))}))})),S.forEach((function(e){return e.destroy()})),this.reportError(T)}var x=new Map,A=new Map;s.forEach((function(e){var t=e.element;r.has(t)&&(A.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,x))})),i.forEach((function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach((function(e){Qj(x,t,[]).push(e),e.destroy()}))}));var O=g.filter((function(e){return CB(e,u,c)})),D=new Map;mB(D,this.driver,m,c,"*").forEach((function(e){CB(e,u,c)&&O.push(e)}));var R=new Map;d.forEach((function(e,t){mB(R,n.driver,new Set(e),u,"!")})),O.forEach((function(e){var t=D.get(e),n=R.get(e);D.set(e,Object.assign(Object.assign({},t),n))}));var P=[],N=[],F={};s.forEach((function(e){var t=e.element,s=e.player,a=e.instruction;if(r.has(t)){if(l.has(t))return s.onDestroy((function(){return yU(t,a.toStyles)})),s.disabled=!0,s.overrideTotalTime(a.totalTime),void i.push(s);var u=F;if(A.size>1){for(var c=t,h=[];c=c.parentNode;){var f=A.get(c);if(f){u=f;break}h.push(c)}h.forEach((function(e){return A.set(e,u)}))}var d=n._buildAnimation(s.namespaceId,a,x,o,R,D);if(s.setRealPlayer(d),u===F)P.push(s);else{var p=n.playersByElement.get(u);p&&p.length&&(s.parentPlayer=Gj(p)),i.push(s)}}else mU(t,a.fromStyles),s.onDestroy((function(){return yU(t,a.toStyles)})),N.push(s),l.has(t)&&i.push(s)})),N.forEach((function(e){var t=o.get(e.element);if(t&&t.length){var n=Gj(t);e.setRealPlayer(n)}})),i.forEach((function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()}));for(var L=0;L<g.length;L++){var M=g[L],V=M.__ng_removed;if(kB(M,"ng-leave"),!V||!V.hasAnimation){var j=[];if(a.size){var U=a.get(M);U&&U.length&&j.push.apply(j,_toConsumableArray(U));for(var B=this.driver.query(M,".ng-animating",!0),z=0;z<B.length;z++){var G=a.get(B[z]);G&&G.length&&j.push.apply(j,_toConsumableArray(G))}}var H=j.filter((function(e){return!e.destroyed}));H.length?wB(this,M,H):this.processLeaveNode(M)}}return g.length=0,P.forEach((function(e){n.players.push(e),e.onDone((function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)})),e.play()})),P}},{key:"elementContainsData",value:function(e,t){var n=!1,r=t.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,r,i){var o=[];if(t){var s=this.playersByQueriedElement.get(e);s&&(o=s)}else{var a=this.playersByElement.get(e);if(a){var u=!i||"void"==i;a.forEach((function(e){e.queued||(u||e.triggerName==r)&&o.push(e)}))}}return(n||r)&&(o=o.filter((function(e){return!(n&&n!=e.namespaceId||r&&r!=e.triggerName)}))),o}},{key:"_beforeAnimationBuild",value:function(e,t,n){var r,i=this,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName,u=_createForOfIteratorHelper(t.timelines);try{var c=function(){var e=r.value.element,u=e!==o,c=Qj(n,e,[]);i._getPreviousPlayers(e,u,s,a,t.toState).forEach((function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),c.push(e)}))};for(u.s();!(r=u.n()).done;)c()}catch(l){u.e(l)}finally{u.f()}mU(o,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,r,i,o){var s=this,a=t.triggerName,u=t.element,c=[],l=new Set,h=new Set,f=t.timelines.map((function(t){var f=t.element;l.add(f);var d=f.__ng_removed;if(d&&d.removedBeforeQueried)return new fy(t.duration,t.delay);var p,v,g=f!==u,y=(p=(n.get(f)||uB).map((function(e){return e.getRealPlayer()})),v=[],function e(t,n){for(var r=0;r<t.length;r++){var i=t[r];i instanceof dy?e(i.players,n):n.push(i)}}(p,v),v).filter((function(e){return!!e.element&&e.element===f})),m=i.get(f),_=o.get(f),b=Hj(0,s._normalizer,0,t.keyframes,m,_),k=s._buildPlayer(t,b,y);if(t.subTimeline&&r&&h.add(f),g){var w=new vB(e,a,f);w.setRealPlayer(k),c.push(w)}return k}));c.forEach((function(e){Qj(s.playersByQueriedElement,e.element,[]).push(e),e.onDone((function(){return function(e,t,n){var r;if(e instanceof Map){if(r=e.get(t)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}}else if(r=e[t]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete e[t]}return r}(s.playersByQueriedElement,e.element,e)}))})),l.forEach((function(e){return bB(e,"ng-animating")}));var d=Gj(f);return d.onDestroy((function(){l.forEach((function(e){return kB(e,"ng-animating")})),yU(u,t.toStyles)})),h.forEach((function(e){Qj(r,e,[]).push(d)})),d}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new fy(e.duration,e.delay)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach((function(t){t.players.forEach((function(t){t.queued&&e.push(t)}))})),e}}]),e}(),vB=function(){function e(t,n,r){_classCallCheck(this,e),this.namespaceId=t,this.triggerName=n,this.element=r,this._player=new fy,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach((function(n){t._queuedCallbacks[n].forEach((function(t){return qj(e,n,void 0,t)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart((function(){return n.triggerCallback("start")})),e.onDone((function(){return t.finish()})),e.onDestroy((function(){return t.destroy()}))}},{key:"_queueEvent",value:function(e,t){Qj(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function gB(e){return e&&1===e.nodeType}function yB(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function mB(e,t,n,r,i){var o=[];n.forEach((function(e){return o.push(yB(e))}));var s=[];r.forEach((function(n,r){var o={};n.forEach((function(e){var n=o[e]=t.computeStyle(r,e,i);n&&0!=n.length||(r.__ng_removed=lB,s.push(r))})),e.set(r,o)}));var a=0;return n.forEach((function(e){return yB(e,o[a++])})),s}function _B(e,t){var n=new Map;if(e.forEach((function(e){return n.set(e,[])})),0==t.length)return n;var r=new Set(t),i=new Map;return t.forEach((function(e){var t=function e(t){if(!t)return 1;var o=i.get(t);if(o)return o;var s=t.parentNode;return o=n.has(s)?s:r.has(s)?1:e(s),i.set(t,o),o}(e);1!==t&&n.get(t).push(e)})),n}function bB(e,t){if(e.classList)e.classList.add(t);else{var n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function kB(e,t){if(e.classList)e.classList.remove(t);else{var n=e.$$classes;n&&delete n[t]}}function wB(e,t,n){Gj(n).onDone((function(){return e.processLeaveNode(t)}))}function CB(e,t,n){var r=n.get(e);if(!r)return!1;var i=t.get(e);return i?r.forEach((function(e){return i.add(e)})):t.set(e,r),n.delete(e),!0}var SB=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new pB(t,n,r),this._timelineEngine=new aB(t,n,r),this._transitionEngine.onRemovalComplete=function(e,t){return i.onRemovalComplete(e,t)}}return _createClass(e,[{key:"registerTrigger",value:function(e,t,n,r,i){var o=e+"-"+r,s=this._triggerCache[o];if(!s){var a=[],u=NU(this._driver,i,a);if(a.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(a.join("\n - ")));s=function(e,t){return new iB(e,t)}(r,u),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(t,r,s)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}},{key:"onRemove",value:function(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,n,r){if("@"==n.charAt(0)){var i=_slicedToArray(Kj(n),2),o=i[0],s=i[1];this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,n,r)}},{key:"listen",value:function(e,t,n,r,i){if("@"==n.charAt(0)){var o=_slicedToArray(Kj(n),2),s=o[0],a=o[1];return this._timelineEngine.listen(s,t,a,i)}return this._transitionEngine.listen(e,t,n,r,i)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),e}();function EB(e,t){var n=null,r=null;return Array.isArray(t)&&t.length?(n=TB(t[0]),t.length>1&&(r=TB(t[t.length-1]))):t&&(n=TB(t)),n||r?new IB(e,n,r):null}var IB=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;var i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}return _createClass(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&yU(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(yU(this._element,this._initialStyles),this._endStyles&&(yU(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(mU(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(mU(this._element,this._endStyles),this._endStyles=null),yU(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function TB(e){for(var t=null,n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];xB(i)&&((t=t||{})[i]=e[i])}return t}function xB(e){return"display"===e||"position"===e}var AB=function(){function e(t,n,r,i,o,s,a){var u=this;_classCallCheck(this,e),this._element=t,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=s,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return u._handleCallback(e)}}return _createClass(e,[{key:"apply",value:function(){var e,t,n;e=this._element,t="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=FB(e,"").trim()).length&&(function(e,t){for(var n=0;n<e.length;n++)e.charAt(n)}(n),t="".concat(n,", ").concat(t)),NB(e,"",t),PB(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){OB(this._element,this._name,"paused")}},{key:"resume",value:function(){OB(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=DB(this._element,this._name);this._position=e*this._duration,NB(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),PB(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){var n=FB(e,"").split(","),r=RB(n,t);r>=0&&(n.splice(r,1),NB(e,"",n.join(",")))}(this._element,this._name))}}]),e}();function OB(e,t,n){NB(e,"PlayState",n,DB(e,t))}function DB(e,t){var n=FB(e,"");return n.indexOf(",")>0?RB(n.split(","),t):RB([n],t)}function RB(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function PB(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function NB(e,t,n,r){var i="animation"+t;if(null!=r){var o=e.style[i];if(o.length){var s=o.split(",");s[r]=n,n=s.join(",")}}e.style[i]=n}function FB(e,t){return e.style["animation"+t]}var LB=function(){function e(t,n,r,i,o,s,a,u){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=a,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=i+o,this._buildStyler()}return _createClass(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new AB(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return e.finish()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(r){"offset"!=r&&(t[r]=n?e._finalStyles[r]:AU(e.element,r))}))}this.currentSnapshot=t}}]),e}(),MB=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).element=e,i._startingStyles={},i.__initialized=!1,i._styles=sU(r),i}return _createClass(n,[{key:"init",value:function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(t){e._startingStyles[t]=e.element.style[t]})),_get(_getPrototypeOf(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(t){return e.element.style.setProperty(t,e._styles[t])})),_get(_getPrototypeOf(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)})),this._startingStyles=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this))}}]),n}(fy),VB=function(){function e(){_classCallCheck(this,e),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return nU(e)}},{key:"matchesElement",value:function(e,t){return rU(e,t)}},{key:"containsElement",value:function(e,t){return iU(e,t)}},{key:"query",value:function(e,t,n){return oU(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map((function(e){return sU(e)}));var r="@keyframes ".concat(t," {\n"),i="";n.forEach((function(e){i=" ";var t=parseFloat(e.offset);r+="".concat(i).concat(100*t,"% {\n"),i+=" ",Object.keys(e).forEach((function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(t,": ").concat(n,";\n"))}})),r+=i+"}\n"})),r+="}\n";var o=document.createElement("style");return o.innerHTML=r,o}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0;s&&this._notifyFaultyScrubber();var a=o.filter((function(e){return e instanceof LB})),u={};IU(n,r)&&a.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return u[e]=t[e]}))}));var c=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach((function(e){Object.keys(e).forEach((function(n){"offset"!=n&&"easing"!=n&&(t[n]=e[n])}))})),t}(t=TU(e,t,u));if(0==n)return new MB(e,c);var l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,l,t);document.querySelector("head").appendChild(h);var f=EB(e,t),d=new LB(e,t,l,n,r,i,c,f);return d.onDestroy((function(){var e;(e=h).parentNode.removeChild(e)})),d}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),e}(),jB=function(){function e(t,n,r,i){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return e._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:AU(e.element,n))})),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),e}(),UB=function(){function e(){_classCallCheck(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(BB().toString()),this._cssKeyframesDriver=new VB}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return nU(e)}},{key:"matchesElement",value:function(e,t){return rU(e,t)}},{key:"containsElement",value:function(e,t){return iU(e,t)}},{key:"query",value:function(e,t,n){return oU(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0;if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,o);var a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);var u={},c=o.filter((function(e){return e instanceof jB}));IU(n,r)&&c.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return u[e]=t[e]}))}));var l=EB(e,t=TU(e,t=t.map((function(e){return pU(e,!1)})),u));return new jB(e,t,a,l)}}]),e}();function BB(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var zB,GB=((zB=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._nextAnimationId=0,i._renderer=e.createRenderer(r.body,{id:"0",encapsulation:ct.None,styles:[],data:{animation:[]}}),i}return _createClass(n,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?ay(e):e;return WB(this._renderer,null,t,"register",[n]),new HB(t,this._renderer)}}]),n}(iy)).\u0275fac=function(e){return new(e||zB)(Ke(ya),Ke(Nl))},zB.\u0275prov=he({token:zB,factory:zB.\u0275fac}),zB),HB=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._id=e,i._renderer=r,i}return _createClass(n,[{key:"create",value:function(e,t){return new qB(this._id,e,t||{},this._renderer)}}]),n}(function(){return function e(){_classCallCheck(this,e)}}()),qB=function(){function e(t,n,r,i){_classCallCheck(this,e),this.id=t,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return _createClass(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return WB(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){return 0}}]),e}();function WB(e,t,n,r,i){return e.setProperty(t,"@@".concat(n,":").concat(r),i)}var $B,QB,KB,YB,ZB=(($B=function(){function e(t,n,r){_classCallCheck(this,e),this.delegate=t,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return _createClass(e,[{key:"createRenderer",value:function(e,t){var n=this,r=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var i=this._rendererCache.get(r);return i||(i=new XB("",r,this.engine),this._rendererCache.set(r,i)),i}var o=t.id,s=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(s,e),t.data.animation.forEach((function t(r){Array.isArray(r)?r.forEach(t):n.engine.registerTrigger(o,s,e,r.name,r)})),new JB(this,s,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then((function(){e._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(e,t,n){var r=this;e>=0&&e<this._microtaskId?this._zone.run((function(){return t(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){r._zone.run((function(){r._animationCallbacksBuffer.forEach((function(e){var t=_slicedToArray(e,2);(0,t[0])(t[1])})),r._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([t,n]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}()).\u0275fac=function(e){return new(e||$B)(Ke(ya),Ke(SB),Ke(oc))},$B.\u0275prov=he({token:$B,factory:$B.\u0275fac}),$B),XB=function(){function e(t,n,r){_classCallCheck(this,e),this.namespaceId=t,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return _createClass(e,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}},{key:"data",get:function(){return this.delegate.data}}]),e}(),JB=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;return _classCallCheck(this,n),(s=t.call(this,r,i,o)).factory=e,s.namespaceId=r,s}return _createClass(n,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){var r,i,o=this;if("@"==t.charAt(0)){var s,a=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),u=t.substr(1),c="";return"@"!=u.charAt(0)&&(i=(r=u).indexOf("."),u=(s=_slicedToArray([r.substring(0,i),r.substr(i+1)],2))[0],c=s[1]),this.engine.listen(this.namespaceId,a,u,c,(function(e){o.factory.scheduleListenerCallback(e._data||-1,n,e)}))}return this.delegate.listen(e,t,n)}}]),n}(XB),ez=((QB=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e.body,r,i)}return n}(SB)).\u0275fac=function(e){return new(e||QB)(Ke(Nl),Ke(cU),Ke(ZU))},QB.\u0275prov=he({token:QB,factory:QB.\u0275fac}),QB),tz=[{provide:cU,useFactory:function(){return"function"==typeof BB()?new UB:new VB}},{provide:new Ue("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:iy,useClass:GB},{provide:ZU,useFactory:function(){return new XU}},{provide:SB,useClass:ez},{provide:ya,useFactory:function(e,t,n){return new ZB(e,t,n)},deps:[Ug,SB,oc]}],nz=((YB=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:YB}),YB.\u0275inj=fe({factory:function(e){return new(e||YB)},providers:tz,imports:[Xg]}),YB),rz=((KB=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:KB,bootstrap:[Bj]}),KB.\u0275inj=fe({factory:function(e){return new(e||KB)},providers:[kg,mg,Df,_g],imports:[[Xg,Ej,$P,nz,A_,x_,mV,Ol.initializeApp(bg)]]}),KB);(function(){if(vr)throw new Error("Cannot enable prod mode after platform setup.");pr=!1})(),Yg().bootstrapModule(rz).catch((function(e){return console.error(e)}))},zVF4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw s(t)},s=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},a=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,a=s?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{o=e[n++];var a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0,a=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=l(e[n],t[n]));return e}var h=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}var p=function(e){function t(n,r){var i=e.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,v.prototype.create),i}return r.__extends(t,e),t}(Error),v=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],s=o?g(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new p(i,a),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},e}();function g(e,t){return e.replace(y,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var y=/\{\$([^}]+)}/g;function m(e){return JSON.parse(e)}var _=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=m(c(o[0])||""),n=m(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:t,claims:n,data:r,signature:i}},b=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}(),k=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=w),void 0===r.error&&(r.error=w),void 0===r.complete&&(r.complete=w);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function w(){}function C(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return e+" failed: "+r+" argument "}t.CONSTANTS=i,t.Deferred=h,t.ErrorFactory=v,t.FirebaseError=p,t.Sha1=b,t.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},t.assert=o,t.assertionError=s,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}},t.base64=u,t.base64Decode=c,t.base64Encode=function(e){var t=a(e);return u.encodeByteArray(t,!0)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createSubscribe=function(e,t){var n=new k(e,t);return n.subscribe.bind(n)},t.decode=_,t.deepCopy=function(e){return l(void 0,e)},t.deepExtend=l,t.errorPrefix=C,t.getUA=f,t.isAdmin=function(e){var t=_(e).claims;return"object"==typeof t&&!0===t.admin},t.isBrowser=function(){return"object"==typeof self&&self.self===self},t.isBrowserExtension=function(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id},t.isElectron=function(){return f().indexOf("Electron/")>=0},t.isEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isIE=function(){var e=f();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0},t.isIndexedDBAvailable=function(){return"indexedDB"in window&&null!==indexedDB},t.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},t.isNode=d,t.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},t.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.isSafari=function(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},t.isUWP=function(){return f().indexOf("MSAppHost/")>=0},t.isValidFormat=function(e){var t=_(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t=_(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},t.issuedAtTime=function(e){var t=_(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=m,t.map=function(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},t.querystring=function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.validateArgCount=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(C(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(C(e,t,r)+"must be a valid context object.")},t.validateIndexedDBOpenable=function(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}}))},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(C(e,t,r)+"must be a valid firebase namespace.")}},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);