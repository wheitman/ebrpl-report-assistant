function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(n,e)})(e)}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function asyncGeneratorStep(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(r,i)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){asyncGeneratorStep(o,r,i,s,a,"next",e)}function a(e){asyncGeneratorStep(o,r,i,s,a,"throw",e)}s(void 0)}))}}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{0:function(e,t,n){e.exports=n("zUnb")},"6Joi":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("mrSG"),o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,s=n("q/0M"),a=n("zVF4"),u=n("x7I3"),c=n("S+S0"),l=o.SDK_VERSION,h=new s.Logger("@firebase/firestore");function f(){return h.logLevel}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(h.logLevel<=s.LogLevel.DEBUG){var r=t.map(v);h.debug.apply(h,i.__spreadArrays(["Firestore ("+l+"): "+e],r))}}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(h.logLevel<=s.LogLevel.ERROR){var r=t.map(v);h.error.apply(h,i.__spreadArrays(["Firestore ("+l+"): "+e],r))}}function v(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(i){return e}}function g(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE ("+l+") INTERNAL ASSERTION FAILED: "+e;throw p(t),new Error(t)}function y(e,t){e||g()}function m(e,t){return e}function _(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var b=function(){function e(){}return e.t=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=_(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function k(e,t){return e<t?-1:e>t?1:0}function w(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function C(e){return e+"\0"}var S=function(e,t,n,r,i){this.s=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i},E=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"i",{get:function(){return"(default)"===this.database},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e.prototype.o=function(e){return k(this.projectId,e.projectId)||k(this.database,e.database)},e}();function I(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function T(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function x(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var A=function(){function e(e,t){this.h=e,this.u=t,this.l={}}return e.prototype.get=function(e){var t=this.h(e),n=this.l[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.u(o[0],e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.h(e),r=this.l[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.u(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.l[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.h(e),n=this.l[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.u(n[r][0],e))return 1===n.length?delete this.l[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){T(this.l,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];e(o[0],o[1])}}))},e.prototype._=function(){return x(this.l)},e}(),O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},D=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return i.__extends(t,e),t}(Error),R=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new D(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new D(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new D(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype.T=function(e){return this.seconds===e.seconds?k(this.nanoseconds,e.nanoseconds):k(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),P=function(){function e(e){this.timestamp=e}return e.I=function(t){return new e(t)},e.min=function(){return new e(new R(0,0))},e.prototype.o=function(e){return this.timestamp.T(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.A=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.R=function(){return this.timestamp},e}(),N=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&g(),void 0===n?n=e.length-t:n>e.length-t&&g(),this.segments=e,this.offset=t,this.m=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.m},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.P(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.V(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.g=function(e){return this.V(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},e.prototype.p=function(){return this.V(this.segments,this.offset,this.length-1)},e.prototype.v=function(){return this.segments[this.offset]},e.prototype.S=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype._=function(){return 0===this.length},e.prototype.D=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.C=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.F=function(){return this.segments.slice(this.offset,this.limit())},e.P=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.V=function(e,n,r){return new t(e,n,r)},t.prototype.N=function(){return this.F().join("/")},t.prototype.toString=function(){return this.N()},t.$=function(e){if(e.indexOf("//")>=0)throw new D(O.INVALID_ARGUMENT,"Invalid path ("+e+"). Paths must not contain // in them.");return new t(e.split("/").filter((function(e){return e.length>0})))},t}(N);F.k=new F([]);var L=/^[_a-zA-Z][_a-zA-Z0-9]*$/,M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.V=function(e,n,r){return new t(e,n,r)},t.M=function(e){return L.test(e)},t.prototype.N=function(){return this.F().map((function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),t.M(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.N()},t.prototype.L=function(){return 1===this.length&&"__name__"===this.get(0)},t.O=function(){return new t(["__name__"])},t.B=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new D(O.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<e.length;){var a=e[i];if("\\"===a){if(i+1===e.length)throw new D(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new D(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new D(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t}(N);M.k=new M([]);var V=function(){function e(e){this.path=e}return e.q=function(t){return new e(F.$(t).g(5))},e.prototype.U=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===F.P(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.P=function(e,t){return F.P(e.path,t.path)},e.W=function(e){return e.length%2==0},e.j=function(t){return new e(new F(t.slice()))},e}();function j(e){return null==e}function U(e){return-0===e&&1/e==-1/0}function B(e){return"number"==typeof e&&Number.isInteger(e)&&!U(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}V.EMPTY=new V(new F([]));var z=function(){function e(e){this.K=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return btoa(this.K)},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.K)},e.prototype.G=function(){return 2*this.K.length},e.prototype.o=function(e){return k(this.K,e.K)},e.prototype.isEqual=function(e){return this.K===e.K},e}();z.H=new z("");var H,G,q=function(){function e(e,t,n,r,i,o,s){void 0===i&&(i=P.min()),void 0===o&&(o=P.min()),void 0===s&&(s=z.H),this.target=e,this.targetId=t,this.Y=n,this.sequenceNumber=r,this.J=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return e.prototype.X=function(t){return new e(this.target,this.targetId,this.Y,t,this.J,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.Z=function(t,n){return new e(this.target,this.targetId,this.Y,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.tt=function(t){return new e(this.target,this.targetId,this.Y,this.sequenceNumber,this.J,t,this.resumeToken)},e}(),W=function(e){this.count=e};function $(e){switch(e){case O.OK:return g();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return g()}}function Q(e){if(void 0===e)return p("GRPC error has no .code"),O.UNKNOWN;switch(e){case H.OK:return O.OK;case H.CANCELLED:return O.CANCELLED;case H.UNKNOWN:return O.UNKNOWN;case H.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case H.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case H.INTERNAL:return O.INTERNAL;case H.UNAVAILABLE:return O.UNAVAILABLE;case H.UNAUTHENTICATED:return O.UNAUTHENTICATED;case H.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case H.NOT_FOUND:return O.NOT_FOUND;case H.ALREADY_EXISTS:return O.ALREADY_EXISTS;case H.PERMISSION_DENIED:return O.PERMISSION_DENIED;case H.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case H.ABORTED:return O.ABORTED;case H.OUT_OF_RANGE:return O.OUT_OF_RANGE;case H.UNIMPLEMENTED:return O.UNIMPLEMENTED;case H.DATA_LOSS:return O.DATA_LOSS;default:return g()}}(G=H||(H={}))[G.OK=0]="OK",G[G.CANCELLED=1]="CANCELLED",G[G.UNKNOWN=2]="UNKNOWN",G[G.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",G[G.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",G[G.NOT_FOUND=5]="NOT_FOUND",G[G.ALREADY_EXISTS=6]="ALREADY_EXISTS",G[G.PERMISSION_DENIED=7]="PERMISSION_DENIED",G[G.UNAUTHENTICATED=16]="UNAUTHENTICATED",G[G.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",G[G.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",G[G.ABORTED=10]="ABORTED",G[G.OUT_OF_RANGE=11]="OUT_OF_RANGE",G[G.UNIMPLEMENTED=12]="UNIMPLEMENTED",G[G.INTERNAL=13]="INTERNAL",G[G.UNAVAILABLE=14]="UNAVAILABLE",G[G.DATA_LOSS=15]="DATA_LOSS";var Y=function(){function e(e,t){this.P=e,this.root=t||Z.EMPTY}return e.prototype.et=function(t,n){return new e(this.P,this.root.et(t,n,this.P).st(null,null,Z.nt,null,null))},e.prototype.remove=function(t){return new e(this.P,this.root.remove(t,this.P).st(null,null,Z.nt,null,null))},e.prototype.get=function(e){for(var t=this.root;!t._();){var n=this.P(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n._();){var r=this.P(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype._=function(){return this.root._()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),e.prototype.it=function(){return this.root.it()},e.prototype.rt=function(){return this.root.rt()},e.prototype.ot=function(e){return this.root.ot(e)},e.prototype.forEach=function(e){this.ot((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.ot((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.ht=function(e){return this.root.ht(e)},e.prototype.at=function(){return new K(this.root,null,this.P,!1)},e.prototype.ut=function(e){return new K(this.root,e,this.P,!1)},e.prototype.ct=function(){return new K(this.root,null,this.P,!0)},e.prototype.lt=function(e){return new K(this.root,e,this.P,!0)},e}(),K=function(){function e(e,t,n,r){this._t=r,this.ft=[];for(var i=1;!e._();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this._t?e.left:e.right;else{if(0===i){this.ft.push(e);break}this.ft.push(e),e=this._t?e.right:e.left}}return e.prototype.dt=function(){var e=this.ft.pop(),t={key:e.key,value:e.value};if(this._t)for(e=e.left;!e._();)this.ft.push(e),e=e.right;else for(e=e.right;!e._();)this.ft.push(e),e=e.left;return t},e.prototype.wt=function(){return this.ft.length>0},e.prototype.Tt=function(){if(0===this.ft.length)return null;var e=this.ft[this.ft.length-1];return{key:e.key,value:e.value}},e}(),Z=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.st=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype._=function(){return!1},e.prototype.ot=function(e){return this.left.ot(e)||e(this.key,this.value)||this.right.ot(e)},e.prototype.ht=function(e){return this.right.ht(e)||e(this.key,this.value)||this.left.ht(e)},e.prototype.min=function(){return this.left._()?this:this.left.min()},e.prototype.it=function(){return this.min().key},e.prototype.rt=function(){return this.right._()?this.key:this.right.rt()},e.prototype.et=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.st(null,null,null,r.left.et(e,t,n),null):0===i?r.st(null,t,null,null,null):r.st(null,null,null,null,r.right.et(e,t,n))).Et()},e.prototype.It=function(){if(this.left._())return e.EMPTY;var t=this;return t.left.At()||t.left.left.At()||(t=t.Rt()),(t=t.st(null,null,null,t.left.It(),null)).Et()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left._()||i.left.At()||i.left.left.At()||(i=i.Rt()),i=i.st(null,null,null,i.left.remove(t,n),null);else{if(i.left.At()&&(i=i.Pt()),i.right._()||i.right.At()||i.right.left.At()||(i=i.Vt()),0===n(t,i.key)){if(i.right._())return e.EMPTY;r=i.right.min(),i=i.st(r.key,r.value,null,null,i.right.It())}i=i.st(null,null,null,null,i.right.remove(t,n))}return i.Et()},e.prototype.At=function(){return this.color},e.prototype.Et=function(){var e=this;return e.right.At()&&!e.left.At()&&(e=e.gt()),e.left.At()&&e.left.left.At()&&(e=e.Pt()),e.left.At()&&e.right.At()&&(e=e.pt()),e},e.prototype.Rt=function(){var e=this.pt();return e.right.left.At()&&(e=(e=(e=e.st(null,null,null,null,e.right.Pt())).gt()).pt()),e},e.prototype.Vt=function(){var e=this.pt();return e.left.left.At()&&(e=(e=e.Pt()).pt()),e},e.prototype.gt=function(){var t=this.st(null,null,e.RED,null,this.right.left);return this.right.st(null,null,this.color,t,null)},e.prototype.Pt=function(){var t=this.st(null,null,e.RED,this.left.right,null);return this.left.st(null,null,this.color,null,t)},e.prototype.pt=function(){var e=this.left.st(null,null,!this.left.color,null,null),t=this.right.st(null,null,!this.right.color,null,null);return this.st(null,null,!this.color,e,t)},e.prototype.yt=function(){var e=this.bt();return Math.pow(2,e)<=this.size+1},e.prototype.bt=function(){if(this.At()&&this.left.At())throw g();if(this.right.At())throw g();var e=this.left.bt();if(e!==this.right.bt())throw g();return e+(this.At()?0:1)},e}();Z.EMPTY=null,Z.RED=!0,Z.nt=!1,Z.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw g()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw g()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw g()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw g()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw g()},enumerable:!0,configurable:!0}),e.prototype.st=function(e,t,n,r,i){return this},e.prototype.et=function(e,t,n){return new Z(e,t)},e.prototype.remove=function(e,t){return this},e.prototype._=function(){return!0},e.prototype.ot=function(e){return!1},e.prototype.ht=function(e){return!1},e.prototype.it=function(){return null},e.prototype.rt=function(){return null},e.prototype.At=function(){return!1},e.prototype.yt=function(){return!0},e.prototype.bt=function(){return 0},e}());var X=function(){function e(e){this.P=e,this.data=new Y(this.P)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.it()},e.prototype.last=function(){return this.data.rt()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.ot((function(t,n){return e(t),!1}))},e.prototype.vt=function(e,t){for(var n=this.data.ut(e[0]);n.wt();){var r=n.dt();if(this.P(r.key,e[1])>=0)return;t(r.key)}},e.prototype.St=function(e,t){var n;for(n=void 0!==t?this.data.ut(t):this.data.at();n.wt();)if(!e(n.dt().key))return},e.prototype.Dt=function(e){var t=this.data.ut(e);return t.wt()?t.dt().key:null},e.prototype.at=function(){return new J(this.data.at())},e.prototype.ut=function(e){return new J(this.data.ut(e))},e.prototype.add=function(e){return this.st(this.data.remove(e).et(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.st(this.data.remove(e)):this},e.prototype._=function(){return this.data._()},e.prototype.Ct=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.at(),r=t.data.at();n.wt();){var i=n.dt().key,o=r.dt().key;if(0!==this.P(i,o))return!1}return!0},e.prototype.F=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.st=function(t){var n=new e(this.P);return n.data=t,n},e}(),J=function(){function e(e){this.Ft=e}return e.prototype.dt=function(){return this.Ft.dt().key},e.prototype.wt=function(){return this.Ft.wt()},e}(),ee=new Y(V.P);function te(){return ee}function ne(){return te()}var re=new Y(V.P);function ie(){return re}var oe=new Y(V.P),se=new X(V.P);function ae(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=se,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ue=new X(k);function ce(){return ue}var le=function(){function e(e){this.P=e?function(t,n){return e(t,n)||V.P(t.key,n.key)}:function(e,t){return V.P(e.key,t.key)},this.Nt=ie(),this.$t=new Y(this.P)}return e.kt=function(t){return new e(t.P)},e.prototype.has=function(e){return null!=this.Nt.get(e)},e.prototype.get=function(e){return this.Nt.get(e)},e.prototype.first=function(){return this.$t.it()},e.prototype.last=function(){return this.$t.rt()},e.prototype._=function(){return this.$t._()},e.prototype.indexOf=function(e){var t=this.Nt.get(e);return t?this.$t.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.$t.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e){this.$t.ot((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.st(t.Nt.et(e.key,e),t.$t.et(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.st(this.Nt.remove(e),this.$t.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.$t.at(),r=t.$t.at();n.wt();){var i=n.dt().key,o=r.dt().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.st=function(t,n){var r=new e;return r.P=this.P,r.Nt=t,r.$t=n,r},e}(),he=function(){function e(){this.xt=new Y(V.P)}return e.prototype.track=function(e){var t=e.doc.key,n=this.xt.get(t);n?0!==e.type&&3===n.type?this.xt=this.xt.et(t,e):3===e.type&&1!==n.type?this.xt=this.xt.et(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.xt=this.xt.et(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.xt=this.xt.et(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.xt=this.xt.remove(t):1===e.type&&2===n.type?this.xt=this.xt.et(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.xt=this.xt.et(t,{type:2,doc:e.doc}):g():this.xt=this.xt.et(t,e)},e.prototype.Mt=function(){var e=[];return this.xt.ot((function(t,n){e.push(n)})),e},e}(),fe=function(){function e(e,t,n,r,i,o,s,a){this.query=e,this.docs=t,this.Lt=n,this.docChanges=r,this.Ot=i,this.fromCache=o,this.Bt=s,this.qt=a}return e.Ut=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,le.kt(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.Ot._()},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.Bt===e.Bt&&this.Ot.isEqual(e.Ot)&&this.query.isEqual(e.query)&&this.docs.isEqual(e.docs)&&this.Lt.isEqual(e.Lt)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),de=function(){function e(e,t,n,r,i){this.J=e,this.Qt=t,this.Wt=n,this.jt=r,this.Kt=i}return e.Gt=function(t,n){var r=new Map;return r.set(t,pe.zt(t,n)),new e(P.min(),r,ce(),te(),ae())},e}(),pe=function(){function e(e,t,n,r,i){this.resumeToken=e,this.Ht=t,this.Yt=n,this.Jt=r,this.Xt=i}return e.zt=function(t,n){return new e(z.H,n,ae(),ae(),ae())},e}(),ve=function(e,t,n,r){this.Zt=e,this.removedTargetIds=t,this.key=n,this.te=r},ge=function(e,t){this.targetId=e,this.ee=t},ye=function(e,t,n,r){void 0===n&&(n=z.H),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},me=function(){function e(){this.se=0,this.ne=ke(),this.ie=z.H,this.re=!1,this.oe=!0}return Object.defineProperty(e.prototype,"Ht",{get:function(){return this.re},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.ie},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"he",{get:function(){return 0!==this.se},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ae",{get:function(){return this.oe},enumerable:!0,configurable:!0}),e.prototype.ue=function(e){e.G()>0&&(this.oe=!0,this.ie=e)},e.prototype.ce=function(){var e=ae(),t=ae(),n=ae();return this.ne.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:g()}})),new pe(this.ie,this.re,e,t,n)},e.prototype.le=function(){this.oe=!1,this.ne=ke()},e.prototype._e=function(e,t){this.oe=!0,this.ne=this.ne.et(e,t)},e.prototype.fe=function(e){this.oe=!0,this.ne=this.ne.remove(e)},e.prototype.de=function(){this.se+=1},e.prototype.we=function(){this.se-=1},e.prototype.Te=function(){this.oe=!0,this.re=!0},e}(),_e=function(){function e(e){this.Ee=e,this.Ie=new Map,this.Ae=te(),this.Re=be(),this.me=new X(k)}return e.prototype.Pe=function(e){for(var t=0,n=e.Zt;t<n.length;t++){var r=n[t];e.te instanceof Lt?this.Ve(r,e.te):e.te instanceof Mt&&this.ge(r,e.key,e.te)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)this.ge(o[i],e.key,e.te)},e.prototype.pe=function(e){var t=this;this.ye(e,(function(n){var r=t.be(n);switch(e.state){case 0:t.ve(n)&&r.ue(e.resumeToken);break;case 1:r.we(),r.he||r.le(),r.ue(e.resumeToken);break;case 2:r.we(),r.he||t.removeTarget(n);break;case 3:t.ve(n)&&(r.Te(),r.ue(e.resumeToken));break;case 4:t.ve(n)&&(t.Se(n),r.ue(e.resumeToken));break;default:g()}}))},e.prototype.ye=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ie.forEach((function(e,r){n.ve(r)&&t(r)}))},e.prototype.De=function(e){var t=e.targetId,n=e.ee.count,r=this.Ce(t);if(r){var i=r.target;if(tn(i))if(0===n){var o=new V(i.path);this.ge(t,o,new Mt(o,P.min()))}else y(1===n);else this.Fe(t)!==n&&(this.Se(t),this.me=this.me.add(t))}},e.prototype.Ne=function(e){var t=this,n=new Map;this.Ie.forEach((function(r,i){var o=t.Ce(i);if(o){if(r.Ht&&tn(o.target)){var s=new V(o.target.path);null!==t.Ae.get(s)||t.$e(i,s)||t.ge(i,s,new Mt(s,e))}r.ae&&(n.set(i,r.ce()),r.le())}}));var r=ae();this.Re.forEach((function(e,n){var i=!0;n.St((function(e){var n=t.Ce(e);return!n||2===n.Y||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new de(e,n,this.me,this.Ae,r);return this.Ae=te(),this.Re=be(),this.me=new X(k),i},e.prototype.Ve=function(e,t){if(this.ve(e)){var n=this.$e(e,t.key)?2:0;this.be(e)._e(t.key,n),this.Ae=this.Ae.et(t.key,t),this.Re=this.Re.et(t.key,this.ke(t.key).add(e))}},e.prototype.ge=function(e,t,n){if(this.ve(e)){var r=this.be(e);this.$e(e,t)?r._e(t,1):r.fe(t),this.Re=this.Re.et(t,this.ke(t).delete(e)),n&&(this.Ae=this.Ae.et(t,n))}},e.prototype.removeTarget=function(e){this.Ie.delete(e)},e.prototype.Fe=function(e){var t=this.be(e).ce();return this.Ee.xe(e).size+t.Yt.size-t.Xt.size},e.prototype.de=function(e){this.be(e).de()},e.prototype.be=function(e){var t=this.Ie.get(e);return t||(t=new me,this.Ie.set(e,t)),t},e.prototype.ke=function(e){var t=this.Re.get(e);return t||(t=new X(k),this.Re=this.Re.et(e,t)),t},e.prototype.ve=function(e){var t=null!==this.Ce(e);return t||d("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.Ce=function(e){var t=this.Ie.get(e);return t&&t.he?null:this.Ee.Me(e)},e.prototype.Se=function(e){var t=this;this.Ie.set(e,new me),this.Ee.xe(e).forEach((function(n){t.ge(e,n,null)}))},e.prototype.$e=function(e,t){return this.Ee.xe(e).has(t)},e}();function be(){return new Y(V.P)}function ke(){return new Y(V.P)}function we(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ce(e){var t=De(e.mapValue.fields.__local_write_time__.timestampValue);return new R(t.seconds,t.nanos)}var Se=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ee(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?we(e)?4:10:g()}function Ie(e,t){var n=Ee(e);if(n!==Ee(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ce(e).isEqual(Ce(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=De(e.timestampValue),r=De(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Pe(e.bytesValue).isEqual(Pe(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Re(e.geoPointValue.latitude)===Re(t.geoPointValue.latitude)&&Re(e.geoPointValue.longitude)===Re(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Re(e.integerValue)===Re(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Re(e.doubleValue),r=Re(t.doubleValue);return n===r?U(n)===U(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return w(e.arrayValue.values||[],t.arrayValue.values||[],Ie);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(I(n)!==I(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ie(n[i],r[i])))return!1;return!0}(e,t);default:return g()}}function Te(e,t){return void 0!==(e.values||[]).find((function(e){return Ie(e,t)}))}function xe(e,t){var n=Ee(e),r=Ee(t);if(n!==r)return k(n,r);switch(n){case 0:return 0;case 1:return k(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Re(e.integerValue||e.doubleValue),r=Re(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ae(e.timestampValue,t.timestampValue);case 4:return Ae(Ce(e),Ce(t));case 5:return k(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Pe(e),r=Pe(t);return n.o(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=k(n[i],r[i]);if(0!==o)return o}return k(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=k(Re(e.latitude),Re(t.latitude));return 0!==n?n:k(Re(e.longitude),Re(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=xe(n[i],r[i]);if(o)return o}return k(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=k(r[s],o[s]);if(0!==a)return a;var u=xe(n[r[s]],i[o[s]]);if(0!==u)return u}return k(r.length,o.length)}(e.mapValue,t.mapValue);default:throw g()}}function Ae(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return k(e,t);var n=De(e),r=De(t),i=k(n.seconds,r.seconds);return 0!==i?i:k(n.nanos,r.nanos)}function Oe(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){var t=De(e);return"time("+t.seconds+","+t.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Pe(t.bytesValue).toBase64():"referenceValue"in t?V.q(t.referenceValue).toString():"geoPointValue"in t?"geo("+(n=t.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in t?function(t){for(var n="[",r=!0,i=0,o=t.values||[];i<o.length;i++)r?r=!1:n+=",",n+=e(o[i]);return n+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var n="{",r=!0,i=0,o=Object.keys(t.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+e(t.fields[s])}return n+"}"}(t.mapValue):g();var n}(e)}function De(e){if(y(!!e),"string"==typeof e){var t=0,n=Se.exec(e);if(y(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Re(e.seconds),nanos:Re(e.nanos)}}function Re(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Pe(e){return"string"==typeof e?z.fromBase64String(e):z.fromUint8Array(e)}function Ne(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.N()}}function Fe(e){return!!e&&"integerValue"in e}function Le(e){return!!e&&"arrayValue"in e}function Me(e){return!!e&&"nullValue"in e}function Ve(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function je(e){return!!e&&"mapValue"in e}var Ue={asc:"ASCENDING",desc:"DESCENDING"},Be={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ze=function(e,t){this.s=e,this.Le=t};function He(e){return{integerValue:""+e}}function Ge(e,t){if(e.Le){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:U(t)?"-0":t}}function qe(e,t){return e.Le?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function We(e,t){return e.Le?t.toBase64():t.toUint8Array()}function $e(e,t){return e.Le?(y(void 0===t||"string"==typeof t),z.fromBase64String(t||"")):(y(void 0===t||t instanceof Uint8Array),z.fromUint8Array(t||new Uint8Array))}function Qe(e,t){return qe(e,t.R())}function Ye(e){return y(!!e),P.I(function(e){var t=De(e);return new R(t.seconds,t.nanos)}(e))}function Ke(e,t){return function(e){return new F(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).N()}function Ze(e){var t=F.$(e);return y(gt(t)),t}function Xe(e,t){return Ke(e.s,t.path)}function Je(e,t){var n=Ze(t);return y(n.get(1)===e.s.projectId),y(!n.get(3)&&!e.s.database||n.get(3)===e.s.database),new V(rt(n))}function et(e,t){return Ke(e.s,t)}function tt(e){var t=Ze(e);return 4===t.length?F.k:rt(t)}function nt(e){return new F(["projects",e.s.projectId,"databases",e.s.database]).N()}function rt(e){return y(e.length>4&&"documents"===e.get(4)),e.g(5)}function it(e,t,n){return{name:Xe(e,t),fields:n.proto.mapValue.fields}}function ot(e,t){var n;if(t instanceof Tt)n={update:it(e,t.key,t.value)};else if(t instanceof Ot)n={delete:Xe(e,t.key)};else if(t instanceof xt)n={update:it(e,t.key,t.data),updateMask:vt(t.Oe)};else if(t instanceof At)n={transform:{document:Xe(e,t.key),fieldTransforms:t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof yt)return{fieldPath:t.field.N(),setToServerValue:"REQUEST_TIME"};if(n instanceof mt)return{fieldPath:t.field.N(),appendMissingElements:{values:n.elements}};if(n instanceof _t)return{fieldPath:t.field.N(),removeAllFromArray:{values:n.elements}};if(n instanceof bt)return{fieldPath:t.field.N(),increment:n.Be};throw g()}(0,e)}))}};else{if(!(t instanceof Dt))return g();n={verify:Xe(e,t.key)}}return t.Ue.qe||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Qe(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:g()}(e,t.Ue)),n}function st(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Et.updateTime(Ye(e.updateTime)):void 0!==e.exists?Et.exists(e.exists):Et.Qe()}(t.currentDocument):Et.Qe();if(t.update){var r=Je(e,t.update.name),i=new Rt({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){return new wt((e.fieldPaths||[]).map((function(e){return M.B(e)})))}(t.updateMask);return new xt(r,i,o,n)}return new Tt(r,i,n)}if(t.delete){var s=Je(e,t.delete);return new Ot(s,n)}if(t.transform){var a=Je(e,t.transform.document),u=t.transform.fieldTransforms.map((function(t){return function(e,t){var n=null;"setToServerValue"in t?(y("REQUEST_TIME"===t.setToServerValue),n=yt.instance):"appendMissingElements"in t?n=new mt(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new _t(t.removeAllFromArray.values||[]):"increment"in t?n=new bt(e,t.increment):g();var r=M.B(t.fieldPath);return new Ct(r,n)}(e,t)}));return y(!0===n.exists),new At(a,u)}if(t.verify){var c=Je(e,t.verify);return new Dt(c,n)}return g()}function at(e,t){return{documents:[et(e,t.path)]}}function ut(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=et(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=et(e,r.p()),n.structuredQuery.from=[{collectionId:r.S()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return e instanceof Ut?function(e){if("=="===e.op){if(Ve(e.value))return{unaryFilter:{field:ht(e.field),op:"IS_NAN"}};if(Me(e.value))return{unaryFilter:{field:ht(e.field),op:"IS_NULL"}}}return{fieldFilter:{field:ht(e.field),op:(t=e.op,Be[t]),value:e.value}};var t}(e):g()}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return{field:ht((t=e).field),direction:(n=t.dir,Ue[n])};var t,n}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(e,t){return e.Le||j(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=ct(t.startAt)),t.endAt&&(n.structuredQuery.endAt=ct(t.endAt)),n}function ct(e){return{before:e.before,values:e.position}}function lt(e){return new Wt(e.values||[],!!e.before)}function ht(e){return{fieldPath:e.N()}}function ft(e){return M.B(e.fieldPath)}function dt(e){return Ut.create(ft(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return g()}}(e.fieldFilter.op),e.fieldFilter.value)}function pt(e){switch(e.unaryFilter.op){case"IS_NAN":var t=ft(e.unaryFilter.field);return Ut.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=ft(e.unaryFilter.field);return Ut.create(n,"==",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return g()}}function vt(e){var t=[];return e.fields.forEach((function(e){return t.push(e.N())})),{fieldPaths:t}}function gt(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var yt=function(){function e(){}return e.prototype.je=function(e,t){return function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(t,e)},e.prototype.Ke=function(e,t){return t},e.prototype.Ge=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e},e}();yt.instance=new yt;var mt=function(){function e(e){this.elements=e}return e.prototype.je=function(e,t){return this.apply(e)},e.prototype.Ke=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=kt(e),n=function(e){t.some((function(t){return Ie(t,e)}))||t.push(e)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:t}}},e.prototype.Ge=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e&&w(this.elements,t.elements,Ie)},e}(),_t=function(){function e(e){this.elements=e}return e.prototype.je=function(e,t){return this.apply(e)},e.prototype.Ke=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=kt(e),n=function(e){t=t.filter((function(t){return!Ie(t,e)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:t}}},e.prototype.Ge=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e&&w(this.elements,t.elements,Ie)},e}(),bt=function(){function e(e,t){this.serializer=e,this.Be=t}return e.prototype.je=function(e,t){var n=this.Ge(e),r=this.asNumber(n)+this.asNumber(this.Be);return Fe(n)&&Fe(this.Be)?He(r):Ge(this.serializer,r)},e.prototype.Ke=function(e,t){return t},e.prototype.Ge=function(e){return Fe(t=e)||function(e){return!!e&&"doubleValue"in e}(t)?e:{integerValue:0};var t},e.prototype.isEqual=function(t){return t instanceof e&&Ie(this.Be,t.Be)},e.prototype.asNumber=function(e){return Re(e.integerValue||e.doubleValue)},e}();function kt(e){return Le(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var wt=function(){function e(e){this.fields=e,e.sort(M.P)}return e.prototype.ze=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].D(e))return!0;return!1},e.prototype.isEqual=function(e){return w(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),Ct=function(){function e(e,t){this.field=e,this.transform=t}return e.prototype.isEqual=function(e){return this.field.isEqual(e.field)&&this.transform.isEqual(e.transform)},e}(),St=function(e,t){this.version=e,this.transformResults=t},Et=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.Qe=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"qe",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),e.prototype.He=function(e){return void 0!==this.updateTime?e instanceof Lt&&e.version.isEqual(this.updateTime):void 0===this.exists||this.exists===e instanceof Lt},e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}(),It=function(){function e(){}return e.prototype.Ye=function(e){},e.Je=function(e){return e instanceof Lt?e.version:P.min()},e}(),Tt=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).key=t,i.value=n,i.Ue=r,i.type=0,i}return i.__extends(t,e),t.prototype.Ke=function(e,t){return this.Ye(e),new Lt(this.key,t.version,this.value,{hasCommittedMutations:!0})},t.prototype.je=function(e,t,n){if(this.Ye(e),!this.Ue.He(e))return e;var r=It.Je(e);return new Lt(this.key,r,this.value,{Xe:!0})},t.prototype.Ze=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.value.isEqual(e.value)&&this.Ue.isEqual(e.Ue)},t}(It),xt=function(e){function t(t,n,r,i){var o=this;return(o=e.call(this)||this).key=t,o.data=n,o.Oe=r,o.Ue=i,o.type=1,o}return i.__extends(t,e),t.prototype.Ke=function(e,t){if(this.Ye(e),!this.Ue.He(e))return new Vt(this.key,t.version);var n=this.ts(e);return new Lt(this.key,t.version,n,{hasCommittedMutations:!0})},t.prototype.je=function(e,t,n){if(this.Ye(e),!this.Ue.He(e))return e;var r=It.Je(e),i=this.ts(e);return new Lt(this.key,r,i,{Xe:!0})},t.prototype.Ze=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.Oe.isEqual(e.Oe)&&this.Ue.isEqual(e.Ue)},t.prototype.ts=function(e){var t;return t=e instanceof Lt?e.data():Rt.empty(),this.es(t)},t.prototype.es=function(e){var t=this,n=new Pt(e);return this.Oe.fields.forEach((function(e){if(!e._()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.ss()},t}(It),At=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.fieldTransforms=n,r.type=2,r.Ue=Et.exists(!0),r}return i.__extends(t,e),t.prototype.Ke=function(e,t){if(this.Ye(e),y(null!=t.transformResults),!this.Ue.He(e))return new Vt(this.key,t.version);var n=this.ns(e),r=this.rs(e,t.transformResults),i=t.version,o=this.os(n.data(),r);return new Lt(this.key,i,o,{hasCommittedMutations:!0})},t.prototype.je=function(e,t,n){if(this.Ye(e),!this.Ue.He(e))return e;var r=this.ns(e),i=this.hs(n,e,t),o=this.os(r.data(),i);return new Lt(this.key,r.version,o,{Xe:!0})},t.prototype.Ze=function(e){for(var t=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=e instanceof Lt?e.field(i.field):void 0,s=i.transform.Ge(o||null);null!=s&&(t=null==t?(new Pt).set(i.field,s):t.set(i.field,s))}return t?t.ss():null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&w(this.fieldTransforms,e.fieldTransforms,(function(e,t){return e.isEqual(t)}))&&this.Ue.isEqual(e.Ue)},t.prototype.ns=function(e){return e},t.prototype.rs=function(e,t){var n=[];y(this.fieldTransforms.length===t.length);for(var r=0;r<t.length;r++){var i=this.fieldTransforms[r],o=i.transform,s=null;e instanceof Lt&&(s=e.field(i.field)),n.push(o.Ke(s,t[r]))}return n},t.prototype.hs=function(e,t,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var s=o[i],a=s.transform,u=null;t instanceof Lt&&(u=t.field(s.field)),null===u&&n instanceof Lt&&(u=n.field(s.field)),r.push(a.je(u,e))}return r},t.prototype.os=function(e,t){for(var n=new Pt(e),r=0;r<this.fieldTransforms.length;r++)n.set(this.fieldTransforms[r].field,t[r]);return n.ss()},t}(It),Ot=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.Ue=n,r.type=3,r}return i.__extends(t,e),t.prototype.Ke=function(e,t){return this.Ye(e),new Mt(this.key,t.version,{hasCommittedMutations:!0})},t.prototype.je=function(e,t,n){return this.Ye(e),this.Ue.He(e)?new Mt(this.key,P.min()):e},t.prototype.Ze=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.Ue.isEqual(e.Ue)},t}(It),Dt=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.Ue=n,r.type=4,r}return i.__extends(t,e),t.prototype.Ke=function(e,t){g()},t.prototype.je=function(e,t,n){g()},t.prototype.Ze=function(e){g()},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.Ue.isEqual(e.Ue)},t}(It),Rt=function(){function e(e){this.proto=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e._())return this.proto;for(var t=this.proto,n=0;n<e.length-1;++n){if(!t.mapValue.fields)return null;if(!je(t=t.mapValue.fields[e.get(n)]))return null}return(t=(t.mapValue.fields||{})[e.S()])||null},e.prototype.isEqual=function(e){return Ie(this.proto,e.proto)},e}(),Pt=function(){function e(e){void 0===e&&(e=Rt.empty()),this.as=e,this.us=new Map}return e.prototype.set=function(e,t){return this.cs(e,t),this},e.prototype.delete=function(e){return this.cs(e,null),this},e.prototype.cs=function(e,t){for(var n=this.us,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Ee(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(e.S(),t)},e.prototype.ss=function(){var e=this.ls(M.k,this.us);return null!=e?new Rt(e):this.as},e.prototype.ls=function(e,t){var n=this,r=!1,i=this.as.field(e),o=je(i)?Object.assign({},i.mapValue.fields):{};return t.forEach((function(t,i){if(t instanceof Map){var s=n.ls(e.child(i),t);null!=s&&(o[i]=s,r=!0)}else null!==t?(o[i]=t,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},e}();function Nt(e){var t=[];return T(e.fields||{},(function(e,n){var r=new M([e]);if(je(n)){var i=Nt(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,s=i;o<s.length;o++)t.push(r.child(s[o]))}else t.push(r)})),new wt(t)}var Ft=function(e,t){this.key=e,this.version=t},Lt=function(e){function t(t,n,r,i){var o=this;return(o=e.call(this,t,n)||this)._s=r,o.Xe=!!i.Xe,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return i.__extends(t,e),t.prototype.field=function(e){return this._s.field(e)},t.prototype.data=function(){return this._s},t.prototype.fs=function(){return this._s.proto},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.Xe===e.Xe&&this.hasCommittedMutations===e.hasCommittedMutations&&this._s.isEqual(e._s)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this._s.toString()+", {hasLocalMutations: "+this.Xe+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.Xe||this.hasCommittedMutations},enumerable:!0,configurable:!0}),t}(Ft),Mt=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return i.__extends(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(Ft),Vt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(Ft),jt=function(){function e(e,t,n,r,i,o,s,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.ds=n,this.filters=r,this.limit=i,this.ws=o,this.startAt=s,this.endAt=a,this.Ts=null,this.Es=null,this.startAt&&this.Is(this.startAt),this.endAt&&this.Is(this.endAt)}return e.As=function(t){return new e(t)},Object.defineProperty(e.prototype,"orderBy",{get:function(){if(null===this.Ts){this.Ts=[];var e=this.Rs(),t=this.ms();if(null!==e&&null===t)e.L()||this.Ts.push(new Kt(e)),this.Ts.push(new Kt(M.O(),"asc"));else{for(var n=!1,r=0,i=this.ds;r<i.length;r++){var o=i[r];this.Ts.push(o),o.field.L()&&(n=!0)}if(!n){var s=this.ds.length>0?this.ds[this.ds.length-1].dir:"asc";this.Ts.push(new Kt(M.O(),s))}}}return this.Ts},enumerable:!0,configurable:!0}),e.prototype.Ps=function(t){var n=this.filters.concat([t]);return new e(this.path,this.collectionGroup,this.ds.slice(),n,this.limit,this.ws,this.startAt,this.endAt)},e.prototype.Vs=function(t){var n=this.ds.concat([t]);return new e(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.ws,this.startAt,this.endAt)},e.prototype.gs=function(t){return new e(this.path,this.collectionGroup,this.ds.slice(),this.filters.slice(),t,"F",this.startAt,this.endAt)},e.prototype.ps=function(t){return new e(this.path,this.collectionGroup,this.ds.slice(),this.filters.slice(),t,"L",this.startAt,this.endAt)},e.prototype.ys=function(t){return new e(this.path,this.collectionGroup,this.ds.slice(),this.filters.slice(),this.limit,this.ws,t,this.endAt)},e.prototype.bs=function(t){return new e(this.path,this.collectionGroup,this.ds.slice(),this.filters.slice(),this.limit,this.ws,this.startAt,t)},e.prototype.vs=function(t){return new e(t,null,this.ds.slice(),this.filters.slice(),this.limit,this.ws,this.startAt,this.endAt)},e.prototype.Ss=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.ds.length||1===this.ds.length&&this.ds[0].field.L())},e.prototype.canonicalId=function(){return Jt(this.We())+"|lt:"+this.ws},e.prototype.toString=function(){return"Query(target="+function(e){var t=e.path.N();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.join(", ")+"]"),j(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.join(", ")+"]"),e.startAt&&(t+=", startAt: "+$t(e.startAt)),e.endAt&&(t+=", endAt: "+$t(e.endAt)),"Target("+t+")"}(this.We())+"; limitType="+this.ws+")"},e.prototype.isEqual=function(e){return en(this.We(),e.We())&&this.ws===e.ws},e.prototype.Ds=function(e,t){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],s=o.compare(e,t);if(0!==s)return s;n=n||o.field.L()}return 0},e.prototype.matches=function(e){return this.Cs(e)&&this.Fs(e)&&this.Ns(e)&&this.$s(e)},e.prototype.ks=function(){return!j(this.limit)&&"F"===this.ws},e.prototype.xs=function(){return!j(this.limit)&&"L"===this.ws},e.prototype.ms=function(){return this.ds.length>0?this.ds[0].field:null},e.prototype.Rs=function(){for(var e=0,t=this.filters;e<t.length;e++){var n=t[e];if(n instanceof Ut&&n.Ms())return n.field}return null},e.prototype.Ls=function(e){for(var t=0,n=this.filters;t<n.length;t++){var r=n[t];if(r instanceof Ut&&e.indexOf(r.op)>=0)return r.op}return null},e.prototype.Os=function(){return tn(this.We())},e.prototype.Bs=function(){return null!==this.collectionGroup},e.prototype.We=function(){if(!this.Es)if("F"===this.ws)this.Es=Xt(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var e=[],t=0,n=this.orderBy;t<n.length;t++){var r=n[t];e.push(new Kt(r.field,"desc"===r.dir?"asc":"desc"))}var i=this.endAt?new Wt(this.endAt.position,!this.endAt.before):null,o=this.startAt?new Wt(this.startAt.position,!this.startAt.before):null;this.Es=Xt(this.path,this.collectionGroup,e,this.filters,this.limit,i,o)}return this.Es},e.prototype.Cs=function(e){var t=e.key.path;return null!==this.collectionGroup?e.key.U(this.collectionGroup)&&this.path.D(t):V.W(this.path)?this.path.isEqual(t):this.path.C(t)},e.prototype.Fs=function(e){for(var t=0,n=this.ds;t<n.length;t++){var r=n[t];if(!r.field.L()&&null===e.field(r.field))return!1}return!0},e.prototype.Ns=function(e){for(var t=0,n=this.filters;t<n.length;t++)if(!n[t].matches(e))return!1;return!0},e.prototype.$s=function(e){return!(this.startAt&&!Qt(this.startAt,this.orderBy,e)||this.endAt&&Qt(this.endAt,this.orderBy,e))},e.prototype.Is=function(e){},e}(),Ut=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return i.__extends(t,e),t.create=function(e,n,r){if(e.L())return"in"===n?new zt(e,r):new Bt(e,n,r);if(Me(r)){if("=="!==n)throw new D(O.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new t(e,n,r)}if(Ve(r)){if("=="!==n)throw new D(O.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new t(e,n,r)}return"array-contains"===n?new Ht(e,r):"in"===n?new Gt(e,r):"array-contains-any"===n?new qt(e,r):new t(e,n,r)},t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&Ee(this.value)===Ee(t)&&this.qs(xe(t,this.value))},t.prototype.qs=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case">":return e>0;case">=":return e>=0;default:return g()}},t.prototype.Ms=function(){return["<","<=",">",">="].indexOf(this.op)>=0},t.prototype.canonicalId=function(){return this.field.N()+this.op.toString()+Oe(this.value)},t.prototype.isEqual=function(e){return e instanceof t&&this.op===e.op&&this.field.isEqual(e.field)&&Ie(this.value,e.value)},t.prototype.toString=function(){return this.field.N()+" "+this.op+" "+Oe(this.value)},t}((function(){})),Bt=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=V.q(r.referenceValue),i}return i.__extends(t,e),t.prototype.matches=function(e){var t=V.P(e.key,this.key);return this.qs(t)},t}(Ut),zt=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=(n.arrayValue.values||[]).map((function(e){return V.q(e.referenceValue)})),r}return i.__extends(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Ut),Ht=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return i.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return Le(t)&&Te(t.arrayValue,this.value)},t}(Ut),Gt=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return i.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&Te(this.value.arrayValue,t)},t}(Ut),qt=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return i.__extends(t,e),t.prototype.matches=function(e){var t=this,n=e.field(this.field);return!(!Le(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Te(t.value.arrayValue,e)}))},t}(Ut),Wt=function(e,t){this.position=e,this.before=t};function $t(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return Oe(e)})).join(",")}function Qt(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],s=e.position[i];if(r=o.field.L()?V.P(V.q(s.referenceValue),n.key):xe(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Yt(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ie(e.position[n],t.position[n]))return!1;return!0}var Kt=function(){function e(e,t){this.field=e,void 0===t&&(t="asc"),this.dir=t,this.Us=e.L()}return e.prototype.compare=function(e,t){var n=this.Us?V.P(e.key,t.key):function(e,t,n){var r=t.field(e),i=n.field(e);return null!==r&&null!==i?xe(r,i):g()}(this.field,e,t);switch(this.dir){case"asc":return n;case"desc":return-1*n;default:return g()}},e.prototype.canonicalId=function(){return this.field.N()+this.dir.toString()},e.prototype.toString=function(){return this.field.N()+" ("+this.dir+")"},e.prototype.isEqual=function(e){return this.dir===e.dir&&this.field.isEqual(e.field)},e}(),Zt=function(e){function t(t,n,r,i,o,s,a){void 0===n&&(n=null),void 0===r&&(r=[]),void 0===i&&(i=[]),void 0===o&&(o=null),void 0===s&&(s=null),void 0===a&&(a=null);var u=this;return(u=e.call(this,t,n,r,i,o,s,a)||this).Qs=null,u}return i.__extends(t,e),t}((function(e,t,n,r,i,o,s){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s}));function Xt(e,t,n,r,i,o,s){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Zt(e,t,n,r,i,o,s)}function Jt(e){var t=m(e);if(null===t.Qs){var n=t.path.N();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return e.canonicalId()})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return e.canonicalId()})).join(","),j(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=$t(t.startAt)),t.endAt&&(n+="|ub:",n+=$t(t.endAt)),t.Qs=n}return t.Qs}function en(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!e.orderBy[n].isEqual(t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!e.filters[r].isEqual(t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Yt(e.startAt,t.startAt)&&Yt(e.endAt,t.endAt)}function tn(e){return V.W(e.path)&&null===e.collectionGroup&&0===e.filters.length}var nn=function(){function e(e,t,n,r){this.batchId=e,this.Ws=t,this.baseMutations=n,this.mutations=r}return e.prototype.Ke=function(e,t,n){for(var r=n.js,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e)&&(t=o.Ke(t,r[i]))}return t},e.prototype.je=function(e,t){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(e)&&(t=i.je(t,t,this.Ws))}for(var o=t,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(e)&&(t=u.je(t,o,this.Ws))}return t},e.prototype.Ks=function(e){var t=this,n=e;return this.mutations.forEach((function(r){var i=t.je(r.key,e.get(r.key));i&&(n=n.et(r.key,i))})),n},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),ae())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&w(this.mutations,e.mutations,(function(e,t){return e.isEqual(t)}))&&w(this.baseMutations,e.baseMutations,(function(e,t){return e.isEqual(t)}))},e}(),rn=function(){function e(e,t,n,r){this.batch=e,this.Gs=t,this.js=n,this.zs=r}return e.from=function(t,n,r){y(t.mutations.length===r.length);for(var i=oe,o=t.mutations,s=0;s<o.length;s++)i=i.et(o[s].key,r[s].version);return new e(t,n,r,i)},e}(),on=function(){function e(e){var t=this;this.Hs=null,this.Ys=null,this.result=void 0,this.error=void 0,this.Js=!1,this.Xs=!1,e((function(e){t.Js=!0,t.result=e,t.Hs&&t.Hs(e)}),(function(e){t.Js=!0,t.error=e,t.Ys&&t.Ys(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.Xs&&g(),this.Xs=!0,this.Js?this.error?this.Zs(n,this.error):this.tn(t,this.result):new e((function(e,i){r.Hs=function(n){r.tn(t,n).next(e,i)},r.Ys=function(t){r.Zs(n,t).next(e,i)}}))},e.prototype.en=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.sn=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.tn=function(t,n){return t?this.sn((function(){return t(n)})):e.resolve(n)},e.prototype.Zs=function(t,n){return t?this.sn((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.nn=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.rn=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.nn(r)},e}(),sn=function(){function e(){this.on=new A((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.hn=!1}return Object.defineProperty(e.prototype,"readTime",{get:function(){return this.an},set:function(e){this.an=e},enumerable:!0,configurable:!0}),e.prototype.un=function(e,t){this.cn(),this.readTime=t,this.on.set(e.key,e)},e.prototype.ln=function(e,t){this.cn(),t&&(this.readTime=t),this.on.set(e,null)},e.prototype._n=function(e,t){this.cn();var n=this.on.get(t);return void 0!==n?on.resolve(n):this.fn(e,t)},e.prototype.getEntries=function(e,t){return this.dn(e,t)},e.prototype.apply=function(e){return this.cn(),this.hn=!0,this.wn(e)},e.prototype.cn=function(){},e}(),an="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",un=function(){function e(){this.Tn=[]}return e.prototype.En=function(e){this.Tn.push(e)},e.prototype.In=function(){this.Tn.forEach((function(e){return e()}))},e}(),cn=function(){function e(e,t,n){this.An=e,this.Rn=t,this.mn=n}return e.prototype.Pn=function(e,t){var n=this;return this.Rn.Vn(e,t).next((function(r){return n.gn(e,t,r)}))},e.prototype.gn=function(e,t,n){return this.An._n(e,t).next((function(e){for(var r=0,i=n;r<i.length;r++)e=i[r].je(t,e);return e}))},e.prototype.pn=function(e,t,n){var r=ne();return t.forEach((function(e,t){for(var i=0,o=n;i<o.length;i++)t=o[i].je(e,t);r=r.et(e,t)})),r},e.prototype.yn=function(e,t){var n=this;return this.An.getEntries(e,t).next((function(t){return n.bn(e,t)}))},e.prototype.bn=function(e,t){var n=this;return this.Rn.vn(e,t).next((function(r){var i=n.pn(e,t,r),o=te();return i.forEach((function(e,t){t||(t=new Mt(e,P.min())),o=o.et(e,t)})),o}))},e.prototype.Sn=function(e,t,n){return t.Os()?this.Dn(e,t.path):t.Bs()?this.Cn(e,t,n):this.Fn(e,t,n)},e.prototype.Dn=function(e,t){return this.Pn(e,new V(t)).next((function(e){var t=ie();return e instanceof Lt&&(t=t.et(e.key,e)),t}))},e.prototype.Cn=function(e,t,n){var r=this,i=t.collectionGroup,o=ie();return this.mn.Nn(e,i).next((function(s){return on.forEach(s,(function(s){var a=t.vs(s.child(i));return r.Fn(e,a,n).next((function(e){e.forEach((function(e,t){o=o.et(e,t)}))}))})).next((function(){return o}))}))},e.prototype.Fn=function(e,t,n){var r,i,o=this;return this.An.Sn(e,t,n).next((function(n){return r=n,o.Rn.$n(e,t)})).next((function(t){return o.kn(e,i=t,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c),h=u.je(l,l,o.Ws);r=h instanceof Lt?r.et(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(e,n){t.matches(n)||(r=r.remove(e))})),r}))},e.prototype.kn=function(e,t,n){for(var r=ae(),i=0,o=t;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof xt&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.An.getEntries(e,r).next((function(e){return e.forEach((function(e,t){null!==t&&t instanceof Lt&&(c=c.et(e,t))})),c}))},e}(),ln=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.xn=n,this.Mn=r}return e.Ln=function(t,n){for(var r=ae(),i=ae(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),hn=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.On=function(e){return n.Bn(e)},this.qn=function(e){return t.Un(e)})}return e.prototype.Bn=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.qn&&this.qn(e),e},e}();hn.Qn=-1;var fn=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},dn=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Wn=e,this.jn=t,this.Kn=n,this.Gn=r,this.zn=i,this.Hn=0,this.Yn=null,this.Jn=Date.now(),this.reset()}return e.prototype.reset=function(){this.Hn=0},e.prototype.Xn=function(){this.Hn=this.zn},e.prototype.Zn=function(e){var t=this;this.cancel();var n=Math.floor(this.Hn+this.ti()),r=Math.max(0,Date.now()-this.Jn),i=Math.max(0,n-r);i>0&&d("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Hn+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Yn=this.Wn.ei(this.jn,i,(function(){return t.Jn=Date.now(),e()})),this.Hn*=this.Gn,this.Hn<this.Kn&&(this.Hn=this.Kn),this.Hn>this.zn&&(this.Hn=this.zn)},e.prototype.si=function(){null!==this.Yn&&(this.Yn.ni(),this.Yn=null)},e.prototype.cancel=function(){null!==this.Yn&&(this.Yn.cancel(),this.Yn=null)},e.prototype.ti=function(){return(Math.random()-.5)*this.Hn},e}();function pn(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=gn(t)),t=vn(e.get(n),t);return gn(t)}function vn(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function gn(e){return e+"\x01\x01"}function yn(e){var t=e.length;if(y(t>=2),2===t)return y("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),F.k;for(var n=t-2,r=[],i="",o=0;o<t;){var s=e.indexOf("\x01",o);switch((s<0||s>n)&&g(),e.charAt(s+1)){case"\x01":var a=e.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=e.substring(o,s),i+="\0";break;case"\x11":i+=e.substring(o,s+1);break;default:g()}o=s+2}return new F(r)}var mn=function(){function e(){this.ii=new _n}return e.prototype.ri=function(e,t){return this.ii.add(t),on.resolve()},e.prototype.Nn=function(e,t){return on.resolve(this.ii.getEntries(t))},e}(),_n=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.S(),n=e.p(),r=this.index[t]||new X(F.P),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.S(),n=e.p(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new X(F.P)).F()},e}(),bn=function(){function e(){this.oi=new _n}return e.prototype.ri=function(e,t){var n=this;if(!this.oi.has(t)){var r=t.S(),i=t.p();e.En((function(){n.oi.add(t)}));var o={collectionId:r,parent:pn(i)};return kn(e).put(o)}return on.resolve()},e.prototype.Nn=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[C(t),""],!1,!0);return kn(e).hi(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(yn(o.parent))}return n}))},e}();function kn(e){return Gn.ai(e,vr.store)}var wn=function(e){this.ui=e};function Cn(e,t){if(t.document)return function(e,t,n){var r=Je(e,t.name),i=Ye(t.updateTime),o=new Rt({mapValue:{fields:t.fields}});return new Lt(r,i,o,{hasCommittedMutations:!!n})}(e.ui,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=V.j(t.noDocument.path),r=xn(t.noDocument.readTime);return new Mt(n,r,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var i=V.j(t.unknownDocument.path),o=xn(t.unknownDocument.version);return new Vt(i,o)}return g()}function Sn(e,t,n){var r=En(n),i=t.key.path.p().F();if(t instanceof Lt){var o=function(e,t){return{name:Xe(e,t.key),fields:t.fs().mapValue.fields,updateTime:qe(e,t.version.R())}}(e.ui,t);return new lr(null,null,o,t.hasCommittedMutations,r,i)}if(t instanceof Mt){var s=t.key.path.F(),a=Tn(t.version),u=t.hasCommittedMutations;return new lr(null,new ur(s,a),null,u,r,i)}if(t instanceof Vt){var c=t.key.path.F(),l=Tn(t.version);return new lr(new cr(c,l),null,null,!0,r,i)}return g()}function En(e){var t=e.R();return[t.seconds,t.nanoseconds]}function In(e){var t=new R(e[0],e[1]);return P.I(t)}function Tn(e){var t=e.R();return new rr(t.seconds,t.nanoseconds)}function xn(e){var t=new R(e.seconds,e.nanoseconds);return P.I(t)}function An(e,t){var n=(t.baseMutations||[]).map((function(t){return st(e.ui,t)})),r=t.mutations.map((function(t){return st(e.ui,t)})),i=R.fromMillis(t.localWriteTimeMs);return new nn(t.batchId,i,n,r)}function On(e){var t,n=xn(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?xn(e.lastLimboFreeSnapshotVersion):P.min();return t=void 0!==e.query.documents?function(e){return y(1===e.documents.length),jt.As(tt(e.documents[0])).We()}(e.query):function(e){var t=tt(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){y(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var s=[];n.where&&(s=function e(t){return t?void 0!==t.unaryFilter?[pt(t)]:void 0!==t.fieldFilter?[dt(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e(t)})).reduce((function(e,t){return e.concat(t)})):g():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(e){return new Kt(ft((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t})));var u=null;n.limit&&(u=function(e){var t;return j(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=lt(n.startAt));var l=null;return n.endAt&&(l=lt(n.endAt)),new jt(t,i,a,s,u,"F",c,l).We()}(e.query),new q(t,e.targetId,0,e.lastListenSequenceNumber,n,r,z.fromBase64String(e.resumeToken))}function Dn(e,t){var n,r=Tn(t.J),i=Tn(t.lastLimboFreeSnapshotVersion);n=tn(t.target)?at(e.ui,t.target):ut(e.ui,t.target);var o=t.resumeToken.toBase64();return new fr(t.targetId,Jt(t.target),r,o,t.sequenceNumber,i,n)}var Rn=function(){function e(e,t){this.serializer=e,this.mn=t}return e.prototype.un=function(e,t,n){return Nn(e).put(Fn(t),n)},e.prototype.ln=function(e,t){var n=Nn(e),r=Fn(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.ci(e,r)}))},e.prototype._n=function(e,t){var n=this;return Nn(e).get(Fn(t)).next((function(e){return n.li(e)}))},e.prototype._i=function(e,t){var n=this;return Nn(e).get(Fn(t)).next((function(e){var t=n.li(e);return t?{fi:t,size:Ln(e)}:null}))},e.prototype.getEntries=function(e,t){var n=this,r=ne();return this.di(e,t,(function(e,t){var i=n.li(t);r=r.et(e,i)})).next((function(){return r}))},e.prototype.wi=function(e,t){var n=this,r=ne(),i=new Y(V.P);return this.di(e,t,(function(e,t){var o=n.li(t);o?(r=r.et(e,o),i=i.et(e,Ln(t))):(r=r.et(e,null),i=i.et(e,0))})).next((function(){return{Ti:r,Ei:i}}))},e.prototype.di=function(e,t,n){if(t._())return on.resolve();var r=IDBKeyRange.bound(t.first().path.F(),t.last().path.F()),i=t.at(),o=i.dt();return Nn(e).Ii({range:r},(function(e,t,r){for(var s=V.j(e);o&&V.P(o,s)<0;)n(o,null),o=i.dt();o&&o.isEqual(s)&&(n(o,t),o=i.wt()?i.dt():null),o?r.Ai(o.path.F()):r.done()})).next((function(){for(;o;)n(o,null),o=i.wt()?i.dt():null}))},e.prototype.Sn=function(e,t,n){var r=this,i=ie(),o=t.path.length+1,s={};if(n.isEqual(P.min())){var a=t.path.F();s.range=IDBKeyRange.lowerBound(a)}else{var u=t.path.F(),c=En(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=lr.collectionReadTimeIndex}return Nn(e).Ii(s,(function(e,n,s){if(e.length===o){var a=Cn(r.serializer,n);t.path.D(a.key.path)?a instanceof Lt&&t.matches(a)&&(i=i.et(a.key,a)):s.done()}})).next((function(){return i}))},e.prototype.Ri=function(e,t){var n=this,r=te(),i=En(t),o=Nn(e),s=IDBKeyRange.lowerBound(i,!0);return o.Ii({index:lr.readTimeIndex,range:s},(function(e,t){var o=Cn(n.serializer,t);r=r.et(o.key,o),i=t.readTime})).next((function(){return{mi:r,readTime:In(i)}}))},e.prototype.Pi=function(e){var t=Nn(e),n=P.min();return t.Ii({index:lr.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=In(t.readTime)),r.done()})).next((function(){return n}))},e.prototype.Vi=function(t){return new e.gi(this,!!t&&t.pi)},e.prototype.yi=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Pn(e).get(hr.key).next((function(e){return y(!!e),e}))},e.prototype.ci=function(e,t){return Pn(e).put(hr.key,t)},e.prototype.li=function(e){if(e){var t=Cn(this.serializer,e);return t instanceof Mt&&t.version.isEqual(P.min())?null:t}return null},e}();function Pn(e){return Gn.ai(e,hr.store)}function Nn(e){return Gn.ai(e,lr.store)}function Fn(e){return e.path.F()}function Ln(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw g();t=e.noDocument}return JSON.stringify(t).length}Rn.gi=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).bi=t,r.pi=n,r.vi=new A((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return i.__extends(t,e),t.prototype.wn=function(e){var t=this,n=[],r=0,i=new X((function(e,t){return k(e.N(),t.N())}));return this.on.forEach((function(o,s){var a=t.vi.get(o);if(s){var u=Sn(t.bi.serializer,s,t.readTime);i=i.add(o.path.p());var c=Ln(u);r+=c-a,n.push(t.bi.un(e,o,u))}else if(r-=a,t.pi){var l=Sn(t.bi.serializer,new Mt(o,P.min()),t.readTime);n.push(t.bi.un(e,o,l))}else n.push(t.bi.ln(e,o))})),i.forEach((function(r){n.push(t.bi.mn.ri(e,r))})),n.push(this.bi.updateMetadata(e,r)),on.nn(n)},t.prototype.fn=function(e,t){var n=this;return this.bi._i(e,t).next((function(e){return null===e?(n.vi.set(t,0),null):(n.vi.set(t,e.size),e.fi)}))},t.prototype.dn=function(e,t){var n=this;return this.bi.wi(e,t).next((function(e){var t=e.Ti;return e.Ei.forEach((function(e,t){n.vi.set(e,t)})),t}))},t}(sn);var Mn=function(){function e(e){this.Si=e}return e.prototype.next=function(){return this.Si+=2,this.Si},e.Di=function(){return new e(0)},e.Ci=function(){return new e(-1)},e}(),Vn=function(){function e(e,t){this.Fi=e,this.serializer=t}return e.prototype.Ni=function(e){var t=this;return this.$i(e).next((function(n){var r=new Mn(n.highestTargetId);return n.highestTargetId=r.next(),t.ki(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.xi=function(e){return this.$i(e).next((function(e){return P.I(new R(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.Mi=function(e){return this.$i(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.Li=function(e,t,n){var r=this;return this.$i(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.R()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ki(e,i)}))},e.prototype.Oi=function(e,t){var n=this;return this.Bi(e,t).next((function(){return n.$i(e).next((function(r){return r.targetCount+=1,n.qi(t,r),n.ki(e,r)}))}))},e.prototype.Ui=function(e,t){return this.Bi(e,t)},e.prototype.Qi=function(e,t){var n=this;return this.Wi(e,t.targetId).next((function(){return jn(e).delete(t.targetId)})).next((function(){return n.$i(e)})).next((function(t){return y(t.targetCount>0),t.targetCount-=1,n.ki(e,t)}))},e.prototype.ji=function(e,t,n){var r=this,i=0,o=[];return jn(e).Ii((function(s,a){var u=On(a);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.Qi(e,u)))})).next((function(){return on.nn(o)})).next((function(){return i}))},e.prototype.ye=function(e,t){return jn(e).Ii((function(e,n){var r=On(n);t(r)}))},e.prototype.$i=function(e){return Un(e).get(pr.key).next((function(e){return y(null!==e),e}))},e.prototype.ki=function(e,t){return Un(e).put(pr.key,t)},e.prototype.Bi=function(e,t){return jn(e).put(Dn(this.serializer,t))},e.prototype.qi=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.Ki=function(e){return this.$i(e).next((function(e){return e.targetCount}))},e.prototype.Gi=function(e,t){var n=Jt(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return jn(e).Ii({range:r,index:fr.queryTargetsIndexName},(function(e,n,r){var o=On(n);en(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.zi=function(e,t,n){var r=this,i=[],o=Bn(e);return t.forEach((function(t){var s=pn(t.path);i.push(o.put(new dr(n,s))),i.push(r.Fi.Hi(e,n,t))})),on.nn(i)},e.prototype.Yi=function(e,t,n){var r=this,i=Bn(e);return on.forEach(t,(function(t){var o=pn(t.path);return on.nn([i.delete([n,o]),r.Fi.Ji(e,n,t)])}))},e.prototype.Wi=function(e,t){var n=Bn(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.Xi=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Bn(e),i=ae();return r.Ii({range:n,Zi:!0},(function(e,t,n){var r=yn(e[1]),o=new V(r);i=i.add(o)})).next((function(){return i}))},e.prototype.tr=function(e,t){var n=pn(t.path),r=IDBKeyRange.bound([n],[C(n)],!1,!0),i=0;return Bn(e).Ii({index:dr.documentTargetsIndex,Zi:!0,range:r},(function(e,t,n){0!==e[0]&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.Me=function(e,t){return jn(e).get(t).next((function(e){return e?On(e):null}))},e}();function jn(e){return Gn.ai(e,fr.store)}function Un(e){return Gn.ai(e,pr.store)}function Bn(e){return Gn.ai(e,dr.store)}var zn="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Hn=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).er=t,r.sr=n,r}return i.__extends(t,e),t}(un),Gn=function(){function e(t,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Wn=o,this.window=s,this.document=a,this.nr=c,this.ir=l,this.rr=null,this.or=!1,this.isPrimary=!1,this.networkEnabled=!0,this.hr=null,this.inForeground=!1,this.ar=null,this.ur=null,this.cr=Number.NEGATIVE_INFINITY,this.lr=function(e){return Promise.resolve()},!e._r())throw new D(O.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Fi=new $n(this,i),this.dr=n+e.wr,this.serializer=new wn(u),this.Tr=new Vn(this.Fi,this.serializer),this.mn=new bn,this.An=new Rn(this.serializer,this.mn),this.window&&this.window.localStorage?this.Er=this.window.localStorage:(this.Er=null,!1===l&&p("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.ai=function(e,t){if(e instanceof Hn)return _r.ai(e.er,t);throw g()},e.prototype.start=function(){var e=this;return _r.Ir(this.dr,tr,new nr(this.serializer)).then((function(t){return e.Ar=t,e.Rr()})).then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new D(O.FAILED_PRECONDITION,zn);return e.mr(),e.Pr(),e.Vr(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Tr.Mi(t)}))})).then((function(t){e.rr=new hn(t,e.nr)})).then((function(){e.or=!0})).catch((function(t){return e.Ar&&e.Ar.close(),Promise.reject(t)}))},e.prototype.gr=function(e){var t=this;return this.lr=function(n){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.pr?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.yr=function(e){var t=this;this.Ar.br((function(n){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.vr=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Wn.Sr((function(){return i.__awaiter(t,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.pr?[4,this.Rr()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.Rr=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Wn(t).put(new yr(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Dr(t).next((function(t){t||(e.isPrimary=!1,e.Wn.Cr((function(){return e.lr(!1)})))}))})).next((function(){return e.Fr(t)})).next((function(n){return e.isPrimary&&!n?e.Nr(t).next((function(){return!1})):!!n&&e.$r(t).next((function(){return!0}))}))})).catch((function(t){if(wr(t))return d("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return d("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Wn.Cr((function(){return e.lr(t)})),e.isPrimary=t}))},e.prototype.Dr=function(e){var t=this;return qn(e).get(ir.key).next((function(e){return on.resolve(t.kr(e))}))},e.prototype.xr=function(e){return Wn(e).delete(this.clientId)},e.prototype.Mr=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o=this;return i.__generator(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.Lr(this.cr,18e5)?[3,2]:(this.cr=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var n=e.ai(t,yr.store);return n.hi().next((function(e){var t=o.Or(e,18e5),r=e.filter((function(e){return-1===t.indexOf(e)}));return on.forEach(r,(function(e){return n.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Er)for(n=0,r=t;n<r.length;n++)this.Er.removeItem(this.Br(r[n].clientId));i.label=2;case 2:return[2]}}))}))},e.prototype.Vr=function(){var e=this;this.ur=this.Wn.ei("client_metadata_refresh",4e3,(function(){return e.Rr().then((function(){return e.Mr()})).then((function(){return e.Vr()}))}))},e.prototype.kr=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Fr=function(e){var t=this;return this.ir?on.resolve(!0):qn(e).get(ir.key).next((function(n){if(null!==n&&t.Lr(n.leaseTimestampMs,5e3)&&!t.qr(n.ownerId)){if(t.kr(n)&&t.networkEnabled)return!0;if(!t.kr(n)){if(!n.allowTabSynchronization)throw new D(O.FAILED_PRECONDITION,zn);return!1}}return!(!t.networkEnabled||!t.inForeground)||Wn(e).hi().next((function(e){return void 0===t.Or(e,5e3).find((function(e){return!(t.clientId===e.clientId||!(!t.networkEnabled&&e.networkEnabled||!t.inForeground&&e.inForeground&&t.networkEnabled===e.networkEnabled))}))}))})).next((function(e){return t.isPrimary!==e&&d("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.Ur=function(){return i.__awaiter(this,void 0,void 0,(function(){var e=this;return i.__generator(this,(function(t){switch(t.label){case 0:return this.or=!1,this.Qr(),this.ur&&(this.ur.cancel(),this.ur=null),this.Wr(),this.jr(),[4,this.runTransaction("shutdown","readwrite",(function(t){return e.Nr(t).next((function(){return e.xr(t)}))})).catch((function(e){d("IndexedDbPersistence","Proceeding with shutdown despite failure: ",e)}))];case 1:return t.sent(),this.Ar.close(),this.Kr(),[2]}}))}))},e.prototype.Or=function(e,t){var n=this;return e.filter((function(e){return n.Lr(e.updateTimeMs,t)&&!n.qr(e.clientId)}))},e.prototype.Gr=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Wn(t).hi().next((function(t){return e.Or(t,18e5).map((function(e){return e.clientId}))}))}))},e.clearPersistence=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return e._r()?[4,_r.delete(t+e.wr)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(e.prototype,"pr",{get:function(){return this.or},enumerable:!0,configurable:!0}),e.prototype.zr=function(e){return Yn.Hr(e,this.serializer,this.mn,this.Fi)},e.prototype.Yr=function(){return this.Tr},e.prototype.Jr=function(){return this.An},e.prototype.Xr=function(){return this.mn},e.prototype.runTransaction=function(e,t,n){var r,i=this;return d("IndexedDbPersistence","Starting transaction:",e),this.Ar.runTransaction("readonly"===t?"readonly":"readwrite",mr,(function(o){return r=new Hn(o,i.rr?i.rr.next():hn.Qn),"readwrite-primary"===t?i.Dr(r).next((function(e){return!!e||i.Fr(r)})).next((function(t){if(!t)throw p("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Wn.Cr((function(){return i.lr(!1)})),new D(O.FAILED_PRECONDITION,an);return n(r)})).next((function(e){return i.$r(r).next((function(){return e}))})):i.Zr(r).next((function(){return n(r)}))})).then((function(e){return r.In(),e}))},e.prototype.Zr=function(e){var t=this;return qn(e).get(ir.key).next((function(e){if(null!==e&&t.Lr(e.leaseTimestampMs,5e3)&&!t.qr(e.ownerId)&&!t.kr(e)&&!(t.ir||t.allowTabSynchronization&&e.allowTabSynchronization))throw new D(O.FAILED_PRECONDITION,zn)}))},e.prototype.$r=function(e){var t=new ir(this.clientId,this.allowTabSynchronization,Date.now());return qn(e).put(ir.key,t)},e._r=function(){return _r._r()},e.to=function(e){var t=e.s.projectId;return e.s.i||(t+="."+e.s.database),"firestore/"+e.persistenceKey+"/"+t+"/"},e.prototype.Nr=function(e){var t=this,n=qn(e);return n.get(ir.key).next((function(e){return t.kr(e)?(d("IndexedDbPersistence","Releasing primary lease."),n.delete(ir.key)):on.resolve()}))},e.prototype.Lr=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(p("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.mr=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ar=function(){e.Wn.Sr((function(){return e.inForeground="visible"===e.document.visibilityState,e.Rr()}))},this.document.addEventListener("visibilitychange",this.ar),this.inForeground="visible"===this.document.visibilityState)},e.prototype.Wr=function(){this.ar&&(this.document.removeEventListener("visibilitychange",this.ar),this.ar=null)},e.prototype.Pr=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.hr=function(){t.Qr(),t.Wn.Sr((function(){return t.Ur()}))},this.window.addEventListener("unload",this.hr))},e.prototype.jr=function(){this.hr&&(this.window.removeEventListener("unload",this.hr),this.hr=null)},e.prototype.qr=function(e){var t;try{var n=null!==(null===(t=this.Er)||void 0===t?void 0:t.getItem(this.Br(e)));return d("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return p("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.Qr=function(){if(this.Er)try{this.Er.setItem(this.Br(this.clientId),String(Date.now()))}catch(e){p("Failed to set zombie client id.",e)}},e.prototype.Kr=function(){if(this.Er)try{this.Er.removeItem(this.Br(this.clientId))}catch(e){}},e.prototype.Br=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function qn(e){return Gn.ai(e,ir.store)}function Wn(e){return Gn.ai(e,yr.store)}Gn.wr="main";var $n=function(){function e(e,t){this.db=e,this.eo=new Mr(this,t)}return e.prototype.so=function(e){var t=this.no(e);return this.db.Yr().Ki(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.no=function(e){var t=0;return this.io(e,(function(e){t++})).next((function(){return t}))},e.prototype.ye=function(e,t){return this.db.Yr().ye(e,t)},e.prototype.io=function(e,t){return this.ro(e,(function(e,n){return t(n)}))},e.prototype.Hi=function(e,t,n){return Qn(e,n)},e.prototype.Ji=function(e,t,n){return Qn(e,n)},e.prototype.ji=function(e,t,n){return this.db.Yr().ji(e,t,n)},e.prototype.oo=function(e,t){return Qn(e,t)},e.prototype.ho=function(e,t){return function(e,t){var n=!1;return er(e).ao((function(r){return Kn(e,r,t).next((function(e){return e&&(n=!0),on.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.uo=function(e,t){var n=this,r=this.db.Jr().Vi(),i=[],o=0;return this.ro(e,(function(s,a){if(a<=t){var u=n.ho(e,s).next((function(t){if(!t)return o++,r._n(e,s).next((function(){return r.ln(s),Bn(e).delete([0,pn(s.path)])}))}));i.push(u)}})).next((function(){return on.nn(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.X(e.sr);return this.db.Yr().Ui(e,n)},e.prototype.co=function(e,t){return Qn(e,t)},e.prototype.ro=function(e,t){var n,r=Bn(e),i=hn.Qn;return r.Ii({index:dr.documentTargetsIndex},(function(e,r){var o=r.path,s=r.sequenceNumber;0===e[0]?(i!==hn.Qn&&t(new V(yn(n)),i),i=s,n=o):i=hn.Qn})).next((function(){i!==hn.Qn&&t(new V(yn(n)),i)}))},e.prototype.lo=function(e){return this.db.Jr().yi(e)},e}();function Qn(e,t){return Bn(e).put(function(e,t){return new dr(0,pn(e.path),t)}(t,e.sr))}var Yn=function(){function e(e,t,n,r){this.userId=e,this.serializer=t,this.mn=n,this.Fi=r,this._o={}}return e.Hr=function(t,n,r,i){return y(""!==t.uid),new e(t.fo()?t.uid:"",n,r,i)},e.prototype.do=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xn(e).Ii({index:sr.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.wo=function(e,t,n,r){var i=this,o=Jn(e),s=Xn(e);return s.add({}).next((function(a){y("number"==typeof a);for(var u=new nn(a,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return ot(e.ui,t)})),i=n.mutations.map((function(t){return ot(e.ui,t)}));return new sr(t,n.batchId,n.Ws.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new X((function(e,t){return k(e.N(),t.N())})),f=0,d=r;f<d.length;f++){var p=d[f],v=ar.key(i.userId,p.key.path,a);h=h.add(p.key.path.p()),l.push(s.put(c)),l.push(o.put(v,ar.PLACEHOLDER))}return h.forEach((function(t){l.push(i.mn.ri(e,t))})),e.En((function(){i._o[a]=u.keys()})),on.nn(l).next((function(){return u}))}))},e.prototype.To=function(e,t){var n=this;return Xn(e).get(t).next((function(e){return e?(y(e.userId===n.userId),An(n.serializer,e)):null}))},e.prototype.Eo=function(e,t){var n=this;return this._o[t]?on.resolve(this._o[t]):this.To(e,t).next((function(e){if(e){var r=e.keys();return n._o[t]=r,r}return null}))},e.prototype.Io=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Xn(e).Ii({index:sr.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(y(t.batchId>=r),o=An(n.serializer,t)),i.done()})).next((function(){return o}))},e.prototype.Ao=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Xn(e).Ii({index:sr.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.Ro=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xn(e).hi(sr.userMutationsIndex,n).next((function(e){return e.map((function(e){return An(t.serializer,e)}))}))},e.prototype.Vn=function(e,t){var n=this,r=ar.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Jn(e).Ii({range:i},(function(r,i,s){var a=r[0],u=r[2],c=yn(r[1]);if(a===n.userId&&t.path.isEqual(c))return Xn(e).get(u).next((function(e){if(!e)throw g();y(e.userId===n.userId),o.push(An(n.serializer,e))}));s.done()})).next((function(){return o}))},e.prototype.vn=function(e,t){var n=this,r=new X(k),i=[];return t.forEach((function(t){var o=ar.prefixForPath(n.userId,t.path),s=IDBKeyRange.lowerBound(o),a=Jn(e).Ii({range:s},(function(e,i,o){var s=e[0],a=e[2],u=yn(e[1]);s===n.userId&&t.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),on.nn(i).next((function(){return n.mo(e,r)}))},e.prototype.$n=function(e,t){var n=this,r=t.path,i=r.length+1,o=ar.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new X(k);return Jn(e).Ii({range:s},(function(e,t,o){var s=e[0],u=e[2],c=yn(e[1]);s===n.userId&&r.D(c)?c.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.mo(e,a)}))},e.prototype.mo=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Xn(e).get(t).next((function(e){if(null===e)throw g();y(e.userId===n.userId),r.push(An(n.serializer,e))})))})),on.nn(i).next((function(){return r}))},e.prototype.Po=function(e,t){var n=this;return Zn(e.er,this.userId,t).next((function(r){return e.En((function(){n.Vo(t.batchId)})),on.forEach(r,(function(t){return n.Fi.oo(e,t)}))}))},e.prototype.Vo=function(e){delete this._o[e]},e.prototype.po=function(e){var t=this;return this.do(e).next((function(n){if(!n)return on.resolve();var r=IDBKeyRange.lowerBound(ar.prefixForUser(t.userId)),i=[];return Jn(e).Ii({range:r},(function(e,n,r){if(e[0]===t.userId){var o=yn(e[1]);i.push(o)}else r.done()})).next((function(){y(0===i.length)}))}))},e.prototype.tr=function(e,t){return Kn(e,this.userId,t)},e.prototype.yo=function(e){var t=this;return er(e).get(this.userId).next((function(e){return e||new or(t.userId,-1,"")}))},e}();function Kn(e,t,n){var r=ar.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Jn(e).Ii({range:o,Zi:!0},(function(e,n,r){e[0]===t&&e[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function Zn(e,t,n){var r=e.store(sr.store),i=e.store(ar.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Ii({range:s},(function(e,t,n){return a++,n.delete()}));o.push(u.next((function(){y(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=ar.key(t,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return on.nn(o).next((function(){return c}))}function Xn(e){return Gn.ai(e,sr.store)}function Jn(e){return Gn.ai(e,ar.store)}function er(e){return Gn.ai(e,or.store)}var tr=10,nr=function(){function e(e){this.serializer=e}return e.prototype.createOrUpgrade=function(e,t,n,r){var i=this;y(n<r&&n>=0&&r<=tr);var o=new Cr(t);n<1&&r>=1&&(function(e){e.createObjectStore(ir.store)}(e),function(e){e.createObjectStore(or.store,{keyPath:or.keyPath}),e.createObjectStore(sr.store,{keyPath:sr.keyPath,autoIncrement:!0}).createIndex(sr.userMutationsIndex,sr.userMutationsKeyPath,{unique:!0}),e.createObjectStore(ar.store)}(e),gr(e),function(e){e.createObjectStore(lr.store)}(e));var s=on.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(dr.store),e.deleteObjectStore(fr.store),e.deleteObjectStore(pr.store)}(e),gr(e)),s=s.next((function(){return function(e){var t=e.store(pr.store),n=new pr(0,0,P.min().R(),0);return t.put(pr.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(e,t){return t.store(sr.store).hi().next((function(n){e.deleteObjectStore(sr.store),e.createObjectStore(sr.store,{keyPath:sr.keyPath,autoIncrement:!0}).createIndex(sr.userMutationsIndex,sr.userMutationsKeyPath,{unique:!0});var r=t.store(sr.store),i=n.map((function(e){return r.put(e)}));return on.nn(i)}))}(e,o)}))),s=s.next((function(){!function(e){e.createObjectStore(yr.store,{keyPath:yr.keyPath})}(e)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(e){e.createObjectStore(hr.store)}(e),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(e,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(lr.store);t.createIndex(lr.readTimeIndex,lr.readTimeIndexPath,{unique:!1}),t.createIndex(lr.collectionReadTimeIndex,lr.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),s},e.prototype.addDocumentGlobal=function(e){var t=0;return e.store(lr.store).Ii((function(e,n){t+=Ln(n)})).next((function(){var n=new hr(t);return e.store(hr.store).put(hr.key,n)}))},e.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(or.store),r=e.store(sr.store);return n.hi().next((function(n){return on.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.hi(sr.userMutationsIndex,i).next((function(r){return on.forEach(r,(function(r){y(r.userId===n.userId);var i=An(t.serializer,r);return Zn(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ensureSequenceNumbers=function(e){var t=e.store(dr.store),n=e.store(lr.store);return e.store(pr.store).get(pr.key).next((function(e){var r=[];return n.Ii((function(n,i){var o=new F(n),s=function(e){return[0,pn(e)]}(o);r.push(t.get(s).next((function(n){return n?on.resolve():function(n){return t.put(new dr(0,pn(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return on.nn(r)}))}))},e.prototype.createCollectionParentIndex=function(e,t){e.createObjectStore(vr.store,{keyPath:vr.keyPath});var n=t.store(vr.store),r=new _n,i=function(e){if(r.add(e)){var t=e.S(),i=e.p();return n.put({collectionId:t,parent:pn(i)})}};return t.store(lr.store).Ii({Zi:!0},(function(e,t){var n=new F(e);return i(n.p())})).next((function(){return t.store(ar.store).Ii({Zi:!0},(function(e,t){var n=yn(e[1]);return i(n.p())}))}))},e.prototype.rewriteCanonicalIds=function(e){var t=this,n=e.store(fr.store);return n.Ii((function(e,r){var i=On(r),o=Dn(t.serializer,i);return n.put(o)}))},e}(),rr=function(e,t){this.seconds=e,this.nanoseconds=t},ir=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};ir.store="owner",ir.key="owner";var or=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};or.store="mutationQueues",or.keyPath="userId";var sr=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};sr.store="mutations",sr.keyPath="batchId",sr.userMutationsIndex="userMutationsIndex",sr.userMutationsKeyPath=["userId","batchId"];var ar=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,pn(t)]},e.key=function(e,t,n){return[e,pn(t),n]},e}();ar.store="documentMutations",ar.PLACEHOLDER=new ar;var ur=function(e,t){this.path=e,this.readTime=t},cr=function(e,t){this.path=e,this.version=t},lr=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};lr.store="remoteDocuments",lr.readTimeIndex="readTimeIndex",lr.readTimeIndexPath="readTime",lr.collectionReadTimeIndex="collectionReadTimeIndex",lr.collectionReadTimeIndexPath=["parentPath","readTime"];var hr=function(e){this.byteSize=e};hr.store="remoteDocumentGlobal",hr.key="remoteDocumentGlobalKey";var fr=function(e,t,n,r,i,o,s){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};fr.store="targets",fr.keyPath="targetId",fr.queryTargetsIndexName="queryTargetsIndex",fr.queryTargetsKeyPath=["canonicalId","targetId"];var dr=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};dr.store="targetDocuments",dr.keyPath=["targetId","path"],dr.documentTargetsIndex="documentTargetsIndex",dr.documentTargetsKeyPath=["path","targetId"];var pr=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};pr.key="targetGlobalKey",pr.store="targetGlobal";var vr=function(e,t){this.collectionId=e,this.parent=t};function gr(e){e.createObjectStore(dr.store,{keyPath:dr.keyPath}).createIndex(dr.documentTargetsIndex,dr.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(fr.store,{keyPath:fr.keyPath}).createIndex(fr.queryTargetsIndexName,fr.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(pr.store)}vr.store="collectionParents",vr.keyPath=["collectionId","parent"];var yr=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};yr.store="clientMetadata",yr.keyPath="clientId";var mr=i.__spreadArrays(i.__spreadArrays(i.__spreadArrays([or.store,sr.store,ar.store,lr.store,fr.store,ir.store,pr.store,dr.store],[yr.store]),[hr.store]),[vr.store]),_r=function(){function e(t){this.db=t,12.2===e.bo(a.getUA())&&p("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.Ir=function(t,n,r){return d("SimpleDb","Opening database:",t),new on((function(i,o){var s=indexedDB.open(t,n);s.onsuccess=function(t){i(new e(t.target.result))},s.onblocked=function(){o(new D(O.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(e){var t=e.target.error;o("VersionError"===t.name?new D(O.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):t)},s.onupgradeneeded=function(e){d("SimpleDb",'Database "'+t+'" requires upgrade from version:',e.oldVersion),r.createOrUpgrade(e.target.result,s.transaction,e.oldVersion,tr).next((function(){d("SimpleDb","Database upgrade to version "+tr+" complete")}))}})).en()},e.delete=function(e){return d("SimpleDb","Removing database:",e),Er(window.indexedDB.deleteDatabase(e)).en()},e._r=function(){if("undefined"==typeof indexedDB)return!1;if(e.vo())return!0;var t=a.getUA(),n=e.bo(t),r=0<n&&n<10,i=e.So(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.vo=function(){var e;return"undefined"!=typeof __PRIVATE_process&&"YES"===(null===(e=__PRIVATE_process.__PRIVATE_env)||void 0===e?void 0:e.Do)},e.ai=function(e,t){return e.store(t)},e.bo=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.So=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.br=function(e){this.db.onversionchange=function(t){return e(t)}},e.prototype.runTransaction=function(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,s,a,u;return i.__generator(this,(function(c){switch(c.label){case 0:r="readonly"===e,o=0,s=function(){var e,s,u,c,l;return i.__generator(this,(function(i){switch(i.label){case 0:++o,e=Cr.open(a.db,r?"readonly":"readwrite",t),i.label=1;case 1:return i.trys.push([1,3,,4]),s=n(e).catch((function(t){return e.abort(t),on.reject(t)})).en(),u={},s.catch((function(){})),[4,e.Co];case 2:return[2,(u.value=(i.sent(),s),u)];case 3:return d("SimpleDb","Transaction failed with error: %s. Retrying: %s.",(c=i.sent()).message,l="FirebaseError"!==c.name&&o<3),l?[3,4]:[2,{value:Promise.reject(c)}];case 4:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db.close()},e}(),br=function(){function e(e){this.Fo=e,this.No=!1,this.$o=null}return Object.defineProperty(e.prototype,"Js",{get:function(){return this.No},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ko",{get:function(){return this.$o},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Fo=e},enumerable:!0,configurable:!0}),e.prototype.done=function(){this.No=!0},e.prototype.Ai=function(e){this.$o=e},e.prototype.delete=function(){return Er(this.Fo.delete())},e}(),kr=function(e){function t(t){var n=this;return(n=e.call(this,O.UNAVAILABLE,"IndexedDB transaction failed: "+t)||this).name="IndexedDbTransactionError",n}return i.__extends(t,e),t}(D);function wr(e){return"IndexedDbTransactionError"===e.name}var Cr=function(){function e(e){var t=this;this.transaction=e,this.aborted=!1,this.xo=new fn,this.transaction.oncomplete=function(){t.xo.resolve()},this.transaction.onabort=function(){e.error?t.xo.reject(new kr(e.error)):t.xo.resolve()},this.transaction.onerror=function(e){var n=Tr(e.target.error);t.xo.reject(new kr(n))}}return e.open=function(t,n,r){return new e(t.transaction(r,n))},Object.defineProperty(e.prototype,"Co",{get:function(){return this.xo.promise},enumerable:!0,configurable:!0}),e.prototype.abort=function(e){e&&this.xo.reject(e),this.aborted||(d("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new Sr(t)},e}(),Sr=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(d("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(d("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Er(n)},e.prototype.add=function(e){return d("SimpleDb","ADD",this.store.name,e,e),Er(this.store.add(e))},e.prototype.get=function(e){var t=this;return Er(this.store.get(e)).next((function(n){return void 0===n&&(n=null),d("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return d("SimpleDb","DELETE",this.store.name,e),Er(this.store.delete(e))},e.prototype.count=function(){return d("SimpleDb","COUNT",this.store.name),Er(this.store.count())},e.prototype.hi=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Mo(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Lo=function(e,t){d("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Zi=!1;var r=this.cursor(n);return this.Mo(r,(function(e,t,n){return n.delete()}))},e.prototype.Ii=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Mo(r,t)},e.prototype.ao=function(e){var t=this.cursor({});return new on((function(n,r){t.onerror=function(e){var t=Tr(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.Mo=function(e,t){var n=[];return new on((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new br(i),s=t(i.primaryKey,i.value,o);if(s instanceof on){var a=s.catch((function(e){return o.done(),on.reject(e)}));n.push(a)}o.Js?r():null===o.ko?i.continue():i.continue(o.ko)}else r()}})).next((function(){return on.nn(n)}))},e.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Zi?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Er(e){return new on((function(t,n){e.onsuccess=function(e){t(e.target.result)},e.onerror=function(e){var t=Tr(e.target.error);n(t)}}))}var Ir=!1;function Tr(e){var t=_r.bo(a.getUA());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new D("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ir||(Ir=!0,setTimeout((function(){throw r}),0)),r}}return e}function xr(){return"undefined"!=typeof window?window:null}var Ar=function(){function e(e,t,n,r,i){this.Oo=e,this.jn=t,this.Bo=n,this.op=r,this.qo=i,this.Uo=new fn,this.then=this.Uo.promise.then.bind(this.Uo.promise),this.Uo.promise.catch((function(e){}))}return e.Qo=function(t,n,r,i,o){var s=new e(t,n,Date.now()+r,i,o);return s.start(r),s},e.prototype.start=function(e){var t=this;this.Wo=setTimeout((function(){return t.jo()}),e)},e.prototype.ni=function(){return this.jo()},e.prototype.cancel=function(e){null!==this.Wo&&(this.clearTimeout(),this.Uo.reject(new D(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.jo=function(){var e=this;this.Oo.Sr((function(){return null!==e.Wo?(e.clearTimeout(),e.op().then((function(t){return e.Uo.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.Wo&&(this.qo(this),clearTimeout(this.Wo),this.Wo=null)},e}(),Or=function(){function e(){var e=this;this.Ko=Promise.resolve(),this.Go=Promise.resolve(),this.zo=!1,this.Ho=[],this.Yo=null,this.Jo=!1,this.Xo=[],this.Zo=new dn(this,"async_queue_retry"),this.th=function(){return e.Zo.si()};var t=xr();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.th)}return Object.defineProperty(e.prototype,"eh",{get:function(){return this.zo},enumerable:!0,configurable:!0}),e.prototype.Sr=function(e){this.enqueue(e)},e.prototype.sh=function(e){this.nh(),this.ih(e)},e.prototype.rh=function(e){return this.nh(),this.ih(e)},e.prototype.oh=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(n){switch(n.label){case 0:return this.nh(),this.zo?[3,2]:(this.zo=!0,(t=xr())&&t.removeEventListener("visibilitychange",this.th),[4,this.rh(e)]);case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},e.prototype.enqueue=function(e){return this.nh(),this.zo?new Promise((function(e){})):this.ih(e)},e.prototype.Cr=function(e){var t=this;this.nh(),this.zo||(this.Go=this.Go.then((function(){var n=new fn;return t.Sr((function r(){return i.__awaiter(t,void 0,void 0,(function(){var t;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e()];case 1:return i.sent(),n.resolve(),this.Zo.reset(),[3,3];case 2:if(!wr(t=i.sent()))throw n.resolve(),t;return d("AsyncQueue","Operation failed with retryable error: "+t),this.Zo.Zn(r),[3,3];case 3:return[2]}}))}))})),n.promise})))},e.prototype.ih=function(e){var t=this,n=this.Ko.then((function(){return t.Jo=!0,e().catch((function(e){throw t.Yo=e,t.Jo=!1,p("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.Jo=!1,e}))}));return this.Ko=n,n},e.prototype.ei=function(e,t,n){var r=this;this.nh(),this.Xo.indexOf(e)>-1&&(t=0);var i=Ar.Qo(this,e,t,n,(function(e){return r.hh(e)}));return this.Ho.push(i),i},e.prototype.nh=function(){this.Yo&&g()},e.prototype.ah=function(){},e.prototype.uh=function(){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(t){switch(t.label){case 0:return[4,e=this.Ko];case 1:t.sent(),t.label=2;case 2:if(e!==this.Ko)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.lh=function(e){for(var t=0,n=this.Ho;t<n.length;t++)if(n[t].jn===e)return!0;return!1},e.prototype._h=function(e){var t=this;return this.uh().then((function(){t.Ho.sort((function(e,t){return e.Bo-t.Bo}));for(var n=0,r=t.Ho;n<r.length;n++){var i=r[n];if(i.ni(),"all"!==e&&i.jn===e)break}return t.uh()}))},e.prototype.fh=function(e){this.Xo.push(e)},e.prototype.hh=function(e){var t=this.Ho.indexOf(e);this.Ho.splice(t,1)},e}();function Dr(e,t){if(p("AsyncQueue",t+": "+e),wr(e))return new D(O.UNAVAILABLE,t+": "+e);throw e}function Rr(e,t){var n=e[1],r=t[1],i=k(e[0],t[0]);return 0===i?k(n,r):i}var Pr=function(){function e(e){this.dh=e,this.buffer=new X(Rr),this.wh=0}return e.prototype.Th=function(){return++this.wh},e.prototype.Eh=function(e){var t=[e,this.Th()];if(this.buffer.size<this.dh)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Rr(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),e}(),Nr={Ih:!1,Ah:0,Rh:0,mh:0},Fr=function(){function e(e,t,n){this.Ph=e,this.Vh=t,this.gh=n}return e.ph=function(t){return new e(t,e.yh,e.bh)},e}();Fr.vh=-1,Fr.Sh=1048576,Fr.Dh=41943040,Fr.yh=10,Fr.bh=1e3,Fr.Ch=new Fr(Fr.Dh,Fr.yh,Fr.bh),Fr.DISABLED=new Fr(Fr.vh,0,0);var Lr=function(){function e(e,t){this.eo=e,this.Oo=t,this.Fh=!1,this.Nh=null}return e.prototype.start=function(e){this.eo.$h.Ph!==Fr.vh&&this.kh(e)},e.prototype.stop=function(){this.Nh&&(this.Nh.cancel(),this.Nh=null)},Object.defineProperty(e.prototype,"pr",{get:function(){return null!==this.Nh},enumerable:!0,configurable:!0}),e.prototype.kh=function(e){var t=this,n=this.Fh?3e5:6e4;d("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Nh=this.Oo.ei("lru_garbage_collection",n,(function(){return i.__awaiter(t,void 0,void 0,(function(){var t;return i.__generator(this,(function(n){switch(n.label){case 0:this.Nh=null,this.Fh=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.xh(this.eo)];case 2:return n.sent(),[3,7];case 3:return wr(t=n.sent())?(d("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Ur(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.kh(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),Mr=function(){function e(e,t){this.Mh=e,this.$h=t}return e.prototype.Lh=function(e,t){return this.Mh.so(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.Oh=function(e,t){var n=this;if(0===t)return on.resolve(hn.Qn);var r=new Pr(t);return this.Mh.ye(e,(function(e){return r.Eh(e.sequenceNumber)})).next((function(){return n.Mh.io(e,(function(e){return r.Eh(e)}))})).next((function(){return r.maxValue}))},e.prototype.ji=function(e,t,n){return this.Mh.ji(e,t,n)},e.prototype.uo=function(e,t){return this.Mh.uo(e,t)},e.prototype.Bh=function(e,t){var n=this;return this.$h.Ph===Fr.vh?(d("LruGarbageCollector","Garbage collection skipped; disabled"),on.resolve(Nr)):this.lo(e).next((function(r){return r<n.$h.Ph?(d("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.$h.Ph),Nr):n.qh(e,t)}))},e.prototype.lo=function(e){return this.Mh.lo(e)},e.prototype.qh=function(e,t){var n,r,i,o,a,u,c,l=this,h=Date.now();return this.Lh(e,this.$h.Vh).next((function(t){return t>l.$h.gh?(d("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.$h.gh+" from "+t),r=l.$h.gh):r=t,o=Date.now(),l.Oh(e,r)})).next((function(r){return n=r,a=Date.now(),l.ji(e,n,t)})).next((function(t){return i=t,u=Date.now(),l.uo(e,n)})).next((function(e){return c=Date.now(),f()<=s.LogLevel.DEBUG&&d("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+e+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms"),on.resolve({Ih:!0,Ah:r,Rh:i,mh:e})}))},e}(),Vr=function(){function e(e,t,n){this.persistence=e,this.Uh=t,this.Qh=new Y(k),this.Wh=new A((function(e){return Jt(e)}),en),this.jh=P.min(),this.Rn=e.zr(n),this.Kh=e.Jr(),this.Tr=e.Yr(),this.Gh=new cn(this.Kh,this.Rn,this.persistence.Xr()),this.Uh.zh(this.Gh)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.Hh=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o=this;return i.__generator(this,(function(i){switch(i.label){case 0:return t=this.Rn,n=this.Gh,[4,this.persistence.runTransaction("Handle user change","readonly",(function(r){var i;return o.Rn.Ro(r).next((function(s){return i=s,t=o.persistence.zr(e),n=new cn(o.Kh,t,o.persistence.Xr()),t.Ro(r)})).next((function(e){for(var t=[],o=[],s=ae(),a=0,u=i;a<u.length;a++){var c=u[a];t.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];o.push(p.batchId);for(var v=0,g=p.mutations;v<g.length;v++)s=s.add(g[v].key)}return n.yn(r,s).next((function(e){return{Yh:e,Jh:t,Xh:o}}))}))}))];case 1:return r=i.sent(),[2,(this.Rn=t,this.Gh=n,this.Uh.zh(this.Gh),r)]}}))}))},e.prototype.Zh=function(e){var t,n=this,r=R.now(),i=e.reduce((function(e,t){return e.add(t.key)}),ae());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(o){return n.Gh.yn(o,i).next((function(i){t=i;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=c.Ze(t.get(c.key));null!=l&&s.push(new xt(c.key,l,Nt(l.proto.mapValue),Et.exists(!0)))}return n.Rn.wo(o,r,s,e)}))})).then((function(e){var n=e.Ks(t);return{batchId:e.batchId,on:n}}))},e.prototype.ta=function(e){var t=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=e.batch.keys(),i=t.Kh.Vi({pi:!0});return t.ea(n,e,i).next((function(){return i.apply(n)})).next((function(){return t.Rn.po(n)})).next((function(){return t.Gh.yn(n,r)}))}))},e.prototype.sa=function(e){var t=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return t.Rn.To(n,e).next((function(e){return y(null!==e),r=e.keys(),t.Rn.Po(n,e)})).next((function(){return t.Rn.po(n)})).next((function(){return t.Gh.yn(n,r)}))}))},e.prototype.Ao=function(){var e=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Rn.Ao(t)}))},e.prototype.xi=function(){var e=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Tr.xi(t)}))},e.prototype.na=function(t){var n=this,r=t.J,i=this.Qh;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(o){var s=n.Kh.Vi({pi:!0});i=n.Qh;var a=[];t.Qt.forEach((function(t,s){var u=i.get(s);if(u){a.push(n.Tr.Yi(o,t.Xt,s).next((function(){return n.Tr.zi(o,t.Yt,s)})));var c=t.resumeToken;if(c.G()>0){var l=u.Z(c,r).X(o.sr);i=i.et(s,l),e.ia(u,l,t)&&a.push(n.Tr.Ui(o,l))}}}));var u=te(),c=ae();if(t.jt.forEach((function(e,t){c=c.add(e)})),a.push(s.getEntries(o,c).next((function(e){t.jt.forEach((function(i,c){var l=e.get(i);c instanceof Mt&&c.version.isEqual(P.min())?(s.ln(i,r),u=u.et(i,c)):null==l||c.version.o(l.version)>0||0===c.version.o(l.version)&&l.hasPendingWrites?(s.un(c,r),u=u.et(i,c)):d("LocalStore","Ignoring outdated watch update for ",i,". Current version:",l.version," Watch version:",c.version),t.Kt.has(i)&&a.push(n.persistence.Fi.co(o,i))}))}))),!r.isEqual(P.min())){var l=n.Tr.xi(o).next((function(e){return n.Tr.Li(o,o.sr,r)}));a.push(l)}return on.nn(a).next((function(){return s.apply(o)})).next((function(){return n.Gh.bn(o,u)}))})).then((function(e){return n.Qh=i,e}))},e.ia=function(e,t,n){return y(t.resumeToken.G()>0),0===e.resumeToken.G()||t.J.A()-e.J.A()>=this.ra||n.Yt.size+n.Jt.size+n.Xt.size>0},e.prototype.oa=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o,s,a,u,c=this;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return on.forEach(e,(function(e){return on.forEach(e.xn,(function(n){return c.persistence.Fi.Hi(t,e.targetId,n)})).next((function(){return on.forEach(e.Mn,(function(n){return c.persistence.Fi.Ji(t,e.targetId,n)}))}))}))}))];case 1:return i.sent(),[3,3];case 2:if(!wr(t=i.sent()))throw t;return d("LocalStore","Failed to update sequence numbers: "+t),[3,3];case 3:for(n=0,r=e;n<r.length;n++)s=(o=r[n]).targetId,o.fromCache||(a=this.Qh.get(s),u=a.tt(a.J),this.Qh=this.Qh.et(s,u));return[2]}}))}))},e.prototype.ha=function(e){var t=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===e&&(e=-1),t.Rn.Io(n,e)}))},e.prototype.aa=function(e){var t=this;return this.persistence.runTransaction("read document","readonly",(function(n){return t.Gh.Pn(n,e)}))},e.prototype.ua=function(e){var t=this;return this.persistence.runTransaction("Allocate target","readwrite",(function(n){var r;return t.Tr.Gi(n,e).next((function(i){return i?on.resolve(r=i):t.Tr.Ni(n).next((function(i){return r=new q(e,i,0,n.sr),t.Tr.Oi(n,r).next((function(){return r}))}))}))})).then((function(n){var r=t.Qh.get(n.targetId);return(null===r||n.J.o(r.J)>0)&&(t.Qh=t.Qh.et(n.targetId,n),t.Wh.set(e,n.targetId)),n}))},e.prototype.Gi=function(e,t){var n=this.Wh.get(t);return void 0!==n?on.resolve(this.Qh.get(n)):this.Tr.Gi(e,t)},e.prototype.ca=function(e,t){var n=this,r=this.Qh.get(e);return this.persistence.runTransaction("Release target",t?"readwrite":"readwrite-primary",(function(e){return t?on.resolve():n.persistence.Fi.removeTarget(e,r)})).then((function(){n.Qh=n.Qh.remove(e),n.Wh.delete(r.target)}))},e.prototype.la=function(e,t){var n=this,r=P.min(),i=ae();return this.persistence.runTransaction("Execute query","readonly",(function(o){return n.Gi(o,e.We()).next((function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,n.Tr.Xi(o,e.targetId).next((function(e){i=e}))})).next((function(){return n.Uh.Sn(o,e,t?r:P.min(),t?i:ae())})).next((function(e){return{documents:e,_a:i}}))}))},e.prototype.ea=function(e,t,n){var r=this,i=t.batch,o=i.keys(),s=on.resolve();return o.forEach((function(r){s=s.next((function(){return n._n(e,r)})).next((function(e){var o=e,s=t.zs.get(r);y(null!==s),(!o||o.version.o(s)<0)&&(o=i.Ke(r,o,t))&&n.un(o,t.Gs)}))})),s.next((function(){return r.Rn.Po(e,i)}))},e.prototype.xh=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.Bh(n,t.Qh)}))},e}();Vr.ra=3e8;var jr=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).persistence=t,i.Rn=t.zr(r),i.Kh=t.Jr(),i.Tr=t.Yr(),i}return i.__extends(t,e),t.prototype.start=function(){return this.fa()},t.prototype.da=function(e){var t=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return t.Rn.Eo(n,e).next((function(e){return e?t.Gh.yn(n,e):on.resolve(null)}))}))},t.prototype.wa=function(e){this.Rn.Vo(e)},t.prototype.vr=function(e){this.persistence.vr(e)},t.prototype.Gr=function(){return this.persistence.Gr()},t.prototype.Ta=function(e){var t=this,n=this.Qh.get(e);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly",(function(n){return t.Tr.Me(n,e).next((function(e){return e?e.target:null}))}))},t.prototype.Ri=function(){var e=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(t){return e.Kh.Ri(t,e.jh)})).then((function(t){var n=t.mi;return e.jh=t.readTime,n}))},t.prototype.fa=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t=this;return i.__generator(this,(function(n){switch(n.label){case 0:return e=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return t.Kh.Pi(e)}))];case 1:return e.jh=n.sent(),[2]}}))}))},t}(Vr);function Ur(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){if(e.code!==O.FAILED_PRECONDITION||e.message!==an)throw e;return d("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var Br=function(){function e(){this.Ea=new X(zr.Ia),this.Aa=new X(zr.Ra)}return e.prototype._=function(){return this.Ea._()},e.prototype.Hi=function(e,t){var n=new zr(e,t);this.Ea=this.Ea.add(n),this.Aa=this.Aa.add(n)},e.prototype.ma=function(e,t){var n=this;e.forEach((function(e){return n.Hi(e,t)}))},e.prototype.Ji=function(e,t){this.Pa(new zr(e,t))},e.prototype.Va=function(e,t){var n=this;e.forEach((function(e){return n.Ji(e,t)}))},e.prototype.ga=function(e){var t=this,n=V.EMPTY,r=new zr(n,e),i=new zr(n,e+1),o=[];return this.Aa.vt([r,i],(function(e){t.Pa(e),o.push(e.key)})),o},e.prototype.pa=function(){var e=this;this.Ea.forEach((function(t){return e.Pa(t)}))},e.prototype.Pa=function(e){this.Ea=this.Ea.delete(e),this.Aa=this.Aa.delete(e)},e.prototype.ya=function(e){var t=V.EMPTY,n=new zr(t,e),r=new zr(t,e+1),i=ae();return this.Aa.vt([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.tr=function(e){var t=new zr(e,0),n=this.Ea.Dt(t);return null!==n&&e.isEqual(n.key)},e}(),zr=function(){function e(e,t){this.key=e,this.ba=t}return e.Ia=function(e,t){return V.P(e.key,t.key)||k(e.ba,t.ba)},e.Ra=function(e,t){return k(e.ba,t.ba)||V.P(e.key,t.key)},e}();function Hr(e,t){if(0!==t.length)throw new D(O.INVALID_ARGUMENT,"Function "+e+"() does not support arguments, but was called with "+ai(t.length,"argument")+".")}function Gr(e,t,n){if(t.length!==n)throw new D(O.INVALID_ARGUMENT,"Function "+e+"() requires "+ai(n,"argument")+", but was called with "+ai(t.length,"argument")+".")}function qr(e,t,n){if(t.length<n)throw new D(O.INVALID_ARGUMENT,"Function "+e+"() requires at least "+ai(n,"argument")+", but was called with "+ai(t.length,"argument")+".")}function Wr(e,t,n,r){if(t.length<n||t.length>r)throw new D(O.INVALID_ARGUMENT,"Function "+e+"() requires between "+n+" and "+r+" arguments, but was called with "+ai(t.length,"argument")+".")}function $r(e,t,n,r){Jr(e,t,si(n)+" argument",r)}function Qr(e,t,n,r){void 0!==r&&$r(e,t,n,r)}function Yr(e,t,n,r){Jr(e,t,n+" option",r)}function Kr(e,t,n,r){void 0!==r&&Yr(e,t,n,r)}function Zr(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var u=a[s];if(u===r)return;o.push(ti(u))}var c=ti(r);throw new D(O.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+e+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(e,0,n,r,i)}function Xr(e,t,n,r){if(!t.some((function(e){return e===r})))throw new D(O.INVALID_ARGUMENT,"Invalid value "+ti(r)+" provided to function "+e+"() for its "+si(n)+" argument. Acceptable values: "+t.join(", "));return r}function Jr(e,t,n,r){if(!("object"===t?ei(r):"non-empty string"===t?"string"==typeof r&&""!==r:typeof r===t)){var i=ti(r);throw new D(O.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" to be of type "+t+", but it was: "+i)}}function ei(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function ti(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":g()}function ni(e,t,n){if(void 0===n)throw new D(O.INVALID_ARGUMENT,"Function "+e+"() requires a valid "+si(t)+" argument, but it was undefined.")}function ri(e,t,n){T(t,(function(t,r){if(n.indexOf(t)<0)throw new D(O.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))}))}function ii(e,t,n,r){var i=ti(r);return new D(O.INVALID_ARGUMENT,"Function "+e+"() requires its "+si(n)+" argument to be a "+t+", but it was: "+i)}function oi(e,t,n){if(n<=0)throw new D(O.INVALID_ARGUMENT,"Function "+e+"() requires its "+si(t)+" argument to be a positive number, but it was: "+n+".")}function si(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function ai(e,t){return e+" "+t+(1===e?"":"s")}function ui(){if("undefined"==typeof Uint8Array)throw new D(O.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ci(){if("undefined"==typeof atob)throw new D(O.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var li=function(){function e(e){ci(),this.va=e}return e.fromBase64String=function(t){Gr("Blob.fromBase64String",arguments,1),$r("Blob.fromBase64String","string",1,t),ci();try{return new e(z.fromBase64String(t))}catch(t){throw new D(O.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){if(Gr("Blob.fromUint8Array",arguments,1),ui(),!(t instanceof Uint8Array))throw ii("Blob.fromUint8Array","Uint8Array",1,t);return new e(z.fromUint8Array(t))},e.prototype.toBase64=function(){return Gr("Blob.toBase64",arguments,0),ci(),this.va.toBase64()},e.prototype.toUint8Array=function(){return Gr("Blob.toUint8Array",arguments,0),ui(),this.va.toUint8Array()},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this.va.isEqual(e.va)},e}(),hi=function(e){!function(e,t,n,r){if(!(t instanceof Array)||t.length<1)throw new D(O.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+ai(1,"element")+".")}(0,e);for(var t=0;t<e.length;++t)if($r("FieldPath","string",t,e[t]),0===e[t].length)throw new D(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Sa=new M(e)},fi=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.call(this,t)||this}return i.__extends(t,e),t.documentId=function(){return t.Da},t.prototype.isEqual=function(e){if(!(e instanceof t))throw ii("isEqual","FieldPath",1,e);return this.Sa.isEqual(e.Sa)},t}(hi);fi.Da=new fi(M.O().N());var di=new RegExp("[~\\*/\\[\\]]"),pi=function(){this.Ca=this},vi=function(e){function t(t){var n=this;return(n=e.call(this)||this).Fa=t,n}return i.__extends(t,e),t.prototype.Na=function(e){if(2!==e.$a)throw e.ka(1===e.$a?this.Fa+"() can only appear at the top level of your update data":this.Fa+"() cannot be used with set() unless you pass {merge:true}");return e.Oe.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(pi),gi=function(e){function t(t){var n=this;return(n=e.call(this)||this).Fa=t,n}return i.__extends(t,e),t.prototype.Na=function(e){return new Ct(e.path,yt.instance)},t.prototype.isEqual=function(e){return e instanceof t},t}(pi),yi=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Fa=t,r.xa=n,r}return i.__extends(t,e),t.prototype.Na=function(e){var t=new Ai({$a:3,methodName:this.Fa,Ma:!0},e.s,e.serializer,e.ignoreUndefinedProperties),n=this.xa.map((function(e){return Di(e,t)})),r=new mt(n);return new Ct(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(pi),mi=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Fa=t,r.xa=n,r}return i.__extends(t,e),t.prototype.Na=function(e){var t=new Ai({$a:3,methodName:this.Fa,Ma:!0},e.s,e.serializer,e.ignoreUndefinedProperties),n=this.xa.map((function(e){return Di(e,t)})),r=new _t(n);return new Ct(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(pi),_i=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Fa=t,r.La=n,r}return i.__extends(t,e),t.prototype.Na=function(e){var t=new Ai({$a:3,methodName:this.Fa},e.s,e.serializer,e.ignoreUndefinedProperties),n=Di(this.La,t),r=new bt(e.serializer,n);return new Ct(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(pi),bi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.delete=function(){return Hr("FieldValue.delete",arguments),new ki(new vi("FieldValue.delete"))},t.serverTimestamp=function(){return Hr("FieldValue.serverTimestamp",arguments),new ki(new gi("FieldValue.serverTimestamp"))},t.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return qr("FieldValue.arrayUnion",arguments,1),new ki(new yi("FieldValue.arrayUnion",e))},t.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return qr("FieldValue.arrayRemove",arguments,1),new ki(new mi("FieldValue.arrayRemove",e))},t.increment=function(e){return $r("FieldValue.increment","number",1,e),Gr("FieldValue.increment",arguments,1),new ki(new _i("FieldValue.increment",e))},t}(pi),ki=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ca=t,n.Fa=t.Fa,n}return i.__extends(t,e),t.prototype.Na=function(e){return this.Ca.Na(e)},t.prototype.isEqual=function(e){return e instanceof t&&this.Ca.isEqual(e.Ca)},t}(bi),wi=function(){function e(e,t){if(Gr("GeoPoint",arguments,2),$r("GeoPoint","number",1,e),$r("GeoPoint","number",2,t),!isFinite(e)||e<-90||e>90)throw new D(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new D(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this.Oa=e,this.Ba=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this.Oa},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this.Ba},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){return this.Oa===e.Oa&&this.Ba===e.Ba},e.prototype.T=function(e){return k(this.Oa,e.Oa)||k(this.Ba,e.Ba)},e}();function Ci(e){return new ze(e,!0)}var Si=/^__.*__$/,Ei=function(e,t,n){this.qa=e,this.Ua=t,this.Qa=n},Ii=function(){function e(e,t,n){this.data=e,this.Oe=t,this.fieldTransforms=n}return e.prototype.Wa=function(e,t){var n=[];return n.push(null!==this.Oe?new xt(e,this.data,this.Oe,t):new Tt(e,this.data,t)),this.fieldTransforms.length>0&&n.push(new At(e,this.fieldTransforms)),n},e}(),Ti=function(){function e(e,t,n){this.data=e,this.Oe=t,this.fieldTransforms=n}return e.prototype.Wa=function(e,t){var n=[new xt(e,this.data,this.Oe,t)];return this.fieldTransforms.length>0&&n.push(new At(e,this.fieldTransforms)),n},e}();function xi(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw g()}}var Ai=function(){function e(e,t,n,r,i,o){this.settings=e,this.s=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ja(),this.fieldTransforms=i||[],this.Oe=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$a",{get:function(){return this.settings.$a},enumerable:!0,configurable:!0}),e.prototype.Ka=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.s,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Oe)},e.prototype.Ga=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ka({path:n,Ma:!1});return r.za(e),r},e.prototype.Ha=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ka({path:n,Ma:!1});return r.ja(),r},e.prototype.Ya=function(e){return this.Ka({path:void 0,Ma:!0})},e.prototype.ka=function(e){var t=!this.path||this.path._()?"":" (found in field "+this.path.toString()+")";return new D(O.INVALID_ARGUMENT,"Function "+this.settings.methodName+"() called with invalid data. "+e+t)},e.prototype.contains=function(e){return void 0!==this.Oe.find((function(t){return e.D(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.D(t.field)}))},e.prototype.ja=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.za(this.path.get(e))},e.prototype.za=function(e){if(0===e.length)throw this.ka("Document fields must not be empty");if(xi(this.$a)&&Si.test(e))throw this.ka('Document fields cannot begin and end with "__"')},e}(),Oi=function(){function e(e,t,n){this.s=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ci(e)}return e.prototype.Ja=function(e,t,n){void 0===n&&(n={});var r=this.Xa(n.merge||n.mergeFields?2:0,e);Ni("Data must be an object, but it was:",r,t);var i,o,s=Ri(t,r);if(n.merge)i=new wt(r.Oe),o=r.fieldTransforms;else if(n.mergeFields){for(var a=[],u=0,c=n.mergeFields;u<c.length;u++){var l=c[u],h=void 0;if(l instanceof hi)h=l.Sa;else{if("string"!=typeof l)throw g();h=Li(e,l)}if(!r.contains(h))throw new D(O.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");Mi(a,h)||a.push(h)}i=new wt(a),o=r.fieldTransforms.filter((function(e){return i.ze(e.field)}))}else i=null,o=r.fieldTransforms;return new Ii(new Rt(s),i,o)},e.prototype.Za=function(e,t){var n=this.Xa(1,e);Ni("Data must be an object, but it was:",n,t);var r=[],i=new Pt;T(t,(function(t,o){var s=Li(e,t),a=n.Ha(s);if(o instanceof pi&&o.Ca instanceof vi)r.push(s);else{var u=Di(o,a);null!=u&&(r.push(s),i.set(s,u))}}));var o=new wt(r);return new Ti(i.ss(),o,n.fieldTransforms)},e.prototype.tu=function(e,t,n,r){var i=this.Xa(1,e),o=[Fi(e,t)],s=[n];if(r.length%2!=0)throw new D(O.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var a=0;a<r.length;a+=2)o.push(Fi(e,r[a])),s.push(r[a+1]);for(var u=[],c=new Pt,l=o.length-1;l>=0;--l)if(!Mi(u,o[l])){var h=o[l],f=s[l],d=i.Ha(h);if(f instanceof pi&&f.Ca instanceof vi)u.push(h);else{var p=Di(f,d);null!=p&&(u.push(h),c.set(h,p))}}var v=new wt(u);return new Ti(c.ss(),v,i.fieldTransforms)},e.prototype.Xa=function(e,t){return new Ai({$a:e,methodName:t,path:M.k,Ma:!1},this.s,this.serializer,this.ignoreUndefinedProperties)},e.prototype.eu=function(e,t,n){return void 0===n&&(n=!1),Di(t,this.Xa(n?4:3,e))},e}();function Di(e,t){if(Pi(e))return Ni("Unsupported field value:",t,e),Ri(e,t);if(e instanceof pi)return function(e,t){if(!xi(t.$a))throw t.ka(e.Fa+"() can only be used with update() and set()");if(!t.path)throw t.ka(e.Fa+"() is not currently supported inside arrays");var n=e.Na(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(t.path&&t.Oe.push(t.path),e instanceof Array){if(t.settings.Ma&&4!==t.$a)throw t.ka("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var s=Di(o[i],t.Ya(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===e)return{nullValue:"NULL_VALUE"};if("number"==typeof e)return function(e,t){return B(t)?He(t):Ge(e,t)}(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=R.fromDate(e);return{timestampValue:qe(t.serializer,n)}}if(e instanceof R){var r=new R(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:qe(t.serializer,r)}}if(e instanceof wi)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof li)return{bytesValue:We(t.serializer,e)};if(e instanceof Ei){var i=t.s,o=e.qa;if(!o.isEqual(i))throw t.ka("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Ke(e.qa||t.s,e.Ua.path)}}if(void 0===e&&t.ignoreUndefinedProperties)return null;throw t.ka("Unsupported field value: "+ti(e))}(e,t)}function Ri(e,t){var n={};return x(e)?t.path&&t.path.length>0&&t.Oe.push(t.path):T(e,(function(e,r){var i=Di(r,t.Ga(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Pi(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof R||e instanceof wi||e instanceof li||e instanceof Ei||e instanceof pi)}function Ni(e,t,n){if(!Pi(n)||!ei(n)){var r=ti(n);throw t.ka("an object"===r?e+" a custom object":e+" "+r)}}function Fi(e,t){if(t instanceof hi)return t.Sa;if("string"==typeof t)return Li(e,t);throw new D(O.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Li(e,t){try{return function(e){if(e.search(di)>=0)throw new D(O.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(fi.bind.apply(fi,i.__spreadArrays([void 0],e.split("."))))}catch(i){throw new D(O.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(t).Sa}catch(t){var n=(r=t)instanceof Error?r.message:r.toString();throw new D(O.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. "+n)}var r}function Mi(e,t){return e.some((function(e){return e.isEqual(t)}))}var Vi=function(){function e(e){this.uid=e}return e.prototype.fo=function(){return null!=this.uid},e.prototype.su=function(){return this.fo()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();Vi.UNAUTHENTICATED=new Vi(null),Vi.nu=new Vi("google-credentials-uid"),Vi.iu=new Vi("first-party-uid");var ji=function(e,t){this.user=t,this.type="OAuth",this.ru={},this.ru.Authorization="Bearer "+e},Ui=function(){function e(){this.ou=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.hu=function(){},e.prototype.au=function(e){this.ou=e,e(Vi.UNAUTHENTICATED)},e.prototype.uu=function(){this.ou=null},e}(),Bi=function(){function e(e){var t=this;this.cu=null,this.currentUser=Vi.UNAUTHENTICATED,this.lu=!1,this._u=0,this.ou=null,this.forceRefresh=!1,this.cu=function(){t._u++,t.currentUser=t.fu(),t.lu=!0,t.ou&&t.ou(t.currentUser)},this._u=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.cu):(this.cu(null),e.get().then((function(e){t.auth=e,t.cu&&t.auth.addAuthTokenListener(t.cu)}),(function(){})))}return e.prototype.getToken=function(){var e=this,t=this._u,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e._u!==t?(d("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(y("string"==typeof n.accessToken),new ji(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.hu=function(){this.forceRefresh=!0},e.prototype.au=function(e){this.ou=e,this.lu&&e(this.currentUser)},e.prototype.uu=function(){this.auth&&this.auth.removeAuthTokenListener(this.cu),this.cu=null,this.ou=null},e.prototype.fu=function(){var e=this.auth&&this.auth.getUid();return y(null===e||"string"==typeof e),new Vi(e)},e}(),zi=function(){function e(e,t){this.du=e,this.wu=t,this.type="FirstParty",this.user=Vi.iu}return Object.defineProperty(e.prototype,"ru",{get:function(){var e={"X-Goog-AuthUser":this.wu},t=this.du.auth.Tu([]);return t&&(e.Authorization=t),e},enumerable:!0,configurable:!0}),e}(),Hi=function(){function e(e,t){this.du=e,this.wu=t}return e.prototype.getToken=function(){return Promise.resolve(new zi(this.du,this.wu))},e.prototype.au=function(e){e(Vi.iu)},e.prototype.uu=function(){},e.prototype.hu=function(){},e}(),Gi=function(){function e(e,t,n,r,i,o){this.Wn=e,this.Eu=n,this.Iu=r,this.Au=i,this.listener=o,this.state=0,this.Ru=0,this.mu=null,this.stream=null,this.Zo=new dn(e,t)}return e.prototype.Pu=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.Vu=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.gu()},e.prototype.stop=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Pu()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.pu=function(){this.state=0,this.Zo.reset()},e.prototype.yu=function(){var e=this;this.Vu()&&null===this.mu&&(this.mu=this.Wn.ei(this.Eu,6e4,(function(){return e.bu()})))},e.prototype.vu=function(e){this.Su(),this.stream.send(e)},e.prototype.bu=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.Vu()?[2,this.close(0)]:[2]}))}))},e.prototype.Su=function(){this.mu&&(this.mu.cancel(),this.mu=null)},e.prototype.close=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(n){switch(n.label){case 0:return this.Su(),this.Zo.cancel(),this.Ru++,3!==e?this.Zo.reset():t&&t.code===O.RESOURCE_EXHAUSTED?(p(t.toString()),p("Using maximum backoff delay to prevent overloading the backend."),this.Zo.Xn()):t&&t.code===O.UNAUTHENTICATED&&this.Au.hu(),null!==this.stream&&(this.Du(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Cu(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.Du=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.Fu(this.Ru),n=this.Ru;this.Au.getToken().then((function(t){e.Ru===n&&e.Nu(t)}),(function(n){t((function(){var t=new D(O.UNKNOWN,"Fetching auth token failed: "+n.message);return e.$u(t)}))}))},e.prototype.Nu=function(e){var t=this,n=this.Fu(this.Ru);this.stream=this.ku(e),this.stream.xu((function(){n((function(){return t.state=2,t.listener.xu()}))})),this.stream.Cu((function(e){n((function(){return t.$u(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.gu=function(){var e=this;this.state=4,this.Zo.Zn((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.$u=function(e){return d("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.Fu=function(e){var t=this;return function(n){t.Wn.Sr((function(){return t.Ru===e?n():(d("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),qi=function(e){function t(t,n,r,i,o){var s=this;return(s=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return i.__extends(t,e),t.prototype.ku=function(e){return this.Iu.Mu("Listen",e)},t.prototype.onMessage=function(e){this.Zo.reset();var t=function(e,t){var n;if("targetChange"in t){var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:g()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=$e(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){var t=void 0===e.code?O.UNKNOWN:Q(e.code);return new D(t,e.message||"")}(s);n=new ye(r,i,o,a||null)}else if("documentChange"in t){var u=t.documentChange,c=Je(e,u.document.name),l=Ye(u.document.updateTime),h=new Rt({mapValue:{fields:u.document.fields}}),f=new Lt(c,l,h,{});n=new ve(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if("documentDelete"in t){var d=t.documentDelete,p=Je(e,d.document),v=d.readTime?Ye(d.readTime):P.min(),y=new Mt(p,v);n=new ve([],d.removedTargetIds||[],y.key,y)}else if("documentRemove"in t){var m=t.documentRemove,_=Je(e,m.document);n=new ve([],m.removedTargetIds||[],_,null)}else{if(!("filter"in t))return g();var b=t.filter,k=new W(b.count||0);n=new ge(b.targetId,k)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return P.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?P.min():t.readTime?Ye(t.readTime):P.min()}(e);return this.listener.Lu(t,n)},t.prototype.Ou=function(e){var t={};t.database=nt(this.serializer),t.addTarget=function(e,t){var n,r=t.target;return(n=tn(r)?{documents:at(e,r)}:{query:ut(e,r)}).targetId=t.targetId,t.resumeToken.G()>0&&(n.resumeToken=We(e,t.resumeToken)),n}(this.serializer,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return g()}}(0,t.Y);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.vu(t)},t.prototype.Bu=function(e){var t={};t.database=nt(this.serializer),t.removeTarget=e,this.vu(t)},t}(Gi),Wi=function(e){function t(t,n,r,i,o){var s=this;return(s=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.qu=!1,s.lastStreamToken=z.H,s}return i.__extends(t,e),Object.defineProperty(t.prototype,"Uu",{get:function(){return this.qu},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.qu=!1,this.lastStreamToken=z.H,e.prototype.start.call(this)},t.prototype.Du=function(){this.qu&&this.Qu([])},t.prototype.ku=function(e){return this.Iu.Mu("Write",e)},t.prototype.onMessage=function(e){if(y(!!e.streamToken),this.lastStreamToken=$e(this.serializer,e.streamToken),this.qu){this.Zo.reset();var t=function(e,t){return e&&e.length>0?(y(void 0!==t),e.map((function(e){return function(e,t){var n=Ye(e.updateTime?e.updateTime:t);n.isEqual(P.min())&&(n=Ye(t));var r=null;return e.transformResults&&e.transformResults.length>0&&(r=e.transformResults),new St(n,r)}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Ye(e.commitTime);return this.listener.Wu(n,t)}return y(!e.writeResults||0===e.writeResults.length),this.qu=!0,this.listener.ju()},t.prototype.Ku=function(){var e={};e.database=nt(this.serializer),this.vu(e)},t.prototype.Qu=function(e){var t=this,n={streamToken:We(this.serializer,this.lastStreamToken),writes:e.map((function(e){return ot(t.serializer,e)}))};this.vu(n)},t}(Gi),$i=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Iu=t,i.credentials=n,i.serializer=r,i.zu=!1,i}return i.__extends(t,e),t.prototype.Hu=function(){if(this.zu)throw new D(O.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Yu=function(e,t){var n=this;return this.Hu(),this.credentials.getToken().then((function(r){return n.Iu.Yu(e,t,r)})).catch((function(e){throw e.code===O.UNAUTHENTICATED&&n.credentials.hu(),e}))},t.prototype.Ju=function(e,t){var n=this;return this.Hu(),this.credentials.getToken().then((function(r){return n.Iu.Ju(e,t,r)})).catch((function(e){throw e.code===O.UNAUTHENTICATED&&n.credentials.hu(),e}))},t}((function(){this.Gu=void 0})),Qi=function(){function e(e){this.Xu=e,this.Zu=new Map,this.mutations=[],this.tc=!1,this.ec=null,this.sc=new Set}return e.prototype.nc=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:if(this.ic(),this.mutations.length>0)throw new D(O.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a;return i.__generator(this,(function(i){switch(i.label){case 0:return n=m(e),r={database:nt(n.serializer),documents:t.map((function(e){return Xe(n.serializer,e)}))},[4,n.Ju("BatchGetDocuments",r)];case 1:return o=i.sent(),s=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){y(!!t.found);var n=Je(e,t.found.name),r=Ye(t.found.updateTime),i=new Rt({mapValue:{fields:t.found.fields}});return new Lt(n,r,i,{})}(e,t):"missing"in t?function(e,t){y(!!t.missing),y(!!t.readTime);var n=Je(e,t.missing),r=Ye(t.readTime);return new Mt(n,r)}(e,t):g()}(n.serializer,e);s.set(t.key.toString(),t)})),a=[],[2,(t.forEach((function(e){var t=s.get(e.toString());y(!!t),a.push(t)})),a)]}}))}))}(this.Xu,e)];case 1:return[2,((t=r.sent()).forEach((function(e){e instanceof Mt||e instanceof Lt?n.rc(e):g()})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.Wa(e,this.Ue(e))),this.sc.add(e)},e.prototype.update=function(e,t){try{this.write(t.Wa(e,this.oc(e)))}catch(e){this.ec=e}this.sc.add(e)},e.prototype.delete=function(e){this.write([new Ot(e,this.Ue(e))]),this.sc.add(e)},e.prototype.commit=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t=this;return i.__generator(this,(function(n){switch(n.label){case 0:if(this.ic(),this.ec)throw this.ec;return e=this.Zu,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=new V(F.$(n));t.mutations.push(new Dt(r,t.Ue(r)))})),[4,function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r;return i.__generator(this,(function(i){switch(i.label){case 0:return n=m(e),r={database:nt(n.serializer),writes:t.map((function(e){return ot(n.serializer,e)}))},[4,n.Yu("Commit",r)];case 1:return i.sent(),[2]}}))}))}(this.Xu,this.mutations)];case 1:return n.sent(),this.tc=!0,[2]}}))}))},e.prototype.rc=function(e){var t;if(e instanceof Lt)t=e.version;else{if(!(e instanceof Mt))throw g();t=P.min()}var n=this.Zu.get(e.key.toString());if(n){if(!t.isEqual(n))throw new D(O.ABORTED,"Document version changed between two reads.")}else this.Zu.set(e.key.toString(),t)},e.prototype.Ue=function(e){var t=this.Zu.get(e.toString());return!this.sc.has(e)&&t?Et.updateTime(t):Et.Qe()},e.prototype.oc=function(e){var t=this.Zu.get(e.toString());if(!this.sc.has(e)&&t){if(t.isEqual(P.min()))throw new D(O.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Et.updateTime(t)}return Et.exists(!0)},e.prototype.write=function(e){this.ic(),this.mutations=this.mutations.concat(e)},e.prototype.ic=function(){},e}(),Yi=function(){function e(e,t){this.Oo=e,this.hc=t,this.state="Unknown",this.ac=0,this.uc=null,this.cc=!0}return e.prototype.lc=function(){var e=this;0===this.ac&&(this._c("Unknown"),this.uc=this.Oo.ei("online_state_timeout",1e4,(function(){return e.uc=null,e.fc("Backend didn't respond within 10 seconds."),e._c("Offline"),Promise.resolve()})))},e.prototype.dc=function(e){"Online"===this.state?this._c("Unknown"):(this.ac++,this.ac>=1&&(this.wc(),this.fc("Connection failed 1 times. Most recent error: "+e.toString()),this._c("Offline")))},e.prototype.set=function(e){this.wc(),this.ac=0,"Online"===e&&(this.cc=!1),this._c(e)},e.prototype._c=function(e){e!==this.state&&(this.state=e,this.hc(e))},e.prototype.fc=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.cc?(p(t),this.cc=!1):d("OnlineStateTracker",t)},e.prototype.wc=function(){null!==this.uc&&(this.uc.cancel(),this.uc=null)},e}(),Ki=function(){function e(e,t,n,r,o){var s=this;this.Tc=e,this.Xu=t,this.Oo=n,this.Ec=[],this.Ic=new Map,this.Ac=null,this.Rc=new Set,this.mc=o,this.mc.Pc((function(e){n.Sr((function(){return i.__awaiter(s,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Vc()?(d("RemoteStore","Restarting streams for network reachability change."),[4,this.gc()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.pc=new Yi(n,r),this.yc=function(e,t,n){var r=m(e);return new qi(t,r.Iu,r.credentials,r.serializer,n)}(this.Xu,n,{xu:this.bc.bind(this),Cu:this.vc.bind(this),Lu:this.Sc.bind(this)}),this.Dc=function(e,t,n){var r=m(e);return new Wi(t,r.Iu,r.credentials,r.serializer,n)}(this.Xu,n,{xu:this.Cc.bind(this),Cu:this.Fc.bind(this),ju:this.Nc.bind(this),Wu:this.Wu.bind(this)})}return e.prototype.start=function(){return this.enableNetwork()},e.prototype.enableNetwork=function(){return this.Rc.delete(0),this.$c()},e.prototype.$c=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Vc()?(this.kc()?this.xc():this.pc.set("Unknown"),[4,this.Mc()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.disableNetwork=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Rc.add(0),[4,this.Lc()];case 1:return e.sent(),this.pc.set("Offline"),[2]}}))}))},e.prototype.Lc=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return[4,this.Dc.stop()];case 1:return e.sent(),[4,this.yc.stop()];case 2:return e.sent(),this.Ec.length>0&&(d("RemoteStore","Stopping write stream with "+this.Ec.length+" pending writes"),this.Ec=[]),this.Oc(),[2]}}))}))},e.prototype.Ur=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return d("RemoteStore","RemoteStore shutting down."),this.Rc.add(5),[4,this.Lc()];case 1:return e.sent(),this.mc.Ur(),this.pc.set("Unknown"),[2]}}))}))},e.prototype.listen=function(e){this.Ic.has(e.targetId)||(this.Ic.set(e.targetId,e),this.kc()?this.xc():this.yc.Vu()&&this.Bc(e))},e.prototype.qc=function(e){this.Ic.delete(e),this.yc.Vu()&&this.Uc(e),0===this.Ic.size&&(this.yc.Vu()?this.yc.yu():this.Vc()&&this.pc.set("Unknown"))},e.prototype.Me=function(e){return this.Ic.get(e)||null},e.prototype.xe=function(e){return this.Qc.xe(e)},e.prototype.Bc=function(e){this.Ac.de(e.targetId),this.yc.Ou(e)},e.prototype.Uc=function(e){this.Ac.de(e),this.yc.Bu(e)},e.prototype.xc=function(){this.Ac=new _e(this),this.yc.start(),this.pc.lc()},e.prototype.kc=function(){return this.Vc()&&!this.yc.Pu()&&this.Ic.size>0},e.prototype.Vc=function(){return 0===this.Rc.size},e.prototype.Oc=function(){this.Ac=null},e.prototype.bc=function(){return i.__awaiter(this,void 0,void 0,(function(){var e=this;return i.__generator(this,(function(t){return this.Ic.forEach((function(t,n){e.Bc(t)})),[2]}))}))},e.prototype.vc=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.Oc(),this.kc()?(this.pc.dc(e),this.xc()):this.pc.set("Unknown"),[2]}))}))},e.prototype.Sc=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:if(this.pc.set("Online"),!(e instanceof ye&&2===e.state&&e.cause))return[3,6];i.label=1;case 1:return i.trys.push([1,3,,5]),[4,this.Wc(e)];case 2:return i.sent(),[3,5];case 3:return n=i.sent(),d("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),[4,this.jc(n)];case 4:return i.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ve?this.Ac.Pe(e):e instanceof ge?this.Ac.De(e):this.Ac.pe(e),t.isEqual(P.min()))return[3,13];i.label=7;case 7:return i.trys.push([7,11,,13]),[4,this.Tc.xi()];case 8:return r=i.sent(),t.o(r)>=0?[4,this.Kc(t)]:[3,10];case 9:i.sent(),i.label=10;case 10:return[3,13];case 11:return d("RemoteStore","Failed to raise snapshot:",o=i.sent()),[4,this.jc(o)];case 12:return i.sent(),[3,13];case 13:return[2]}}))}))},e.prototype.jc=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n=this;return i.__generator(this,(function(r){switch(r.label){case 0:if(!wr(e))throw e;return this.Rc.add(1),[4,this.Lc()];case 1:return r.sent(),this.pc.set("Offline"),t||(t=function(){return n.Tc.xi()}),this.Oo.Cr((function(){return i.__awaiter(n,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return d("RemoteStore","Retrying IndexedDB access"),[4,t()];case 1:return e.sent(),this.Rc.delete(1),[4,this.$c()];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))},e.prototype.Gc=function(e){var t=this;return e().catch((function(n){return t.jc(n,e)}))},e.prototype.Kc=function(e){var t=this,n=this.Ac.Ne(e);return n.Qt.forEach((function(n,r){if(n.resumeToken.G()>0){var i=t.Ic.get(r);i&&t.Ic.set(r,i.Z(n.resumeToken,e))}})),n.Wt.forEach((function(e){var n=t.Ic.get(e);if(n){t.Ic.set(e,n.Z(z.H,n.J)),t.Uc(e);var r=new q(n.target,e,1,n.sequenceNumber);t.Bc(r)}})),this.Qc.na(n)},e.prototype.Wc=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:t=e.cause,n=0,r=e.targetIds,i.label=1;case 1:return n<r.length?this.Ic.has(o=r[n])?[4,this.Qc.zc(o,t)]:[3,3]:[3,5];case 2:i.sent(),this.Ic.delete(o),this.Ac.removeTarget(o),i.label=3;case 3:i.label=4;case 4:return n++,[3,1];case 5:return[2]}}))}))},e.prototype.Mc=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t,n;return i.__generator(this,(function(r){switch(r.label){case 0:e=this.Ec.length>0?this.Ec[this.Ec.length-1].batchId:-1,r.label=1;case 1:if(!this.Hc())return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,this.Tc.ha(e)];case 3:return null===(t=r.sent())?(0===this.Ec.length&&this.Dc.yu(),[3,7]):(e=t.batchId,this.Yc(t),[3,6]);case 4:return n=r.sent(),[4,this.jc(n)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return this.Jc()&&this.Xc(),[2]}}))}))},e.prototype.Hc=function(){return this.Vc()&&this.Ec.length<10},e.prototype.Zc=function(){return this.Ec.length},e.prototype.Yc=function(e){this.Ec.push(e),this.Dc.Vu()&&this.Dc.Uu&&this.Dc.Qu(e.mutations)},e.prototype.Jc=function(){return this.Vc()&&!this.Dc.Pu()&&this.Ec.length>0},e.prototype.Xc=function(){this.Dc.start()},e.prototype.Cc=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.Dc.Ku(),[2]}))}))},e.prototype.Nc=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t;return i.__generator(this,(function(n){for(e=0,t=this.Ec;e<t.length;e++)this.Dc.Qu(t[e].mutations);return[2]}))}))},e.prototype.Wu=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o=this;return i.__generator(this,(function(i){switch(i.label){case 0:return n=this.Ec.shift(),r=rn.from(n,e,t),[4,this.Gc((function(){return o.Qc.tl(r)}))];case 1:return i.sent(),[4,this.Mc()];case 2:return i.sent(),[2]}}))}))},e.prototype.Fc=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return e&&this.Dc.Uu?[4,this.el(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return this.Jc()&&this.Xc(),[2]}}))}))},e.prototype.el=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r=this;return i.__generator(this,(function(i){switch(i.label){case 0:return $(n=e.code)&&n!==O.ABORTED?(t=this.Ec.shift(),this.Dc.pu(),[4,this.Gc((function(){return r.Qc.sl(t.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,this.Mc()];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))},e.prototype.nl=function(){return new Qi(this.Xu)},e.prototype.gc=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Rc.add(4),[4,this.Lc()];case 1:return e.sent(),this.pc.set("Unknown"),this.Rc.delete(4),[4,this.$c()];case 2:return e.sent(),[2]}}))}))},e.prototype.il=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return this.Oo.ah(),d("RemoteStore","RemoteStore received new credentials"),this.Rc.add(3),[4,this.Lc()];case 1:return t.sent(),this.pc.set("Unknown"),[4,this.Qc.il(e)];case 2:return t.sent(),this.Rc.delete(3),[4,this.$c()];case 3:return t.sent(),[2]}}))}))},e.prototype.rl=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return e?(this.Rc.delete(2),[4,this.$c()]):[3,2];case 1:return t.sent(),[3,5];case 2:return e?[3,4]:(this.Rc.add(2),[4,this.Lc()]);case 3:t.sent(),this.pc.set("Unknown"),t.label=4;case 4:t.label=5;case 5:return[2]}}))}))},e}();function Zi(e,t){return"firestore_clients_"+e+"_"+t}function Xi(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.fo()&&(r+="_"+t.uid),r}function Ji(e,t){return"firestore_targets_"+e+"_"+t}var eo=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.ol=function(t,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new D(i.error.code,i.error.message)),o?new e(t,n,i.state,s):(p("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.hl=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),to=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.ol=function(t,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new D(r.error.code,r.error.message)),i?new e(t,r.state,o):(p("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.hl=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),no=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.ol=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=ce(),s=0;i&&s<r.activeTargetIds.length;++s)i=B(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new e(t,o):(p("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),ro=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.ol=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(p("SharedClientState","Failed to parse online state: "+t),null)},e}(),io=function(){function e(){this.activeTargetIds=ce()}return e.prototype.al=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.ul=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.hl=function(){var e={activeTargetIds:this.activeTargetIds.F(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),oo=function(){function e(e,t,n,r,i){this.window=e,this.Wn=t,this.persistenceKey=n,this.cl=r,this.Qc=null,this.hc=null,this.On=null,this.ll=this._l.bind(this),this.fl=new Y(k),this.pr=!1,this.dl=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.wl=Zi(this.persistenceKey,this.cl),this.Tl=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.fl=this.fl.et(this.cl,new io),this.El=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Il=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Al=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Rl=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.ll)}return e._r=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t,n,r,o,s,a,u,c,l,h=this;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.Qc.Gr()];case 1:for(e=i.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.cl&&(o=this.getItem(Zi(this.persistenceKey,r)))&&(s=no.ol(r,o))&&(this.fl=this.fl.et(s.clientId,s));for(this.ml(),(a=this.storage.getItem(this.Rl))&&(u=this.Pl(a))&&this.Vl(u),c=0,l=this.dl;c<l.length;c++)this._l(l[c]);return this.dl=[],this.window.addEventListener("unload",(function(){return h.Ur()})),this.pr=!0,[2]}}))}))},e.prototype.Un=function(e){this.setItem(this.Tl,JSON.stringify(e))},e.prototype.gl=function(){return this.pl(this.fl)},e.prototype.yl=function(e){var t=!1;return this.fl.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.bl=function(e){this.vl(e,"pending")},e.prototype.Sl=function(e,t,n){this.vl(e,t,n),this.Dl(e)},e.prototype.Cl=function(e){var t="not-current";if(this.yl(e)){var n=this.storage.getItem(Ji(this.persistenceKey,e));if(n){var r=to.ol(e,n);r&&(t=r.state)}}return this.Fl.al(e),this.ml(),t},e.prototype.Nl=function(e){this.Fl.ul(e),this.ml()},e.prototype.$l=function(e){return this.Fl.activeTargetIds.has(e)},e.prototype.kl=function(e){this.removeItem(Ji(this.persistenceKey,e))},e.prototype.xl=function(e,t,n){this.Ml(e,t,n)},e.prototype.Hh=function(e,t,n){var r=this;t.forEach((function(e){r.Dl(e)})),this.currentUser=e,n.forEach((function(e){r.bl(e)}))},e.prototype.Ll=function(e){this.Ol(e)},e.prototype.Ur=function(){this.pr&&(this.window.removeEventListener("storage",this.ll),this.removeItem(this.wl),this.pr=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return d("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){d("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){d("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype._l=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(d("SharedClientState","EVENT",n.key,n.newValue),n.key===this.wl)return void p("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Wn.Cr((function(){return i.__awaiter(t,void 0,void 0,(function(){var e,t,r,o,s,a;return i.__generator(this,(function(i){if(this.pr){if(null!==n.key)if(this.El.test(n.key)){if(null==n.newValue)return e=this.Bl(n.key),[2,this.ql(e,null)];if(t=this.Ul(n.key,n.newValue))return[2,this.ql(t.clientId,t)]}else if(this.Il.test(n.key)){if(null!==n.newValue&&(r=this.Ql(n.key,n.newValue)))return[2,this.Wl(r)]}else if(this.Al.test(n.key)){if(null!==n.newValue&&(o=this.jl(n.key,n.newValue)))return[2,this.Kl(o)]}else if(n.key===this.Rl){if(null!==n.newValue&&(s=this.Pl(n.newValue)))return[2,this.Vl(s)]}else n.key===this.Tl&&(a=function(e){var t=hn.Qn;if(null!=e)try{var n=JSON.parse(e);y("number"==typeof n),t=n}catch(e){p("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==hn.Qn&&this.On(a)}else this.dl.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Fl",{get:function(){return this.fl.get(this.cl)},enumerable:!0,configurable:!0}),e.prototype.ml=function(){this.setItem(this.wl,this.Fl.hl())},e.prototype.vl=function(e,t,n){var r=new eo(this.currentUser,e,t,n),i=Xi(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hl())},e.prototype.Dl=function(e){var t=Xi(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Ol=function(e){this.storage.setItem(this.Rl,JSON.stringify({clientId:this.cl,onlineState:e}))},e.prototype.Ml=function(e,t,n){var r=Ji(this.persistenceKey,e),i=new to(e,t,n);this.setItem(r,i.hl())},e.prototype.Bl=function(e){var t=this.El.exec(e);return t?t[1]:null},e.prototype.Ul=function(e,t){var n=this.Bl(e);return no.ol(n,t)},e.prototype.Ql=function(e,t){var n=this.Il.exec(e),r=Number(n[1]);return eo.ol(new Vi(void 0!==n[2]?n[2]:null),r,t)},e.prototype.jl=function(e,t){var n=this.Al.exec(e),r=Number(n[1]);return to.ol(r,t)},e.prototype.Pl=function(e){return ro.ol(e)},e.prototype.Wl=function(e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.Qc.Gl(e.batchId,e.state,e.error)]:(d("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.Kl=function(e){return this.Qc.zl(e.targetId,e.state,e.error)},e.prototype.ql=function(e,t){var n=this,r=t?this.fl.et(e,t):this.fl.remove(e),i=this.pl(this.fl),o=this.pl(r),s=[],a=[];return o.forEach((function(e){i.has(e)||s.push(e)})),i.forEach((function(e){o.has(e)||a.push(e)})),this.Qc.Hl(s,a).then((function(){n.fl=r}))},e.prototype.Vl=function(e){this.fl.get(e.clientId)&&this.hc(e.onlineState)},e.prototype.pl=function(e){var t=ce();return e.forEach((function(e,n){t=t.Ct(n.activeTargetIds)})),t},e}(),so=function(){function e(){this.Yl=new io,this.Jl={},this.Qc=null,this.hc=null,this.On=null}return e.prototype.bl=function(e){},e.prototype.Sl=function(e,t,n){},e.prototype.Cl=function(e){return this.Yl.al(e),this.Jl[e]||"not-current"},e.prototype.xl=function(e,t,n){this.Jl[e]=t},e.prototype.Nl=function(e){this.Yl.ul(e)},e.prototype.$l=function(e){return this.Yl.activeTargetIds.has(e)},e.prototype.kl=function(e){delete this.Jl[e]},e.prototype.gl=function(){return this.Yl.activeTargetIds},e.prototype.yl=function(e){return this.Yl.activeTargetIds.has(e)},e.prototype.start=function(){return this.Yl=new io,Promise.resolve()},e.prototype.Hh=function(e,t,n){},e.prototype.Ll=function(e){},e.prototype.Ur=function(){},e.prototype.Un=function(e){},e}(),ao=function(e){this.key=e},uo=function(e){this.key=e},co=function(){function e(e,t){this.query=e,this.Xl=t,this.Zl=null,this.Ht=!1,this.t_=ae(),this.Ot=ae(),this.e_=new le(e.Ds.bind(e))}return Object.defineProperty(e.prototype,"s_",{get:function(){return this.Xl},enumerable:!0,configurable:!0}),e.prototype.n_=function(e,t){var n=this,r=t?t.i_:new he,i=t?t.e_:this.e_,o=t?t.Ot:this.Ot,s=i,a=!1,u=this.query.ks()&&i.size===this.query.limit?i.last():null,c=this.query.xs()&&i.size===this.query.limit?i.first():null;if(e.ot((function(e,t){var l=i.get(e),h=t instanceof Lt?t:null;h&&(h=n.query.matches(h)?h:null);var f=!!l&&n.Ot.has(l.key),d=!!h&&(h.Xe||n.Ot.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.r_(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.query.Ds(h,u)>0||c&&n.query.Ds(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(e):o.delete(e)):(s=s.delete(e),o=o.delete(e)))})),this.query.ks()||this.query.xs())for(;s.size>this.query.limit;){var l=this.query.ks()?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{e_:s,i_:r,o_:a,Ot:o}},e.prototype.r_=function(e,t){return e.Xe&&t.hasCommittedMutations&&!t.Xe},e.prototype.wn=function(e,t,n){var r=this,i=this.e_;this.e_=e.e_,this.Ot=e.Ot;var o=e.i_.Mt();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return g()}};return n(e)-n(t)}(e.type,t.type)||r.query.Ds(e.doc,t.doc)})),this.h_(n);var s=t?this.a_():[],a=0===this.t_.size&&this.Ht?1:0,u=a!==this.Zl;return this.Zl=a,0!==o.length||u?{snapshot:new fe(this.query,e.e_,i,o,e.Ot,0===a,u,!1),u_:s}:{u_:s}},e.prototype.c_=function(e){return this.Ht&&"Offline"===e?(this.Ht=!1,this.wn({e_:this.e_,i_:new he,Ot:this.Ot,o_:!1},!1)):{u_:[]}},e.prototype.l_=function(e){return!this.Xl.has(e)&&!!this.e_.has(e)&&!this.e_.get(e).Xe},e.prototype.h_=function(e){var t=this;e&&(e.Yt.forEach((function(e){return t.Xl=t.Xl.add(e)})),e.Jt.forEach((function(e){})),e.Xt.forEach((function(e){return t.Xl=t.Xl.delete(e)})),this.Ht=e.Ht)},e.prototype.a_=function(){var e=this;if(!this.Ht)return[];var t=this.t_;this.t_=ae(),this.e_.forEach((function(t){e.l_(t.key)&&(e.t_=e.t_.add(t.key))}));var n=[];return t.forEach((function(t){e.t_.has(t)||n.push(new uo(t))})),this.t_.forEach((function(e){t.has(e)||n.push(new ao(e))})),n},e.prototype.__=function(e){this.Xl=e._a,this.t_=ae();var t=this.n_(e.documents);return this.wn(t,!0)},e.prototype.f_=function(){return fe.Ut(this.query,this.e_,this.Ot,0===this.Zl)},e}(),lo=function(){function e(e,t,n,r){this.Oo=e,this.Xu=t,this.updateFunction=n,this.Uo=r,this.d_=5,this.Zo=new dn(this.Oo,"transaction_retry")}return e.prototype.w_=function(){this.T_()},e.prototype.T_=function(){var e=this;this.Zo.Zn((function(){return i.__awaiter(e,void 0,void 0,(function(){var e,t,n=this;return i.__generator(this,(function(r){return e=new Qi(this.Xu),(t=this.E_(e))&&t.then((function(t){n.Oo.Sr((function(){return e.commit().then((function(){n.Uo.resolve(t)})).catch((function(e){n.I_(e)}))}))})).catch((function(e){n.I_(e)})),[2]}))}))}))},e.prototype.E_=function(e){try{var t=this.updateFunction(e);return!j(t)&&t.catch&&t.then?t:(this.Uo.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.Uo.reject(e),null}},e.prototype.I_=function(e){var t=this;this.d_>0&&this.A_(e)?(this.d_-=1,this.Oo.Sr((function(){return t.T_(),Promise.resolve()}))):this.Uo.reject(e)},e.prototype.A_=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!$(t)}return!1},e}(),ho=function(e,t,n){this.query=e,this.targetId=t,this.view=n},fo=function(e){this.key=e,this.R_=!1},po=function(){function e(e,t,n,r,i,o){this.Tc=e,this.m_=t,this.Xu=n,this.P_=r,this.currentUser=i,this.V_=o,this.g_=null,this.p_=new A((function(e){return e.canonicalId()}),(function(e,t){return e.isEqual(t)})),this.y_=new Map,this.b_=[],this.v_=new Y(V.P),this.S_=new Map,this.D_=new Br,this.C_={},this.F_=new Map,this.N_=Mn.Ci(),this.onlineState="Unknown"}return Object.defineProperty(e.prototype,"k_",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e){this.g_=e},e.prototype.listen=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return this.x_("listen()"),(n=this.p_.get(e))?(this.P_.Cl(n.targetId),t=n.view.f_(),[3,4]):[3,1];case 1:return[4,this.Tc.ua(e.We())];case 2:return r=i.sent(),o=this.P_.Cl(r.targetId),[4,this.M_(e,r.targetId,"current"===o)];case 3:t=i.sent(),this.k_&&this.m_.listen(r),i.label=4;case 4:return[2,t]}}))}))},e.prototype.M_=function(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,s,a,u,c;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.Tc.la(e,!0)];case 1:return r=i.sent(),o=new co(e,r._a),s=o.n_(r.documents),a=pe.zt(t,n&&"Offline"!==this.onlineState),u=o.wn(s,this.k_,a),this.L_(t,u.u_),c=new ho(e,t,o),[2,(this.p_.set(e,c),this.y_.has(t)?this.y_.get(t).push(e):this.y_.set(t,[e]),u.snapshot)]}}))}))},e.prototype.qc=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this.x_("unlisten()"),t=this.p_.get(e),(n=this.y_.get(t.targetId)).length>1?[2,(this.y_.set(t.targetId,n.filter((function(t){return!t.isEqual(e)}))),void this.p_.delete(e))]:this.k_?(this.P_.Nl(t.targetId),this.P_.yl(t.targetId)?[3,2]:[4,this.Tc.ca(t.targetId,!1).then((function(){r.P_.kl(t.targetId),r.m_.qc(t.targetId),r.O_(t.targetId)})).catch(Ur)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.O_(t.targetId),[4,this.Tc.ca(t.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},e.prototype.write=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:this.x_("write()"),i.label=1;case 1:return i.trys.push([1,5,,6]),[4,this.Tc.Zh(e)];case 2:return n=i.sent(),this.P_.bl(n.batchId),this.B_(n.batchId,t),[4,this.q_(n.on)];case 3:return i.sent(),[4,this.m_.Mc()];case 4:return i.sent(),[3,6];case 5:return r=i.sent(),o=Dr(r,"Failed to persist write"),t.reject(o),[3,6];case 6:return[2]}}))}))},e.prototype.runTransaction=function(e,t,n){new lo(e,this.Xu,t,n).w_()},e.prototype.na=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:this.x_("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Tc.na(e)];case 2:return t=r.sent(),e.Qt.forEach((function(e,t){var r=n.S_.get(t);r&&(y(e.Yt.size+e.Jt.size+e.Xt.size<=1),e.Yt.size>0?r.R_=!0:e.Jt.size>0?y(r.R_):e.Xt.size>0&&(y(r.R_),r.R_=!1))})),[4,this.q_(t,e)];case 3:return r.sent(),[3,6];case 4:return[4,Ur(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.c_=function(e,t){this.x_("applyOnlineStateChange()");var n=[];this.p_.forEach((function(t,r){var i=r.view.c_(e);i.snapshot&&n.push(i.snapshot)})),this.g_.U_(e),this.g_.Lu(n),this.onlineState=e},e.prototype.zc=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a,u=this;return i.__generator(this,(function(i){switch(i.label){case 0:return this.x_("rejectListens()"),this.P_.xl(e,"rejected",t),n=this.S_.get(e),(r=n&&n.key)?(o=(o=new Y(V.P)).et(r,new Mt(r,P.min())),s=ae().add(r),a=new de(P.min(),new Map,new X(k),o,s),[4,this.na(a)]):[3,2];case 1:return i.sent(),this.v_=this.v_.remove(r),this.S_.delete(e),this.Q_(),[3,4];case 2:return[4,this.Tc.ca(e,!1).then((function(){return u.O_(e,t)})).catch(Ur)];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))},e.prototype.tl=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n;return i.__generator(this,(function(r){switch(r.label){case 0:this.x_("applySuccessfulWrite()"),t=e.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Tc.ta(e)];case 2:return n=r.sent(),this.W_(t,null),this.j_(t),this.P_.Sl(t,"acknowledged"),[4,this.q_(n)];case 3:return r.sent(),[3,6];case 4:return[4,Ur(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.sl=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:this.x_("rejectFailedWrite()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Tc.sa(e)];case 2:return n=r.sent(),this.W_(e,t),this.j_(e),this.P_.Sl(e,"rejected",t),[4,this.q_(n)];case 3:return r.sent(),[3,6];case 4:return[4,Ur(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.K_=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:this.m_.Vc()||d("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.Tc.Ao()];case 2:return-1===(t=i.sent())?[2,void e.resolve()]:((n=this.F_.get(t)||[]).push(e),this.F_.set(t,n),[3,4]);case 3:return r=i.sent(),o=Dr(r,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}}))}))},e.prototype.j_=function(e){(this.F_.get(e)||[]).forEach((function(e){e.resolve()})),this.F_.delete(e)},e.prototype.G_=function(e){this.F_.forEach((function(t){t.forEach((function(t){t.reject(new D(O.CANCELLED,e))}))})),this.F_.clear()},e.prototype.B_=function(e,t){var n=this.C_[this.currentUser.su()];n||(n=new Y(k)),n=n.et(e,t),this.C_[this.currentUser.su()]=n},e.prototype.W_=function(e,t){var n=this.C_[this.currentUser.su()];if(n){var r=n.get(e);r&&(t?r.reject(t):r.resolve(),n=n.remove(e)),this.C_[this.currentUser.su()]=n}},e.prototype.O_=function(e,t){var n=this;void 0===t&&(t=null),this.P_.Nl(e);for(var r=0,i=this.y_.get(e);r<i.length;r++){var o=i[r];this.p_.delete(o),t&&this.g_.z_(o,t)}this.y_.delete(e),this.k_&&this.D_.ga(e).forEach((function(e){n.D_.tr(e)||n.H_(e)}))},e.prototype.H_=function(e){var t=this.v_.get(e);null!==t&&(this.m_.qc(t),this.v_=this.v_.remove(e),this.S_.delete(t),this.Q_())},e.prototype.L_=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];i instanceof ao?(this.D_.Hi(i.key,e),this.Y_(i)):i instanceof uo?(d("SyncEngine","Document no longer in limbo: "+i.key),this.D_.Ji(i.key,e),this.D_.tr(i.key)||this.H_(i.key)):g()}},e.prototype.Y_=function(e){var t=e.key;this.v_.get(t)||(d("SyncEngine","New document in limbo: "+t),this.b_.push(t),this.Q_())},e.prototype.Q_=function(){for(;this.b_.length>0&&this.v_.size<this.V_;){var e=this.b_.shift(),t=this.N_.next();this.S_.set(t,new fo(e)),this.v_=this.v_.et(e,t),this.m_.listen(new q(jt.As(e.path).We(),t,2,hn.Qn))}},e.prototype.J_=function(){return this.v_},e.prototype.X_=function(){return this.b_},e.prototype.q_=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s=this;return i.__generator(this,(function(i){switch(i.label){case 0:return n=[],r=[],o=[],this.p_.forEach((function(i,a){o.push(Promise.resolve().then((function(){var t=a.view.n_(e);return t.o_?s.Tc.la(a.query,!1).then((function(e){return a.view.n_(e.documents,t)})):t})).then((function(e){var i=t&&t.Qt.get(a.targetId),o=a.view.wn(e,s.k_,i);if(s.L_(a.targetId,o.u_),o.snapshot){s.k_&&s.P_.xl(a.targetId,o.snapshot.fromCache?"not-current":"current"),n.push(o.snapshot);var u=ln.Ln(a.targetId,o.snapshot);r.push(u)}})))})),[4,Promise.all(o)];case 1:return i.sent(),this.g_.Lu(n),[4,this.Tc.oa(r)];case 2:return i.sent(),[2]}}))}))},e.prototype.x_=function(e){},e.prototype.il=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(n){switch(n.label){case 0:return this.currentUser.isEqual(e)?[3,3]:(d("SyncEngine","User change. New user:",e.su()),[4,this.Tc.Hh(e)]);case 1:return t=n.sent(),this.currentUser=e,this.G_("'waitForPendingWrites' promise is rejected due to a user change."),this.P_.Hh(e,t.Jh,t.Xh),[4,this.q_(t.Yh)];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},e.prototype.enableNetwork=function(){return this.m_.enableNetwork()},e.prototype.disableNetwork=function(){return this.m_.disableNetwork()},e.prototype.xe=function(e){var t=this.S_.get(e);if(t&&t.R_)return ae().add(t.key);var n=ae(),r=this.y_.get(e);if(!r)return n;for(var i=0,o=r;i<o.length;i++){var s=this.p_.get(o[i]);n=n.Ct(s.view.s_)}return n},e}(),vo=function(e){function t(t,n,r,i,o,s){var a=this;return(a=e.call(this,t,n,r,i,o,s)||this).Tc=t,a.Z_=void 0,a}return i.__extends(t,e),Object.defineProperty(t.prototype,"k_",{get:function(){return!0===this.Z_},enumerable:!0,configurable:!0}),t.prototype.enableNetwork=function(){return this.Tc.vr(!0),e.prototype.enableNetwork.call(this)},t.prototype.disableNetwork=function(){return this.Tc.vr(!1),e.prototype.disableNetwork.call(this)},t.prototype.tf=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,this.Tc.la(e.query,!0)];case 1:return t=r.sent(),n=e.view.__(t),[2,(this.Z_&&this.L_(e.targetId,n.u_),n)]}}))}))},t.prototype.c_=function(t,n){this.k_&&0===n&&(e.prototype.c_.call(this,t,n),this.P_.Ll(t)),this.k_||1!==n||e.prototype.c_.call(this,t,n)},t.prototype.Gl=function(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r;return i.__generator(this,(function(i){switch(i.label){case 0:return this.x_("applyBatchState()"),[4,this.Tc.da(e)];case 1:return null===(r=i.sent())?[3,6]:"pending"!==t?[3,3]:[4,this.m_.Mc()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===t||"rejected"===t?(this.W_(e,n||null),this.Tc.wa(e)):g(),i.label=4;case 4:return[4,this.q_(r)];case 5:return i.sent(),[3,7];case 6:d("SyncEngine","Cannot apply mutation batch with id: "+e),i.label=7;case 7:return[2]}}))}))},t.prototype.rl=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o,s,a,u=this;return i.__generator(this,(function(i){switch(i.label){case 0:return!0!==e||!0===this.Z_?[3,3]:(t=this.P_.gl(),[4,this.ef(t.F(),!0)]);case 1:return n=i.sent(),this.Z_=!0,[4,this.m_.rl(!0)];case 2:for(i.sent(),r=0,o=n;r<o.length;r++)this.m_.listen(o[r]);return[3,7];case 3:return!1!==e||!1===this.Z_?[3,7]:(s=[],a=Promise.resolve(),this.y_.forEach((function(e,t){u.P_.$l(t)?s.push(t):a=a.then((function(){return u.O_(t),u.Tc.ca(t,!0)})),u.m_.qc(t)})),[4,a]);case 4:return i.sent(),[4,this.ef(s,!1)];case 5:return i.sent(),this.sf(),this.Z_=!1,[4,this.m_.rl(!1)];case 6:i.sent(),i.label=7;case 7:return[2]}}))}))},t.prototype.sf=function(){var e=this;this.S_.forEach((function(t,n){e.m_.qc(n)})),this.D_.pa(),this.S_=new Map,this.v_=new Y(V.P)},t.prototype.ef=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o,s,a,u,c,l,h,f,d;return i.__generator(this,(function(i){switch(i.label){case 0:t=[],n=[],r=0,o=e,i.label=1;case 1:return r<o.length?(a=void 0,(u=this.y_.get(s=o[r]))&&0!==u.length?[4,this.Tc.ua(u[0].We())]:[3,7]):[3,13];case 2:a=i.sent(),c=0,l=u,i.label=3;case 3:return c<l.length?(h=this.p_.get(l[c]),[4,this.tf(h)]):[3,6];case 4:(f=i.sent()).snapshot&&n.push(f.snapshot),i.label=5;case 5:return c++,[3,3];case 6:return[3,11];case 7:return[4,this.Tc.Ta(s)];case 8:return d=i.sent(),[4,this.Tc.ua(d)];case 9:return a=i.sent(),[4,this.M_(this.nf(d),s,!1)];case 10:i.sent(),i.label=11;case 11:t.push(a),i.label=12;case 12:return r++,[3,1];case 13:return[2,(this.g_.Lu(n),t)]}}))}))},t.prototype.nf=function(e){return new jt(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)},t.prototype.Gr=function(){return this.Tc.Gr()},t.prototype.zl=function(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return this.Z_?(d("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!this.y_.has(e))return[3,8];switch(t){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,this.Tc.Ri()];case 3:return r=i.sent(),o=de.Gt(e,"current"===t),[4,this.q_(r,o)];case 4:return i.sent(),[3,8];case 5:return[4,this.Tc.ca(e,!0)];case 6:return i.sent(),this.O_(e,n),[3,8];case 7:g(),i.label=8;case 8:return[2]}}))}))},t.prototype.Hl=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s,a,u,c,l,h,f=this;return i.__generator(this,(function(p){switch(p.label){case 0:if(!this.Z_)return[3,10];n=0,r=e,p.label=1;case 1:return n<r.length?this.y_.has(o=r[n])?(d("SyncEngine","Adding an already active target "+o),[3,5]):[4,this.Tc.Ta(o)]:[3,6];case 2:return s=p.sent(),[4,this.Tc.ua(s)];case 3:return a=p.sent(),[4,this.M_(this.nf(s),a.targetId,!1)];case 4:p.sent(),this.m_.listen(a),p.label=5;case 5:return n++,[3,1];case 6:u=function(e){return i.__generator(this,(function(t){switch(t.label){case 0:return c.y_.has(e)?[4,c.Tc.ca(e,!1).then((function(){f.m_.qc(e),f.O_(e)})).catch(Ur)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},c=this,l=0,h=t,p.label=7;case 7:return l<h.length?[5,u(h[l])]:[3,10];case 8:p.sent(),p.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))},t}(po),go=function(){this.if=void 0,this.rf=[]},yo=function(){function e(e){this.Qc=e,this.hf=new A((function(e){return e.canonicalId()}),(function(e,t){return e.isEqual(t)})),this.onlineState="Unknown",this.af=new Set,this.Qc.subscribe(this)}return e.prototype.listen=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o,s,a;return i.__generator(this,(function(i){switch(i.label){case 0:if(n=!1,(r=this.hf.get(t=e.query))||(n=!0,r=new go),!n)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),o=r,[4,this.Qc.listen(t)];case 2:return o.if=i.sent(),[3,4];case 3:return s=i.sent(),a=Dr(s,"Initialization of query '"+e.query+"' failed"),[2,void e.onError(a)];case 4:return this.hf.set(t,r),r.rf.push(e),e.c_(this.onlineState),r.if&&e.uf(r.if)&&this.cf(),[2]}}))}))},e.prototype.qc=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o;return i.__generator(this,(function(i){return n=!1,(r=this.hf.get(t=e.query))&&(o=r.rf.indexOf(e))>=0&&(r.rf.splice(o,1),n=0===r.rf.length),n?[2,(this.hf.delete(t),this.Qc.qc(t))]:[2]}))}))},e.prototype.Lu=function(e){for(var t=!1,n=0,r=e;n<r.length;n++){var i=r[n],o=this.hf.get(i.query);if(o){for(var s=0,a=o.rf;s<a.length;s++)a[s].uf(i)&&(t=!0);o.if=i}}t&&this.cf()},e.prototype.z_=function(e,t){var n=this.hf.get(e);if(n)for(var r=0,i=n.rf;r<i.length;r++)i[r].onError(t);this.hf.delete(e)},e.prototype.U_=function(e){this.onlineState=e;var t=!1;this.hf.forEach((function(n,r){for(var i=0,o=r.rf;i<o.length;i++)o[i].c_(e)&&(t=!0)})),t&&this.cf()},e.prototype.lf=function(e){this.af.add(e),e.next()},e.prototype._f=function(e){this.af.delete(e)},e.prototype.cf=function(){this.af.forEach((function(e){e.next()}))},e}(),mo=function(){function e(e,t,n){this.query=e,this.ff=t,this.df=!1,this.wf=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.uf=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new fe(e.query,e.docs,e.Lt,t,e.Ot,e.fromCache,e.Bt,!0)}var o=!1;return this.df?this.Tf(e)&&(this.ff.next(e),o=!0):this.Ef(e,this.onlineState)&&(this.If(e),o=!0),this.wf=e,o},e.prototype.onError=function(e){this.ff.error(e)},e.prototype.c_=function(e){this.onlineState=e;var t=!1;return this.wf&&!this.df&&this.Ef(this.wf,e)&&(this.If(this.wf),t=!0),t},e.prototype.Ef=function(e,t){return!e.fromCache||!(this.options.Af&&"Offline"!==t||e.docs._()&&"Offline"!==t)},e.prototype.Tf=function(e){return e.docChanges.length>0||!!(e.Bt||this.wf&&this.wf.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},e.prototype.If=function(e){e=fe.Ut(e.query,e.docs,e.Ot,e.fromCache),this.df=!0,this.ff.next(e)},e}(),_o=function(){function e(){}return e.prototype.zh=function(e){this.Rf=e},e.prototype.Sn=function(e,t,n,r){var i=this;return t.Ss()||n.isEqual(P.min())?this.mf(e,t):this.Rf.yn(e,r).next((function(o){var a=i.Pf(t,o);return(t.ks()||t.xs())&&i.o_(t.ws,a,r,n)?i.mf(e,t):(f()<=s.LogLevel.DEBUG&&d("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),t.toString()),i.Rf.Sn(e,t,n).next((function(e){return a.forEach((function(t){e=e.et(t.key,t)})),e})))}))},e.prototype.Pf=function(e,t){var n=new X((function(t,n){return e.Ds(t,n)}));return t.forEach((function(t,r){r instanceof Lt&&e.matches(r)&&(n=n.add(r))})),n},e.prototype.o_=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.o(r)>0)},e.prototype.mf=function(e,t){return f()<=s.LogLevel.DEBUG&&d("IndexFreeQueryEngine","Using full collection scan to execute query:",t.toString()),this.Rf.Sn(e,t,P.min())},e}(),bo=function(){function e(e,t){this.mn=e,this.Fi=t,this.Rn=[],this.Vf=1,this.gf=new X(zr.Ia)}return e.prototype.do=function(e){return on.resolve(0===this.Rn.length)},e.prototype.wo=function(e,t,n,r){var i=this.Vf;this.Vf++;var o=new nn(i,t,n,r);this.Rn.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.gf=this.gf.add(new zr(u.key,i)),this.mn.ri(e,u.key.path.p())}return on.resolve(o)},e.prototype.To=function(e,t){return on.resolve(this.pf(t))},e.prototype.Io=function(e,t){var n=this.yf(t+1),r=n<0?0:n;return on.resolve(this.Rn.length>r?this.Rn[r]:null)},e.prototype.Ao=function(){return on.resolve(0===this.Rn.length?-1:this.Vf-1)},e.prototype.Ro=function(e){return on.resolve(this.Rn.slice())},e.prototype.Vn=function(e,t){var n=this,r=new zr(t,0),i=new zr(t,Number.POSITIVE_INFINITY),o=[];return this.gf.vt([r,i],(function(e){var t=n.pf(e.ba);o.push(t)})),on.resolve(o)},e.prototype.vn=function(e,t){var n=this,r=new X(k);return t.forEach((function(e){var t=new zr(e,0),i=new zr(e,Number.POSITIVE_INFINITY);n.gf.vt([t,i],(function(e){r=r.add(e.ba)}))})),on.resolve(this.bf(r))},e.prototype.$n=function(e,t){var n=t.path,r=n.length+1,i=n;V.W(i)||(i=i.child(""));var o=new zr(new V(i),0),s=new X(k);return this.gf.St((function(e){var t=e.key.path;return!!n.D(t)&&(t.length===r&&(s=s.add(e.ba)),!0)}),o),on.resolve(this.bf(s))},e.prototype.bf=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.pf(e);null!==r&&n.push(r)})),n},e.prototype.Po=function(e,t){var n=this;y(0===this.vf(t.batchId,"removed")),this.Rn.shift();var r=this.gf;return on.forEach(t.mutations,(function(i){var o=new zr(i.key,t.batchId);return r=r.delete(o),n.Fi.oo(e,i.key)})).next((function(){n.gf=r}))},e.prototype.Vo=function(e){},e.prototype.tr=function(e,t){var n=new zr(t,0),r=this.gf.Dt(n);return on.resolve(t.isEqual(r&&r.key))},e.prototype.po=function(e){return on.resolve()},e.prototype.vf=function(e,t){return this.yf(e)},e.prototype.yf=function(e){return 0===this.Rn.length?0:e-this.Rn[0].batchId},e.prototype.pf=function(e){var t=this.yf(e);return t<0||t>=this.Rn.length?null:this.Rn[t]},e}(),ko=function(){function e(e,t){this.mn=e,this.Sf=t,this.docs=new Y(V.P),this.size=0}return e.prototype.un=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Sf(t);return this.docs=this.docs.et(r,{fi:t,size:s,readTime:n}),this.size+=s-o,this.mn.ri(e,r.path.p())},e.prototype.ln=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype._n=function(e,t){var n=this.docs.get(t);return on.resolve(n?n.fi:null)},e.prototype.getEntries=function(e,t){var n=this,r=ne();return t.forEach((function(e){var t=n.docs.get(e);r=r.et(e,t?t.fi:null)})),on.resolve(r)},e.prototype.Sn=function(e,t,n){for(var r=ie(),i=new V(t.path.child("")),o=this.docs.ut(i);o.wt();){var s=o.dt(),a=s.value,u=a.fi,c=a.readTime;if(!t.path.D(s.key.path))break;c.o(n)<=0||u instanceof Lt&&t.matches(u)&&(r=r.et(u.key,u))}return on.resolve(r)},e.prototype.Df=function(e,t){return on.forEach(this.docs,(function(e){return t(e)}))},e.prototype.Vi=function(t){return new e.gi(this)},e.prototype.yi=function(e){return on.resolve(this.size)},e}();ko.gi=function(e){function t(t){var n=this;return(n=e.call(this)||this).bi=t,n}return i.__extends(t,e),t.prototype.wn=function(e){var t=this,n=[];return this.on.forEach((function(r,i){i?n.push(t.bi.un(e,i,t.readTime)):t.bi.ln(r)})),on.nn(n)},t.prototype.fn=function(e,t){return this.bi._n(e,t)},t.prototype.dn=function(e,t){return this.bi.getEntries(e,t)},t}(sn);var wo=function(){function e(e){this.persistence=e,this.Cf=new A((function(e){return Jt(e)}),en),this.lastRemoteSnapshotVersion=P.min(),this.highestTargetId=0,this.Ff=0,this.Nf=new Br,this.targetCount=0,this.$f=Mn.Di()}return e.prototype.ye=function(e,t){return this.Cf.forEach((function(e,n){return t(n)})),on.resolve()},e.prototype.xi=function(e){return on.resolve(this.lastRemoteSnapshotVersion)},e.prototype.Mi=function(e){return on.resolve(this.Ff)},e.prototype.Ni=function(e){return this.highestTargetId=this.$f.next(),on.resolve(this.highestTargetId)},e.prototype.Li=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ff&&(this.Ff=t),on.resolve()},e.prototype.Bi=function(e){this.Cf.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.$f=new Mn(t),this.highestTargetId=t),e.sequenceNumber>this.Ff&&(this.Ff=e.sequenceNumber)},e.prototype.Oi=function(e,t){return this.Bi(t),this.targetCount+=1,on.resolve()},e.prototype.Ui=function(e,t){return this.Bi(t),on.resolve()},e.prototype.Qi=function(e,t){return this.Cf.delete(t.target),this.Nf.ga(t.targetId),this.targetCount-=1,on.resolve()},e.prototype.ji=function(e,t,n){var r=this,i=0,o=[];return this.Cf.forEach((function(s,a){a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r.Cf.delete(s),o.push(r.Wi(e,a.targetId)),i++)})),on.nn(o).next((function(){return i}))},e.prototype.Ki=function(e){return on.resolve(this.targetCount)},e.prototype.Gi=function(e,t){var n=this.Cf.get(t)||null;return on.resolve(n)},e.prototype.zi=function(e,t,n){return this.Nf.ma(t,n),on.resolve()},e.prototype.Yi=function(e,t,n){this.Nf.Va(t,n);var r=this.persistence.Fi,i=[];return r&&t.forEach((function(t){i.push(r.oo(e,t))})),on.nn(i)},e.prototype.Wi=function(e,t){return this.Nf.ga(t),on.resolve()},e.prototype.Xi=function(e,t){var n=this.Nf.ya(t);return on.resolve(n)},e.prototype.tr=function(e,t){return on.resolve(this.Nf.tr(t))},e}(),Co=function(){function e(e){var t=this;this.kf={},this.rr=new hn(0),this.or=!1,this.or=!0,this.Fi=e(this),this.Tr=new wo(this),this.mn=new mn,this.An=new ko(this.mn,(function(e){return t.Fi.xf(e)}))}return e.prototype.start=function(){return Promise.resolve()},e.prototype.Ur=function(){return this.or=!1,Promise.resolve()},Object.defineProperty(e.prototype,"pr",{get:function(){return this.or},enumerable:!0,configurable:!0}),e.prototype.yr=function(){},e.prototype.Xr=function(){return this.mn},e.prototype.zr=function(e){var t=this.kf[e.su()];return t||(t=new bo(this.mn,this.Fi),this.kf[e.su()]=t),t},e.prototype.Yr=function(){return this.Tr},e.prototype.Jr=function(){return this.An},e.prototype.runTransaction=function(e,t,n){var r=this;d("MemoryPersistence","Starting transaction:",e);var i=new So(this.rr.next());return this.Fi.Mf(),n(i).next((function(e){return r.Fi.Lf(i).next((function(){return e}))})).en().then((function(e){return i.In(),e}))},e.prototype.Of=function(e,t){return on.rn(Object.values(this.kf).map((function(n){return function(){return n.tr(e,t)}})))},e}(),So=function(e){function t(t){var n=this;return(n=e.call(this)||this).sr=t,n}return i.__extends(t,e),t}(un),Eo=function(){function e(e){this.persistence=e,this.Bf=new Br,this.qf=null}return e.Uf=function(t){return new e(t)},Object.defineProperty(e.prototype,"Qf",{get:function(){if(this.qf)return this.qf;throw g()},enumerable:!0,configurable:!0}),e.prototype.Hi=function(e,t,n){return this.Bf.Hi(n,t),this.Qf.delete(n),on.resolve()},e.prototype.Ji=function(e,t,n){return this.Bf.Ji(n,t),this.Qf.add(n),on.resolve()},e.prototype.oo=function(e,t){return this.Qf.add(t),on.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.Bf.ga(t.targetId).forEach((function(e){return n.Qf.add(e)}));var r=this.persistence.Yr();return r.Xi(e,t.targetId).next((function(e){e.forEach((function(e){return n.Qf.add(e)}))})).next((function(){return r.Qi(e,t)}))},e.prototype.Mf=function(){this.qf=new Set},e.prototype.Lf=function(e){var t=this,n=this.persistence.Jr().Vi();return on.forEach(this.Qf,(function(r){return t.Wf(e,r).next((function(e){e||n.ln(r)}))})).next((function(){return t.qf=null,n.apply(e)}))},e.prototype.co=function(e,t){var n=this;return this.Wf(e,t).next((function(e){e?n.Qf.delete(t):n.Qf.add(t)}))},e.prototype.xf=function(e){return 0},e.prototype.Wf=function(e,t){var n=this;return on.rn([function(){return on.resolve(n.Bf.tr(t))},function(){return n.persistence.Yr().tr(e,t)},function(){return n.persistence.Of(e,t)}])},e}(),Io=function(){function e(e){this.jf=e.jf,this.Kf=e.Kf}return e.prototype.xu=function(e){this.Gf=e},e.prototype.Cu=function(e){this.zf=e},e.prototype.onMessage=function(e){this.Hf=e},e.prototype.close=function(){this.Kf()},e.prototype.send=function(e){this.jf(e)},e.prototype.Yf=function(){this.Gf()},e.prototype.Jf=function(e){this.zf(e)},e.prototype.Xf=function(e){this.Hf(e)},e}(),To={BatchGetDocuments:"batchGet",Commit:"commit"},xo="gl-js/ fire/"+l,Ao=function(){function e(e){this.s=e.s,this.Zf=(e.ssl?"https":"http")+"://"+e.host,this.forceLongPolling=e.forceLongPolling}return e.prototype.td=function(e,t){if(t)for(var n in t.ru)t.ru.hasOwnProperty(n)&&(e[n]=t.ru[n]);e["X-Goog-Api-Client"]=xo},e.prototype.Yu=function(e,t,n){var r=this,i=this.ed(e);return new Promise((function(o,s){var a=new u.XhrIo;a.listenOnce(u.EventType.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case u.ErrorCode.NO_ERROR:var t=a.getResponseJson();d("Connection","XHR received:",JSON.stringify(t)),o(t);break;case u.ErrorCode.TIMEOUT:d("Connection",'RPC "'+e+'" timed out'),s(new D(O.DEADLINE_EXCEEDED,"Request time out"));break;case u.ErrorCode.HTTP_ERROR:var n=a.getStatus();if(d("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var i=function(e){var t=e.toLowerCase().replace("_","-");return Object.values(O).indexOf(t)>=0?t:O.UNKNOWN}(r.status);s(new D(i,r.message))}else s(new D(O.UNKNOWN,"Server responded with status "+a.getStatus()))}else d("Connection",'RPC "'+e+'" failed'),s(new D(O.UNAVAILABLE,"Connection failed."));break;default:g()}}finally{d("Connection",'RPC "'+e+'" completed.')}}));var c=Object.assign({},t);delete c.database;var l=JSON.stringify(c);d("Connection","XHR sending: ",i+" "+l);var h={"Content-Type":"text/plain"};r.td(h,n),a.send(i,"POST",l,h,15)}))},e.prototype.Ju=function(e,t,n){return this.Yu(e,t,n)},e.prototype.Mu=function(e,t){var n=[this.Zf,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=u.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.s.projectId+"/databases/"+this.s.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.td(o.initMessageHeaders,t),a.isMobileCordova()||a.isReactNative()||a.isElectron()||a.isIE()||a.isUWP()||a.isBrowserExtension()||(o.httpHeadersOverwriteParam="$httpHeaders");var c=n.join("");d("Connection","Creating WebChannel: "+c+" "+o);var f=r.createWebChannel(c,o),p=!1,g=!1,m=new Io({jf:function(e){g?d("Connection","Not sending because WebChannel is closed:",e):(p||(d("Connection","Opening WebChannel transport."),f.open(),p=!0),d("Connection","WebChannel sending:",e),f.send(e))},Kf:function(){return f.close()}}),_=function(e,t){f.listen(e,(function(e){try{t(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return _(u.WebChannel.EventType.OPEN,(function(){g||d("Connection","WebChannel transport opened.")})),_(u.WebChannel.EventType.CLOSE,(function(){g||(g=!0,d("Connection","WebChannel transport closed"),m.Jf())})),_(u.WebChannel.EventType.ERROR,(function(e){g||(g=!0,function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(h.logLevel<=s.LogLevel.WARN){var r=t.map(v);h.warn.apply(h,i.__spreadArrays(["Firestore ("+l+"): "+e],r))}}("Connection","WebChannel transport errored:",e),m.Jf(new D(O.UNAVAILABLE,"The operation could not be completed")))})),_(u.WebChannel.EventType.MESSAGE,(function(e){var t;if(!g){var n=e.data[0];y(!!n);var r=n.error||(null===(t=n[0])||void 0===t?void 0:t.error);if(r){d("Connection","WebChannel received error:",r);var i=r.status,o=function(e){var t=H[e];if(void 0!==t)return Q(t)}(i),s=r.message;void 0===o&&(o=O.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),g=!0,m.Jf(new D(o,s)),f.close()}else d("Connection","WebChannel received:",n),m.Xf(n)}})),setTimeout((function(){m.Yf()}),0),m},e.prototype.ed=function(e){return this.Zf+"/v1/projects/"+this.s.projectId+"/databases/"+this.s.database+"/documents:"+To[e]},e}(),Oo=function(){function e(){var e=this;this.sd=function(){return e.nd()},this.rd=function(){return e.od()},this.hd=[],this.ad()}return e.prototype.Pc=function(e){this.hd.push(e)},e.prototype.Ur=function(){window.removeEventListener("online",this.sd),window.removeEventListener("offline",this.rd)},e.prototype.ad=function(){window.addEventListener("online",this.sd),window.addEventListener("offline",this.rd)},e.prototype.nd=function(){d("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.hd;e<t.length;e++)(0,t[e])(0)},e.prototype.od=function(){d("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.hd;e<t.length;e++)(0,t[e])(1)},e._r=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),Do=function(){function e(){}return e.prototype.Pc=function(e){},e.prototype.Ur=function(){},e}(),Ro="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",Po=function(){function e(){}return e.prototype.initialize=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t=this;return i.__generator(this,(function(n){switch(n.label){case 0:return this.P_=this.ud(e),this.persistence=this.ld(e),[4,this.persistence.start()];case 1:return n.sent(),this._d=this.fd(e),this.Tc=this.dd(e),this.m_=this.wd(e),this.Qc=this.Td(e),this.Ed=this.Id(e),this.P_.hc=function(e){return t.Qc.c_(e,1)},this.m_.Qc=this.Qc,[4,this.Tc.start()];case 2:return n.sent(),[4,this.P_.start()];case 3:return n.sent(),[4,this.m_.start()];case 4:return n.sent(),[4,this.m_.rl(this.Qc.k_)];case 5:return n.sent(),[2]}}))}))},e.prototype.Id=function(e){return new yo(this.Qc)},e.prototype.fd=function(e){return null},e.prototype.dd=function(e){return new Vr(this.persistence,new _o,e.Ad)},e.prototype.ld=function(e){if(e.md.Rd)throw new D(O.FAILED_PRECONDITION,Ro);return new Co(Eo.Uf)},e.prototype.wd=function(e){var t=this;return new Ki(this.Tc,e.Xu,e.Oo,(function(e){return t.Qc.c_(e,0)}),Oo._r()?new Oo:new Do)},e.prototype.ud=function(e){return new so},e.prototype.Td=function(e){return new po(this.Tc,this.m_,e.Xu,this.P_,e.Ad,e.V_)},e.prototype.clearPersistence=function(e){throw new D(O.FAILED_PRECONDITION,Ro)},e}(),No=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.initialize=function(t){return i.__awaiter(this,void 0,void 0,(function(){var n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,this.persistence.gr((function(e){return i.__awaiter(n,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this.Qc.rl(e)];case 1:return t.sent(),this._d&&(e&&!this._d.pr?this._d.start(this.Tc):e||this._d.stop()),[2]}}))}))}))];case 2:return r.sent(),[2]}}))}))},t.prototype.dd=function(e){return new jr(this.persistence,new _o,e.Ad)},t.prototype.Td=function(e){var t=new vo(this.Tc,this.m_,e.Xu,this.P_,e.Ad,e.V_);return this.P_ instanceof oo&&(this.P_.Qc=t),t},t.prototype.fd=function(e){return new Lr(this.persistence.Fi.eo,e.Oo)},t.prototype.ld=function(e){var t=Gn.to(e.Pd),n=Ci(e.Pd.s);return new Gn(e.md.synchronizeTabs,t,e.clientId,Fr.ph(e.md.cacheSizeBytes),e.Oo,xr(),"undefined"!=typeof document?document:null,n,this.P_,e.md.ir)},t.prototype.ud=function(e){if(e.md.Rd&&e.md.synchronizeTabs){var t=xr();if(!oo._r(t))throw new D(O.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Gn.to(e.Pd);return new oo(t,e.Oo,n,e.clientId,e.Ad)}return new so},t.prototype.clearPersistence=function(e){var t=Gn.to(e);return Gn.clearPersistence(t)},t}(Po),Fo=function(){function e(e,t,n){this.Pd=e,this.credentials=t,this.Oo=n,this.clientId=b.t()}return e.prototype.start=function(e,t){var n=this;this.Hu();var r=new fn,i=new fn,o=!1;return this.credentials.au((function(s){if(!o)return o=!0,d("FirestoreClient","Initializing. user=",s.uid),n.Vd(e,t,s,i).then(r.resolve,r.reject);n.Oo.Cr((function(){return n.m_.il(s)}))})),this.Oo.Sr((function(){return r.promise})),i.promise},e.prototype.enableNetwork=function(){var e=this;return this.Hu(),this.Oo.enqueue((function(){return e.Qc.enableNetwork()}))},e.prototype.Vd=function(e,t,n,r){return i.__awaiter(this,void 0,void 0,(function(){var o,s,a,u,c,l=this;return i.__generator(this,(function(h){switch(h.label){case 0:return h.trys.push([0,3,,4]),[4,(c=this.Pd,Promise.resolve(new Ao(c)))];case 1:return o=h.sent(),s=Ci(this.Pd.s),a=function(e,t,n){return new $i(e,t,n)}(o,this.credentials,s),[4,e.initialize({Oo:this.Oo,Pd:this.Pd,Xu:a,clientId:this.clientId,Ad:n,V_:100,md:t})];case 2:return h.sent(),this.persistence=e.persistence,this.P_=e.P_,this.Tc=e.Tc,this.m_=e.m_,this.Qc=e.Qc,this._d=e._d,this.gd=e.Ed,this.persistence.yr((function(){return i.__awaiter(l,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return[4,this.terminate()];case 1:return e.sent(),[2]}}))}))})),r.resolve(),[3,4];case 3:if(u=h.sent(),r.reject(u),!this.pd(u))throw u;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),this.Vd(new Po,{Rd:!1},n,r))];case 4:return[2]}}))}))},e.prototype.pd=function(e){return"FirebaseError"===e.name?e.code===O.FAILED_PRECONDITION||e.code===O.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code},e.prototype.Hu=function(){if(this.Oo.eh)throw new D(O.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.disableNetwork=function(){var e=this;return this.Hu(),this.Oo.enqueue((function(){return e.Qc.disableNetwork()}))},e.prototype.terminate=function(){var e=this;return this.Oo.oh((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this._d&&this._d.stop(),[4,this.m_.Ur()];case 1:return e.sent(),[4,this.P_.Ur()];case 2:return e.sent(),[4,this.persistence.Ur()];case 3:return e.sent(),this.credentials.uu(),[2]}}))}))}))},e.prototype.waitForPendingWrites=function(){var e=this;this.Hu();var t=new fn;return this.Oo.Sr((function(){return e.Qc.K_(t)})),t.promise},e.prototype.listen=function(e,t,n){var r=this;this.Hu();var i=new mo(e,t,n);return this.Oo.Sr((function(){return r.gd.listen(i)})),i},e.prototype.qc=function(e){var t=this;this.yd||this.Oo.Sr((function(){return t.gd.qc(e)}))},e.prototype.bd=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return this.Hu(),t=new fn,[4,this.Oo.enqueue((function(){return i.__awaiter(n,void 0,void 0,(function(){var n,r,o;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.Tc.aa(e)];case 1:return(n=i.sent())instanceof Lt?t.resolve(n):n instanceof Mt?t.resolve(null):t.reject(new D(O.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=i.sent(),o=Dr(r,"Failed to get document '"+e+" from cache"),t.reject(o),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(r.sent(),t.promise)]}}))}))},e.prototype.vd=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return this.Hu(),t=new fn,[4,this.Oo.enqueue((function(){return i.__awaiter(n,void 0,void 0,(function(){var n,r,o,s,a,u;return i.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.Tc.la(e,!0)];case 1:return n=i.sent(),r=new co(e,n._a),o=r.n_(n.documents),s=r.wn(o,!1),t.resolve(s.snapshot),[3,3];case 2:return a=i.sent(),u=Dr(a,"Failed to execute query '"+e+" against cache"),t.reject(u),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(r.sent(),t.promise)]}}))}))},e.prototype.write=function(e){var t=this;this.Hu();var n=new fn;return this.Oo.Sr((function(){return t.Qc.write(e,n)})),n.promise},e.prototype.s=function(){return this.Pd.s},e.prototype.lf=function(e){var t=this;this.Hu(),this.Oo.Sr((function(){return t.gd.lf(e),Promise.resolve()}))},e.prototype._f=function(e){var t=this;this.yd||this.Oo.Sr((function(){return t.gd._f(e),Promise.resolve()}))},Object.defineProperty(e.prototype,"yd",{get:function(){return this.Oo.eh},enumerable:!0,configurable:!0}),e.prototype.transaction=function(e){var t=this;this.Hu();var n=new fn;return this.Oo.Sr((function(){return t.Qc.runTransaction(t.Oo,e,n),Promise.resolve()})),n.promise},e}(),Lo=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.Sd(this.observer.next,e)},e.prototype.error=function(e){this.Sd(this.observer.error,e)},e.prototype.Dd=function(){this.muted=!0},e.prototype.Sd=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}();function Mo(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var Vo=function(){function e(e,t,n,r){this.s=e,this.timestampsInSnapshots=t,this.Cd=n,this.Fd=r}return e.prototype.Nd=function(e){switch(Ee(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.$d(e.timestampValue);case 4:return this.kd(e);case 5:return e.stringValue;case 6:return new li(Pe(e.bytesValue));case 7:return this.xd(e.referenceValue);case 8:return this.Md(e.geoPointValue);case 9:return this.Ld(e.arrayValue);case 10:return this.Od(e.mapValue);default:throw g()}},e.prototype.Od=function(e){var t=this,n={};return T(e.fields||{},(function(e,r){n[e]=t.Nd(r)})),n},e.prototype.Md=function(e){return new wi(Re(e.latitude),Re(e.longitude))},e.prototype.Ld=function(e){var t=this;return(e.values||[]).map((function(e){return t.Nd(e)}))},e.prototype.kd=function(e){switch(this.Cd){case"previous":var t=function e(t){var n=t.mapValue.fields.__previous_value__;return we(n)?e(n):n}(e);return null==t?null:this.Nd(t);case"estimate":return this.$d(Ce(e));default:return null}},e.prototype.$d=function(e){var t=De(e),n=new R(t.seconds,t.nanos);return this.timestampsInSnapshots?n:n.toDate()},e.prototype.xd=function(e){var t=F.$(e);y(gt(t));var n=new E(t.get(1),t.get(3)),r=new V(t.g(5));return n.isEqual(this.s)||p("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.s.projectId+"/"+this.s.database+") instead."),this.Fd(r)},e}(),jo=Fr.vh,Uo=function(){function e(e){var t,n,r,i;if(void 0===e.host){if(void 0!==e.ssl)throw new D(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else Yr("settings","non-empty string","host",e.host),this.host=e.host,Kr("settings","boolean","ssl",e.ssl),this.ssl=null===(t=e.ssl)||void 0===t||t;if(ri("settings",e,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),Kr("settings","object","credentials",e.credentials),this.credentials=e.credentials,Kr("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),Kr("settings","boolean","ignoreUndefinedProperties",e.ignoreUndefinedProperties),!0===e.timestampsInSnapshots?p("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===e.timestampsInSnapshots&&p("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=e.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=e.ignoreUndefinedProperties)&&void 0!==r&&r,Kr("settings","number","cacheSizeBytes",e.cacheSizeBytes),void 0===e.cacheSizeBytes)this.cacheSizeBytes=Fr.Dh;else{if(e.cacheSizeBytes!==jo&&e.cacheSizeBytes<Fr.Sh)throw new D(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Fr.Sh);this.cacheSizeBytes=e.cacheSizeBytes}Kr("settings","boolean","experimentalForceLongPolling",e.experimentalForceLongPolling),this.forceLongPolling=null!==(i=e.experimentalForceLongPolling)&&void 0!==i&&i}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.forceLongPolling===e.forceLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},e}(),Bo=function(){function e(t,n,r){var o=this;if(void 0===r&&(r=new Po),this.Bd=null,this.qd=new Or,this.INTERNAL={delete:function(){return i.__awaiter(o,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return this.Ud(),[4,this.Qd.terminate()];case 1:return e.sent(),[2]}}))}))}},"object"==typeof t.options){var s=t;this.Bd=s,this.qa=e.Wd(s),this.jd=s.name,this.Kd=new Bi(n)}else{var a=t;if(!a.projectId)throw new D(O.INVALID_ARGUMENT,"Must provide projectId");this.qa=new E(a.projectId,a.database),this.jd="[DEFAULT]",this.Kd=new Ui}this.Gd=r,this.zd=new Uo({})}return Object.defineProperty(e.prototype,"Hd",{get:function(){return this.Yd||(this.Yd=new Oi(this.qa,this.zd.ignoreUndefinedProperties)),this.Yd},enumerable:!0,configurable:!0}),e.prototype.settings=function(e){Gr("Firestore.settings",arguments,1),$r("Firestore.settings","object",1,e);var t=new Uo(e);if(this.Qd&&!this.zd.isEqual(t))throw new D(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.zd=t,void 0!==t.credentials&&(this.Kd=function(e){if(!e)return new Ui;switch(e.type){case"gapi":var t=e.Jd;return y(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Hi(t,e.wu||"0");case"provider":return e.Jd;default:throw new D(O.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype.enableNetwork=function(){return this.Ud(),this.Qd.enableNetwork()},e.prototype.disableNetwork=function(){return this.Ud(),this.Qd.disableNetwork()},e.prototype.enablePersistence=function(e){var t,n;if(this.Qd)throw new D(O.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(e&&(void 0!==e.experimentalTabSynchronization&&p("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(t=e.synchronizeTabs)&&void 0!==t?t:e.experimentalTabSynchronization)&&void 0!==n&&n,i=!!e.experimentalForceOwningTab&&e.experimentalForceOwningTab,r&&i))throw new D(O.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Xd(this.Gd,{Rd:!0,cacheSizeBytes:this.zd.cacheSizeBytes,synchronizeTabs:r,ir:i})},e.prototype.clearPersistence=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t=this;return i.__generator(this,(function(n){if(void 0!==this.Qd&&!this.Qd.yd)throw new D(O.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return e=new fn,[2,(this.qd.sh((function(){return i.__awaiter(t,void 0,void 0,(function(){var t,n;return i.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=this.Zd(),[4,this.Gd.clearPersistence(t)];case 1:return r.sent(),e.resolve(),[3,3];case 2:return n=r.sent(),e.reject(n),[3,3];case 3:return[2]}}))}))})),e.promise)]}))}))},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(e.prototype,"tw",{get:function(){return this.Ud(),this.Qd.yd},enumerable:!0,configurable:!0}),e.prototype.waitForPendingWrites=function(){return this.Ud(),this.Qd.waitForPendingWrites()},e.prototype.onSnapshotsInSync=function(e){return this.Ud(),Mo(e)?this.ew(e):($r("Firestore.onSnapshotsInSync","function",1,e),this.ew({next:e}))},e.prototype.ew=function(e){var t=this,n=new Lo({next:function(){e.next&&e.next()},error:function(e){throw g()}});return this.Qd.lf(n),function(){n.Dd(),t.Qd._f(n)}},e.prototype.Ud=function(){return this.Qd||this.Xd(new Po,{Rd:!1}),this.Qd},e.prototype.Zd=function(){return new S(this.qa,this.jd,this.zd.host,this.zd.ssl,this.zd.forceLongPolling)},e.prototype.Xd=function(e,t){var n=this.Zd();return this.Qd=new Fo(n,this.Kd,this.qd),this.Qd.start(e,t)},e.Wd=function(e){if(!Object.prototype.hasOwnProperty.call(e.options,"projectId"))throw new D(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var t=e.options.projectId;if(!t||"string"!=typeof t)throw new D(O.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new E(t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Bd)throw new D(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Bd},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){return Gr("Firestore.collection",arguments,1),$r("Firestore.collection","non-empty string",1,e),this.Ud(),new Ko(F.$(e),this,null)},e.prototype.doc=function(e){return Gr("Firestore.doc",arguments,1),$r("Firestore.doc","non-empty string",1,e),this.Ud(),Go.sw(F.$(e),this,null)},e.prototype.collectionGroup=function(e){if(Gr("Firestore.collectionGroup",arguments,1),$r("Firestore.collectionGroup","non-empty string",1,e),e.indexOf("/")>=0)throw new D(O.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.Ud(),new Qo(new jt(F.k,e),this,null)},e.prototype.runTransaction=function(e){var t=this;return Gr("Firestore.runTransaction",arguments,1),$r("Firestore.runTransaction","function",1,e),this.Ud().transaction((function(n){return e(new zo(t,n))}))},e.prototype.batch=function(){return this.Ud(),new Ho(this)},Object.defineProperty(e,"logLevel",{get:function(){switch(f()){case s.LogLevel.DEBUG:return"debug";case s.LogLevel.ERROR:return"error";case s.LogLevel.SILENT:return"silent";case s.LogLevel.WARN:return"warn";case s.LogLevel.INFO:return"info";case s.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!0,configurable:!0}),e.setLogLevel=function(e){Gr("Firestore.setLogLevel",arguments,1),Xr("setLogLevel",["debug","error","silent","warn","info","verbose"],1,e),h.setLogLevel(e)},e.prototype.nw=function(){return this.zd.timestampsInSnapshots},e}(),zo=function(){function e(e,t){this.iw=e,this.rw=t}return e.prototype.get=function(e){var t=this;Gr("Transaction.get",arguments,1);var n=es("Transaction.get",e,this.iw);return this.rw.nc([n.Ua]).then((function(e){if(!e||1!==e.length)return g();var r=e[0];if(r instanceof Mt)return new Wo(t.iw,n.Ua,null,!1,!1,n.Qa);if(r instanceof Lt)return new Wo(t.iw,n.Ua,r,!1,!1,n.Qa);throw g()}))},e.prototype.set=function(e,t,n){Wr("Transaction.set",arguments,2,3);var r=es("Transaction.set",e,this.iw);n=Zo("Transaction.set",n);var i=ns(r.Qa,t,"Transaction.set"),o=i[0],s=i[1],a=this.iw.Hd.Ja(s,o,n);return this.rw.set(r.Ua,a),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof t||t instanceof fi?(qr("Transaction.update",arguments,3),r=es("Transaction.update",e,this.iw),i=this.iw.Hd.tu("Transaction.update",t,n,o)):(Gr("Transaction.update",arguments,2),r=es("Transaction.update",e,this.iw),i=this.iw.Hd.Za("Transaction.update",t)),this.rw.update(r.Ua,i),this},e.prototype.delete=function(e){Gr("Transaction.delete",arguments,1);var t=es("Transaction.delete",e,this.iw);return this.rw.delete(t.Ua),this},e}(),Ho=function(){function e(e){this.iw=e,this.ow=[],this.hw=!1}return e.prototype.set=function(e,t,n){Wr("WriteBatch.set",arguments,2,3),this.aw();var r=es("WriteBatch.set",e,this.iw);n=Zo("WriteBatch.set",n);var i=ns(r.Qa,t,"WriteBatch.set"),o=i[0],s=i[1],a=this.iw.Hd.Ja(s,o,n);return this.ow=this.ow.concat(a.Wa(r.Ua,Et.Qe())),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.aw(),"string"==typeof t||t instanceof fi?(qr("WriteBatch.update",arguments,3),r=es("WriteBatch.update",e,this.iw),i=this.iw.Hd.tu("WriteBatch.update",t,n,o)):(Gr("WriteBatch.update",arguments,2),r=es("WriteBatch.update",e,this.iw),i=this.iw.Hd.Za("WriteBatch.update",t)),this.ow=this.ow.concat(i.Wa(r.Ua,Et.exists(!0))),this},e.prototype.delete=function(e){Gr("WriteBatch.delete",arguments,1),this.aw();var t=es("WriteBatch.delete",e,this.iw);return this.ow=this.ow.concat(new Ot(t.Ua,Et.Qe())),this},e.prototype.commit=function(){return this.aw(),this.hw=!0,this.ow.length>0?this.iw.Ud().write(this.ow):Promise.resolve()},e.prototype.aw=function(){if(this.hw)throw new D(O.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}(),Go=function(e){function t(t,n,r){var i=this;return(i=e.call(this,n.qa,t,r)||this).Ua=t,i.firestore=n,i.Qa=r,i.Qd=i.firestore.Ud(),i}return i.__extends(t,e),t.sw=function(e,n,r){if(e.length%2!=0)throw new D(O.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.N()+" has "+e.length);return new t(new V(e),n,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this.Ua.path.S()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ko(this.Ua.path.p(),this.firestore,this.Qa)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.Ua.path.N()},enumerable:!0,configurable:!0}),t.prototype.collection=function(e){if(Gr("DocumentReference.collection",arguments,1),$r("DocumentReference.collection","non-empty string",1,e),!e)throw new D(O.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=F.$(e);return new Ko(this.Ua.path.child(t),this.firestore,null)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw ii("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this.Ua.isEqual(e.Ua)&&this.Qa===e.Qa},t.prototype.set=function(e,t){Wr("DocumentReference.set",arguments,1,2),t=Zo("DocumentReference.set",t);var n=ns(this.Qa,e,"DocumentReference.set"),r=n[0],i=n[1],o=this.firestore.Hd.Ja(i,r,t);return this.Qd.write(o.Wa(this.Ua,Et.Qe()))},t.prototype.update=function(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof e||e instanceof fi?(qr("DocumentReference.update",arguments,2),n=this.firestore.Hd.tu("DocumentReference.update",e,t,r)):(Gr("DocumentReference.update",arguments,1),n=this.firestore.Hd.Za("DocumentReference.update",e)),this.Qd.write(n.Wa(this.Ua,Et.exists(!0)))},t.prototype.delete=function(){return Gr("DocumentReference.delete",arguments,0),this.Qd.write([new Ot(this.Ua,Et.Qe())])},t.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Wr("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof e[i]||Mo(e[i])||(ri("DocumentReference.onSnapshot",r=e[i],["includeMetadataChanges"]),Kr("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return Mo(e[i])?n=e[i]:($r("DocumentReference.onSnapshot","function",i,e[i]),Qr("DocumentReference.onSnapshot","function",i+1,e[i+1]),Qr("DocumentReference.onSnapshot","function",i+2,e[i+2]),n={next:e[i],error:e[i+1],complete:e[i+2]}),this.uw(o,n)},t.prototype.uw=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new Lo({next:function(e){if(t.next){var r=e.docs.get(n.Ua);t.next(new Wo(n.firestore,n.Ua,r,e.fromCache,e.hasPendingWrites,n.Qa))}},error:r}),o=this.Qd.listen(jt.As(this.Ua.path),i,e);return function(){i.Dd(),n.Qd.qc(o)}},t.prototype.get=function(e){var t=this;return Wr("DocumentReference.get",arguments,0,1),Jo("DocumentReference.get",e),new Promise((function(n,r){e&&"cache"===e.source?t.firestore.Ud().bd(t.Ua).then((function(e){n(new Wo(t.firestore,t.Ua,e,!0,e instanceof Lt&&e.Xe,t.Qa))}),r):t.cw(n,r,e)}))},t.prototype.cw=function(e,t,n){var r=this.uw({includeMetadataChanges:!0,Af:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?t(new D(O.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?t(new D(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):e(i)},error:t})},t.prototype.withConverter=function(e){return new t(this.Ua,this.firestore,e)},t}(Ei),qo=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Wo=function(){function e(e,t,n,r,i,o){this.iw=e,this.Ua=t,this.lw=n,this._w=r,this.fw=i,this.Qa=o}return e.prototype.data=function(e){var t=this;if(Wr("DocumentSnapshot.data",arguments,0,1),e=Xo("DocumentSnapshot.data",e),this.lw){if(this.Qa){var n=new $o(this.iw,this.Ua,this.lw,this._w,this.fw,null);return this.Qa.fromFirestore(n,e)}return new Vo(this.iw.qa,this.iw.nw(),e.serverTimestamps||"none",(function(e){return new Go(e,t.iw,null)})).Nd(this.lw.fs())}},e.prototype.get=function(e,t){var n=this;if(Wr("DocumentSnapshot.get",arguments,1,2),t=Xo("DocumentSnapshot.get",t),this.lw){var r=this.lw.data().field(Fi("DocumentSnapshot.get",e));if(null!==r)return new Vo(this.iw.qa,this.iw.nw(),t.serverTimestamps||"none",(function(e){return new Go(e,n.iw,n.Qa)})).Nd(r)}},Object.defineProperty(e.prototype,"id",{get:function(){return this.Ua.path.S()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Go(this.Ua,this.iw,this.Qa)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return null!==this.lw},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return new qo(this.fw,this._w)},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){if(!(t instanceof e))throw ii("isEqual","DocumentSnapshot",1,t);return this.iw===t.iw&&this._w===t._w&&this.Ua.isEqual(t.Ua)&&(null===this.lw?null===t.lw:this.lw.isEqual(t.lw))&&this.Qa===t.Qa},e}(),$o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.data=function(t){return e.prototype.data.call(this,t)},t}(Wo),Qo=function(e){function t(t,n,r){var i=this;return(i=e.call(this,n.qa,n.Hd,t)||this).dw=t,i.firestore=n,i.Qa=r,i}return i.__extends(t,e),t.prototype.where=function(e,n,r){Gr("Query.where",arguments,3),ni("Query.where",3,r);var i=Xr("Query.where",["<","<=","==",">=",">","array-contains","in","array-contains-any"],2,n),o=Fi("Query.where",e),s=this.ww(o,i,r);return new t(this.dw.Ps(s),this.firestore,this.Qa)},t.prototype.orderBy=function(e,n){var r;if(Wr("Query.orderBy",arguments,1,2),Qr("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new D(O.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=Fi("Query.orderBy",e),o=this.Aw(i,r);return new t(this.dw.Vs(o),this.firestore,this.Qa)},t.prototype.limit=function(e){return Gr("Query.limit",arguments,1),$r("Query.limit","number",1,e),oi("Query.limit",1,e),new t(this.dw.gs(e),this.firestore,this.Qa)},t.prototype.limitToLast=function(e){return Gr("Query.limitToLast",arguments,1),$r("Query.limitToLast","number",1,e),oi("Query.limitToLast",1,e),new t(this.dw.ps(e),this.firestore,this.Qa)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];qr("Query.startAt",arguments,1);var i=this.pw("Query.startAt",e,n,!0);return new t(this.dw.ys(i),this.firestore,this.Qa)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];qr("Query.startAfter",arguments,1);var i=this.pw("Query.startAfter",e,n,!1);return new t(this.dw.ys(i),this.firestore,this.Qa)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];qr("Query.endBefore",arguments,1);var i=this.pw("Query.endBefore",e,n,!0);return new t(this.dw.bs(i),this.firestore,this.Qa)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];qr("Query.endAt",arguments,1);var i=this.pw("Query.endAt",e,n,!1);return new t(this.dw.bs(i),this.firestore,this.Qa)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw ii("isEqual","Query",1,e);return this.firestore===e.firestore&&this.dw.isEqual(e.dw)&&this.Qa===e.Qa},t.prototype.withConverter=function(e){return new t(this.dw,this.firestore,e)},t.prototype.pw=function(e,t,n,r){if(ni(e,1,t),t instanceof Wo)return Gr(e,i.__spreadArrays([t],n),1),this.mw(e,t.lw,r);var o=[t].concat(n);return this.Pw(e,o,r)},t.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Wr("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof e[i]||Mo(e[i])||(ri("Query.onSnapshot",r=e[i],["includeMetadataChanges"]),Kr("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),Mo(e[i])?n=e[i]:($r("Query.onSnapshot","function",i,e[i]),Qr("Query.onSnapshot","function",i+1,e[i+1]),Qr("Query.onSnapshot","function",i+2,e[i+2]),n={next:e[i],error:e[i+1],complete:e[i+2]}),this.Vw(this.dw),this.uw(r,n)},t.prototype.uw=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new Lo({next:function(e){t.next&&t.next(new Yo(n.firestore,n.dw,e,n.Qa))},error:r}),o=this.firestore.Ud(),s=o.listen(this.dw,i,e);return function(){i.Dd(),o.qc(s)}},t.prototype.get=function(e){var t=this;return Wr("Query.get",arguments,0,1),Jo("Query.get",e),this.Vw(this.dw),new Promise((function(n,r){e&&"cache"===e.source?t.firestore.Ud().vd(t.dw).then((function(e){n(new Yo(t.firestore,t.dw,e,t.Qa))}),r):t.cw(n,r,e)}))},t.prototype.cw=function(e,t,n){var r=this.uw({includeMetadataChanges:!0,Af:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?t(new D(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):e(i)},error:t})},t}(function(){function e(e,t,n){this.qa=e,this.Hd=t,this.dw=n}return e.prototype.ww=function(e,t,n){var r;if(e.L()){if("array-contains"===t||"array-contains-any"===t)throw new D(O.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+t+"' queries on FieldPath.documentId().");if("in"===t){this.Tw(n,t);for(var i=[],o=0,s=n;o<s.length;o++)i.push(this.Ew(s[o]));r={arrayValue:{values:i}}}else r=this.Ew(n)}else"in"!==t&&"array-contains-any"!==t||this.Tw(n,t),r=this.Hd.eu("Query.where",n,"in"===t);var a=Ut.create(e,t,r);return this.Iw(a),a},e.prototype.Aw=function(e,t){if(null!==this.dw.startAt)throw new D(O.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.dw.endAt)throw new D(O.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var n=new Kt(e,t);return this.Rw(n),n},e.prototype.mw=function(e,t,n){if(!t)throw new D(O.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+e+"().");for(var r=[],i=0,o=this.dw.orderBy;i<o.length;i++){var s=o[i];if(s.field.L())r.push(Ne(this.qa,t.key));else{var a=t.field(s.field);if(we(a))throw new D(O.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===a){var u=s.field.N();throw new D(O.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(a)}}return new Wt(r,n)},e.prototype.Pw=function(e,t,n){var r=this.dw.ds;if(t.length>r.length)throw new D(O.INVALID_ARGUMENT,"Too many arguments provided to "+e+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<t.length;o++){var s=t[o];if(r[o].field.L()){if("string"!=typeof s)throw new D(O.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+e+"(), but got a "+typeof s);if(!this.dw.Bs()&&-1!==s.indexOf("/"))throw new D(O.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+e+"() must be a plain document ID, but '"+s+"' contains a slash.");var a=this.dw.path.child(F.$(s));if(!V.W(a))throw new D(O.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+e+"() must result in a valid document path, but '"+a+"' is not because it contains an odd number of segments.");var u=new V(a);i.push(Ne(this.qa,u))}else{var c=this.Hd.eu(e,s);i.push(c)}}return new Wt(i,n)},e.prototype.Vw=function(e){if(e.xs()&&0===e.ds.length)throw new D(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},e.prototype.Ew=function(e){if("string"==typeof e){if(""===e)throw new D(O.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.dw.Bs()&&-1!==e.indexOf("/"))throw new D(O.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+e+"' contains a '/' character.");var t=this.dw.path.child(F.$(e));if(!V.W(t))throw new D(O.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+t+"' is not because it has an odd number of segments ("+t.length+").");return Ne(this.qa,new V(t))}if(e instanceof Ei)return Ne(this.qa,e.Ua);throw new D(O.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ti(e)+".")},e.prototype.Tw=function(e,t){if(!Array.isArray(e)||0===e.length)throw new D(O.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new D(O.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.");if(e.indexOf(null)>=0)throw new D(O.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'null' in the value array.");if(e.filter((function(e){return Number.isNaN(e)})).length>0)throw new D(O.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'NaN' in the value array.")},e.prototype.Iw=function(e){if(e instanceof Ut){var t=["array-contains","array-contains-any"],n=["in","array-contains-any"],r=t.indexOf(e.op)>=0,i=n.indexOf(e.op)>=0;if(e.Ms()){var o=this.dw.Rs();if(null!==o&&!o.isEqual(e.field))throw new D(O.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+e.field.toString()+"'");var s=this.dw.ms();null!==s&&this.gw(e.field,s)}else if(i||r){var a=null;if(i&&(a=this.dw.Ls(n)),null===a&&r&&(a=this.dw.Ls(t)),null!=a)throw new D(O.INVALID_ARGUMENT,a===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+a.toString()+"' filters.")}}},e.prototype.Rw=function(e){if(null===this.dw.ms()){var t=this.dw.Rs();null!==t&&this.gw(t,e.field)}},e.prototype.gw=function(e,t){if(!t.isEqual(e))throw new D(O.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+t.toString()+"' instead.")},e}()),Yo=function(){function e(e,t,n,r){this.iw=e,this.yw=t,this.bw=n,this.Qa=r,this.vw=null,this.Sw=null,this.metadata=new qo(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.bw.docs._()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.bw.docs.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;Wr("QuerySnapshot.forEach",arguments,1,2),$r("QuerySnapshot.forEach","function",1,e),this.bw.docs.forEach((function(r){e.call(t,n.Dw(r))}))},Object.defineProperty(e.prototype,"query",{get:function(){return new Qo(this.yw,this.iw,this.Qa)},enumerable:!0,configurable:!0}),e.prototype.docChanges=function(e){e&&(ri("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),Kr("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var t=!(!e||!e.includeMetadataChanges);if(t&&this.bw.qt)throw new D(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.vw&&this.Sw===t||(this.vw=function(e,t,n,r){if(n.Lt._()){var i=0;return n.docChanges.map((function(t){return{type:"added",doc:new $o(e,t.doc.key,t.doc,n.fromCache,n.Ot.has(t.doc.key),r),oldIndex:-1,newIndex:i++}}))}var o=n.Lt;return n.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var i=new $o(e,t.doc.key,t.doc,n.fromCache,n.Ot.has(t.doc.key),r),s=-1,a=-1;return 0!==t.type&&(s=o.indexOf(t.doc.key),o=o.delete(t.doc.key)),1!==t.type&&(a=(o=o.add(t.doc)).indexOf(t.doc.key)),{type:ts(t.type),doc:i,oldIndex:s,newIndex:a}}))}(this.iw,t,this.bw,this.Qa),this.Sw=t),this.vw},e.prototype.isEqual=function(t){if(!(t instanceof e))throw ii("isEqual","QuerySnapshot",1,t);return this.iw===t.iw&&this.yw.isEqual(t.yw)&&this.bw.isEqual(t.bw)&&this.Qa===t.Qa},e.prototype.Dw=function(e){return new $o(this.iw,e.key,e,this.metadata.fromCache,this.bw.Ot.has(e.key),this.Qa)},e}(),Ko=function(e){function t(t,n,r){var i=this;if((i=e.call(this,jt.As(t),n,r)||this).Cw=t,t.length%2!=1)throw new D(O.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.N()+" has "+t.length);return i}return i.__extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.dw.path.S()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this.dw.path.p();return e._()?null:new Go(new V(e),this.firestore,null)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.dw.path.N()},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){Wr("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=b.t()),$r("CollectionReference.doc","non-empty string",1,e);var t=F.$(e);return Go.sw(this.dw.path.child(t),this.firestore,this.Qa)},t.prototype.add=function(e){Gr("CollectionReference.add",arguments,1),$r("CollectionReference.add","object",1,this.Qa?this.Qa.toFirestore(e):e);var t=this.doc();return t.set(e).then((function(){return t}))},t.prototype.withConverter=function(e){return new t(this.Cw,this.firestore,e)},t}(Qo);function Zo(e,t){if(void 0===t)return{merge:!1};if(ri(e,t,["merge","mergeFields"]),Kr(e,"boolean","merge",t.merge),function(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){if(!(r instanceof Array))throw new D(O.INVALID_ARGUMENT,"Function "+e+"() requires its "+t+" option to be an array, but it was: "+ti(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new D(O.INVALID_ARGUMENT,"Function "+e+"() requires all "+t+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+ti(r[o]))}(e,"mergeFields",0,r,(function(e){return"string"==typeof e||e instanceof fi}))}(e,0,0,t.mergeFields),void 0!==t.mergeFields&&void 0!==t.merge)throw new D(O.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Xo(e,t){return void 0===t?{}:(ri(e,t,["serverTimestamps"]),Zr(e,0,"serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function Jo(e,t){Qr(e,"object",1,t),t&&(ri(e,t,["source"]),Zr(e,0,"source",t.source,["default","server","cache"]))}function es(e,t,n){if(t instanceof Ei){if(t.firestore!==n)throw new D(O.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}throw ii(e,"DocumentReference",1,t)}function ts(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return g()}}function ns(e,t,n){var r;return e?(r=e.toFirestore(t),n="toFirestore() in "+n):r=t,[r,n]}var rs=["length","name"];function is(e,t){function n(){var e="This constructor is private.";throw t&&(e+=" ",e+=t),new D(O.INVALID_ARGUMENT,e)}for(var r=0,i=Object.getOwnPropertyNames(e);r<i.length;r++){var o=i[r];-1===rs.indexOf(o)&&(n[o]=e[o])}return n}var os=is(Bo,"Use firebase.firestore() instead."),ss=is(zo,"Use firebase.firestore().runTransaction() instead."),as=is(Ho,"Use firebase.firestore().batch() instead."),us=is(Go,"Use firebase.firestore().doc() instead."),cs=is(Wo),ls=is($o),hs=is(Qo),fs=is(Yo),ds=is(Ko,"Use firebase.firestore().collection() instead."),ps=is(bi,"Use FieldValue.<field>() instead."),vs=is(li,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),gs={Firestore:os,GeoPoint:wi,Timestamp:R,Blob:vs,Transaction:ss,WriteBatch:as,DocumentReference:us,DocumentSnapshot:cs,Query:hs,QueryDocumentSnapshot:ls,QuerySnapshot:fs,CollectionReference:ds,FieldPath:fi,FieldValue:ps,setLogLevel:Bo.setLogLevel,CACHE_SIZE_UNLIMITED:jo};function ys(e){!function(e,t){e.INTERNAL.registerComponent(new c.Component("firestore",(function(e){return function(e,t){return new Bo(e,t,new No)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},gs)))}(e),e.registerVersion("@firebase/firestore","1.15.5")}ys(o),t.__PRIVATE_registerFirestore=ys},"S+S0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("zVF4"),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e="[DEFAULT]");var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService(t);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=r.__assign({identifier:"[DEFAULT]",optional:!1},e),n=t.optional,i=this.normalizeInstanceIdentifier(t.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=r.__read(o.value,2),a=s[1],u=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(l){}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.getOrInitializeService=function(e){var t=this.instances.get(e);return!t&&this.component&&(t=this.component.instanceFactory(this.container,function(e){return"[DEFAULT]"===e?void 0:e}(e)),this.instances.set(e,t)),t||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e}(),a=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();t.Component=o,t.ComponentContainer=a,t.Provider=s},Wcq6:function(e,t,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;i.registerVersion("firebase","7.15.5","app"),e.exports=i},mrSG:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return s})),n.d(t,"__decorate",(function(){return a})),n.d(t,"__param",(function(){return u})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return h})),n.d(t,"__createBinding",(function(){return f})),n.d(t,"__exportStar",(function(){return d})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return v})),n.d(t,"__spread",(function(){return g})),n.d(t,"__spreadArrays",(function(){return y})),n.d(t,"__await",(function(){return m})),n.d(t,"__asyncGenerator",(function(){return _})),n.d(t,"__asyncDelegator",(function(){return b})),n.d(t,"__asyncValues",(function(){return k})),n.d(t,"__makeTemplateObject",(function(){return w})),n.d(t,"__importStar",(function(){return C})),n.d(t,"__importDefault",(function(){return S})),n.d(t,"__classPrivateFieldGet",(function(){return E})),n.d(t,"__classPrivateFieldSet",(function(){return I}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function d(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function _(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function k(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},"q/0M":function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.r(t),n.d(t,"LogLevel",(function(){return s})),n.d(t,"Logger",(function(){return h})),n.d(t,"setLogLevel",(function(){return f})),n.d(t,"setUserLogHandler",(function(){return d}));var o=[],s=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),s=c[t];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[s].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in s))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!0,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?a[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],e)),this._logHandler.apply(this,r([this,s.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],e)),this._logHandler.apply(this,r([this,s.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],e)),this._logHandler.apply(this,r([this,s.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],e)),this._logHandler.apply(this,r([this,s.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],e)),this._logHandler.apply(this,r([this,s.ERROR],e))},e}();function f(e){o.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=a[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:s[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},wj3C:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=n("mrSG"),s=n("zVF4"),a=n("S+S0"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.ErrorFactory("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.Logger("@firebase/app"),d=function(){function e(e,t,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(e),this.container=new a.ComponentContainer(t.name),this._addComponent(new a.Component("app",(function(){return u}),"PUBLIC"));try{for(var c=o.__values(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){f.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(s.contains(t,a))throw l.create("duplicate-app",{appName:a});var u=new e(n,o,r);return t[a]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=h[e])&&void 0!==r?r:e;n&&(i+="-"+n);var o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}c(new a.Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw l.create("invalid-log-argument",{appName:name});u.setUserLogHandler(e,t)},apps:null,SDK_VERSION:"7.15.5",INTERNAL:{registerComponent:c,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(!s.contains(t,e=e||"[DEFAULT]"))throw l.create("no-app",{appName:e});return t[e]}function c(a){var u,c,h=a.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[h])throw l.create("invalid-app-argument",{appName:h});return e[h]()};void 0!==a.serviceProps&&s.deepExtend(d,a.serviceProps),r[h]=d,e.prototype[h]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?e:[])}}try{for(var p=o.__values(Object.keys(t)),v=p.next();!v.done;v=p.next())t[v.value]._addComponent(a)}catch(g){u={error:g}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(d);return t.INTERNAL=o.__assign(o.__assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){s.deepExtend(t,e)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),t}(),v=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(s.isBrowser()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.isNode()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),y.apply(void 0,e)};var m=p;!function(e,t){e.INTERNAL.registerComponent(new a.Component("platform-logger",(function(e){return new v(e)}),"PRIVATE")),e.registerVersion("@firebase/app","0.6.7",void 0),e.registerVersion("fire-js","")}(m),t.default=m,t.firebase=m},x7I3:function(e,t,n){"use strict";function r(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}n.r(t),n.d(t,"ErrorCode",(function(){return Qn})),n.d(t,"EventType",(function(){return Yn})),n.d(t,"WebChannel",(function(){return Kn})),n.d(t,"XhrIo",(function(){return Zn})),n.d(t,"createWebChannelTransport",(function(){return $n}));var i,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=s||{},a=o||self;function u(){}function c(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function l(e){var t=c(e);return"array"==t||"object"==t&&"number"==typeof e.length}function h(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var f="closure_uid_"+(1e9*Math.random()>>>0),d=0;function p(e,t,n){return e.call.apply(e.bind,arguments)}function v(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function g(e,t,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:v).apply(null,arguments)}function y(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var m=Date.now||function(){return+new Date};function _(e,t){function n(){}n.prototype=t.prototype,e.M=t.prototype,e.prototype=new n,e.prototype.constructor=e}function b(){this.j=this.j,this.i=this.i}b.prototype.j=!1,b.prototype.da=function(){!this.j&&(this.j=!0,this.C(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,f)&&e[f]||(e[f]=++d)}(this)},b.prototype.C=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var k=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},w=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function C(e){return Array.prototype.concat.apply([],arguments)}function S(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function E(e){return/^[\s\xa0]*$/.test(e)}var I,T=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function x(e,t){return-1!=e.indexOf(t)}function A(e,t){return e<t?-1:e>t?1:0}e:{var O=a.navigator;if(O){var D=O.userAgent;if(D){I=D;break e}}I=""}function R(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function P(e){var t={};for(var n in e)t[n]=e[n];return t}var N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<N.length;o++)n=N[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function L(e){return L[" "](e),e}L[" "]=u;var M,V,j=x(I,"Opera"),U=x(I,"Trident")||x(I,"MSIE"),B=x(I,"Edge"),z=B||U,H=x(I,"Gecko")&&!(x(I.toLowerCase(),"webkit")&&!x(I,"Edge"))&&!(x(I,"Trident")||x(I,"MSIE"))&&!x(I,"Edge"),G=x(I.toLowerCase(),"webkit")&&!x(I,"Edge");function q(){var e=a.document;return e?e.documentMode:void 0}e:{var W="",$=(V=I,H?/rv:([^\);]+)(\)|;)/.exec(V):B?/Edge\/([\d\.]+)/.exec(V):U?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(V):G?/WebKit\/(\S+)/.exec(V):j?/(?:Version)[ \/]?(\S+)/.exec(V):void 0);if($&&(W=$?$[1]:""),U){var Q=q();if(null!=Q&&Q>parseFloat(W)){M=String(Q);break e}}M=W}var Y={};function K(e){return function(e,t){var n=Y;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=T(String(M)).split("."),r=T(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;t=A(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||A(0==s[2].length,0==a[2].length)||A(s[2],a[2]),s=s[3],a=a[3]}while(0==t)}return 0<=t}))}var Z=a.document&&U&&(q()||parseInt(M,10))||void 0,X=!U||9<=Number(Z),J=U&&!K("9"),ee=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{a.addEventListener("test",u,t),a.removeEventListener("test",u,t)}catch(n){}return e}();function te(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function ne(e,t){if(te.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(H){e:{try{L(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:re[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}te.prototype.b=function(){this.defaultPrevented=!0},_(ne,te);var re={2:"touch",3:"pen",4:"mouse"};ne.prototype.b=function(){ne.M.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,J)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var ie="closure_listenable_"+(1e6*Math.random()|0),oe=0;function se(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.aa=i,this.key=++oe,this.V=this.X=!1}function ae(e){e.V=!0,e.listener=null,e.proxy=null,e.src=null,e.aa=null}function ue(e){this.src=e,this.a={},this.b=0}function ce(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=k(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ae(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function le(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.V&&o.listener==t&&o.capture==!!n&&o.aa==r)return i}return-1}ue.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var s=le(e,t,r,i);return-1<s?(t=e[s],n||(t.X=!1)):((t=new se(t,this.src,o,!!r,i)).X=n,e.push(t)),t};var he="closure_lm_"+(1e6*Math.random()|0),fe={};function de(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)e(t,n[s],r,i,o);return null}return r=ke(r),t&&t[ie]?t.sa(n,r,h(i)?!!i.capture:!!i,o):pe(t,n,r,!0,i,o)}(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)de(e,t[o],n,r,i);return null}return n=ke(n),e&&e[ie]?e.ra(t,n,h(r)?!!r.capture:!!r,i):pe(e,t,n,!1,r,i)}function pe(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=h(i)?!!i.capture:!!i;if(s&&!X)return null;var a=_e(e);if(a||(e[he]=a=new ue(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){var e=me,t=X?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ee||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ge(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ve(e){if("number"!=typeof e&&e&&!e.V){var t=e.src;if(t&&t[ie])ce(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ge(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=_e(t))?(ce(n,e),0==n.b&&(n.src=null,t[he]=null)):ae(e)}}}function ge(e){return e in fe?fe[e]:fe[e]="on"+e}function ye(e,t){var n=e.listener,r=e.aa||e.src;return e.X&&ve(e),n.call(r,t)}function me(e,t){if(e.V)return!0;if(!X){if(!t)e:{t=["window","event"];for(var n=a,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return ye(e,t=new ne(t,this))}return ye(e,new ne(t,this))}function _e(e){return(e=e[he])instanceof ue?e:null}var be="__closure_events_fn_"+(1e9*Math.random()>>>0);function ke(e){return"function"==c(e)?e:(e[be]||(e[be]=function(t){return e.handleEvent(t)}),e[be])}function we(){b.call(this),this.c=new ue(this),this.J=this,this.A=null}function Ce(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.V&&s.capture==n){var a=s.listener,u=s.aa||s.src;s.X&&ce(e.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}_(we,b),we.prototype[ie]=!0,(i=we.prototype).addEventListener=function(e,t,n,r){de(this,e,t,n,r)},i.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)e(t,n[s],r,i,o);else i=h(i)?!!i.capture:!!i,r=ke(r),t&&t[ie]?(t=t.c,(n=String(n).toString())in t.a&&-1<(r=le(s=t.a[n],r,i,o))&&(ae(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete t.a[n],t.b--))):t&&(t=_e(t))&&(n=t.a[n.toString()],t=-1,n&&(t=le(n,r,i,o)),(r=-1<t?n[t]:null)&&ve(r))}(this,e,t,n,r)},i.dispatchEvent=function(e){var t,n=this.A;if(n)for(t=[];n;n=n.A)t.push(n);n=this.J;var r=e.type||e;if("string"==typeof e)e=new te(e,n);else if(e instanceof te)e.target=e.target||n;else{var i=e;F(e=new te(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.a=t[o];i=Ce(s,r,!0,e)&&i}if(i=Ce(s=e.a=n,r,!0,e)&&i,i=Ce(s,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Ce(s=e.a=t[o],r,!1,e)&&i;return i},i.C=function(){if(we.M.C.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)ae(n[r]);delete t.a[e],t.b--}}this.A=null},i.ra=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},i.sa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Se=a.JSON.stringify;function Ee(){this.b=this.a=null}var Ie,Te=new(function(){function e(e,t,n){this.f=n,this.c=e,this.g=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,this.a=(e=this.a).next,e.next=null):e=this.c(),e},e}())((function(){return new Ae}),(function(e){e.reset()}),100);function xe(){var e=Pe,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Ae(){this.next=this.b=this.a=null}function Oe(e){a.setTimeout((function(){throw e}),0)}function De(e,t){Ie||function(){var e=a.Promise.resolve(void 0);Ie=function(){e.then(Ne)}}(),Re||(Ie(),Re=!0),Pe.add(e,t)}Ee.prototype.add=function(e,t){var n=Te.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Ae.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Ae.prototype.reset=function(){this.next=this.b=this.a=null};var Re=!1,Pe=new Ee;function Ne(){for(var e;e=xe();){try{e.a.call(e.b)}catch(n){Oe(n)}var t=Te;t.g(e),t.b<t.f&&(t.b++,e.next=t.a,t.a=e)}Re=!1}function Fe(e,t){we.call(this),this.b=e||1,this.a=t||a,this.f=g(this.Ua,this),this.g=m()}function Le(e){e.Z=!1,e.L&&(e.a.clearTimeout(e.L),e.L=null)}function Me(e,t,n){if("function"==c(e))n&&(e=g(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=g(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function Ve(e,t,n){b.call(this),this.f=null!=n?g(e,n):e,this.c=t,this.b=g(this.Pa,this),this.a=[]}function je(e){e.T=Me(e.b,e.c),e.f.apply(null,e.a)}function Ue(e){b.call(this),this.b=e,this.a={}}_(Fe,we),(i=Fe.prototype).Z=!1,i.L=null,i.Ua=function(){if(this.Z){var e=m()-this.g;0<e&&e<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-e):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.Z&&(Le(this),this.start()))}},i.start=function(){this.Z=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=m())},i.C=function(){Fe.M.C.call(this),Le(this),delete this.a},_(Ve,b),(i=Ve.prototype).ba=!1,i.T=null,i.Ia=function(e){this.a=arguments,this.T?this.ba=!0:je(this)},i.C=function(){Ve.M.C.call(this),this.T&&(a.clearTimeout(this.T),this.T=null,this.ba=!1,this.a=[])},i.Pa=function(){this.T=null,this.ba&&(this.ba=!1,je(this))},_(Ue,b);var Be=[];function ze(e,t,n,r){Array.isArray(n)||(n&&(Be[0]=n.toString()),n=Be);for(var i=0;i<n.length;i++){var o=de(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function He(e){R(e.a,(function(e,t){this.a.hasOwnProperty(t)&&ve(e)}),e),e.a={}}function Ge(){}Ue.prototype.C=function(){Ue.M.C.call(this),He(this)},Ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qe=null;function We(){return qe=qe||new we}function $e(e){te.call(this,"serverreachability",e)}function Qe(e){var t=We();t.dispatchEvent(new $e(t,e))}function Ye(e){te.call(this,"statevent",e)}function Ke(e){var t=We();t.dispatchEvent(new Ye(t,e))}function Ze(e){te.call(this,"timingevent",e)}function Xe(e,t){if("function"!=c(e))throw Error("Fn must not be null and must be a function");return a.setTimeout((function(){e()}),t)}_($e,te),_(Ye,te),_(Ze,te);var Je={NO_ERROR:0,Va:1,bb:2,ab:3,Ya:4,$a:5,cb:6,za:7,TIMEOUT:8,gb:9},et={Xa:"complete",kb:"success",Aa:"error",za:"abort",ib:"ready",jb:"readystatechange",TIMEOUT:"timeout",eb:"incrementaldata",hb:"progress",Za:"downloadprogress",lb:"uploadprogress"};function tt(){}function nt(){}tt.prototype.a=null;var rt,it={OPEN:"a",Wa:"b",Aa:"c",fb:"d"};function ot(){te.call(this,"d")}function st(){te.call(this,"c")}function at(){}function ut(e,t,n){this.g=e,this.W=t,this.U=n||1,this.G=new Ue(this),this.N=ct,this.O=new Fe(e=z?125:void 0),this.m=null,this.b=!1,this.j=this.A=this.f=this.B=this.s=this.P=this.h=null,this.i=[],this.a=null,this.w=0,this.c=this.v=null,this.H=-1,this.l=!1,this.J=0,this.D=null,this.o=this.R=this.F=!1}_(ot,te),_(st,te),_(at,tt),rt=new at;var ct=45e3,lt={},ht={};function ft(e,t,n){e.B=1,e.f=Nt(xt(t)),e.j=n,e.F=!0,dt(e,null)}function dt(e,t){e.s=m(),gt(e),e.A=xt(e.f);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),$t(n.b,"t",r),e.w=0,e.a=jn(e.g,e.g.w?t:null),0<e.J&&(e.D=new Ve(g(e.ya,e,e.a),e.J)),ze(e.G,e.a,"readystatechange",e.Sa),t=e.m?P(e.m):{},e.j?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.$(e.A,e.v,e.j,t)):(e.v="GET",e.a.$(e.A,e.v,null,t)),Qe(1)}function pt(e,t,n){for(var r=!0;!e.l&&e.w<n.length;){var i=vt(e,n);if(i==ht){4==t&&(e.c=4,Ke(14),r=!1);break}if(i==lt){e.c=4,Ke(15),r=!1;break}kt(e,i)}4==t&&0==n.length&&(e.c=1,Ke(16),r=!1),e.b=e.b&&r,r||(bt(e),_t(e))}function vt(e,t){var n=e.w,r=t.indexOf("\n",n);return-1==r?ht:(n=Number(t.substring(n,r)),isNaN(n)?lt:(r+=1)+n>t.length?ht:(t=t.substr(r,n),e.w=r+n,t))}function gt(e){e.P=m()+e.N,yt(e,e.N)}function yt(e,t){if(null!=e.h)throw Error("WatchDog timer not null");e.h=Xe(g(e.Qa,e),t)}function mt(e){e.h&&(a.clearTimeout(e.h),e.h=null)}function _t(e){0==e.g.u||e.l||Nn(e.g,e)}function bt(e){mt(e);var t=e.D;t&&"function"==typeof t.da&&t.da(),e.D=null,Le(e.O),He(e.G),e.a&&(t=e.a,e.a=null,t.abort(),t.da())}function kt(e,t){try{var n=e.g;if(0!=n.u&&(n.a==e||en(n.b,e)))if(n.A=e.H,!e.o&&en(n.b,e)&&3==n.u){try{var r=n.ja.a.parse(t)}catch(v){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.i){if(n.a){if(!(n.a.s+3e3<e.s))break e;Pn(n),n.a.cancel(),n.a=null}Rn(n),Ke(18)}}else n.ia=i[1],0<n.ia-n.G&&37500>i[2]&&n.U&&0==n.m&&!n.l&&(n.l=Xe(g(n.Na,n),6e3));if(1>=Jt(n.b)&&n.O){try{n.O()}catch(v){}n.O=void 0}}else Ln(n,11)}else if((e.o||n.a==e)&&Pn(n),!E(t))for(t=r=n.ja.a.parse(t),r=0;r<t.length;r++)if(n.G=(i=t[r])[0],i=i[1],2==n.u)if("c"==i[0]){n.B=i[1],n.R=i[2];var o=i[3];null!=o&&(n.oa=o);var s=i[5];null!=s&&"number"==typeof s&&0<s&&(n.D=1.5*s);var a=n,u=e.a;if(u){var c=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var l=a.b;!l.a&&(x(c,"spdy")||x(c,"quic")||x(c,"h2"))&&(l.f=l.g,l.a=new Set,l.b&&(tn(l,l.b),l.b=null))}if(a.s){var h=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(a.ha=h,Pt(a.v,a.s,h))}}n.u=3,n.c&&n.c.na();var f=e;if((a=n).ea=Vn(a,a.w?a.R:null,a.P),f.o){nn(a.b,f);var d=f,p=a.D;p&&d.setTimeout(p),d.h&&(mt(d),gt(d)),a.a=f}else Dn(a);0<n.f.length&&Tn(n)}else"stop"!=i[0]&&"close"!=i[0]||Ln(n,7);else 3==n.u&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Ln(n,7):Sn(n):"noop"!=i[0]&&n.c&&n.c.ma(i),n.m=0);Qe(4)}catch(v){}}function wt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(l(e)||"string"==typeof e)w(e,t,void 0);else{if(e.K&&"function"==typeof e.K)var n=e.K();else if(e.I&&"function"==typeof e.I)n=void 0;else if(l(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.I&&"function"==typeof e.I)return e.I();if("string"==typeof e)return e.split("");if(l(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Ct(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ct)for(n=e.K(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function St(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Et(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Et(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Et(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(i=ut.prototype).setTimeout=function(e){this.N=e},i.Sa=function(e){e=e.target;var t=this.D;t&&3==bn(e)?t.Ia():this.ya(e)},i.ya=function(e){try{if(e==this.a)e:{var t=bn(this.a),n=this.a.qa(),r=this.a.S();if(!(3>t||3==t&&!z&&!this.a.Y())){this.l||4!=t||7==n||Qe(8==n||0>=r?3:2),mt(this);var i=this.a.S();this.H=i;var o=this.a.Y();if(this.b=200==i){if(this.R&&!this.o){t:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(s)){var u=s;break t}}u=null}if(!u){this.b=!1,this.c=3,Ke(12),bt(this),_t(this);break e}this.o=!0,kt(this,u)}this.F?(pt(this,t,o),z&&this.b&&3==t&&(ze(this.G,this.O,"tick",this.Ra),this.O.start())):kt(this,o),4==t&&bt(this),this.b&&!this.l&&(4==t?Nn(this.g,this):(this.b=!1,gt(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,Ke(12)):(this.c=0,Ke(13)),bt(this),_t(this)}}}catch(c){}},i.Ra=function(){if(this.a){var e=bn(this.a),t=this.a.Y();this.w<t.length&&(mt(this),pt(this,e,t),this.b&&4!=e&&gt(this))}},i.cancel=function(){this.l=!0,bt(this)},i.Qa=function(){this.h=null;var e=m();0<=e-this.P?(2!=this.B&&(Qe(3),Ke(17)),bt(this),this.c=2,_t(this)):yt(this,this.P-e)},(i=Ct.prototype).I=function(){St(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},i.K=function(){return St(this),this.a.concat()},i.get=function(e,t){return Et(this.b,e)?this.b[e]:t},i.set=function(e,t){Et(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},i.forEach=function(e,t){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var It=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Tt(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Tt){this.a=void 0!==t?t:e.a,At(this,e.f),this.j=e.j,Ot(this,e.c),Dt(this,e.h),this.g=e.g,t=e.b;var n=new Ht;n.c=t.c,t.a&&(n.a=new Ct(t.a),n.b=t.b),Rt(this,n),this.i=e.i}else e&&(n=String(e).match(It))?(this.a=!!t,At(this,n[1]||"",!0),this.j=Ft(n[2]||""),Ot(this,n[3]||"",!0),Dt(this,n[4]),this.g=Ft(n[5]||"",!0),Rt(this,n[6]||"",!0),this.i=Ft(n[7]||"")):(this.a=!!t,this.b=new Ht(null,this.a))}function xt(e){return new Tt(e)}function At(e,t,n){e.f=n?Ft(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Ot(e,t,n){e.c=n?Ft(t,!0):t}function Dt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function Rt(e,t,n){t instanceof Ht?(e.b=t,function(e,t){t&&!e.f&&(Gt(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(qt(this,t),$t(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=Lt(t,Bt)),e.b=new Ht(t,e.a))}function Pt(e,t,n){e.b.set(t,n)}function Nt(e){return Pt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^m()).toString(36)),e}function Ft(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Lt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Mt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Mt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Tt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Lt(t,Vt,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(Lt(t,Vt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(Lt(n,"/"==n.charAt(0)?Ut:jt,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Lt(n,zt)),e.join("")};var Vt=/[#\/\?@]/g,jt=/[#\?:]/g,Ut=/[#\?]/g,Bt=/[#\?@]/g,zt=/#/g;function Ht(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Gt(e){e.a||(e.a=new Ct,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function qt(e,t){Gt(e),t=Qt(e,t),Et(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Et((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&St(e)))}function Wt(e,t){return Gt(e),t=Qt(e,t),Et(e.a.b,t)}function $t(e,t,n){qt(e,t),0<n.length&&(e.c=null,e.a.set(Qt(e,t),S(n)),e.b+=n.length)}function Qt(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function Yt(e,t){this.b=e,this.a=t}function Kt(e){this.g=e||Zt,e=a.PerformanceNavigationTiming?0<(e=a.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(a.ca&&a.ca.ua&&a.ca.ua()&&a.ca.ua().mb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(i=Ht.prototype).add=function(e,t){Gt(this),this.c=null,e=Qt(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},i.forEach=function(e,t){Gt(this),this.a.forEach((function(n,r){w(n,(function(n){e.call(t,n,r,this)}),this)}),this)},i.K=function(){Gt(this);for(var e=this.a.I(),t=this.a.K(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},i.I=function(e){Gt(this);var t=[];if("string"==typeof e)Wt(this,e)&&(t=C(t,this.a.get(Qt(this,e))));else{e=this.a.I();for(var n=0;n<e.length;n++)t=C(t,e[n])}return t},i.set=function(e,t){return Gt(this),this.c=null,Wt(this,e=Qt(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},i.get=function(e,t){return e&&0<(e=this.I(e)).length?String(e[0]):t},i.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.K(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.I(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.c=e.join("&")};var Zt=10;function Xt(e){return!!e.b||!!e.a&&e.a.size>=e.f}function Jt(e){return e.b?1:e.a?e.a.size:0}function en(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function tn(e,t){e.a?e.a.add(t):e.b=t}function nn(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function rn(e){var t,n;if(null!=e.b)return e.c.concat(e.b.i);if(null!=e.a&&0!==e.a.size){var i=e.c;try{for(var o=r(e.a.values()),s=o.next();!s.done;s=o.next())i=i.concat(s.value.i)}catch(a){t={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}return S(e.c)}function on(){}function sn(){this.a=new on}function an(e,t,n){var r=n||"";try{wt(e,(function(e,n){var i=e;h(e)&&(i=Se(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function un(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}Kt.prototype.cancel=function(){var e,t;if(this.c=rn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=r(this.a.values()),i=n.next();!i.done;i=n.next())i.value.cancel()}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},on.prototype.stringify=function(e){return a.JSON.stringify(e,void 0)},on.prototype.parse=function(e){return a.JSON.parse(e,void 0)};var cn=a.JSON.parse;function ln(e){we.call(this),this.headers=new Ct,this.G=e||null,this.b=!1,this.s=this.a=null,this.D="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.H=hn,this.B=this.F=!1}_(ln,we);var hn="",fn=/^https?$/i,dn=["POST","PUT"];function pn(e){return"content-type"==e.toLowerCase()}function vn(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,gn(e),mn(e)}function gn(e){e.v||(e.v=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function yn(e){if(e.b&&void 0!==s&&(!e.s[1]||4!=bn(e)||2!=e.S()))if(e.l&&4==bn(e))Me(e.va,0,e);else if(e.dispatchEvent("readystatechange"),4==bn(e)){e.b=!1;try{var t,n=e.S();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.D).match(It)[1]||null;if(!o&&a.self&&a.self.location){var u=a.self.location.protocol;o=u.substr(0,u.length-1)}i=!fn.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{e.h=6;try{var c=2<bn(e)?e.a.statusText:""}catch(l){c=""}e.f=c+" ["+e.S()+"]",gn(e)}}finally{mn(e)}}}function mn(e,t){if(e.a){_n(e);var n=e.a,r=e.s[0]?u:null;e.a=null,e.s=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function _n(e){e.a&&e.B&&(e.a.ontimeout=null),e.m&&(a.clearTimeout(e.m),e.m=null)}function bn(e){return e.a?e.a.readyState:0}function kn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return R(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Pt(e,t,n))}function wn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Cn(e){this.f=[],this.R=this.ea=this.v=this.P=this.a=this.ha=this.s=this.N=this.h=this.F=this.j=null,this.Fa=this.H=0,this.Ca=wn("failFast",!1,e),this.U=this.l=this.i=this.g=this.c=null,this.W=!0,this.A=this.ia=this.G=-1,this.J=this.m=this.o=0,this.Ba=wn("baseRetryDelayMs",5e3,e),this.Ga=wn("retryDelaySeedMs",1e4,e),this.Da=wn("forwardChannelMaxRetries",2,e),this.ga=wn("forwardChannelRequestTimeoutMs",2e4,e),this.Ea=e&&e.nb||void 0,this.D=void 0,this.w=e&&e.supportsCrossDomainXhr||!1,this.B="",this.b=new Kt(e&&e.concurrentRequestLimit),this.ja=new sn,this.fa=e&&e.fastHandshake||!1,e&&e.forceLongPolling&&(this.W=!1),this.O=void 0}function Sn(e){if(En(e),3==e.u){var t=e.H++,n=xt(e.v);Pt(n,"SID",e.B),Pt(n,"RID",t),Pt(n,"TYPE","terminate"),An(e,n),(t=new ut(e,t,void 0)).B=2,t.f=Nt(xt(n)),n=!1,a.navigator&&a.navigator.sendBeacon&&(n=a.navigator.sendBeacon(t.f.toString(),"")),!n&&a.Image&&((new Image).src=t.f,n=!0),n||(t.a=jn(t.g,null),t.a.$(t.f)),t.s=m(),gt(t)}Mn(e)}function En(e){e.a&&(e.a.cancel(),e.a=null),e.i&&(a.clearTimeout(e.i),e.i=null),Pn(e),e.b.cancel(),e.g&&("number"==typeof e.g&&a.clearTimeout(e.g),e.g=null)}function In(e,t){e.f.push(new Yt(e.Fa++,t)),3==e.u&&Tn(e)}function Tn(e){Xt(e.b)||e.g||(e.g=!0,De(e.xa,e),e.o=0)}function xn(e,t){var n;n=t?t.W:e.H++;var r=xt(e.v);Pt(r,"SID",e.B),Pt(r,"RID",n),Pt(r,"AID",e.G),An(e,r),e.h&&e.j&&kn(r,e.h,e.j),n=new ut(e,n,e.o+1),null===e.h&&(n.m=e.j),t&&(e.f=t.i.concat(e.f)),t=On(e,n,1e3),n.setTimeout(Math.round(.5*e.ga)+Math.round(.5*e.ga*Math.random())),tn(e.b,n),ft(n,r,t)}function An(e,t){e.c&&wt({},(function(e,n){Pt(t,n,e)}))}function On(e,t,n){n=Math.min(e.f.length,n);var r=e.c?g(e.c.Ha,e.c,e):null;e:for(var i=e.f,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{an(l,s,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=s.join("&");break e}}return e=e.f.splice(0,n),t.i=e,r}function Dn(e){e.a||e.i||(e.J=1,De(e.wa,e),e.m=0)}function Rn(e){return!(e.a||e.i||3<=e.m||(e.J++,e.i=Xe(g(e.wa,e),Fn(e,e.m)),e.m++,0))}function Pn(e){null!=e.l&&(a.clearTimeout(e.l),e.l=null)}function Nn(e,t){var n=null;if(e.a==t){Pn(e),e.a=null;var r=2}else{if(!en(e.b,t))return;n=t.i,nn(e.b,t),r=1}if(e.A=t.H,0!=e.u)if(t.b)if(1==r){n=t.j?t.j.length:0,t=m()-t.s;var i=e.o;(r=We()).dispatchEvent(new Ze(r,n,t,i)),Tn(e)}else Dn(e);else if(3==(i=t.c)||0==i&&0<e.A||!(1==r&&function(e,t){return!(Jt(e.b)>=e.b.f-(e.g?1:0)||(e.g?(e.f=t.i.concat(e.f),0):1==e.u||2==e.u||e.o>=(e.Ca?0:e.Da)||(e.g=Xe(g(e.xa,e,t),Fn(e,e.o)),e.o++,0)))}(e,t)||2==r&&Rn(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:Ln(e,5);break;case 4:Ln(e,10);break;case 3:Ln(e,6);break;default:Ln(e,2)}}function Fn(e,t){var n=e.Ba+Math.floor(Math.random()*e.Ga);return e.c||(n*=2),n*t}function Ln(e,t){if(2==t){var n=null;e.c&&(n=null);var r=g(e.Ta,e);n||(n=new Tt("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||At(n,"https"),Nt(n)),function(e,t){var n=new Ge;if(a.Image){var r=new Image;r.onload=y(un,n,r,"TestLoadImage: loaded",!0,t),r.onerror=y(un,n,r,"TestLoadImage: error",!1,t),r.onabort=y(un,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=y(un,n,r,"TestLoadImage: timeout",!1,t),a.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ke(2);e.u=0,e.c&&e.c.la(t),Mn(e),En(e)}function Mn(e){e.u=0,e.A=-1,e.c&&(0==rn(e.b).length&&0==e.f.length||(e.b.c.length=0,S(e.f),e.f.length=0),e.c.ka())}function Vn(e,t,n){var r=function(e){return e instanceof Tt?xt(e):new Tt(e,void 0)}(n);if(""!=r.c)t&&Ot(r,t+"."+r.c),Dt(r,r.h);else{var i=a.location;r=function(e,t,n,r){var i=new Tt(null,void 0);return e&&At(i,e),t&&Ot(i,t),n&&Dt(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.N&&R(e.N,(function(e,t){Pt(r,t,e)})),n=e.ha,(t=e.s)&&n&&Pt(r,t,n),Pt(r,"VER",e.oa),An(e,r),r}function jn(e,t){if(t&&!e.w)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ln(e.Ea)).F=e.w,t}function Un(){}function Bn(){if(U&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function zn(e,t){we.call(this),this.a=new Cn(t),this.l=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.j=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.pa&&(e?e["X-WebChannel-Client-Profile"]=t.pa:e={"X-WebChannel-Client-Profile":t.pa}),this.a.F=e,(e=t&&t.httpHeadersOverwriteParam)&&!E(e)&&(this.a.h=e),this.h=t&&t.supportsCrossDomainXhr||!1,this.g=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!E(t)&&(this.a.s=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new qn(this)}function Hn(e){ot.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function Gn(){st.call(this),this.status=1}function qn(e){this.a=e}(i=ln.prototype).$=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(e){var t;return(t=e.a)||(t=e.a={}),t}(this.G?this.G:rt),this.a.onreadystatechange=g(this.va,this);try{this.w=!0,this.a.open(t,String(e),!0),this.w=!1}catch(o){return void vn(this,o)}e=n||"";var i=new Ct(this.headers);r&&wt(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=pn,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.K()),n=a.FormData&&e instanceof a.FormData,!(0<=k(dn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.H&&(this.a.responseType=this.H),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{_n(this),0<this.o&&((this.B=function(e){return U&&K(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=g(this.ta,this)):this.m=Me(this.ta,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(o){vn(this,o)}},i.ta=function(){void 0!==s&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},i.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),mn(this))},i.C=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),mn(this,!0)),ln.M.C.call(this)},i.va=function(){this.j||(this.w||this.l||this.g?yn(this):this.Oa())},i.Oa=function(){yn(this)},i.S=function(){try{return 2<bn(this)?this.a.status:-1}catch(V){return-1}},i.Y=function(){try{return this.a?this.a.responseText:""}catch(V){return""}},i.Ja=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),cn(t)}},i.qa=function(){return this.h},i.Ma=function(){return"string"==typeof this.f?this.f:String(this.f)},(i=Cn.prototype).oa=8,i.u=1,i.xa=function(e){if(this.g)if(this.g=null,1==this.u){if(!e){this.H=Math.floor(1e5*Math.random());var t,n=new ut(this,e=this.H++,void 0),r=this.j;if(this.F&&(r?F(r=P(r),this.F):r=this.F),null===this.h&&(n.m=r),this.fa)e:{for(var i=t=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.f.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=On(this,n,t),Pt(i=xt(this.v),"RID",e),Pt(i,"CVER",22),this.s&&Pt(i,"X-HTTP-Session-Id",this.s),An(this,i),this.h&&r&&kn(i,this.h,r),tn(this.b,n),this.fa?(Pt(i,"$req",t),Pt(i,"SID","null"),n.R=!0,ft(n,i,null)):ft(n,i,t),this.u=2}}else 3==this.u&&(e?xn(this,e):0==this.f.length||Xt(this.b)||xn(this))},i.wa=function(){this.i=null,this.a=new ut(this,"rpc",this.J),null===this.h&&(this.a.m=this.j),this.a.J=0;var e=xt(this.ea);Pt(e,"RID","rpc"),Pt(e,"SID",this.B),Pt(e,"CI",this.U?"0":"1"),Pt(e,"AID",this.G),An(this,e),Pt(e,"TYPE","xmlhttp"),this.h&&this.j&&kn(e,this.h,this.j),this.D&&this.a.setTimeout(this.D);var t=this.a,n=this.R;t.B=1,t.f=Nt(xt(e)),t.j=null,t.F=!0,dt(t,n)},i.Na=function(){null!=this.l&&(this.l=null,this.a.cancel(),this.a=null,Rn(this),Ke(19))},i.Ta=function(e){Ke(e?2:1)},(i=Un.prototype).na=function(){},i.ma=function(){},i.la=function(){},i.ka=function(){},i.Ha=function(){},Bn.prototype.a=function(e,t){return new zn(e,t)},_(zn,we),(i=zn.prototype).addEventListener=function(e,t,n,r){zn.M.addEventListener.call(this,e,t,n,r)},i.removeEventListener=function(e,t,n,r){zn.M.removeEventListener.call(this,e,t,n,r)},i.Ka=function(){this.a.c=this.f,this.h&&(this.a.w=!0);var e=this.a,t=this.l,n=this.b||void 0;Ke(0),e.P=t,e.N=n||{},e.U=e.W,e.v=Vn(e,null,e.P),Tn(e)},i.close=function(){Sn(this.a)},i.La=function(e){if("string"==typeof e){var t={};t.__data__=e,In(this.a,t)}else this.g?((t={}).__data__=Se(e),In(this.a,t)):In(this.a,e)},i.C=function(){this.a.c=null,delete this.f,Sn(this.a),delete this.a,zn.M.C.call(this)},_(Hn,ot),_(Gn,st),_(qn,Un),qn.prototype.na=function(){this.a.dispatchEvent("a")},qn.prototype.ma=function(e){this.a.dispatchEvent(new Hn(e))},qn.prototype.la=function(e){this.a.dispatchEvent(new Gn(e))},qn.prototype.ka=function(){this.a.dispatchEvent("b")},Bn.prototype.createWebChannel=Bn.prototype.a,zn.prototype.send=zn.prototype.La,zn.prototype.open=zn.prototype.Ka,zn.prototype.close=zn.prototype.close,Je.NO_ERROR=0,Je.TIMEOUT=8,Je.HTTP_ERROR=6,et.COMPLETE="complete",nt.EventType=it,it.OPEN="a",it.CLOSE="b",it.ERROR="c",it.MESSAGE="d",we.prototype.listen=we.prototype.ra,ln.prototype.listenOnce=ln.prototype.sa,ln.prototype.getLastError=ln.prototype.Ma,ln.prototype.getLastErrorCode=ln.prototype.qa,ln.prototype.getStatus=ln.prototype.S,ln.prototype.getResponseJson=ln.prototype.Ja,ln.prototype.getResponseText=ln.prototype.Y,ln.prototype.send=ln.prototype.$;var Wn={createWebChannelTransport:function(){return new Bn},ErrorCode:Je,EventType:et,WebChannel:nt,XhrIo:ln},$n=Wn.createWebChannelTransport,Qn=Wn.ErrorCode,Yn=Wn.EventType,Kn=Wn.WebChannel,Zn=Wn.XhrIo;t.default=Wn},zUnb:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.r(t);var i=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}};function s(e){setTimeout((function(){throw e}),0)}var a={closed:!0,next:function(e){},error:function(e){if(o.useDeprecatedSynchronousErrorHandling)throw e;s(e)},complete:function(){}},u=Array.isArray||function(e){return e&&"number"==typeof e.length};function c(e){return null!==e&&"object"==typeof e}var l,h=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),f=((l=function(){function e(t){_classCallCheck(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,i=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var s=0;s<n.length;++s)n[s].remove(this);if(r(i))try{i.call(this)}catch(p){t=p instanceof h?d(p.errors):[p]}if(u(o))for(var a=-1,l=o.length;++a<l;){var f=o[a];if(c(f))try{f.unsubscribe()}catch(p){t=t||[],p instanceof h?t=t.concat(d(p.errors)):t.push(p)}}if(t)throw new h(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}()).EMPTY=function(e){return e.closed=!0,e}(new l),l);function d(e){return e.reduce((function(e,t){return e.concat(t instanceof h?t.errors:t)}),[])}var p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),v=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;switch(_classCallCheck(this,n),(o=t.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=a;break;case 1:if(!e){o.destination=a;break}if("object"==typeof e){e instanceof n?(o.syncErrorThrowable=e.syncErrorThrowable,o.destination=e,e.add(_assertThisInitialized(o))):(o.syncErrorThrowable=!0,o.destination=new g(_assertThisInitialized(o),e));break}default:o.syncErrorThrowable=!0,o.destination=new g(_assertThisInitialized(o),e,r,i)}return o}return _createClass(n,[{key:p,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,r){var i=new n(e,t,r);return i.syncErrorThrowable=!1,i}}]),n}(f),g=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,s){var u,c;_classCallCheck(this,n),(u=t.call(this))._parentSubscriber=e;var l=_assertThisInitialized(u);return r(i)?c=i:i&&(c=i.next,o=i.error,s=i.complete,i!==a&&(r((l=Object.create(i)).unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=l,u._next=c,u._error=o,u._complete=s,u}return _createClass(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=o.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):s(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;s(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(s(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(v),y="function"==typeof Symbol&&Symbol.observable||"@@observable";function m(e){return e}function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return b(t)}function b(e){return 0===e.length?m:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var k,w=((k=function(){function e(t){_classCallCheck(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var r=this.operator,i=function(e,t,n){if(e){if(e instanceof v)return e;if(e[p])return e[p]()}return e||t||n?new v(e,t,n):new v(a)}(e,t,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){o.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,r=t.destination,i=t.isStopped;if(n||i)return!1;e=r&&r instanceof v?r:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=C(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:y,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:b(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=C(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))}}]),e}()).create=function(e){return new k(e)},k);function C(e){if(e||(e=o.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var S,E=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),I=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).subject=e,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(f),T=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).destination=e,r}return n}(v),x=((S=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _createClass(n,[{key:p,value:function(){return new T(this)}},{key:"lift",value:function(e){var t=new A(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new E;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new E;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new E;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new E;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new E;return this.hasError?(e.error(this.thrownError),f.EMPTY):this.isStopped?(e.complete(),f.EMPTY):(this.observers.push(e),new I(this,e))}},{key:"asObservable",value:function(){var e=new w;return e.source=this,e}}]),n}(w)).create=function(e,t){return new A(e,t)},S),A=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).destination=e,i.source=r,i}return _createClass(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):f.EMPTY}}]),n}(x);function O(e){return e&&"function"==typeof e.schedule}var D=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this)).parent=e,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(v),R=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}};var P="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",N=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function F(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var L=function(e){if(e&&"function"==typeof e[y])return r=e,function(e){var t=r[y]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(N(e))return R(e);if(F(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,s),e};if(e&&"function"==typeof e[P])return t=e,function(e){for(var n=t[P]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,r,i=c(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(i," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))};function M(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new D(e,n,r);if(!i.closed)return t instanceof w?t.subscribe(i):L(t)(i)}var V=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(v);function j(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new U(e,t))}}var U=function(){function e(t,n){_classCallCheck(this,e),this.project=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new B(e,this.project,this.thisArg))}}]),e}(),B=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(v);function z(e,t){return new w((function(n){var r=new f,i=0;return r.add(t.schedule((function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function H(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[y]}(e))return function(e,t){return new w((function(n){var r=new f;return r.add(t.schedule((function(){var i=e[y]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(F(e))return function(e,t){return new w((function(n){var r=new f;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if(N(e))return z(e,t);if(function(e){return e&&"function"==typeof e[P]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new w((function(n){var r,i=new f;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(t.schedule((function(){r=e[P](),i.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),i}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof w?e:new w(L(e))}function G(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(G((function(n,r){return H(e(n,r)).pipe(j((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new q(e,n))})}var q=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,e),this.project=t,this.concurrent=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new W(e,this.project,this.concurrent))}}]),e}(),W=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=new D(this,t,n),i=this.destination;i.add(r);var o=M(this,e,void 0,void 0,r);o!==r&&i.add(o)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(V);function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return G(m,e)}function Q(e,t){return t?z(e,t):new w(R(e))}function Y(){return function(e){return e.lift(new Z(e))}}var K,Z=function(){function e(t){_classCallCheck(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new X(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),X=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(v),J={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(K=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new f).add(this.source.subscribe(new ee(this.getSubject(),this))),e.closed&&(this._connection=null,e=f.EMPTY)),e}},{key:"refCount",value:function(){return Y()(this)}}]),n}(w).prototype)._subscribe},_isComplete:{value:K._isComplete,writable:!0},getSubject:{value:K.getSubject},connect:{value:K.connect},refCount:{value:K.refCount}},ee=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(T);function te(){return new x}function ne(e){return{toString:e}.toString()}function re(e,t,n){return ne((function(){var r=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var o=_construct(i,t);return s.annotation=o,s;function s(e,t,n){for(var r=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}))}var ie=re("Inject",(function(e){return{token:e}})),oe=re("Optional"),se=re("Self"),ae=re("SkipSelf"),ue=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function ce(e){for(var t in e)if(e[t]===ce)return t;throw Error("Could not find renamed property on target object.")}function le(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function he(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function fe(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function de(e){return pe(e,e[ge])||pe(e,e[_e])}function pe(e,t){return t&&t.token===e?t:null}function ve(e){return e&&(e.hasOwnProperty(ye)||e.hasOwnProperty(be))?e[ye]:null}var ge=ce({"\u0275prov":ce}),ye=ce({"\u0275inj":ce}),me=ce({"\u0275provFallback":ce}),_e=ce({ngInjectableDef:ce}),be=ce({ngInjectorDef:ce});function ke(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ke).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function we(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var Ce=ce({__forward_ref__:ce});function Se(e){return e.__forward_ref__=Se,e.toString=function(){return ke(this())},e}function Ee(e){return Ie(e)?e():e}function Ie(e){return"function"==typeof e&&e.hasOwnProperty(Ce)&&e.__forward_ref__===Se}var Te,xe="undefined"!=typeof globalThis&&globalThis,Ae="undefined"!=typeof window&&window,Oe="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,De="undefined"!=typeof global&&global,Re=xe||De||Ae||Oe,Pe=ce({"\u0275cmp":ce}),Ne=ce({"\u0275dir":ce}),Fe=ce({"\u0275pipe":ce}),Le=ce({"\u0275mod":ce}),Me=ce({"\u0275loc":ce}),Ve=ce({"\u0275fac":ce}),je=ce({__NG_ELEMENT_ID__:ce}),Ue=function(){function e(t,n){_classCallCheck(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=he({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),e}(),Be=new Ue("INJECTOR",-1),ze={},He=/\n/gm,Ge=ce({provide:String,useValue:ce}),qe=void 0;function We(e){var t=qe;return qe=e,t}function $e(e){var t=Te;return Te=e,t}function Qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue.Default;if(void 0===qe)throw new Error("inject() must be called from an injection context");return null===qe?Ke(e,void 0,t):qe.get(e,t&ue.Optional?null:void 0,t)}function Ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue.Default;return(Te||Qe)(Ee(e),t)}function Ke(e,t,n){var r=de(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&ue.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND [".concat(ke(e),"]"))}function Ze(e){for(var t=[],n=0;n<e.length;n++){var r=Ee(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=ue.Default,s=0;s<r.length;s++){var a=r[s];a instanceof oe||"Optional"===a.ngMetadataName||a===oe?o|=ue.Optional:a instanceof ae||"SkipSelf"===a.ngMetadataName||a===ae?o|=ue.SkipSelf:a instanceof se||"Self"===a.ngMetadataName||a===se?o|=ue.Self:i=a instanceof ie||a===ie?a.token:a}t.push(Ye(i,o))}else t.push(Ye(r))}return t}var Xe=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ze;if(t===ze){var n=new Error("NullInjectorError: No provider for ".concat(ke(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),Je=function e(){_classCallCheck(this,e)},et=function e(){_classCallCheck(this,e)};function tt(e,t){e.forEach((function(e){return Array.isArray(e)?tt(e,t):t(e)}))}function nt(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function rt(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function it(e,t){for(var n=[],r=0;r<e;r++)n.push(t);return n}function ot(e,t,n){var r=at(e,t);return r>=0?e[1|r]=n:function(e,t,n,r){var i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r=~r,t,n),r}function st(e,t){var n=at(e,t);if(n>=0)return e[1|n]}function at(e,t){return function(e,t,n){for(var r=0,i=e.length>>1;i!==r;){var o=r+(i-r>>1),s=e[o<<1];if(t===s)return o<<1;s>t?i=o:r=o+1}return~(i<<1)}(e,t)}var ut=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),ct=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),lt={},ht=[],ft=0;function dt(e){return ne((function(){var t=e.type,n=t.prototype,r={},i={type:t,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===ut.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||ht,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||ct.Emulated,id:"c",styles:e.styles||ht,_:null,setInput:null,schemas:e.schemas||null,tView:null},o=e.directives,s=e.features,a=e.pipes;return i.id+=ft++,i.inputs=mt(e.inputs,r),i.outputs=mt(e.outputs),s&&s.forEach((function(e){return e(i)})),i.directiveDefs=o?function(){return("function"==typeof o?o():o).map(pt)}:null,i.pipeDefs=a?function(){return("function"==typeof a?a():a).map(vt)}:null,i}))}function pt(e){return kt(e)||function(e){return e[Ne]||null}(e)}function vt(e){return function(e){return e[Fe]||null}(e)}var gt={};function yt(e){var t={type:e.type,bootstrap:e.bootstrap||ht,declarations:e.declarations||ht,imports:e.imports||ht,exports:e.exports||ht,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&ne((function(){gt[e.id]=e.type})),t}function mt(e,t){if(null==e)return lt;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}var _t=dt;function bt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function kt(e){return e[Pe]||null}function wt(e,t){return e.hasOwnProperty(Ve)?e[Ve]:null}function Ct(e,t){var n=e[Le]||null;if(!n&&!0===t)throw new Error("Type ".concat(ke(e)," does not have '\u0275mod' property."));return n}function St(e){return Array.isArray(e)&&"object"==typeof e[1]}function Et(e){return Array.isArray(e)&&!0===e[1]}function It(e){return 0!=(8&e.flags)}function Tt(e){return 2==(2&e.flags)}function xt(e){return 1==(1&e.flags)}function At(e){return null!==e.template}function Ot(e){return 0!=(512&e[2])}var Dt=void 0;function Rt(e){return!!e.listen}var Pt={createRenderer:function(e,t){return void 0!==Dt?Dt:"undefined"!=typeof document?document:void 0}};function Nt(e){for(;Array.isArray(e);)e=e[0];return e}function Ft(e,t){return Nt(t[e+20])}function Lt(e,t){return Nt(t[e.index])}function Mt(e,t){return e.data[t+20]}function Vt(e,t){return e[t+20]}function jt(e,t){var n=t[e];return St(n)?n:n[0]}function Ut(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Bt(e){return 4==(4&e[2])}function zt(e){return 128==(128&e[2])}function Ht(e,t){return null===e||null==t?null:e[t]}function Gt(e){e[18]=0}function qt(e,t){e[5]+=t;for(var n=e,r=e[3];null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}var Wt={lFrame:gn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function $t(){return Wt.bindingsEnabled}function Qt(){return Wt.lFrame.lView}function Yt(){return Wt.lFrame.tView}function Kt(e){Wt.lFrame.contextLView=e}function Zt(){return Wt.lFrame.previousOrParentTNode}function Xt(e,t){Wt.lFrame.previousOrParentTNode=e,Wt.lFrame.isParent=t}function Jt(){return Wt.lFrame.isParent}function en(){Wt.lFrame.isParent=!1}function tn(){return Wt.checkNoChangesMode}function nn(e){Wt.checkNoChangesMode=e}function rn(){var e=Wt.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function on(){return Wt.lFrame.bindingIndex}function sn(){return Wt.lFrame.bindingIndex++}function an(e){var t=Wt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function un(e,t){var n=Wt.lFrame;n.bindingIndex=n.bindingRootIndex=e,cn(t)}function cn(e){Wt.lFrame.currentDirectiveIndex=e}function ln(e){var t=Wt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function hn(){return Wt.lFrame.currentQueryIndex}function fn(e){Wt.lFrame.currentQueryIndex=e}function dn(e,t){var n=vn();Wt.lFrame=n,n.previousOrParentTNode=t,n.lView=e}function pn(e,t){var n=vn(),r=e[1];Wt.lFrame=n,n.previousOrParentTNode=t,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex}function vn(){var e=Wt.lFrame,t=null===e?null:e.child;return null===t?gn(e):t}function gn(e){var t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function yn(){var e=Wt.lFrame;return Wt.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}var mn=yn;function _n(){var e=yn();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.currentSanitizer=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function bn(){return Wt.lFrame.selectedIndex}function kn(e){Wt.lFrame.selectedIndex=e}function wn(){var e=Wt.lFrame;return Mt(e.tView,e.selectedIndex)}function Cn(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var i=e.data[n];i.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,i.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,i.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,i.onDestroy)}}function Sn(e,t,n){Tn(e,t,3,n)}function En(e,t,n,r){(3&e[2])===n&&Tn(e,t,n,r)}function In(e,t){var n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Tn(e,t,n,r){for(var i=null!=r?r:-1,o=0,s=void 0!==r?65535&e[18]:0;s<t.length;s++)if("number"==typeof t[s+1]){if(o=t[s],null!=r&&o>=r)break}else t[s]<0&&(e[18]+=65536),(o<i||-1==i)&&(xn(e,n,t,s),e[18]=(4294901760&e[18])+s+2),s++}function xn(e,t,n,r){var i=n[r]<0,o=n[r+1],s=e[i?-n[r]:n[r]];i?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,o.call(s)):o.call(s)}var An=function e(t,n,r){_classCallCheck(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function On(e,t,n){for(var r=Rt(e),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var s=n[i++],a=n[i++],u=n[i++];r?e.setAttribute(t,a,u,s):t.setAttributeNS(s,a,u)}else{var c=o,l=n[++i];Rn(c)?r&&e.setProperty(t,c,l):r?e.setAttribute(t,c,l):t.setAttribute(c,l),i++}}return i}function Dn(e){return 3===e||4===e||6===e}function Rn(e){return 64===e.charCodeAt(0)}function Pn(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0===n||Nn(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function Nn(e,t,n,r,i){var o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){var a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){var u=e[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function Fn(e){return-1!==e}function Ln(e){return 32767&e}function Mn(e){return e>>16}function Vn(e,t){for(var n=Mn(e),r=t;n>0;)r=r[15],n--;return r}function jn(e){return"string"==typeof e?e:null==e?"":""+e}function Un(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():jn(e)}var Bn=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Re);function zn(e){return{name:"document",target:e.ownerDocument}}function Hn(e){return{name:"body",target:e.ownerDocument.body}}function Gn(e){return e instanceof Function?e():e}var qn=!0;function Wn(e){var t=qn;return qn=e,t}var $n=0;function Qn(e,t){var n=Kn(e,t);if(-1!==n)return n;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Yn(r.data,e),Yn(t,null),Yn(r.blueprint,null));var i=Zn(e,t),o=e.injectorIndex;if(Fn(i))for(var s=Ln(i),a=Vn(i,t),u=a[1].data,c=0;c<8;c++)t[o+c]=a[s+c]|u[s+c];return t[o+8]=i,o}function Yn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Kn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function Zn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=t[6],r=1;n&&-1===n.injectorIndex;)n=(t=t[15])?t[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function Xn(e,t,n){!function(e,t,n){var r="string"!=typeof n?n[je]:n.charCodeAt(0)||0;null==r&&(r=n[je]=$n++);var i=255&r,o=1<<i,s=64&i,a=32&i,u=t.data;128&i?s?a?u[e+7]|=o:u[e+6]|=o:a?u[e+5]|=o:u[e+4]|=o:s?a?u[e+3]|=o:u[e+2]|=o:a?u[e+1]|=o:u[e]|=o}(e,t,n)}function Jn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ue.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){var o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e[je];return"number"==typeof t&&t>0?255&t:t}(n);if("function"==typeof o){dn(t,e);try{var s=o();if(null!=s||r&ue.Optional)return s;throw new Error("No provider for ".concat(Un(n),"!"))}finally{mn()}}else if("number"==typeof o){if(-1===o)return new sr(e,t);var a=null,u=Kn(e,t),c=-1,l=r&ue.Host?t[16][6]:null;for((-1===u||r&ue.SkipSelf)&&(c=-1===u?Zn(e,t):t[u+8],or(r,!1)?(a=t[1],u=Ln(c),t=Vn(c,t)):u=-1);-1!==u;){c=t[u+8];var h=t[1];if(ir(o,u,h.data)){var f=tr(u,t,n,a,r,l);if(f!==er)return f}or(r,t[1].data[u+8]===l)&&ir(o,u,t)?(a=h,u=Ln(c),t=Vn(c,t)):u=-1}}}if(r&ue.Optional&&void 0===i&&(i=null),0==(r&(ue.Self|ue.Host))){var d=t[9],p=$e(void 0);try{return d?d.get(n,i,r&ue.Optional):Ke(n,i,r&ue.Optional)}finally{$e(p)}}if(r&ue.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(Un(n),"]"))}var er={};function tr(e,t,n,r,i,o){var s=t[1],a=s.data[e+8],u=nr(a,s,n,null==r?Tt(a)&&qn:r!=s&&3===a.type,i&ue.Host&&o===a);return null!==u?rr(t,s,u,a):er}function nr(e,t,n,r,i){for(var o=e.providerIndexes,s=t.data,a=65535&o,u=e.directiveStart,c=o>>16,l=i?a+c:e.directiveEnd,h=r?a:a+c;h<l;h++){var f=s[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=s[u];if(d&&At(d)&&d.type===n)return u}return null}function rr(e,t,n,r){var i=e[n],o=t.data;if(i instanceof An){var s=i;if(s.resolving)throw new Error("Circular dep for "+Un(o[n]));var a,u=Wn(s.canSeeViewProviders);s.resolving=!0,s.injectImpl&&(a=$e(s.injectImpl)),dn(e,r);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){var r=t.onChanges,i=t.onInit,o=t.doCheck;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{s.injectImpl&&$e(a),Wn(u),s.resolving=!1,mn()}}return i}function ir(e,t,n){var r=64&e,i=32&e;return!!((128&e?r?i?n[t+7]:n[t+6]:i?n[t+5]:n[t+4]:r?i?n[t+3]:n[t+2]:i?n[t+1]:n[t])&1<<e)}function or(e,t){return!(e&ue.Self||e&ue.Host&&t)}var sr=function(){function e(t,n){_classCallCheck(this,e),this._tNode=t,this._lView=n}return _createClass(e,[{key:"get",value:function(e,t){return Jn(this._tNode,this._lView,e,void 0,t)}}]),e}();function ar(e){return ne((function(){var t=Object.getPrototypeOf(e.prototype).constructor,n=t[Ve]||function e(t){var n=t;if(Ie(t))return function(){var t=e(Ee(n));return t?t():null};var r=wt(n);if(null===r){var i=ve(n);r=i&&i.factory}return r||null}(t);return null!==n?n:function(e){return new e}}))}function ur(e){return e.ngDebugContext}function cr(e){return e.ngOriginalError}function lr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var hr=function(){function e(){_classCallCheck(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||lr}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?ur(e)?ur(e):this._findContext(cr(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=cr(e);t&&cr(t);)t=cr(t);return t}}]),e}(),fr=function(){function e(t){_classCallCheck(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),e}();function dr(e){return e instanceof fr?e.changingThisBreaksApplicationSecurity:e}var pr=!0,vr=!1;function gr(){return vr=!0,pr}var yr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,mr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,_r=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}();function br(e){var t,n,r=(t=Qt())&&t[12];return r?r.sanitize(_r.URL,e)||"":function(e,t){var n=function(e){return e instanceof fr&&e.getTypeName()||null}(e);if(null!=n&&"URL"!==n){if("ResourceURL"===n)return!0;throw new Error("Required a safe ".concat("URL",", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return"URL"===n}(e)?dr(e):(n=jn(e),(n=String(n)).match(yr)||n.match(mr)?n:(gr()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(n," (see http://g.co/ng/security#xss)")),"unsafe:"+n))}function kr(e,t){e.__ngContext__=t}function wr(e){throw new Error("Multiple components match node with tagname "+e.tagName)}function Cr(){throw new Error("Cannot mix multi providers and regular providers")}function Sr(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function Er(e,t,n){for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==Sr((i=e[r]).toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Ir(e){return 0===e.type&&"ng-template"!==e.tagName}function Tr(e,t,n){return t===(0!==e.type||n?e.tagName:"ng-template")}function xr(e,t,n){for(var r=4,i=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if(Dn(e[t]))return t;return e.length}(i),s=!1,a=0;a<t.length;a++){var u=t[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Tr(e,u,n)||""===u&&1===t.length){if(Ar(r))return!1;s=!0}}else{var c=8&r?u:t[++a];if(8&r&&null!==e.attrs){if(!Er(e.attrs,c,n)){if(Ar(r))return!1;s=!0}continue}var l=Or(8&r?"class":u,i,Ir(e),n);if(-1===l){if(Ar(r))return!1;s=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==Sr(f,c,0)||2&r&&c!==h){if(Ar(r))return!1;s=!0}}}}else{if(!s&&!Ar(r)&&!Ar(u))return!1;if(s&&Ar(u))continue;s=!1,r=u|1&r}}return Ar(r)||s}function Ar(e){return 0==(1&e)}function Or(e,t,n,r){if(null===t)return-1;var i=0;if(r||!n){for(var o=!1;i<t.length;){var s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){for(var a=t[++i];"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Dr(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(xr(e,t[r],n))return!0;return!1}function Rr(e,t){e:for(var n=0;n<t.length;n++){var r=t[n];if(e.length===r.length){for(var i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function Pr(e,t){return e?":not("+t.trim()+")":t}function Nr(e){for(var t=e[0],n=1,r=2,i="",o=!1;n<e.length;){var s=e[n];if("string"==typeof s)if(2&r){var a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Ar(s)||(t+=Pr(o,i),i=""),r=s,o=o||!Ar(r);n++}return""!==i&&(t+=Pr(o,i)),t}var Fr={};function Lr(e){var t=e[3];return Et(t)?t[3]:t}function Mr(e){return jr(e[13])}function Vr(e){return jr(e[4])}function jr(e){for(;null!==e&&!Et(e);)e=e[4];return e}function Ur(e){Br(Yt(),Qt(),bn()+e,tn())}function Br(e,t,n,r){if(!r)if(3==(3&t[2])){var i=e.preOrderCheckHooks;null!==i&&Sn(t,i,n)}else{var o=e.preOrderHooks;null!==o&&En(t,o,0,n)}kn(n)}function zr(e,t){return e<<17|t<<2}function Hr(e){return e>>17&32767}function Gr(e){return 2|e}function qr(e){return(131068&e)>>2}function Wr(e,t){return-131069&e|t<<2}function $r(e){return 1|e}function Qr(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var s=e.data[o];fn(i),s.contentQueries(2,t[o],o)}}}function Yr(e,t,n){return Rt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Kr(e,t,n,r,i,o,s,a,u,c){var l=t.blueprint.slice();return l[0]=i,l[2]=140|r,Gt(l),l[3]=l[15]=e,l[8]=n,l[10]=s||e&&e[10],l[11]=a||e&&e[11],l[12]=u||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=o,l[16]=2==t.type?e[16]:l,l}function Zr(e,t,n,r,i,o){var s=n+20,a=e.data[s]||function(e,t,n,r,i,o){var s=Zt(),a=Jt(),u=a?s:s&&s.parent,c=e.data[n]=ai(0,u&&u!==t?u:null,r,n,i,o);return null===e.firstChild&&(e.firstChild=c),s&&(!a||null!=s.child||null===c.parent&&2!==s.type?a||(s.next=c):s.child=c),c}(e,t,s,r,i,o);return Xt(a,!0),a}function Xr(e,t,n){pn(t,t[6]);try{var r=e.viewQuery;null!==r&&Ai(1,r,n);var i=e.template;null!==i&&ti(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Qr(e,t),e.staticViewQueries&&Ai(2,e.viewQuery,n);var o=e.components;null!==o&&function(e,t){for(var n=0;n<t.length;n++)Si(e,t[n])}(t,o)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),s}finally{t[2]&=-5,_n()}}function Jr(e,t,n,r){var i=t[2];if(256!=(256&i)){pn(t,t[6]);var o=tn();try{Gt(t),Wt.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&ti(e,t,n,2,r);var s=3==(3&i);if(!o)if(s){var a=e.preOrderCheckHooks;null!==a&&Sn(t,a,null)}else{var u=e.preOrderHooks;null!==u&&En(t,u,0,null),In(t,0)}if(function(e){for(var t=Mr(e);null!==t;t=Vr(t))if(t[2])for(var n=t[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&qt(o,1),i[2]|=1024}}(t),function(e){for(var t=Mr(e);null!==t;t=Vr(t))for(var n=10;n<t.length;n++){var r=t[n],i=r[1];zt(r)&&Jr(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&Qr(e,t),!o)if(s){var c=e.contentCheckHooks;null!==c&&Sn(t,c)}else{var l=e.contentHooks;null!==l&&En(t,l,1),In(t,1)}!function(e,t){try{var n=e.expandoInstructions;if(null!==n)for(var r=e.expandoStartIndex,i=-1,o=0;o<n.length;o++){var s=n[o];"number"==typeof s?s<=0?(kn(0-s),i=r+=9+n[++o]):r+=s:(null!==s&&(un(r,i),s(2,t[i])),i++)}}finally{kn(-1)}}(e,t);var h=e.components;null!==h&&function(e,t){for(var n=0;n<t.length;n++)Ci(e,t[n])}(t,h);var f=e.viewQuery;if(null!==f&&Ai(2,f,r),!o)if(s){var d=e.viewCheckHooks;null!==d&&Sn(t,d)}else{var p=e.viewHooks;null!==p&&En(t,p,2),In(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,qt(t[3],-1))}finally{_n()}}}function ei(e,t,n,r){var i=t[10],o=!tn(),s=Bt(t);try{o&&!s&&i.begin&&i.begin(),s&&Xr(e,t,r),Jr(e,t,n,r)}finally{o&&!s&&i.end&&i.end()}}function ti(e,t,n,r,i){var o=bn();try{kn(-1),2&r&&t.length>20&&Br(e,t,0,tn()),n(r,i)}finally{kn(o)}}function ni(e,t,n){if(It(t))for(var r=t.directiveEnd,i=t.directiveStart;i<r;i++){var o=e.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function ri(e,t,n){$t()&&(function(e,t,n,r){var i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||Qn(n,t),kr(r,t);for(var s=n.initialInputs,a=i;a<o;a++){var u=e.data[a],c=At(u);c&&_i(t,n,u);var l=rr(t,e,a,n);kr(l,t),null!==s&&bi(0,a-i,l,u,0,s),c&&(jt(n.index,t)[8]=l)}}(e,t,n,Lt(n,t)),128==(128&n.flags)&&function(e,t,n){var r=n.directiveStart,i=n.directiveEnd,o=e.expandoInstructions,s=e.firstCreatePass,a=n.index-20,u=Wt.lFrame.currentDirectiveIndex;try{kn(a);for(var c=r;c<i;c++){var l=e.data[c],h=t[c];cn(c),null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs?di(l,h):s&&o.push(null)}}finally{kn(-1),cn(u)}}(e,t,n))}function ii(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lt,r=t.localNames;if(null!==r)for(var i=t.index+1,o=0;o<r.length;o+=2){var s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}function oi(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=si(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function si(e,t,n,r,i,o,s,a,u,c){var l=20+r,h=l+i,f=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:Fr);return n}(l,h);return f[1]={type:e,id:t,blueprint:f,template:n,queries:null,viewQuery:a,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function ai(e,t,n,r,i,o){return{type:n,index:r,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ui(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function ci(e,t,n,r,i,o,s,a){var u,c=Lt(t,n),l=t.inputs;!a&&null!=l&&(u=l[r])?(Fi(e,n,u,r,i),Tt(t)&&function(e,t){var n=jt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3===t.type&&(r=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.tagName||"",r):i,Rt(o)?o.setProperty(c,r,i):Rn(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function li(e,t,n,r){var i=!1;if($t()){var o=function(e,t,n){var r=e.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var s=r[o];Dr(n,s.selectors,!1)&&(i||(i=[]),Xn(Qn(n,t),e,s.type),At(s)?(2&n.flags&&wr(n),vi(e,n),i.unshift(s)):i.push(s))}return i}(e,t,n),s=null===r?null:{"":-1};if(null!==o){var a=0;i=!0,yi(n,e.data.length,o.length);for(var u=0;u<o.length;u++){var c=o[u];c.providersResolver&&c.providersResolver(c)}pi(e,n,o.length);for(var l=!1,h=!1,f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=Pn(n.mergedAttrs,d.hostAttrs),mi(e,t,d),gi(e.data.length-1,d,s),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128),!l&&(d.onChanges||d.onInit||d.doCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index-20),l=!0),h||!d.onChanges&&!d.doCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index-20),h=!0),hi(e,d),a+=d.hostVars}!function(e,t){for(var n=t.directiveEnd,r=e.data,i=t.attrs,o=[],s=null,a=null,u=t.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||Ir(t)?null:ki(l,i);o.push(h),s=ui(l,u,s),a=ui(c.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(t.flags|=16),s.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=s,t.outputs=a}(e,n),fi(e,t,a)}s&&function(e,t,n){if(t)for(var r=e.localNames=[],i=0;i<t.length;i+=2){var o=n[t[i+1]];if(null==o)throw new Error("Export of name '".concat(t[i+1],"' not found!"));r.push(t[i],o)}}(n,r,s)}return n.mergedAttrs=Pn(n.mergedAttrs,n.attrs),i}function hi(e,t){var n=e.expandoInstructions;n.push(t.hostBindings),0!==t.hostVars&&n.push(t.hostVars)}function fi(e,t,n){for(var r=0;r<n;r++)t.push(Fr),e.blueprint.push(Fr),e.data.push(null)}function di(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function pi(e,t,n){var r=20-t.index,i=e.data.length-(65535&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(r,i,n)}function vi(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function gi(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;At(t)&&(n[""]=e)}}function yi(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function mi(e,t,n){e.data.push(n);var r=n.factory||(n.factory=wt(n.type)),i=new An(r,At(n),null);e.blueprint.push(i),t.push(i)}function _i(e,t,n){var r=Lt(t,e),i=oi(n),o=e[10],s=Ei(e,Kr(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n)));e[t.index]=s}function bi(e,t,n,r,i,o){var s=o[t];if(null!==s)for(var a=r.setInput,u=0;u<s.length;){var c=s[u++],l=s[u++],h=s[u++];null!==a?r.setInput(n,h,c,l):n[l]=h}}function ki(e,t){for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function wi(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function Ci(e,t){var n=jt(t,e);if(zt(n)){var r=n[1];80&n[2]?Jr(r,n,r.template,n[8]):n[5]>0&&function e(t){for(var n=Mr(t);null!==n;n=Vr(n))for(var r=10;r<n.length;r++){var i=n[r];if(1024&i[2]){var o=i[1];Jr(o,i,o.template,i[8])}else i[5]>0&&e(i)}var s=t[1].components;if(null!==s)for(var a=0;a<s.length;a++){var u=jt(s[a],t);zt(u)&&u[5]>0&&e(u)}}(n)}}function Si(e,t){var n=jt(t,e),r=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Xr(r,n,n[8])}function Ei(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Ii(e){for(;e;){e[2]|=64;var t=Lr(e);if(Ot(e)&&!t)return e;e=t}return null}function Ti(e,t,n){var r=t[10];r.begin&&r.begin();try{Jr(e,t,e.template,n)}catch(i){throw Ni(t,i),i}finally{r.end&&r.end()}}function xi(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=Ut(n),i=r[1];ei(i,r,i.template,n)}}(e[8])}function Ai(e,t,n){fn(0),t(e,n)}var Oi=Promise.resolve(null);function Di(e){return e[7]||(e[7]=[])}function Ri(e){return e.cleanup||(e.cleanup=[])}function Pi(e,t,n){return(null===e||At(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function Ni(e,t){var n=e[9],r=n?n.get(hr,null):null;r&&r.handleError(t)}function Fi(e,t,n,r,i){for(var o=0;o<n.length;){var s=n[o++],a=n[o++],u=t[s],c=e.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Li(e,t,n){var r=Ft(t,e),i=e[11];Rt(i)?i.setValue(r,n):r.textContent=n}function Mi(e,t){var n=t[3];return-1===e.index?Et(n)?n:null:n}function Vi(e,t){var n=Mi(e,t);return n?Ki(t[11],n[7]):null}function ji(e,t,n,r,i){if(null!=r){var o,s=!1;Et(r)?o=r:St(r)&&(s=!0,r=r[0]);var a=Nt(r);0===e&&null!==n?null==i?Qi(t,n,a):$i(t,n,a,i||null):1===e&&null!==n?$i(t,n,a,i||null):2===e?function(e,t,n){var r=Ki(e,t);r&&function(e,t,n,r){Rt(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function(e,t,n,r,i){var o=n[7];o!==Nt(n)&&ji(t,e,r,o,i);for(var s=10;s<n.length;s++){var a=n[s];to(a[1],a,e,t,r,o)}}(t,e,o,n,i)}}function Ui(e,t,n,r){var i=Vi(e.node,t);i&&to(e,t,t[11],n?1:2,i,r)}function Bi(e,t){var n=e[9],r=n.indexOf(t);1024&t[2]&&qt(t[3],-1),n.splice(r,1)}function zi(e,t){if(!(e.length<=10)){var n=10+t,r=e[n];if(r){var i=r[17];null!==i&&i!==e&&Bi(i,r),t>0&&(e[n-1][4]=r[4]);var o=rt(e,10+t);Ui(r[1],r,!1,null);var s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function Hi(e,t){if(!(256&t[2])){var n=t[11];Rt(n)&&n.destroyNode&&to(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return qi(e[1],e);for(;t;){var n=null;if(St(t))n=t[13];else{var r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)St(t)&&qi(t[1],t),t=Gi(t,e);null===t&&(t=e),St(t)&&qi(t[1],t),n=t&&t[4]}t=n}}(t)}}function Gi(e,t){var n;return St(e)&&(n=e[6])&&2===n.type?Mi(n,e):e[3]===t?null:e[3]}function qi(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var r=0;r<n.length;r+=2){var i=t[n[r]];if(!(i instanceof An)){var o=n[r+1];if(Array.isArray(o))for(var s=0;s<o.length;s+=2)o[s+1].call(i[o[s]]);else o.call(i)}}}(e,t),function(e,t){var n=e.cleanup;if(null!==n){for(var r=t[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],s="function"==typeof o?o(t):Nt(t[o]),a=r[n[i+2]],u=n[i+3];"boolean"==typeof u?s.removeEventListener(n[i],a,u):u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);t[7]=null}}(e,t);var n=t[6];n&&3===n.type&&Rt(t[11])&&t[11].destroy();var r=t[17];if(null!==r&&Et(t[3])){r!==t[3]&&Bi(r,t);var i=t[19];null!==i&&i.detachView(e)}}}function Wi(e,t,n){for(var r=t.parent;null!=r&&(4===r.type||5===r.type);)r=(t=r).parent;if(null==r){var i=n[6];return 2===i.type?Vi(i,n):n[0]}if(t&&5===t.type&&4&t.flags)return Lt(t,n).parentNode;if(2&r.flags){var o=e.data,s=o[o[r.index].directiveStart].encapsulation;if(s!==ct.ShadowDom&&s!==ct.Native)return null}return Lt(r,n)}function $i(e,t,n,r){Rt(e)?e.insertBefore(t,n,r):t.insertBefore(n,r,!0)}function Qi(e,t,n){Rt(e)?e.appendChild(t,n):t.appendChild(n)}function Yi(e,t,n,r){null!==r?$i(e,t,n,r):Qi(e,t,n)}function Ki(e,t){return Rt(e)?e.parentNode(t):t.parentNode}function Zi(e,t){if(2===e.type){var n=Mi(e,t);return null===n?null:Ji(n.indexOf(t,10)-10,n)}return 4===e.type||5===e.type?Lt(e,t):null}function Xi(e,t,n,r){var i=Wi(e,r,t);if(null!=i){var o=t[11],s=Zi(r.parent||t[6],t);if(Array.isArray(n))for(var a=0;a<n.length;a++)Yi(o,i,n[a],s);else Yi(o,i,n,s)}}function Ji(e,t){var n=10+e+1;if(n<t.length){var r=t[n],i=r[1].firstChild;if(null!==i)return function e(t,n){if(null!==n){var r=n.type;if(3===r)return Lt(n,t);if(0===r)return Ji(-1,t[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return e(t,i);var o=t[n.index];return Et(o)?Ji(-1,o):Nt(o)}var s=t[16],a=s[6],u=Lr(s),c=a.projection[n.projection];return null!=c?e(u,c):e(t,n.next)}return null}(r,i)}return t[7]}function eo(e,t,n,r,i,o,s){for(;null!=n;){var a=r[n.index],u=n.type;s&&0===t&&(a&&kr(Nt(a),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(eo(e,t,n.child,r,i,o,!1),ji(t,e,i,a,o)):1===u?no(e,t,r,n,i,o):ji(t,e,i,a,o)),n=s?n.projectionNext:n.next}}function to(e,t,n,r,i,o){eo(n,r,e.node.child,t,i,o,!1)}function no(e,t,n,r,i,o){var s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(var u=0;u<a.length;u++)ji(t,e,i,a[u],o);else eo(e,t,a,s[3],i,o,!0)}function ro(e,t,n){Rt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function io(e,t,n){Rt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}var oo,so,ao,uo=function(){function e(t,n){_classCallCheck(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return _createClass(e,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}Hi(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){var t,n,r;t=this._lView[1],r=e,Di(n=this._lView).push(r),t.firstCreatePass&&Ri(t).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){Ii(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Ti(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){nn(!0);try{Ti(e,t,n)}finally{nn(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,to(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"rootNodes",get:function(){var e=this._lView;return null==e[0]?function e(t,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var s=n[r.index];if(null!==s&&i.push(Nt(s)),Et(s))for(var a=10;a<s.length;a++){var u=s[a],c=u[1].firstChild;null!==c&&e(u[1],u,c,i)}var l=r.type;if(4===l||5===l)e(t,n,r.child,i);else if(1===l){var h=n[16],f=h[6].projection[r.projection];if(Array.isArray(f))i.push.apply(i,_toConsumableArray(f));else{var d=Lr(h);e(d[1],d,f,i,!0)}}r=o?r.projectionNext:r.next}return i}(e[1],e,e[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),e}(),co=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e))._view=e,r}return _createClass(n,[{key:"detectChanges",value:function(){xi(this._view)}},{key:"checkNoChanges",value:function(){!function(e){nn(!0);try{xi(e)}finally{nn(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(uo);function lo(e,t,n){return oo||(oo=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(e)),new oo(Lt(t,n))}function ho(e,t,n,r){return so||(so=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._declarationView=e,o._declarationTContainer=r,o.elementRef=i,o}return _createClass(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=Kr(this._declarationView,t,e,16,null,t.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Xr(t,n,e),new uo(n)}}]),n}(e)),0===n.type?new so(r,n,lo(t,n,r)):null}function fo(e,t,n,r){var i;ao||(ao=function(e){_inherits(r,e);var n=_createSuper(r);function r(e,t,i){var o;return _classCallCheck(this,r),(o=n.call(this))._lContainer=e,o._hostTNode=t,o._hostView=i,o}return _createClass(r,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;if(!i&&null==e.ngModule&&o){var s=o.get(Je,null);s&&(i=s)}var a=e.create(o,r,void 0,i);return this.insert(a.hostView,t),a}},{key:"insert",value:function(e,t){var n=e._lView,r=n[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Et(n[3])){var i=this.indexOf(e);if(-1!==i)this.detach(i);else{var o=n[3],s=new ao(o,o[6],o[3]);s.detach(s.indexOf(e))}}var a=this._adjustIndex(t);return function(e,t,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-10?(t[4]=n[i],nt(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;var s=t[17];null!==s&&n!==s&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);var a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,n,this._lContainer,a),Ui(r,n,!0,Ji(a,this._lContainer)),e.attachToViewContainerRef(this),nt(this._lContainer[8],a,e),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=this._lContainer[8];return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1);!function(e,t){var n=zi(e,t);n&&Hi(n[1],n)}(this._lContainer,t),rt(this._lContainer[8],t)}},{key:"detach",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1),n=zi(this._lContainer,t);return n&&null!=rt(this._lContainer[8],t)?new uo(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return lo(t,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new sr(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var e=Zn(this._hostTNode,this._hostView),t=Vn(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=Mn(e),s=t,a=t[6];o>1;)a=(s=s[15])[6],o--;return a}(e,this._hostView,this._hostTNode);return Fn(e)&&null!=n?new sr(n,t):new sr(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),r}(e));var o=r[n.index];if(Et(o))i=o;else{var s;if(4===n.type)s=Nt(o);else if(s=r[11].createComment(""),Ot(r)){var a=r[11],u=Lt(n,r);$i(a,Ki(a,u),s,function(e,t){return Rt(e)?e.nextSibling(t):t.nextSibling}(a,u))}else Xi(r[1],r,s,n);r[n.index]=i=wi(o,r,s,n),Ei(r,i)}return new ao(i,n,r)}function po(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t,n){if(!n&&Tt(e)){var r=jt(e.index,t);return new uo(r,r)}return 3===e.type||0===e.type||4===e.type||5===e.type?new uo(t[16],t):null}(Zt(),Qt(),e)}var vo=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return go()},e}(),go=po,yo=Function,mo=new Ue("Set Injector scope."),_o={},bo={},ko=[],wo=void 0;function Co(){return void 0===wo&&(wo=new Xe),wo}function So(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new Eo(e,n,t||Co(),r)}var Eo=function(){function e(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var s=[];n&&tt(n,(function(e){return i.processProvider(e,t,n)})),tt([t],(function(e){return i.processInjectorType(e,[],s)})),this.records.set(Be,xo(void 0,this));var a=this.records.get(mo);this.scope=null!=a?a.value:null,this.source=o||("object"==typeof t?null:ke(t))}return _createClass(e,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(e){return e.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ze,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ue.Default;this.assertNotDestroyed();var r,i=We(this);try{if(!(n&ue.SkipSelf)){var o=this.records.get(e);if(void 0===o){var s=("function"==typeof(r=e)||"object"==typeof r&&r instanceof Ue)&&de(e);o=s&&this.injectableDefInScope(s)?xo(Io(e),_o):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(n&ue.Self?Co():this.parent).get(e,t=n&ue.Optional&&t===ze?null:t)}catch(a){if("NullInjectorError"===a.name){if((a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(ke(e)),i)throw a;return function(e,t,n,r){var i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=ke(t);if(Array.isArray(t))i=t.map(ke).join(" -> ");else if("object"==typeof t){var o=[];for(var s in t)if(t.hasOwnProperty(s)){var a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):ke(a)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(He,"\n  "))}("\n"+e.message,i,"R3InjectorError",r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(a,e,0,this.source)}throw a}finally{We(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach((function(t){return e.get(t)}))}},{key:"toString",value:function(){var e=[];return this.records.forEach((function(t,n){return e.push(ke(n))})),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=Ee(e)))return!1;var i=ve(e),o=null==i&&e.ngModule||void 0,s=void 0===o?e:o,a=-1!==n.indexOf(s);if(void 0!==o&&(i=ve(o)),null==i)return!1;if(null!=i.imports&&!a){var u;n.push(s);try{tt(i.imports,(function(e){r.processInjectorType(e,t,n)&&(void 0===u&&(u=[]),u.push(e))}))}finally{}if(void 0!==u)for(var c=function(e){var t=u[e],n=t.ngModule,i=t.providers;tt(i,(function(e){return r.processProvider(e,n,i||ko)}))},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(s),this.records.set(s,xo(i.factory,_o));var h=i.providers;if(null!=h&&!a){var f=e;tt(h,(function(e){return r.processProvider(e,f,h)}))}return void 0!==o&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r=Oo(e=Ee(e))?e:Ee(e&&e.provide),i=function(e,t,n){return Ao(e)?xo(void 0,e.useValue):xo(To(e,t,n),_o)}(e,t,n);if(Oo(e)||!0!==e.multi){var o=this.records.get(r);o&&void 0!==o.multi&&Cr()}else{var s=this.records.get(r);s?void 0===s.multi&&Cr():((s=xo(void 0,_o,!0)).factory=function(){return Ze(s.multi)},this.records.set(r,s)),r=e,s.multi.push(e)}this.records.set(r,i)}},{key:"hydrate",value:function(e,t){var n;return t.value===bo?function(e){throw new Error("Cannot instantiate cyclic dependency! "+e)}(ke(e)):t.value===_o&&(t.value=bo,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();function Io(e){var t=de(e),n=null!==t?t.factory:wt(e);if(null!==n)return n;var r=ve(e);if(null!==r)return r.factory;if(e instanceof Ue)throw new Error("Token ".concat(ke(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=it(t,"?");throw new Error("Can't resolve all parameters for ".concat(ke(e),": (").concat(n.join(", "),")."))}var r=function(e){var t=e&&(e[ge]||e[_e]||e[me]&&e[me]());if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "').concat(n,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function To(e,t,n){var r,i=void 0;if(Oo(e)){var o=Ee(e);return wt(o)||Io(o)}if(Ao(e))i=function(){return Ee(e.useValue)};else if((r=e)&&r.useFactory)i=function(){return e.useFactory.apply(e,_toConsumableArray(Ze(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))i=function(){return Ye(Ee(e.useExisting))};else{var s=Ee(e&&(e.useClass||e.provide));if(s||function(e,t,n){var r="";throw e&&t&&(r=" - only instances of Provider and Type are allowed, got: [".concat(t.map((function(e){return e==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(ke(e),"'")+r)}(t,n,e),!function(e){return!!e.deps}(e))return wt(s)||Io(s);i=function(){return _construct(s,_toConsumableArray(Ze(e.deps)))}}return i}function xo(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function Ao(e){return null!==e&&"object"==typeof e&&Ge in e}function Oo(e){return"function"==typeof e}var Do=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=So(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)},Ro=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?Do(e,t,""):Do(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=ze,e.NULL=new Xe,e.\u0275prov=he({token:e,providedIn:"any",factory:function(){return Ye(Be)}}),e.__NG_ELEMENT_ID__=-1,e}(),Po=new Ue("AnalyzeForEntryComponents"),No=new Map,Fo=new Set;function Lo(e){return"string"==typeof e?e:e.text()}function Mo(e,t,n){var r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(var s=0;s<t.length;s++){var a=t[s];"number"==typeof a?o=a:1==o?i=we(i,a):2==o&&(r=we(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var Vo=null;function jo(){if(!Vo){var e=Re.Symbol;if(e&&e.iterator)Vo=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Vo=r)}}return Vo}function Uo(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}var Bo=function(){function e(t){_classCallCheck(this,e),this.wrapped=t}return _createClass(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function zo(e){return!!Ho(e)&&(Array.isArray(e)||!(e instanceof Map)&&jo()in e)}function Ho(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Go(e,t,n){return e[t]=n}function qo(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Wo(e,t,n,r){var i=qo(e,t,n);return qo(e,t+1,r)||i}function $o(e,t,n,r){var i=Qt();return qo(i,sn(),t)&&(Yt(),function(e,t,n,r,i,o){var s=Lt(e,t),a=t[11];if(null==r)Rt(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{var u=null==i?jn(r):i(r,e.tagName||"",n);Rt(a)?a.setAttribute(s,n,u,o):o?s.setAttributeNS(o,n,u):s.setAttribute(n,u)}}(wn(),i,e,t,n,r)),$o}function Qo(e,t,n,r){return qo(e,sn(),n)?t+jn(n)+r:Fr}function Yo(e,t,n,r,i,o,s,a){var u=Qt(),c=Yt(),l=e+20,h=c.firstCreatePass?function(e,t,n,r,i,o,s,a,u){var c=t.consts,l=Zr(t,n[6],e,0,s||null,Ht(c,a));li(t,n,l,Ht(c,u)),Cn(t,l);var h=l.tViews=si(2,-1,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c),f=ai(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==t.queries&&(t.queries.template(t,l),h.queries=t.queries.embeddedTView(l)),l}(e,c,u,t,n,r,i,o,s):c.data[l];Xt(h,!1);var f=u[11].createComment("");Xi(c,u,f,h),kr(f,u),Ei(u,u[l]=wi(f,u,f,h)),xt(h)&&ri(c,u,h),null!=s&&ii(u,h,a)}function Ko(e){return Vt(Wt.lFrame.contextLView,e)}function Zo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue.Default,n=Qt();return null==n?Ye(e,t):Jn(Zt(),n,Ee(e),t)}function Xo(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Dn(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}return null}(Zt(),e)}function Jo(){throw new Error("invalid")}function es(e,t,n){var r=Qt();return qo(r,sn(),t)&&ci(Yt(),wn(),r,e,t,r[11],n,!1),es}function ts(e,t,n,r,i){var o=i?"class":"style";Fi(e,n,t.inputs[o],o,r)}function ns(e,t,n,r){var i=Qt(),o=Yt(),s=20+e,a=i[11],u=i[s]=Yr(t,a,Wt.lFrame.currentNamespace),c=o.firstCreatePass?function(e,t,n,r,i,o,s){var a=t.consts,u=Ht(a,o),c=Zr(t,n[6],e,3,i,u);return li(t,n,c,Ht(a,s)),null!==c.attrs&&Mo(c,c.attrs,!1),null!==c.mergedAttrs&&Mo(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(e,o,i,0,t,n,r):o.data[s];Xt(c,!0);var l=c.mergedAttrs;null!==l&&On(a,u,l);var h=c.classes;null!==h&&io(a,u,h);var f=c.styles;null!==f&&ro(a,u,f),Xi(o,i,u,c),0===Wt.lFrame.elementDepthCount&&kr(u,i),Wt.lFrame.elementDepthCount++,xt(c)&&(ri(o,i,c),ni(o,c,i)),null!==r&&ii(i,c)}function rs(){var e=Zt();Jt()?en():Xt(e=e.parent,!1);var t=e;Wt.lFrame.elementDepthCount--;var n=Yt();n.firstCreatePass&&(Cn(n,e),It(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&ts(n,t,Qt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&ts(n,t,Qt(),t.stylesWithoutHost,!1)}function is(e,t,n,r){ns(e,t,n,r),rs()}function os(e,t,n){var r=Qt(),i=Yt(),o=e+20,s=i.firstCreatePass?function(e,t,n,r,i){var o=t.consts,s=Ht(o,r),a=Zr(t,n[6],e,4,"ng-container",s);return null!==s&&Mo(a,s,!0),li(t,n,a,Ht(o,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(e,i,r,t,n):i.data[o];Xt(s,!0);var a=r[o]=r[11].createComment("");Xi(i,r,a,s),kr(a,r),xt(s)&&(ri(i,r,s),ni(i,s,r)),null!=n&&ii(r,s)}function ss(){var e=Zt(),t=Yt();Jt()?en():Xt(e=e.parent,!1),t.firstCreatePass&&(Cn(t,e),It(e)&&t.queries.elementEnd(e))}function as(e,t,n){os(e,t,n),ss()}function us(){return Qt()}function cs(e){return!!e&&"function"==typeof e.then}function ls(e){return!!e&&"function"==typeof e.subscribe}function hs(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=Qt(),o=Yt(),s=Zt();return ds(o,i,i[11],s,e,t,n,r),hs}function fs(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=Zt(),o=Qt(),s=Yt();return ds(s,o,Pi(ln(s.data),i,o),i,e,t,n,r),fs}function ds(e,t,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7?arguments[7]:void 0,u=xt(r),c=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),l=Di(t),h=!0;if(3===r.type){var f=Lt(r,t),d=a?a(f):lt,p=d.target||f,v=l.length,g=a?function(e){return a(Nt(e[r.index])).target}:r.index;if(Rt(n)){var y=null;if(!a&&u&&(y=function(e,t,n,r){var i=e.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var s=i[o];if(s===n&&i[o+1]===r){var a=t[7],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==y)(y.__ngLastListenerFn__||y).__ngNextListenerFn__=o,y.__ngLastListenerFn__=o,h=!1;else{o=vs(r,t,o,!1);var m=n.listen(d.name||p,i,o);l.push(o,m),c&&c.push(i,g,v,v+1)}}else o=vs(r,t,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,g,v,s)}var _,b=r.outputs;if(h&&null!==b&&(_=b[i])){var k=_.length;if(k)for(var w=0;w<k;w+=2){var C=t[_[w]][_[w+1]].subscribe(o),S=l.length;l.push(o,C),c&&c.push(i,r.index,S,-(S+1))}}}function ps(e,t,n){try{return!1!==t(n)}catch(r){return Ni(e,r),!1}}function vs(e,t,n,r){return function i(o){if(o===Function)return n;var s=2&e.flags?jt(e.index,t):t;0==(32&t[2])&&Ii(s);for(var a=ps(t,n,o),u=i.__ngNextListenerFn__;u;)a=ps(t,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function gs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){return(Wt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Wt.lFrame.contextLView))[8]}(e)}function ys(e,t){for(var n=null,r=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),i=0;i<t.length;i++){var o=t[i];if("*"!==o){if(null===r?Dr(e,o,!0):Rr(r,o))return i}else n=i}return n}function ms(e){var t=Qt()[16][6];if(!t.projection)for(var n=t.projection=it(e?e.length:1,null),r=n.slice(),i=t.child;null!==i;){var o=e?ys(i,e):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function _s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=Qt(),i=Yt(),o=Zr(i,r[6],e,1,null,n||null);null===o.projection&&(o.projection=t),en(),function(e,t,n){no(t[11],0,t,n,Wi(e,n,t),Zi(n.parent||t[6],t))}(i,r,o)}function bs(e,t,n){return ks(e,"",t,"",n),bs}function ks(e,t,n,r,i){var o=Qt(),s=Qo(o,t,n,r);return s!==Fr&&ci(Yt(),wn(),o,e,s,o[11],i,!1),ks}var ws=[];function Cs(e,t,n,r,i){for(var o=e[n+1],s=null===t,a=r?Hr(o):qr(o),u=!1;0!==a&&(!1===u||s);){var c=e[a+1];Ss(e[a],t)&&(u=!0,e[a+1]=r?$r(c):Gr(c)),a=r?Hr(c):qr(c)}u&&(e[n+1]=r?Gr(o):$r(o))}function Ss(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&at(e,t)>=0}var Es={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Is(e){return e.substring(Es.key,Es.keyEnd)}function Ts(e,t){var n=Es.textEnd;return n===t?-1:(t=Es.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Es.key=t,n),xs(e,t,n))}function xs(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function As(e,t,n){return Ps(e,t,n,!1),As}function Os(e,t){return Ps(e,t,null,!0),Os}function Ds(e){!function(e,t,n,r){var i=Yt(),o=an(2);i.firstUpdatePass&&Fs(i,null,o,!0);var s=Qt();if(n!==Fr&&qo(s,o,n)){var a=i.data[bn()+20];if(Bs(a,!0)&&!Ns(i,o)){var u=a.classesWithoutHost;null!==u&&(n=we(u,n||"")),ts(i,a,s,n,!0)}else!function(e,t,n,r,i,o,s,a){i===Fr&&(i=ws);for(var u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==l||null!==h;){var f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0,p=null,v=void 0;l===h?(u+=2,c+=2,f!==d&&(p=h,v=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,v=d),null!==p&&Vs(e,t,n,r,p,v,!0,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(e,t,n){if(null==n||""===n)return ws;var r=[],i=dr(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(var s in i)i.hasOwnProperty(s)&&e(r,s,i[s]);else"string"==typeof i&&t(r,i);return r}(e,t,n),0,o)}}(ot,Rs,e)}function Rs(e,t){for(var n=function(e){return function(e){Es.key=0,Es.keyEnd=0,Es.value=0,Es.valueEnd=0,Es.textEnd=e.length}(e),Ts(e,xs(e,0,Es.textEnd))}(t);n>=0;n=Ts(t,n))ot(e,Is(t),!0)}function Ps(e,t,n,r){var i,o,s=Qt(),a=Yt(),u=an(2);(a.firstUpdatePass&&Fs(a,e,u,r),t!==Fr&&qo(s,u,t))&&(null==n&&(i=null===(o=Wt.lFrame)?null:o.currentSanitizer)&&(n=i),Vs(a,a.data[bn()+20],s,s[11],e,s[u+1]=function(e,t){return null==e||("function"==typeof t?e=t(e):"string"==typeof t?e+=t:"object"==typeof e&&(e=ke(dr(e)))),e}(t,n),r,u))}function Ns(e,t){return t>=e.expandoStartIndex}function Fs(e,t,n,r){var i=e.data;if(null===i[n+1]){var o=i[bn()+20],s=Ns(e,n);Bs(o,r)&&null===t&&!s&&(t=!1),t=function(e,t,n,r){var i=ln(e),o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Ms(n=Ls(null,e,t,n,r),t.attrs,r),o=null);else{var s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=Ls(i,e,t,n,r),null===o){var a=function(e,t,n){var r=n?t.classBindings:t.styleBindings;if(0!==qr(r))return e[Hr(r)]}(e,t,r);void 0!==a&&Array.isArray(a)&&function(e,t,n,r){e[Hr(n?t.classBindings:t.styleBindings)]=r}(e,t,r,a=Ms(a=Ls(null,e,t,a[1],r),t.attrs,r))}else o=function(e,t,n){for(var r=void 0,i=t.directiveEnd,o=1+t.directiveStylingLast;o<i;o++)r=Ms(r,e[o].hostAttrs,n);return Ms(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function(e,t,n,r,i,o){var s=o?t.classBindings:t.styleBindings,a=Hr(s),u=qr(s);e[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||at(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=Hr(e[a+1]);e[r+1]=zr(f,a),0!==f&&(e[f+1]=Wr(e[f+1],r)),e[a+1]=131071&e[a+1]|r<<17}else e[r+1]=zr(a,0),0!==a&&(e[a+1]=Wr(e[a+1],r)),a=r;else e[r+1]=zr(u,0),0===a?a=r:e[u+1]=Wr(e[u+1],r),u=r;l&&(e[r+1]=Gr(e[r+1])),Cs(e,c,r,!0),Cs(e,c,r,!1),function(e,t,n,r,i){var o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&at(o,t)>=0&&(n[r+1]=$r(n[r+1]))}(t,c,e,r,o),s=zr(a,u),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}function Ls(e,t,n,r,i){var o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(r=Ms(r,(o=t[a]).hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Ms(e,t,n){var r=n?1:2,i=-1;if(null!==t)for(var o=0;o<t.length;o++){var s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ot(e,s,!!n||t[++o]))}return void 0===e?null:e}function Vs(e,t,n,r,i,o,s,a){if(3===t.type){var u=e.data,c=u[a+1];Us(1==(1&c)?js(u,t,n,i,qr(c),s):void 0)||(Us(o)||2==(2&c)&&(o=js(u,null,n,i,a,s)),function(e,t,n,r,i){var o=Rt(e);if(t)i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r);else{var s=-1==r.indexOf("-")?void 0:2;null==i?o?e.removeStyle(n,r,s):n.style.removeProperty(r):o?e.setStyle(n,r,i,s):n.style.setProperty(r,i)}}(r,s,Ft(bn(),n),i,o))}}function js(e,t,n,r,i,o){for(var s=null===t,a=void 0;i>0;){var u=e[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===Fr&&(f=h?ws:void 0);var d=h?st(f,r):l===r?f:void 0;if(c&&!Us(d)&&(d=st(u,r)),Us(d)&&(a=d,s))return a;var p=e[i+1];i=s?Hr(p):qr(p)}if(null!==t){var v=o?t.residualClasses:t.residualStyles;null!=v&&(a=st(v,r))}return a}function Us(e){return void 0!==e}function Bs(e,t){return 0!=(e.flags&(t?16:32))}function zs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Qt(),r=Yt(),i=e+20,o=r.firstCreatePass?Zr(r,n[6],e,3,null,null):r.data[i],s=n[i]=function(e,t){return Rt(t)?t.createText(e):t.createTextNode(e)}(t,n[11]);Xi(r,n,s,o),Xt(o,!1)}function Hs(e){return Gs("",e,""),Hs}function Gs(e,t,n){var r=Qt(),i=Qo(r,e,t,n);return i!==Fr&&Li(r,bn(),i),Gs}function qs(e,t,n,r,i){var o=Qt(),s=function(e,t,n,r,i,o){var s=Wo(e,on(),n,i);return an(2),s?t+jn(n)+r+jn(i)+o:Fr}(o,e,t,n,r,i);return s!==Fr&&Li(o,bn(),s),qs}function Ws(e,t,n){var r=Qt();return qo(r,sn(),t)&&ci(Yt(),wn(),r,e,t,r[11],n,!0),Ws}function $s(e,t,n){var r=Qt();if(qo(r,sn(),t)){var i=Yt(),o=wn();ci(i,o,r,e,t,Pi(ln(i.data),o,r),n,!0)}return $s}function Qs(e,t){var n=Ut(e)[1],r=n.data.length-1;Cn(n,{directiveStart:r,directiveEnd:r+1})}function Ys(e){for(var t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0,r=[e];t;){var i=void 0;if(At(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);var o=e;o.inputs=Ks(e.inputs),o.declaredInputs=Ks(e.declaredInputs),o.outputs=Ks(e.outputs);var s=i.hostBindings;s&&Js(e,s);var a=i.viewQuery,u=i.contentQueries;if(a&&Zs(e,a),u&&Xs(e,u),le(e.inputs,i.inputs),le(e.declaredInputs,i.declaredInputs),le(e.outputs,i.outputs),At(i)&&i.data.animation){var c=e.data;c.animation=(c.animation||[]).concat(i.data.animation)}o.afterContentChecked=o.afterContentChecked||i.afterContentChecked,o.afterContentInit=e.afterContentInit||i.afterContentInit,o.afterViewChecked=e.afterViewChecked||i.afterViewChecked,o.afterViewInit=e.afterViewInit||i.afterViewInit,o.doCheck=e.doCheck||i.doCheck,o.onDestroy=e.onDestroy||i.onDestroy,o.onInit=e.onInit||i.onInit}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(e),f===Ys&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,r=e.length-1;r>=0;r--){var i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Pn(i.hostAttrs,n=Pn(n,i.hostAttrs))}}(r)}function Ks(e){return e===lt?{}:e===ht?[]:e}function Zs(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,r){t(e,r),n(e,r)}:t}function Xs(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,r,i){t(e,r,i),n(e,r,i)}:t}function Js(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,r){t(e,r),n(e,r)}:t}var ea=function(){function e(t,n,r){_classCallCheck(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return _createClass(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function ta(e){e.type.prototype.ngOnChanges&&(e.setInput=na,e.onChanges=function(){var e=ra(this),t=e&&e.current;if(t){var n=e.previous;if(n===lt)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}})}function na(e,t,n,r){var i=ra(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:lt,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new ea(u&&u.currentValue,t,s===lt),e[r]=t}function ra(e){return e.__ngSimpleChanges__||null}function ia(e,t,n,r,i){if(e=Ee(e),Array.isArray(e))for(var o=0;o<e.length;o++)ia(e[o],t,n,r,i);else{var s=Yt(),a=Qt(),u=Oo(e)?e:Ee(e.provide),c=To(e),l=Zt(),h=65535&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>16;if(Oo(e)||!e.multi){var p=new An(c,i,Zo),v=aa(u,t,i?h:h+d,f);-1===v?(Xn(Qn(l,a),s,u),oa(s,e,t.length),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(p),a.push(p)):(n[v]=p,a[v]=p)}else{var g=aa(u,t,h+d,f),y=aa(u,t,h,h+d),m=g>=0&&n[g],_=y>=0&&n[y];if(i&&!_||!i&&!m){Xn(Qn(l,a),s,u);var b=function(e,t,n,r,i){var o=new An(e,n,Zo);return o.multi=[],o.index=t,o.componentProviders=0,sa(o,i,r&&!n),o}(i?ca:ua,n.length,i,r,c);!i&&_&&(n[y].providerFactory=b),oa(s,e,t.length,0),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(b),a.push(b)}else oa(s,e,g>-1?g:y,sa(n[i?y:g],c,!i&&r));!i&&r&&_&&n[y].componentProviders++}}}function oa(e,t,n,r){var i=Oo(t);if(i||t.useClass){var o=(t.useClass||t).prototype.ngOnDestroy;if(o){var s=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){var a=s.indexOf(n);-1===a?s.push(n,[r,o]):s[a+1].push(r,o)}else s.push(n,o)}}}function sa(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function aa(e,t,n,r){for(var i=n;i<r;i++)if(t[i]===e)return i;return-1}function ua(e,t,n,r){return la(this.multi,[])}function ca(e,t,n,r){var i,o=this.multi;if(this.providerFactory){var s=this.providerFactory.componentProviders,a=rr(n,n[1],this.providerFactory.index,r);la(o,i=a.slice(0,s));for(var u=s;u<a.length;u++)i.push(a[u])}else la(o,i=[]);return i}function la(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function ha(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(e,t,n){var r=Yt();if(r.firstCreatePass){var i=At(e);ia(n,r.data,r.blueprint,i,!0),ia(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}}ta.ngInherit=!0;var fa=function e(){_classCallCheck(this,e)},da=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(ke(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),pa=function(){var e=function e(){_classCallCheck(this,e)};return e.NULL=new da,e}(),va=function(){var e=function e(t){_classCallCheck(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=function(){return ga(e)},e}(),ga=function(e){return lo(e,Zt(),Qt())},ya=function e(){_classCallCheck(this,e)},ma=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),_a=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return ba()},e}(),ba=function(){var e=Qt(),t=jt(Zt().index,e);return function(e){var t=e[11];if(Rt(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(St(t)?t:e)},ka=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275prov=he({token:e,providedIn:"root",factory:function(){return null}}),e}(),wa=function e(t){_classCallCheck(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},Ca=new wa("9.1.11"),Sa=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return zo(e)}},{key:"create",value:function(e){return new Ia(e)}}]),e}(),Ea=function(e,t){return t},Ia=function(){function e(t){_classCallCheck(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ea}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<Oa(n,r,i)?t:n,s=Oa(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var u=s-r,c=a-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}s!==a&&e(o,s,a)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!zo(e))throw new Error("Error trying to diff '".concat(ke(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,o=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(var a=0;a<this.length;a++)r=e[a],i=this._trackByFn(a,r),null!==o&&Uo(o.trackById,i)?(s&&(o=this._verifyReinsertion(o,r,i,a)),Uo(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,a),s=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[jo()]();!(r=i.next()).done;)t(r.value)}(e,(function(e){i=t._trackByFn(n,e),null!==o&&Uo(o.trackById,i)?(s&&(o=t._verifyReinsertion(o,e,i,n)),Uo(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),s=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Uo(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Uo(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new Ta(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Aa),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Aa),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),e}(),Ta=function e(t,n){_classCallCheck(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},xa=function(){function e(){_classCallCheck(this,e),this._head=null,this._tail=null}return _createClass(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Uo(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),Aa=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new xa,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),e}();function Oa(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var Da=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return e instanceof Map||Ho(e)}},{key:"create",value:function(){return new Ra}}]),e}(),Ra=function(){function e(){_classCallCheck(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Ho(e)))throw new Error("Error trying to diff '".concat(ke(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Pa(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Uo(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),e}(),Pa=function e(t){_classCallCheck(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Na=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new ae,new oe]]}}}]),e}();return e.\u0275prov=he({token:e,providedIn:"root",factory:function(){return new e([new Sa])}}),e}(),Fa=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new ae,new oe]]}}}]),e}();return e.\u0275prov=he({token:e,providedIn:"root",factory:function(){return new e([new Da])}}),e}(),La=[new Da],Ma=new Na([new Sa]),Va=new Fa(La),ja=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Ua(e,va)},e}(),Ua=function(e,t){return ho(e,t,Zt(),Qt())},Ba=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return za(e,va)},e}(),za=function(e,t){return fo(e,t,Zt(),Qt())},Ha={},Ga=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).ngModule=e,r}return _createClass(n,[{key:"resolveComponentFactory",value:function(e){var t=kt(e);return new $a(t,this.ngModule)}}]),n}(pa);function qa(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var Wa=new Ue("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Bn}}),$a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).componentDef=e,i.ngModule=r,i.componentType=e.type,i.selector=e.selectors.map(Nr).join(","),i.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],i.isBoundToModule=!!r,i}return _createClass(n,[{key:"create",value:function(e,t,n,r){var i,o,s=(r=r||this.ngModule)?function(e,t){return{get:function(n,r,i){var o=e.get(n,Ha,i);return o!==Ha||r===Ha?o:t.get(n,r,i)}}}(e,r.injector):e,a=s.get(ya,Pt),u=s.get(ka,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(e,t,n){if(Rt(e))return e.selectRootElement(t,n===ct.ShadowDom);var r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Yr(l,a.createRenderer(null,this.componentDef),function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p={components:[],scheduler:Bn,clean:Oi,playerHandler:null,flags:0},v=si(0,-1,null,1,0,null,null,null,null,null),g=Kr(null,v,p,f,null,null,a,c,u,s);pn(g,null);try{var y=function(e,t,n,r,i,o){var s=n[1];n[20]=e;var a=Zr(s,null,0,3,null,null),u=a.mergedAttrs=t.hostAttrs;null!==u&&(Mo(a,u,!0),null!==e&&(On(i,e,u),null!==a.classes&&io(i,e,a.classes),null!==a.styles&&ro(i,e,a.styles)));var c=r.createRenderer(e,t),l=Kr(n,oi(t),null,t.onPush?64:16,n[20],a,r,c,void 0);return s.firstCreatePass&&(Xn(Qn(a,n),s,t.type),vi(s,a),yi(a,n.length,1)),Ei(n,l),n[20]=l}(h,this.componentDef,g,a,c);if(h)if(n)On(c,h,["ng-version",Ca.full]);else{var m=function(e){for(var t=[],n=[],r=1,i=2;r<e.length;){var o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Ar(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),_=m.attrs,b=m.classes;_&&On(c,h,_),b&&b.length>0&&io(c,h,b.join(" "))}if(o=Mt(v,0),void 0!==t)for(var k=o.projection=[],w=0;w<this.ngContentSelectors.length;w++){var C=t[w];k.push(null!=C?Array.from(C):null)}i=function(e,t,n,r,i){var o=n[1],s=function(e,t,n){var r=Zt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),pi(e,r,1),mi(e,t,n));var i=rr(t,e,t.length-1,r);kr(i,t);var o=Lt(r,t);return o&&kr(o,t),i}(o,n,t);r.components.push(s),e[8]=s,i&&i.forEach((function(e){return e(s,t)})),t.contentQueries&&t.contentQueries(1,s,n.length-1);var a=Zt();if(o.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){kn(a.index-20);var u=n[1];hi(u,t),fi(u,n,t.hostVars),di(t,s)}return s}(y,this.componentDef,g,p,[Qs]),Xr(v,g,null)}finally{_n()}var S=new Qa(this.componentType,i,lo(va,o,g),g,o);return n&&!d||(v.node.child=o),S}},{key:"inputs",get:function(){return qa(this.componentDef.inputs)}},{key:"outputs",get:function(){return qa(this.componentDef.outputs)}}]),n}(fa),Qa=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s){var a,u,c,l;return _classCallCheck(this,n),(a=t.call(this)).location=i,a._rootLView=o,a._tNode=s,a.destroyCbs=[],a.instance=r,a.hostView=a.changeDetectorRef=new co(o),u=o[1],c=o,null==(l=u.node)&&(u.node=l=ai(0,null,2,-1,null,null)),c[6]=l,a.componentType=e,a}return _createClass(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(e){this.destroyCbs&&this.destroyCbs.push(e)}},{key:"injector",get:function(){return new sr(this._tNode,this._rootLView)}}]),n}(function(){return function e(){_classCallCheck(this,e)}}()),Ya=void 0,Ka=["en",[["a","p"],["AM","PM"],Ya],[["AM","PM"],Ya,Ya],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ya,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ya,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ya,"{1} 'at' {0}",Ya],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],Za={};function Xa(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=Ja(t);if(n)return n;var r=t.split("-")[0];if(n=Ja(r))return n;if("en"===r)return Ka;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}function Ja(e){return e in Za||(Za[e]=Re.ng&&Re.ng.common&&Re.ng.common.locales&&Re.ng.common.locales[e]),Za[e]}var eu=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencyCode]="CurrencyCode",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.Directionality]="Directionality",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}();function tu(e){var t;null==(t=e)&&function(e,t,n,r){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(t," <=Actual]"))}(0,t),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}var nu=new Map,ru=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;_classCallCheck(this,n),(i=t.call(this))._parent=r,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[],i.componentFactoryResolver=new Ga(_assertThisInitialized(i));var o=Ct(e),s=e[Me]||null;return s&&tu(s),i._bootstrapComponents=Gn(o.bootstrap),i._r3Injector=So(e,r,[{provide:Je,useValue:_assertThisInitialized(i)},{provide:pa,useValue:i.componentFactoryResolver}],ke(e)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(e),i}return _createClass(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ro.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ue.Default;return e===Ro||e===Je||e===Be?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(Je),iu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).moduleType=e,null!==Ct(e)&&function e(t){if(null!==t.\u0275mod.id){var n=t.\u0275mod.id;(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(ke(t)," vs ").concat(ke(t.name)))})(n,nu.get(n),t),nu.set(n,t)}var r=t.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(t){return e(t)}))}(e),r}return _createClass(n,[{key:"create",value:function(e){return new ru(this.moduleType,e)}}]),n}(et);function ou(e,t,n){var r=rn()+e,i=Qt();return i[r]===Fr?Go(i,r,n?t.call(n):t()):function(e,t){return e[t]}(i,r)}function su(e,t,n,r){return uu(Qt(),rn(),e,t,n,r)}function au(e,t){var n=e[t];return n===Fr?void 0:n}function uu(e,t,n,r,i,o){var s=t+n;return qo(e,s,i)?Go(e,s+1,o?r.call(o,i):r(i)):au(e,s+1)}function cu(e,t){var n,r=Yt(),i=e+20;r.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var r=t[n];if(e===r.name)return r}throw new Error("The pipe '".concat(e,"' could not be found!"))}(t,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=wt(n.type)),s=$e(Zo),a=Wn(!1),u=o();return Wn(a),$e(s),function(e,t,n,r){var i=n+20;i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=r}(r,Qt(),e,u),u}function lu(e,t,n){var r=Qt(),i=Vt(r,e);return du(r,fu(r,e)?uu(r,rn(),t,i.transform,n,i):i.transform(n))}function hu(e,t,n,r){var i=Qt(),o=Vt(i,e);return du(i,fu(i,e)?function(e,t,n,r,i,o,s){var a=t+n;return Wo(e,a,i,o)?Go(e,a+2,s?r.call(s,i,o):r(i,o)):au(e,a+2)}(i,rn(),t,o.transform,n,r,o):o.transform(n,r))}function fu(e,t){return e[1].data[t+20].pure}function du(e,t){return Bo.isWrapped(t)&&(t=Bo.unwrap(t),e[on()]=Fr),t}var pu=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(e=t.call(this)).__isAsync=r,e}return _createClass(n,[{key:"emit",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,r){var i,o=function(e){return null},s=function(){return null};e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},t&&(o=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)}),r&&(s=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var a=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,i,o,s);return e instanceof f&&e.add(a),a}}]),n}(x);function vu(){return this._results[jo()]()}var gu=function(){function e(){_classCallCheck(this,e),this.dirty=!0,this._results=[],this.changes=new pu,this.length=0;var t=jo(),n=e.prototype;n[t]||(n[t]=vu)}return _createClass(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=function e(t,n){void 0===n&&(n=t);for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?(n===t&&(n=t.slice(0,r)),e(i,n)):n!==t&&n.push(i)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),yu=function(){function e(t){_classCallCheck(this,e),this.queryList=t,this.matches=null}return _createClass(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),mu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new e(i)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==Fu(e,t).matches&&this.queries[t].setDirty()}}]),e}(),_u=function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.predicate=t,this.descendants=n,this.isStatic=r,this.read=i},bu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"track",value:function(e){this.queries.push(e)}},{key:"length",get:function(){return this.queries.length}}]),e}(),ku=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&4===n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,r=0;r<n.length;r++)this.matchTNodeWithReadOption(e,t,wu(t,n[r]));else{var i=this.metadata.predicate;i===ja?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,nr(t,e,i,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===va||r===Ba||r===ja&&0===t.type)this.addMatch(t.index,-2);else{var i=nr(t,e,r,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function wu(e,t){var n=e.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Cu(e,t,n,r){return-1===n?function(e,t){return 3===e.type||4===e.type?lo(va,e,t):0===e.type?ho(ja,va,e,t):null}(t,e):-2===n?function(e,t,n){return n===va?lo(va,t,e):n===ja?ho(ja,va,t,e):n===Ba?fo(Ba,va,t,e):void 0}(e,t,r):rr(e,e[1],n,t)}function Su(e,t,n,r){var i=t[19].queries[r];if(null===i.matches){for(var o=e.data,s=n.matches,a=[],u=0;u<s.length;u+=2){var c=s[u];a.push(c<0?null:Cu(t,o[c],s[u+1],n.metadata.read))}i.matches=a}return i.matches}function Eu(e){var t=Qt(),n=Yt(),r=hn();fn(r+1);var i=Fu(n,r);if(e.dirty&&Bt(t)===i.metadata.isStatic){if(null===i.matches)e.reset([]);else{var o=i.crossesNgTemplate?function e(t,n,r,i){var o=t.queries.getByIndex(r),s=o.matches;if(null!==s)for(var a=Su(t,n,o,r),u=0;u<s.length;u+=2){var c=s[u];if(c>0)i.push(a[u/2]);else{for(var l=s[u+1],h=n[-c],f=10;f<h.length;f++){var d=h[f];d[17]===d[3]&&e(d[1],d,l,i)}if(null!==h[9])for(var p=h[9],v=0;v<p.length;v++){var g=p[v];e(g[1],g,l,i)}}}return i}(n,t,r,[]):Su(n,t,i,r);e.reset(o),e.notifyOnChanges()}return!0}return!1}function Iu(e,t,n){xu(Yt(),Qt(),e,t,n,!0)}function Tu(e,t,n){xu(Yt(),Qt(),e,t,n,!1)}function xu(e,t,n,r,i,o){e.firstCreatePass&&(Nu(e,new _u(n,r,o,i),-1),o&&(e.staticViewQueries=!0)),Pu(e,t)}function Au(e,t,n,r){Du(Yt(),Qt(),t,n,r,!1,Zt(),e)}function Ou(e,t,n,r){Du(Yt(),Qt(),t,n,r,!0,Zt(),e)}function Du(e,t,n,r,i,o,s,a){e.firstCreatePass&&(Nu(e,new _u(n,r,o,i),s.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,a),o&&(e.staticContentQueries=!0)),Pu(e,t)}function Ru(){return e=Qt(),t=hn(),e[19].queries[t].queryList;var e,t}function Pu(e,t){var n=new gu;!function(e,t,n,r){var i=Di(t);i.push(n),e.firstCreatePass&&Ri(e).push(r,i.length-1)}(e,t,n,n.destroy),null===t[19]&&(t[19]=new mu),t[19].queries.push(new yu(n))}function Nu(e,t,n){null===e.queries&&(e.queries=new bu),e.queries.track(new ku(t,n))}function Fu(e,t){return e.queries.getByIndex(t)}function Lu(e,t){return ho(ja,va,e,t)}var Mu=new Ue("Application Initializer"),Vu=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();cs(i)&&t.push(i)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ye(Mu,8))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e}(),ju=new Ue("AppId"),Uu={provide:ju,useFactory:function(){return"".concat(Bu()).concat(Bu()).concat(Bu())},deps:[]};function Bu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var zu=new Ue("Platform Initializer"),Hu=new Ue("Platform ID"),Gu=new Ue("appBootstrapListener"),qu=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e}(),Wu=new Ue("LocaleId"),$u=new Ue("DefaultCurrencyCode"),Qu=function e(t,n){_classCallCheck(this,e),this.ngModuleFactory=t,this.componentFactories=n},Yu=function(e){return new iu(e)},Ku=Yu,Zu=function(e){return Promise.resolve(Yu(e))},Xu=function(e){var t=Yu(e),n=Gn(Ct(e).declarations).reduce((function(e,t){var n=kt(t);return n&&e.push(new $a(n)),e}),[]);return new Qu(t,n)},Ju=Xu,ec=function(e){return Promise.resolve(Xu(e))},tc=function(){var e=function(){function e(){_classCallCheck(this,e),this.compileModuleSync=Ku,this.compileModuleAsync=Zu,this.compileModuleAndAllComponentsSync=Ju,this.compileModuleAndAllComponentsAsync=ec}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e}(),nc=new Ue("compilerOptions"),rc=Promise.resolve(0);function ic(e){"undefined"==typeof Zone?rc.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var oc=function(){function e(t){var n,r,i=t.enableLongStackTrace,o=void 0!==i&&i,s=t.shouldCoalesceEventChangeDetection,a=void 0!==s&&s;if(_classCallCheck(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pu(!1),this.onMicrotaskEmpty=new pu(!1),this.onStable=new pu(!1),this.onError=new pu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=a,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=Re.requestAnimationFrame,t=Re.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Re,(function(){e.lastRequestAnimationFrameId=-1,cc(e),uc(e)})),cc(e))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(e,t,i,o,s,a){try{return lc(n),e.invokeTask(i,o,s,a)}finally{r&&"eventTask"===o.type&&r(),hc(n)}},onInvoke:function(e,t,r,i,o,s,a){try{return lc(n),e.invoke(r,i,o,s,a)}finally{hc(n)}},onHasTask:function(e,t,r,i){e.hasTask(r,i),t===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,cc(n),uc(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,t,r,i){return e.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,ac,sc,sc);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function sc(){}var ac={};function uc(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function cc(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function lc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function hc(e){e._nesting--,uc(e)}var fc,dc=function(){function e(){_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pu,this.onMicrotaskEmpty=new pu,this.onStable=new pu,this.onError=new pu}return _createClass(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]),e}(),pc=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){oc.assertNotInAngularZone(),ic((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())ic((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(e){return e.timeoutId!==i})),e(r._didWork,r.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ye(oc))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e}(),vc=function(){var e=function(){function e(){_classCallCheck(this,e),this._applications=new Map,gc.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return gc.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e}(),gc=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),yc=function(e,t,n){var r=e.get(nc,[]).concat(t),i=new iu(n);if(0===No.size)return Promise.resolve(i);var o,s,a=(o=r.map((function(e){return e.providers})),s=[],o.forEach((function(e){return e&&s.push.apply(s,_toConsumableArray(e))})),s);if(0===a.length)return Promise.resolve(i);var u=function(){var e=Re.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}(),c=Ro.create({providers:a}).get(u.ResourceLoader);return function(e){var t=[],n=new Map;function r(e){var t=n.get(e);if(!t){var r=function(e){return Promise.resolve(c.get(e))}(e);n.set(e,t=r.then(Lo))}return t}return No.forEach((function(e,n){var i=[];e.templateUrl&&i.push(r(e.templateUrl).then((function(t){e.template=t})));var o=e.styleUrls,s=e.styles||(e.styles=[]),a=e.styles.length;o&&o.forEach((function(t,n){s.push(""),i.push(r(t).then((function(r){s[a+n]=r,o.splice(o.indexOf(t),1),0==o.length&&(e.styleUrls=void 0)})))}));var u=Promise.all(i).then((function(){return function(e){Fo.delete(e)}(n)}));t.push(u)})),No=new Map,Promise.all(t).then((function(){}))}().then((function(){return i}))},mc=new Ue("AllowMultipleToken"),_c=function e(t,n){_classCallCheck(this,e),this.name=t,this.token=n};function bc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+t,i=new Ue(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=kc();if(!o||o.injector.get(mc,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var s=n.concat(t).concat({provide:i,useValue:!0},{provide:mo,useValue:"platform"});!function(e){if(fc&&!fc.destroyed&&!fc.injector.get(mc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");fc=e.get(wc);var t=e.get(zu,null);t&&t.forEach((function(e){return e()}))}(Ro.create({providers:s,name:r}))}return function(e){var t=kc();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function kc(){return fc&&!fc.destroyed?fc:null}var wc=function(){var e=function(){function e(t){_classCallCheck(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r,i=this,o=(n=t?t.ngZone:void 0,r=t&&t.ngZoneEventCoalescing||!1,"noop"===n?new dc:("zone.js"===n?void 0:n)||new oc({enableLongStackTrace:gr(),shouldCoalesceEventChangeDetection:r})),s=[{provide:oc,useValue:o}];return o.run((function(){var t=Ro.create({providers:s,parent:i.injector,name:e.moduleType.name}),n=e.create(t),r=n.injector.get(hr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return Ic(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(e){r.handleError(e)}})})),function(e,t,r){try{var o=((s=n.injector.get(Vu)).runInitializers(),s.donePromise.then((function(){return tu(n.injector.get(Wu,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return cs(o)?o.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):o}catch(a){throw t.runOutsideAngular((function(){return e.handleError(a)})),a}var s}(r,o)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Cc({},n);return yc(this.injector,r,e).then((function(e){return t.bootstrapModuleFactory(e,r)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(Ec);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(ke(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ye(Ro))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e}();function Cc(e,t){return Array.isArray(t)?t.reduce(Cc,e):Object.assign(Object.assign({},e),t)}var Sc,Ec=((Sc=function(){function e(t,n,r,i,o,s){var a=this;_classCallCheck(this,e),this._zone=t,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=gr(),this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run((function(){a.tick()}))}});var u=new w((function(e){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular((function(){e.next(a._stable),e.complete()}))})),c=new w((function(e){var t;a._zone.runOutsideAngular((function(){t=a._zone.onStable.subscribe((function(){oc.assertNotInAngularZone(),ic((function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,e.next(!0))}))}))}));var n=a._zone.onUnstable.subscribe((function(){oc.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,o=t[t.length-1];return O(o)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof o&&(r=t.pop()),null===i&&1===t.length&&t[0]instanceof w?t[0]:$(r)(Q(t,i))}(u,c.pipe((function(e){return Y()((t=te,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,J);return r.source=e,r.subjectFactory=n,r})(e));var t})))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof fa?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(Je),o=n.create(Ro.NULL,[],t||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var s=o.injector.get(pc,null);return s&&o.injector.get(vc).registerApplication(o.location.nativeElement,s),this._loadComponent(o),gr()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(t=n.n()).done;)t.value.detectChanges()}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;)r.value.checkNoChanges()}catch(o){i.e(o)}finally{i.f()}}}catch(s){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(s)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;Ic(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Gu,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),Ic(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}()).\u0275fac=function(e){return new(e||Sc)(Ye(oc),Ye(qu),Ye(Ro),Ye(hr),Ye(pa),Ye(Vu))},Sc.\u0275prov=he({token:Sc,factory:Sc.\u0275fac}),Sc);function Ic(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Tc=function e(){_classCallCheck(this,e)},xc=function e(){_classCallCheck(this,e)},Ac={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Oc=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._compiler=t,this._config=n||Ac}return _createClass(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,r=_slicedToArray(e.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(e){return e[o]})).then((function(e){return Dc(e,i,o)})).then((function(e){return t._compiler.compileModuleAsync(e)}))}},{key:"loadFactory",value:function(e){var t=_slicedToArray(e.split("#"),2),r=t[0],i=t[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(e){return e[i+o]})).then((function(e){return Dc(e,r,i)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ye(tc),Ye(xc,8))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e}();function Dc(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var Rc=bc(null,"core",[{provide:Hu,useValue:"unknown"},{provide:wc,deps:[Ro]},{provide:vc,deps:[]},{provide:qu,deps:[]}]),Pc=[{provide:Ec,useClass:Ec,deps:[oc,qu,Ro,hr,pa,Vu]},{provide:Wa,deps:[oc],useFactory:function(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}},{provide:Vu,useClass:Vu,deps:[[new oe,Mu]]},{provide:tc,useClass:tc,deps:[]},Uu,{provide:Na,useFactory:function(){return Ma},deps:[]},{provide:Fa,useFactory:function(){return Va},deps:[]},{provide:Wu,useFactory:function(e){return tu(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new ie(Wu),new oe,new ae]]},{provide:$u,useValue:"USD"}],Nc=function(){var e=function e(t){_classCallCheck(this,e)};return e.\u0275mod=yt({type:e}),e.\u0275inj=fe({factory:function(t){return new(t||e)(Ye(Ec))},providers:Pc}),e}(),Fc={apiKey:"AIzaSyBjMPuySzya4rhD6IZTYYIPFKAKS342rsI",authDomain:"ebrpl-reporting.firebaseapp.com",databaseURL:"https://ebrpl-reporting.firebaseio.com",projectId:"ebrpl-reporting",storageBucket:"ebrpl-reporting.appspot.com",messagingSenderId:"776684824485",appId:"1:776684824485:web:fef2d9dfec9715b6ab6a4c"},Lc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._value=e,r}return _createClass(n,[{key:"_subscribe",value:function(e){var t=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new E;return this._value}},{key:"next",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=e)}},{key:"value",get:function(){return this.getValue()}}]),n}(x),Mc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"schedule",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(f)),Vc=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck(this,e),this.SchedulerAction=t,this.now=n}return _createClass(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),jc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vc.now;return _classCallCheck(this,n),(r=t.call(this,e,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(r)?n.delegate.now():i()}))).actions=[],r.active=!1,r.scheduled=void 0,r}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(Vc),Uc=new jc(Mc);function Bc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return O(r)?(t.pop(),z(t,r)):Q(t)}function zc(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Hc(e,t,n))}}var Hc=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Gc(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),Gc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;return _classCallCheck(this,n),(s=t.call(this,e)).accumulator=r,s._seed=i,s.hasSeed=o,s.index=0,s}return _createClass(n,[{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}},{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}}]),n}(v);function qc(e,t){return function(n){return n.lift(new Wc(e,t))}}var Wc=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new $c(e,this.predicate,this.thisArg))}}]),e}(),$c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(v),Qc=new w((function(e){return e.complete()}));function Yc(e){return e?function(e){return new w((function(t){return e.schedule((function(){return t.complete()}))}))}(e):Qc}var Kc,Zc=((Kc=function(){function e(t,n,r){_classCallCheck(this,e),this.kind=t,this.value=n,this.error=r,this.hasValue="N"===t}return _createClass(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Bc(this.value);case"E":return e=this.error,new w((function(t){return t.error(e)}));case"C":return Yc()}var e;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}()).completeNotification=new Kc("C"),Kc.undefinedValueNotification=new Kc("N",void 0),Kc);function Xc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new Jc(e,t))}}var Jc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new el(e,this.scheduler,this.delay))}}]),e}(),el=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=t.call(this,e)).scheduler=r,i.delay=o,i}return _createClass(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new tl(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(Zc.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(Zc.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(Zc.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),n}(v),tl=function e(t,n){_classCallCheck(this,e),this.notification=t,this.destination=n},nl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):e.flush(this)}}]),n}(Mc),rl=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(jc))(nl);function il(){}function ol(e,t,n){return function(r){return r.lift(new sl(e,t,n))}}var sl=function(){function e(t,n,r){_classCallCheck(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new al(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),al=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,s){var a;return _classCallCheck(this,n),(a=t.call(this,e))._tapNext=il,a._tapError=il,a._tapComplete=il,a._tapError=o||il,a._tapComplete=s||il,r(i)?(a._context=_assertThisInitialized(a),a._tapNext=i):i&&(a._context=i,a._tapNext=i.next||il,a._tapError=i.error||il,a._tapComplete=i.complete||il),a}return _createClass(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(v),ul=1,cl=Promise.resolve(),ll={};function hl(e){return e in ll&&(delete ll[e],!0)}var fl=function(e){var t=ul++;return ll[t]=!0,cl.then((function(){return hl(t)&&e()})),t},dl=function(e){hl(e)},pl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=fl(e.flush.bind(e,null))))}},{key:"recycleAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,e,t,r);0===e.actions.length&&(dl(t),e.scheduled=void 0)}}]),n}(Mc),vl=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(jc))(pl),gl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vl;return _classCallCheck(this,n),(r=t.call(this)).source=e,r.delayTime=o,r.scheduler=s,(u(i=o)||!(i-parseFloat(i)+1>=0)||o<0)&&(r.delayTime=0),s&&"function"==typeof s.schedule||(r.scheduler=vl),r}return _createClass(n,[{key:"_subscribe",value:function(e){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:e})}}],[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vl;return new n(e,t,r)}},{key:"dispatch",value:function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))}}]),n}(w),yl=function(){function e(t,n){_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return new gl(t,this.delay,this.scheduler).subscribe(e)}}]),e}(),ml=n("Wcq6");function _l(){}var bl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rl;_classCallCheck(this,e),this.zone=t,this.delegate=n}return _createClass(e,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(e,t,n){var r=this.zone;return this.delegate.schedule((function(t){var n=this;r.runGuarded((function(){e.apply(n,[t])}))}),t,n)}}]),e}(),kl=function(){function e(t){_classCallCheck(this,e),this.zone=t,this.task=null}return _createClass(e,[{key:"call",value:function(e,t){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",_l,{},_l,_l)})),t.pipe(ol({next:n,complete:n,error:n})).subscribe(e).add(n)}},{key:"unscheduleTask",value:function(){var e=this;setTimeout((function(){null!=e.task&&"scheduled"===e.task.state&&(e.task.invoke(),e.task=null)}),10)}}]),e}(),wl=function e(t){_classCallCheck(this,e),this.ngZone=t,this.outsideAngular=t.runOutsideAngular((function(){return new bl(Zone.current)})),this.insideAngular=t.run((function(){return new bl(Zone.current,Uc)}))};function Cl(e){return function(t){return(t=t.lift(new kl(e.ngZone))).pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new yl(e,t))}}(e.outsideAngular),Xc(e.insideAngular))}}var Sl=["ngOnDestroy"],El=new Ue("angularfire2.app.options"),Il=new Ue("angularfire2.app.nameOrConfig"),Tl=new wa("6.0.2");function xl(e,t,n){var r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",ml.apps.filter((function(e){return e&&e.name===r.name}))[0]||t.runOutsideAngular((function(){return Object(ml.initializeApp)(e,r)}))}var Al,Ol={provide:function e(){_classCallCheck(this,e)},useFactory:xl,deps:[El,oc,[new oe,Il]]},Dl=((Al=function(){function e(t){_classCallCheck(this,e),Object(ml.registerVersion)("angularfire",Tl.full,t.toString()),Object(ml.registerVersion)("angular",Ca.full)}return _createClass(e,null,[{key:"initializeApp",value:function(t,n){return{ngModule:e,providers:[{provide:El,useValue:t},{provide:Il,useValue:n}]}}}]),e}()).\u0275mod=yt({type:Al}),Al.\u0275inj=fe({factory:function(e){return new(e||Al)(Ye(Hu))},providers:[Ol]}),Al),Rl=null;function Pl(){return Rl}var Nl,Fl=new Ue("DocumentToken"),Ll=((Nl=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Nl)},Nl.\u0275prov=he({factory:Ml,token:Nl,providedIn:"platform"}),Nl);function Ml(){return Ye(Ul)}var Vl,jl=new Ue("Location Initialized"),Ul=((Vl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=Pl().getLocation(),this._history=Pl().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return Pl().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){Pl().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){Pl().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"pushState",value:function(e,t,n){Bl()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){Bl()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(Ll)).\u0275fac=function(e){return new(e||Vl)(Ye(Fl))},Vl.\u0275prov=he({factory:zl,token:Vl,providedIn:"platform"}),Vl);function Bl(){return!!window.history.pushState}function zl(){return new Ul(Ye(Fl))}function Hl(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function Gl(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function ql(e){return e&&"?"!==e[0]?"?"+e:e}var Wl,$l=((Wl=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Wl)},Wl.\u0275prov=he({factory:Ql,token:Wl,providedIn:"root"}),Wl);function Ql(e){var t=Ye(Fl).location;return new Jl(Ye(Ll),t&&t.origin||"")}var Yl,Kl,Zl,Xl=new Ue("appBaseHref"),Jl=((Zl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;if(_classCallCheck(this,n),(i=t.call(this))._platformLocation=e,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return Hl(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+ql(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+ql(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+ql(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}($l)).\u0275fac=function(e){return new(e||Zl)(Ye(Ll),Ye(Xl,8))},Zl.\u0275prov=he({token:Zl,factory:Zl.\u0275fac}),Zl),eh=((Kl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._platformLocation=e,i._baseHref="",null!=r&&(i._baseHref=r),i}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=Hl(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+ql(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+ql(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}($l)).\u0275fac=function(e){return new(e||Kl)(Ye(Ll),Ye(Xl,8))},Kl.\u0275prov=he({token:Kl,factory:Kl.\u0275fac}),Kl),th=((Yl=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._subject=new pu,this._urlChangeListeners=[],this._platformStrategy=t;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=Gl(rh(i)),this._platformStrategy.onPopState((function(e){r._subject.emit({url:r.path(!0),pop:!0,state:e.state,type:e.type})}))}return _createClass(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+ql(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,rh(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ql(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ql(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this.subscribe((function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}()).\u0275fac=function(e){return new(e||Yl)(Ye($l),Ye(Ll))},Yl.normalizeQueryParams=ql,Yl.joinWithSlash=Hl,Yl.stripTrailingSlash=Gl,Yl.\u0275prov=he({factory:nh,token:Yl,providedIn:"root"}),Yl);function nh(){return new th(Ye($l),Ye(Ll))}function rh(e){return e.replace(/\/index.html$/,"")}var ih=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),oh=function(){var e={Format:0,Standalone:1};return e[e.Format]="Format",e[e.Standalone]="Standalone",e}(),sh=function(){var e={Narrow:0,Abbreviated:1,Wide:2,Short:3};return e[e.Narrow]="Narrow",e[e.Abbreviated]="Abbreviated",e[e.Wide]="Wide",e[e.Short]="Short",e}(),ah=function(){var e={Short:0,Medium:1,Long:2,Full:3};return e[e.Short]="Short",e[e.Medium]="Medium",e[e.Long]="Long",e[e.Full]="Full",e}(),uh=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}();function ch(e,t,n){var r=Xa(e),i=gh([r[eu.DaysFormat],r[eu.DaysStandalone]],t);return gh(i,n)}function lh(e,t,n){var r=Xa(e),i=gh([r[eu.MonthsFormat],r[eu.MonthsStandalone]],t);return gh(i,n)}function hh(e,t){return gh(Xa(e)[eu.DateFormat],t)}function fh(e,t){return gh(Xa(e)[eu.TimeFormat],t)}function dh(e,t){return gh(Xa(e)[eu.DateTimeFormat],t)}function ph(e,t){var n=Xa(e),r=n[eu.NumberSymbols][t];if(void 0===r){if(t===uh.CurrencyDecimal)return n[eu.NumberSymbols][uh.Decimal];if(t===uh.CurrencyGroup)return n[eu.NumberSymbols][uh.Group]}return r}function vh(e){if(!e[eu.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(e[eu.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function gh(e,t){for(var n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function yh(e){var t=_slicedToArray(e.split(":"),2);return{hours:+t[0],minutes:+t[1]}}var mh=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,_h={},bh=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,kh=function(){var e={Short:0,ShortGMT:1,Long:2,Extended:3};return e[e.Short]="Short",e[e.ShortGMT]="ShortGMT",e[e.Long]="Long",e[e.Extended]="Extended",e}(),wh=function(){var e={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return e[e.FullYear]="FullYear",e[e.Month]="Month",e[e.Date]="Date",e[e.Hours]="Hours",e[e.Minutes]="Minutes",e[e.Seconds]="Seconds",e[e.FractionalSeconds]="FractionalSeconds",e[e.Day]="Day",e}(),Ch=function(){var e={DayPeriods:0,Days:1,Months:2,Eras:3};return e[e.DayPeriods]="DayPeriods",e[e.Days]="Days",e[e.Months]="Months",e[e.Eras]="Eras",e}();function Sh(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e}function Eh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,o=n));for(var s=String(e);s.length<t;)s="0"+s;return r&&(s=s.substr(s.length-t)),o+s}function Ih(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(o,s){var a,u=function(e,t){switch(e){case wh.FullYear:return t.getFullYear();case wh.Month:return t.getMonth();case wh.Date:return t.getDate();case wh.Hours:return t.getHours();case wh.Minutes:return t.getMinutes();case wh.Seconds:return t.getSeconds();case wh.FractionalSeconds:return t.getMilliseconds();case wh.Day:return t.getDay();default:throw new Error('Unknown DateType value "'.concat(e,'".'))}}(e,o);if((n>0||u>-n)&&(u+=n),e===wh.Hours)0===u&&-12===n&&(u=12);else if(e===wh.FractionalSeconds)return a=t,Eh(u,3).substr(0,a);var c=ph(s,uh.MinusSign);return Eh(u,t,c,r,i)}}function Th(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:oh.Format,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i,o){return function(e,t,n,r,i,o){switch(n){case Ch.Months:return lh(t,i,r)[e.getMonth()];case Ch.Days:return ch(t,i,r)[e.getDay()];case Ch.DayPeriods:var s=e.getHours(),a=e.getMinutes();if(o){var u,c=function(e){var t=Xa(e);return vh(t),(t[eu.ExtraData][2]||[]).map((function(e){return"string"==typeof e?yh(e):[yh(e[0]),yh(e[1])]}))}(t),l=function(e,t,n){var r=Xa(e);vh(r);var i=gh([r[eu.ExtraData][0],r[eu.ExtraData][1]],t)||[];return gh(i,n)||[]}(t,i,r);if(c.forEach((function(e,t){if(Array.isArray(e)){var n=e[0],r=n.hours,i=n.minutes,o=e[1],c=o.hours,h=o.minutes;s>=r&&a>=i&&(s<c||s===c&&a<h)&&(u=l[t])}else{var f=e.hours,d=e.minutes;f===s&&d===a&&(u=l[t])}})),u)return u}return function(e,t,n){var r=Xa(e),i=gh([r[eu.DayPeriodsFormat],r[eu.DayPeriodsStandalone]],t);return gh(i,n)}(t,i,r)[s<12?0:1];case Ch.Eras:return function(e,t){return gh(Xa(e)[eu.Eras],t)}(t,r)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(i,o,e,t,n,r)}}function xh(e){return function(t,n,r){var i=-1*r,o=ph(n,uh.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case kh.Short:return(i>=0?"+":"")+Eh(s,2,o)+Eh(Math.abs(i%60),2,o);case kh.ShortGMT:return"GMT"+(i>=0?"+":"")+Eh(s,1,o);case kh.Long:return"GMT"+(i>=0?"+":"")+Eh(s,2,o)+":"+Eh(Math.abs(i%60),2,o);case kh.Extended:return 0===r?"Z":(i>=0?"+":"")+Eh(s,2,o)+":"+Eh(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'.concat(e,'"'))}}}function Ah(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var i,o,s,a;if(t){var u=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,c=n.getDate();i=1+Math.floor((c+u)/7)}else{var l=(o=n.getFullYear(),s=new Date(o,0,1).getDay(),new Date(o,0,1+(s<=4?4:11)-s)),h=(a=n,new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))).getTime()-l.getTime();i=1+Math.round(h/6048e5)}return Eh(i,e,ph(r,uh.MinusSign))}}var Oh={};function Dh(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function Rh(e){return e instanceof Date&&!isNaN(e.valueOf())}var Ph,Nh,Fh,Lh,Mh=function e(){_classCallCheck(this,e)},Vh=((Nh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).locale=e,r}return _createClass(n,[{key:"getPluralCategory",value:function(e,t){switch(function(e){return Xa(e)[eu.PluralCase]}(t||this.locale)(e)){case ih.Zero:return"zero";case ih.One:return"one";case ih.Two:return"two";case ih.Few:return"few";case ih.Many:return"many";default:return"other"}}}]),n}(Mh)).\u0275fac=function(e){return new(e||Nh)(Ye(Wu))},Nh.\u0275prov=he({token:Nh,factory:Nh.\u0275fac}),Nh),jh=((Ph=function(){function e(t,n,r,i){_classCallCheck(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return _createClass(e,[{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachRemovedItem((function(e){e.previousValue&&t._toggleClass(e.key,!1)}))}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+ke(e.item));t._toggleClass(e.item,!0)})),e.forEachRemovedItem((function(e){return t._toggleClass(e.item,!1)}))}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!0)})):Object.keys(e).forEach((function(n){return t._toggleClass(n,!!e[n])})))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!1)})):Object.keys(e).forEach((function(e){return t._toggleClass(e,!1)})))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach((function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)}))}},{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(zo(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}}]),e}()).\u0275fac=function(e){return new(e||Ph)(Zo(Na),Zo(Fa),Zo(va),Zo(_a))},Ph.\u0275dir=_t({type:Ph,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),Ph),Uh=function(){function e(t,n,r,i){_classCallCheck(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),Bh=((Fh=function(){function e(t,n,r){_classCallCheck(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(e,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation((function(e,r,i){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new Uh(null,t._ngForOf,-1,-1),null===i?void 0:i),s=new zh(e,o);n.push(s)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var a=t._viewContainer.get(r);t._viewContainer.move(a,i);var u=new zh(e,a);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var s=this._viewContainer.get(i);s.context.index=i,s.context.count=o,s.context.ngForOf=this._ngForOf}e.forEachIdentityChange((function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item}))}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}},{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(e){gr()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=e},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||Fh)(Zo(Ba),Zo(ja),Zo(Na))},Fh.\u0275dir=_t({type:Fh,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),Fh),zh=function e(t,n){_classCallCheck(this,e),this.record=t,this.view=n},Hh=((Lh=function(){function e(t,n){_classCallCheck(this,e),this._viewContainer=t,this._context=new Gh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(e,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){qh("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){qh("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||Lh)(Zo(Ba),Zo(ja))},Lh.\u0275dir=_t({type:Lh,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),Lh),Gh=function e(){_classCallCheck(this,e),this.$implicit=null,this.ngIf=null};function qh(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(ke(t),"'."))}var Wh,$h,Qh,Yh=function(){function e(t,n){_classCallCheck(this,e),this._viewContainerRef=t,this._templateRef=n,this._created=!1}return _createClass(e,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}]),e}(),Kh=((Qh=function(){function e(){_classCallCheck(this,e),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return _createClass(e,[{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}},{key:"_matchCase",value:function(e){var t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}},{key:"_updateDefaultCases",value:function(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(var t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}},{key:"ngSwitch",set:function(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}}]),e}()).\u0275fac=function(e){return new(e||Qh)},Qh.\u0275dir=_t({type:Qh,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),Qh),Zh=(($h=function(){function e(t,n,r){_classCallCheck(this,e),this.ngSwitch=r,r._addCase(),this._view=new Yh(t,n)}return _createClass(e,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),e}()).\u0275fac=function(e){return new(e||$h)(Zo(Ba),Zo(ja),Zo(Kh,1))},$h.\u0275dir=_t({type:$h,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),$h),Xh=((Wh=function(){function e(t){_classCallCheck(this,e),this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return _createClass(e,[{key:"ngOnChanges",value:function(e){if(this._shouldRecreateView(e)){var t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}},{key:"_shouldRecreateView",value:function(e){var t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}},{key:"_hasContextShapeChanged",value:function(e){var t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){var r,i=_createForOfIteratorHelper(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(-1===t.indexOf(o))return!0}}catch(s){i.e(s)}finally{i.f()}return!1}return!0}},{key:"_updateExistingContext",value:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];this._viewRef.context[r]=this.ngTemplateOutletContext[r]}}}]),e}()).\u0275fac=function(e){return new(e||Wh)(Zo(Ba))},Wh.\u0275dir=_t({type:Wh,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[ta]}),Wh);function Jh(e,t){return Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(ke(e),"'"))}var ef,tf,nf,rf=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"createSubscription",value:function(e,t){return e.subscribe({next:t,error:function(e){throw e}})}},{key:"dispose",value:function(e){e.unsubscribe()}},{key:"onDestroy",value:function(e){e.unsubscribe()}}]),e}(),of=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"createSubscription",value:function(e,t){return e.then(t,(function(e){throw e}))}},{key:"dispose",value:function(e){}},{key:"onDestroy",value:function(e){}}]),e}()),sf=new rf,af=((nf=function(){function e(t){_classCallCheck(this,e),this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return _createClass(e,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):Uo(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,Bo.wrap(this._latestValue)):(e&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue)}},{key:"_subscribe",value:function(e){var t=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,(function(n){return t._updateLatestValue(e,n)}))}},{key:"_selectStrategy",value:function(t){if(cs(t))return of;if(ls(t))return sf;throw Jh(e,t)}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}]),e}()).\u0275fac=function(e){return new(e||nf)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue.Default,t=po(!0);if(null!=t||e&ue.Optional)return t;throw new Error("No provider for ChangeDetectorRef!")}())},nf.\u0275pipe=bt({name:"async",type:nf,pure:!1}),nf),uf=((tf=function(){function e(t){_classCallCheck(this,e),this.locale=t}return _createClass(e,[{key:"transform",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(null==t||""===t||t!=t)return null;try{return function(e,t,n,r){var i=function(e){if(Rh(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();var t,n=parseFloat(e);if(!isNaN(e-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var r=_slicedToArray(e.split("-").map((function(e){return+e})),3),i=r[0],o=r[1],s=r[2];return new Date(i,o-1,s)}if(t=e.match(mh))return function(e){var t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));var s=Number(e[4]||0)-n,a=Number(e[5]||0)-r,u=Number(e[6]||0),c=Math.round(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,s,a,u,c),t}(t)}var a=new Date(e);if(!Rh(a))throw new Error('Unable to convert "'.concat(e,'" into a date'));return a}(e);t=function e(t,n){var r=function(e){return Xa(e)[eu.LocaleId]}(t);if(_h[r]=_h[r]||{},_h[r][n])return _h[r][n];var i="";switch(n){case"shortDate":i=hh(t,ah.Short);break;case"mediumDate":i=hh(t,ah.Medium);break;case"longDate":i=hh(t,ah.Long);break;case"fullDate":i=hh(t,ah.Full);break;case"shortTime":i=fh(t,ah.Short);break;case"mediumTime":i=fh(t,ah.Medium);break;case"longTime":i=fh(t,ah.Long);break;case"fullTime":i=fh(t,ah.Full);break;case"short":var o=e(t,"shortTime"),s=e(t,"shortDate");i=Sh(dh(t,ah.Short),[o,s]);break;case"medium":var a=e(t,"mediumTime"),u=e(t,"mediumDate");i=Sh(dh(t,ah.Medium),[a,u]);break;case"long":var c=e(t,"longTime"),l=e(t,"longDate");i=Sh(dh(t,ah.Long),[c,l]);break;case"full":var h=e(t,"fullTime"),f=e(t,"fullDate");i=Sh(dh(t,ah.Full),[h,f])}return i&&(_h[r][n]=i),i}(n,t)||t;for(var o,s=[];t;){if(!(o=bh.exec(t))){s.push(t);break}var a=(s=s.concat(o.slice(1))).pop();if(!a)break;t=a}var u=i.getTimezoneOffset();r&&(u=Dh(r,u),i=function(e,t,n){var r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(Dh(t,r)-r))}(i,r));var c="";return s.forEach((function(e){var t=function(e){if(Oh[e])return Oh[e];var t;switch(e){case"G":case"GG":case"GGG":t=Th(Ch.Eras,sh.Abbreviated);break;case"GGGG":t=Th(Ch.Eras,sh.Wide);break;case"GGGGG":t=Th(Ch.Eras,sh.Narrow);break;case"y":t=Ih(wh.FullYear,1,0,!1,!0);break;case"yy":t=Ih(wh.FullYear,2,0,!0,!0);break;case"yyy":t=Ih(wh.FullYear,3,0,!1,!0);break;case"yyyy":t=Ih(wh.FullYear,4,0,!1,!0);break;case"M":case"L":t=Ih(wh.Month,1,1);break;case"MM":case"LL":t=Ih(wh.Month,2,1);break;case"MMM":t=Th(Ch.Months,sh.Abbreviated);break;case"MMMM":t=Th(Ch.Months,sh.Wide);break;case"MMMMM":t=Th(Ch.Months,sh.Narrow);break;case"LLL":t=Th(Ch.Months,sh.Abbreviated,oh.Standalone);break;case"LLLL":t=Th(Ch.Months,sh.Wide,oh.Standalone);break;case"LLLLL":t=Th(Ch.Months,sh.Narrow,oh.Standalone);break;case"w":t=Ah(1);break;case"ww":t=Ah(2);break;case"W":t=Ah(1,!0);break;case"d":t=Ih(wh.Date,1);break;case"dd":t=Ih(wh.Date,2);break;case"E":case"EE":case"EEE":t=Th(Ch.Days,sh.Abbreviated);break;case"EEEE":t=Th(Ch.Days,sh.Wide);break;case"EEEEE":t=Th(Ch.Days,sh.Narrow);break;case"EEEEEE":t=Th(Ch.Days,sh.Short);break;case"a":case"aa":case"aaa":t=Th(Ch.DayPeriods,sh.Abbreviated);break;case"aaaa":t=Th(Ch.DayPeriods,sh.Wide);break;case"aaaaa":t=Th(Ch.DayPeriods,sh.Narrow);break;case"b":case"bb":case"bbb":t=Th(Ch.DayPeriods,sh.Abbreviated,oh.Standalone,!0);break;case"bbbb":t=Th(Ch.DayPeriods,sh.Wide,oh.Standalone,!0);break;case"bbbbb":t=Th(Ch.DayPeriods,sh.Narrow,oh.Standalone,!0);break;case"B":case"BB":case"BBB":t=Th(Ch.DayPeriods,sh.Abbreviated,oh.Format,!0);break;case"BBBB":t=Th(Ch.DayPeriods,sh.Wide,oh.Format,!0);break;case"BBBBB":t=Th(Ch.DayPeriods,sh.Narrow,oh.Format,!0);break;case"h":t=Ih(wh.Hours,1,-12);break;case"hh":t=Ih(wh.Hours,2,-12);break;case"H":t=Ih(wh.Hours,1);break;case"HH":t=Ih(wh.Hours,2);break;case"m":t=Ih(wh.Minutes,1);break;case"mm":t=Ih(wh.Minutes,2);break;case"s":t=Ih(wh.Seconds,1);break;case"ss":t=Ih(wh.Seconds,2);break;case"S":t=Ih(wh.FractionalSeconds,1);break;case"SS":t=Ih(wh.FractionalSeconds,2);break;case"SSS":t=Ih(wh.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=xh(kh.Short);break;case"ZZZZZ":t=xh(kh.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=xh(kh.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=xh(kh.Long);break;default:return null}return Oh[e]=t,t}(e);c+=t?t(i,n,u):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),c}(t,n,i||this.locale,r)}catch(o){throw Jh(e,o.message)}}}]),e}()).\u0275fac=function(e){return new(e||tf)(Zo(Wu))},tf.\u0275pipe=bt({name:"date",type:tf,pure:!0}),tf),cf=((ef=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:ef}),ef.\u0275inj=fe({factory:function(e){return new(e||ef)},providers:[{provide:Mh,useClass:Vh}]}),ef);function lf(e){return"browser"===e}var hf,ff=((hf=function e(){_classCallCheck(this,e)}).\u0275prov=he({token:hf,providedIn:"root",factory:function(){return new df(Ye(Fl),window,Ye(hr))}}),hf),df=function(){function e(t,n,r){_classCallCheck(this,e),this.document=t,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var t=this.document.querySelector("#"+e);if(t)return void this.scrollToElement(t);var n=this.document.querySelector("[name='".concat(e,"']"));if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}]),e}(),pf=n("wj3C"),vf=n.n(pf),gf=n("6Joi");function yf(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uc;return new w((function(n){var r;return null!=t?t.schedule((function(){r=e.onSnapshot(n)})):r=e.onSnapshot(n),function(){null!=r&&r()}}))}(e,t)}function mf(e,t){return yf(e,t).pipe(j((function(e){return{payload:e,type:"query"}})))}function _f(e,t){return mf(e,t).pipe(j((function(e){return e.payload.docChanges().map((function(e){return{type:e.type,payload:e}}))})))}function bf(e,t,n){return mf(e,n).pipe(j((function(e){return e.payload.docChanges()})),zc((function(e,n){return function(e,t,n){return t.forEach((function(t){n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":e[t.newIndex]&&e[t.newIndex].doc.ref.isEqual(t.doc.ref)||e.splice(t.newIndex,0,t);break;case"modified":(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref))&&(t.oldIndex!==t.newIndex?(e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t)):e.splice(t.newIndex,1,t));break;case"removed":e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref)&&e.splice(t.oldIndex,1)}return e}(e,t))})),e}(e,n,t)}),[]),j((function(e){return e.map((function(e){return{type:e.type,payload:e}}))})))}function kf(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}var wf=function(){function e(t,n,r){_classCallCheck(this,e),this.ref=t,this.query=n,this.afs=r}return _createClass(e,[{key:"stateChanges",value:function(e){return e&&0!==e.length?_f(this.query,this.afs.schedulers.outsideAngular).pipe(j((function(t){return t.filter((function(t){return e.indexOf(t.type)>-1}))})),qc((function(e){return e.length>0})),this.afs.keepUnstableUntilFirst):_f(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(zc((function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(t))}),[]))}},{key:"snapshotChanges",value:function(e){var t=kf(e);return bf(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return mf(this.query,this.afs.schedulers.outsideAngular).pipe(j((function(t){return t.payload.docs.map((function(t){return e.idField?Object.assign(Object.assign({},t.data()),_defineProperty({},e.idField,t.id)):t.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(e){return H(this.query.get(e)).pipe(Xc(this.afs.schedulers.insideAngular))}},{key:"add",value:function(e){return this.ref.add(e)}},{key:"doc",value:function(e){return new Cf(this.ref.doc(e),this.afs)}}]),e}(),Cf=function(){function e(t,n){_classCallCheck(this,e),this.ref=t,this.afs=n}return _createClass(e,[{key:"set",value:function(e,t){return this.ref.set(e,t)}},{key:"update",value:function(e){return this.ref.update(e)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(e,t){var n=xf(this.ref.collection(e),t),r=n.ref,i=n.query;return new wf(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return yf(this.ref,this.afs.schedulers.outsideAngular).pipe(j((function(e){return{payload:e,type:"value"}}))).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return this.snapshotChanges().pipe(j((function(e){return e.payload.data()})))}},{key:"get",value:function(e){return H(this.ref.get(e)).pipe(Xc(this.afs.schedulers.insideAngular))}}]),e}(),Sf=function(){function e(t,n){_classCallCheck(this,e),this.query=t,this.afs=n}return _createClass(e,[{key:"stateChanges",value:function(e){return e&&0!==e.length?_f(this.query,this.afs.schedulers.outsideAngular).pipe(j((function(t){return t.filter((function(t){return e.indexOf(t.type)>-1}))})),qc((function(e){return e.length>0})),this.afs.keepUnstableUntilFirst):_f(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(zc((function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(t))}),[]))}},{key:"snapshotChanges",value:function(e){var t=kf(e);return bf(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return mf(this.query,this.afs.schedulers.outsideAngular).pipe(j((function(e){return e.payload.docs.map((function(e){return e.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(e){return H(this.query.get(e)).pipe(Xc(this.afs.schedulers.insideAngular))}}]),e}(),Ef=new Ue("angularfire2.enableFirestorePersistence"),If=new Ue("angularfire2.firestore.persistenceSettings"),Tf=new Ue("angularfire2.firestore.settings");function xf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return{query:t(e),ref:e}}var Af,Of,Df=((Of=function(){function e(t,n,r,i,o,s,a){var u=this;_classCallCheck(this,e),this.schedulers=new wl(s),this.keepUnstableUntilFirst=Cl(this.schedulers),this.firestore=s.runOutsideAngular((function(){var e=xl(t,s,n);gf.registerFirestore&&Object(gf.registerFirestore)(vf.a);var r=e.firestore();return i&&r.settings(i),r})),this.persistenceEnabled$=r&&!function(e){return"server"===e}(o)?s.runOutsideAngular((function(){try{return H(u.firestore.enablePersistence(a||void 0).then((function(){return!0}),(function(){return!1})))}catch(e){return Bc(!1)}})):Bc(!1)}return _createClass(e,[{key:"collection",value:function(e,t){var n=xf("string"==typeof e?this.firestore.collection(e):e,t),r=n.ref,i=n.query,o=this.schedulers.ngZone.run((function(){return r}));return new wf(o,i,this)}},{key:"collectionGroup",value:function(e,t){var n=t||function(e){return e},r=this.firestore.collectionGroup(e);return new Sf(n(r),this)}},{key:"doc",value:function(e){var t;t="string"==typeof e?this.firestore.doc(e):e;var n=this.schedulers.ngZone.run((function(){return t}));return new Cf(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),e}()).\u0275fac=function(e){return new(e||Of)(Ye(El),Ye(Il,8),Ye(Ef,8),Ye(Tf,8),Ye(Hu),Ye(oc),Ye(If,8))},Of.\u0275prov=he({factory:function(){return new Of(Ye(El),Ye(Il,8),Ye(Ef,8),Ye(Tf,8),Ye(Hu),Ye(oc),Ye(If,8))},token:Of,providedIn:"any"}),Of),Rf=((Af=function(){function e(t){var n=this;_classCallCheck(this,e),this._AngularFirestore=t,this._constants=new Lc(null);var r=this._AngularFirestore.doc("constants/constants");r.valueChanges(),r.valueChanges().subscribe((function(e){console.log(e),n._constants.next(e)}))}return _createClass(e,[{key:"constants",get:function(){return this._constants.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||Af)(Ye(Df))},Af.\u0275prov=he({token:Af,factory:Af.\u0275fac,providedIn:"root"}),Af),Pf=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),Nf=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}();function Ff(e){return function(t){return 0===e?Yc():t.lift(new Lf(e))}}var Lf=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new Nf}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Mf(e,this.total))}}]),e}(),Mf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(v);function Vf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new jf(e))}}var jf=function(){function e(t){_classCallCheck(this,e),this.defaultValue=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Uf(e,this.defaultValue))}}]),e}(),Uf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(v);function Bf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gf;return function(t){return t.lift(new zf(e))}}var zf=function(){function e(t){_classCallCheck(this,e),this.errorFactory=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Hf(e,this.errorFactory))}}]),e}(),Hf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).errorFactory=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}]),n}(v);function Gf(){return new Pf}function qf(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?qc((function(t,n){return e(t,n,r)})):m,Ff(1),n?Vf(t):Bf((function(){return new Pf})))}}var Wf={};function $f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=null,i=null;return O(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),Q(t,i).lift(new Qf(r))}var Qf=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Yf(e,this.resultSelector))}}]),e}(),Yf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass(n,[{key:"_next",value:function(e){this.values.push(Wf),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(M(this,r,r,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,r,i){var o=this.values,s=this.toRespond?o[n]===Wf?--this.toRespond:this.toRespond:0;o[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(V);function Kf(e){return new w((function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?H(n):Yc()).subscribe(t)}))}function Zf(){return $(1)}function Xf(e){return function(t){return 0===e?Yc():t.lift(new Jf(e))}}var Jf=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new Nf}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new ed(e,this.total))}}]),e}(),ed=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.ring=new Array,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()}}]),n}(v);function td(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?qc((function(t,n){return e(t,n,r)})):m,Xf(1),n?Vf(t):Bf((function(){return new Pf})))}}function nd(e){return function(t){var n=new rd(e),r=t.lift(n);return n.caught=r}}var rd=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new id(e,this.selector,this.caught))}}]),e}(),id=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).selector=r,o.caught=i,o}return _createClass(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(o){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new D(this,void 0,void 0);this.add(r);var i=M(this,t,void 0,void 0,r);i!==r&&this.add(i)}}}]),n}(V),od=function(){function e(t,n,r){_classCallCheck(this,e),this.predicate=t,this.thisArg=n,this.source=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new sd(e,this.predicate,this.thisArg,this.source))}}]),e}(),sd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;return _classCallCheck(this,n),(s=t.call(this,e)).predicate=r,s.thisArg=i,s.source=o,s.index=0,s.thisArg=i||_assertThisInitialized(s),s}return _createClass(n,[{key:"notifyComplete",value:function(e){this.destination.next(e),this.destination.complete()}},{key:"_next",value:function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(v);function ad(e,t){return"function"==typeof t?function(n){return n.pipe(ad((function(n,r){return H(e(n,r)).pipe(j((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new ud(e))}}var ud=function(){function e(t){_classCallCheck(this,e),this.project=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new cd(e,this.project))}}]),e}(),cd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new D(this,t,n),o=this.destination;o.add(i),this.innerSubscription=M(this,e,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}}]),n}(V);function ld(){return Zf()(Bc.apply(void 0,arguments))}function hd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return O(r)?(t.pop(),function(e){return ld(t,e,r)}):function(e){return ld(t,e)}}function fd(e,t){return G(e,t,1)}var dd,pd=function(){function e(t){_classCallCheck(this,e),this.callback=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new vd(e,this.callback))}}]),e}(),vd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).add(new f(r)),i}return n}(v),gd=function e(t,n){_classCallCheck(this,e),this.id=t,this.url=n},yd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(i=t.call(this,e,r)).navigationTrigger=o,i.restoredState=s,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(gd),md=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(gd),_d=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).reason=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(gd),bd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).error=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(gd),kd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;return _classCallCheck(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(gd),wd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;return _classCallCheck(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(gd),Cd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a.shouldActivate=s,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(gd),Sd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;return _classCallCheck(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(gd),Ed=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;return _classCallCheck(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(gd),Id=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),Td=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),xd=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Ad=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Od=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Dd=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Rd=function(){function e(t,n,r){_classCallCheck(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return _createClass(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),Pd=((dd=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||dd)},dd.\u0275cmp=dt({type:dd,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&is(0,"router-outlet")},directives:function(){return[Uv]},encapsulation:2}),dd),Nd=function(){function e(t){_classCallCheck(this,e),this.params=t||{}}return _createClass(e,[{key:"has",value:function(e){return this.params.hasOwnProperty(e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function Fd(e){return new Nd(e)}function Ld(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function Md(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}var Vd=function e(t,n){_classCallCheck(this,e),this.routes=t,this.module=n};function jd(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n];Ud(r,Bd(t,r))}}function Ud(e,t){if(!e)throw new Error("\n      Invalid configuration of route '".concat(t,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(e))throw new Error("Invalid configuration of route '".concat(t,"': Array cannot be specified"));if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error("Invalid configuration of route '".concat(t,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and children cannot be used together"));if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and loadChildren cannot be used together"));if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': children and loadChildren cannot be used together"));if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and component cannot be used together"));if(e.path&&e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': path and matcher cannot be used together"));if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': routes must have either a path or a matcher specified"));if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '".concat(t,"': path cannot start with a slash"));if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(t,'", redirectTo: "').concat(e.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '".concat(t,"': pathMatch can only be set to 'prefix' or 'full'"));e.children&&jd(e.children,t)}function Bd(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function zd(e){var t=e.children&&e.children.map(zd),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Pd),n}function Hd(e,t){var n,r=Object.keys(e),i=Object.keys(t);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!Gd(e[n=r[o]],t[n]))return!1;return!0}function Gd(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every((function(e){return t.indexOf(e)>-1})):e===t}function qd(e){return Array.prototype.concat.apply([],e)}function Wd(e){return e.length>0?e[e.length-1]:null}function $d(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Qd(e){return ls(e)?e:cs(e)?H(Promise.resolve(e)):Bc(e)}function Yd(e,t,n){return n?function(e,t){return Hd(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!Jd(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((function(n){return Gd(e[n],t[n])}))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length)return!!Jd(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Jd(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!e(n.children[o],r.children[o]))return!1}return!0}var s=i.slice(0,n.segments.length),a=i.slice(n.segments.length);return!!Jd(n.segments,s)&&!!n.children.primary&&t(n.children.primary,r,a)}(t,n,n.segments)}(e.root,t.root)}var Kd=function(){function e(t,n,r){_classCallCheck(this,e),this.root=t,this.queryParams=n,this.fragment=r}return _createClass(e,[{key:"toString",value:function(){return rp.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Fd(this.queryParams)),this._queryParamMap}}]),e}(),Zd=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.segments=t,this.children=n,this.parent=null,$d(n,(function(e,t){return e.parent=r}))}return _createClass(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return ip(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),e}(),Xd=function(){function e(t,n){_classCallCheck(this,e),this.path=t,this.parameters=n}return _createClass(e,[{key:"toString",value:function(){return lp(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Fd(this.parameters)),this._parameterMap}}]),e}();function Jd(e,t){return e.length===t.length&&e.every((function(e,n){return e.path===t[n].path}))}function ep(e,t){var n=[];return $d(e.children,(function(e,r){"primary"===r&&(n=n.concat(t(e,r)))})),$d(e.children,(function(e,r){"primary"!==r&&(n=n.concat(t(e,r)))})),n}var tp=function e(){_classCallCheck(this,e)},np=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parse",value:function(e){var t=new vp(e);return new Kd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){return"".concat("/"+function e(t,n){if(!t.hasChildren())return ip(t);if(n){var r=t.children.primary?e(t.children.primary,!1):"",i=[];return $d(t.children,(function(t,n){"primary"!==n&&i.push("".concat(n,":").concat(e(t,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=ep(t,(function(n,r){return"primary"===r?[e(t.children.primary,!1)]:["".concat(r,":").concat(e(n,!1))]}));return"".concat(ip(t),"/(").concat(o.join("//"),")")}(e.root,!0)).concat((t=e.queryParams,n=Object.keys(t).map((function(e){var n=t[e];return Array.isArray(n)?n.map((function(t){return"".concat(sp(e),"=").concat(sp(t))})).join("&"):"".concat(sp(e),"=").concat(sp(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof e.fragment?"#"+encodeURI(e.fragment):"");var t,n}}]),e}(),rp=new np;function ip(e){return e.segments.map((function(e){return lp(e)})).join("/")}function op(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sp(e){return op(e).replace(/%3B/gi,";")}function ap(e){return op(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function up(e){return decodeURIComponent(e)}function cp(e){return up(e.replace(/\+/g,"%20"))}function lp(e){return"".concat(ap(e.path)).concat((t=e.parameters,Object.keys(t).map((function(e){return";".concat(ap(e),"=").concat(ap(t[e]))})).join("")));var t}var hp=/^[^\/()?;=#]+/;function fp(e){var t=e.match(hp);return t?t[0]:""}var dp=/^[^=?&#]+/,pp=/^[^?&#]+/,vp=function(){function e(t){_classCallCheck(this,e),this.url=t,this.remaining=t}return _createClass(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zd([],{}):new Zd([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Zd(e,t)),n}},{key:"parseSegment",value:function(){var e=fp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new Xd(up(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=fp(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=fp(this.remaining);r&&(n=r,this.capture(n))}e[up(t)]=up(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(dp);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(pp);return t?t[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=cp(t),o=cp(n);if(e.hasOwnProperty(i)){var s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=fp(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i="primary");var o=this.parseChildren();t[i]=1===Object.keys(o).length?o.primary:new Zd([],o),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),gp=function(){function e(t){_classCallCheck(this,e),this._root=t}return _createClass(e,[{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=yp(e,this._root);return t?t.children.map((function(e){return e.value})):[]}},{key:"firstChild",value:function(e){var t=yp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=mp(e,this._root);return t.length<2?[]:t[t.length-2].children.map((function(e){return e.value})).filter((function(t){return t!==e}))}},{key:"pathFromRoot",value:function(e){return mp(e,this._root).map((function(e){return e.value}))}},{key:"root",get:function(){return this._root.value}}]),e}();function yp(e,t){if(e===t.value)return t;var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=yp(e,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function mp(e,t){if(e===t.value)return[t];var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=mp(e,n.value);if(i.length)return i.unshift(t),i}}catch(o){r.e(o)}finally{r.f()}return[]}var _p=function(){function e(t,n){_classCallCheck(this,e),this.value=t,this.children=n}return _createClass(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function bp(e){var t={};return e&&e.children.forEach((function(e){return t[e.value.outlet]=e})),t}var kp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).snapshot=r,Tp(_assertThisInitialized(i),e),i}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(gp);function wp(e,t){var n=function(e,t){var n=new Ep([],{},{},"",{},"primary",t,null,e.root,-1,{});return new Ip("",new _p(n,[]))}(e,t),r=new Lc([new Xd("",{})]),i=new Lc({}),o=new Lc({}),s=new Lc({}),a=new Lc(""),u=new Cp(r,i,s,a,o,"primary",t,n.root);return u.snapshot=n.root,new kp(new _p(u,[]),n)}var Cp=function(){function e(t,n,r,i,o,s,a,u){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=u}return _createClass(e,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(j((function(e){return Fd(e)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(j((function(e){return Fd(e)})))),this._queryParamMap}}]),e}();function Sp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(e){return e.reduce((function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var Ep=function(){function e(t,n,r,i,o,s,a,u,c,l,h){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return _createClass(e,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(e){return e.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Fd(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Fd(this.queryParams)),this._queryParamMap}}]),e}(),Ip=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,r)).url=e,Tp(_assertThisInitialized(i),r),i}return _createClass(n,[{key:"toString",value:function(){return xp(this._root)}}]),n}(gp);function Tp(e,t){t.value._routerState=e,t.children.forEach((function(t){return Tp(e,t)}))}function xp(e){var t=e.children.length>0?" { ".concat(e.children.map(xp).join(", ")," } "):"";return"".concat(e.value).concat(t)}function Ap(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Hd(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Hd(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Hd(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Hd(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Op(e,t){var n,r;return Hd(e.params,t.params)&&Jd(n=e.url,r=t.url)&&n.every((function(e,t){return Hd(e.parameters,r[t].parameters)}))&&!(!e.parent!=!t.parent)&&(!e.parent||Op(e.parent,t.parent))}function Dp(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Rp(e,t,n,r,i){var o={};return r&&$d(r,(function(e,t){o[t]=Array.isArray(e)?e.map((function(e){return""+e})):""+e})),new Kd(n.root===e?t:function e(t,n,r){var i={};return $d(t.children,(function(t,o){i[o]=t===n?r:e(t,n,r)})),new Zd(t.segments,i)}(n.root,e,t),o,i)}var Pp=function(){function e(t,n,r){if(_classCallCheck(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Dp(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(e){return"object"==typeof e&&null!=e&&e.outlets}));if(i&&i!==Wd(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),Np=function e(t,n,r){_classCallCheck(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r};function Fp(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:""+e}function Lp(e,t,n){if(e||(e=new Zd([],{})),0===e.segments.length&&e.hasChildren())return Mp(e,t,n);var r=function(e,t,n){for(var r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return o;var s=e.segments[i],a=Fp(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Bp(a,u,s))return o;r+=2}else{if(!Bp(a,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var o=new Zd(e.segments.slice(0,r.pathIndex),{});return o.children.primary=new Zd(e.segments.slice(r.pathIndex),e.children),Mp(o,0,i)}return r.match&&0===i.length?new Zd(e.segments,{}):r.match&&!e.hasChildren()?Vp(e,t,n):r.match?Mp(e,0,i):Vp(e,t,n)}function Mp(e,t,n){if(0===n.length)return new Zd(e.segments,{});var r=function(e){return"object"!=typeof e[0]||void 0===e[0].outlets?{primary:e}:e[0].outlets}(n),i={};return $d(r,(function(n,r){null!==n&&(i[r]=Lp(e.children[r],t,n))})),$d(e.children,(function(e,t){void 0===r[t]&&(i[t]=e)})),new Zd(e.segments,i)}function Vp(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=jp(n[i].outlets);return new Zd(r,o)}if(0===i&&Dp(n[0]))r.push(new Xd(e.segments[t].path,n[0])),i++;else{var s=Fp(n[i]),a=i<n.length-1?n[i+1]:null;s&&a&&Dp(a)?(r.push(new Xd(s,Up(a))),i+=2):(r.push(new Xd(s,{})),i++)}}return new Zd(r,{})}function jp(e){var t={};return $d(e,(function(e,n){null!==e&&(t[n]=Vp(new Zd([],{}),0,e))})),t}function Up(e){var t={};return $d(e,(function(e,n){return t[n]=""+e})),t}function Bp(e,t,n){return e==n.path&&Hd(t,n.parameters)}var zp=function(){function e(t,n,r,i){_classCallCheck(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Ap(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=bp(t);e.children.forEach((function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]})),$d(i,(function(e,t){r.deactivateRouteAndItsChildren(e,n)}))}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){var n=this,r=t.getContext(e.value.outlet);if(r){var i=bp(e),o=e.value.component?r.children:t;$d(i,(function(e,t){return n.deactivateRouteAndItsChildren(e,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=bp(t);e.children.forEach((function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new Dd(e.value.snapshot))})),e.children.length&&this.forwardEvent(new Ad(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(Ap(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Hp(a.route)}else{var u=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;s.attachRef=null,s.route=r,s.resolver=c,s.outlet&&s.outlet.activateWith(r,c),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function Hp(e){Ap(e.value),e.children.forEach(Hp)}function Gp(e){return"function"==typeof e}function qp(e){return e instanceof Kd}var Wp=function e(t){_classCallCheck(this,e),this.segmentGroup=t||null},$p=function e(t){_classCallCheck(this,e),this.urlTree=t};function Qp(e){return new w((function(t){return t.error(new Wp(e))}))}function Yp(e){return new w((function(t){return t.error(new $p(e))}))}function Kp(e){return new w((function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))}))}var Zp=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(Je)}return _createClass(e,[{key:"apply",value:function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(j((function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)}))).pipe(nd((function(t){if(t instanceof $p)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof Wp)throw e.noMatchError(t);throw t})))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(j((function(n){return t.createUrlTree(n,e.queryParams,e.fragment)}))).pipe(nd((function(e){if(e instanceof Wp)throw t.noMatchError(e);throw e})))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var r=e.segments.length>0?new Zd([],{primary:e}):e;return new Kd(r,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(j((function(e){return new Zd([],e)}))):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Bc({});var o=[],s=[],a={};return $d(n,(function(n,i){var u,c,l=(u=i,c=n,r.expandSegmentGroup(e,t,c,u)).pipe(j((function(e){return a[i]=e})));"primary"===i?o.push(l):s.push(l)})),Bc.apply(null,o.concat(s)).pipe(Zf(),td(),j((function(){return a})))}(n.children)}},{key:"expandSegment",value:function(e,t,n,r,i,o){var s=this;return Bc.apply(void 0,_toConsumableArray(n)).pipe(j((function(a){return s.expandSegmentAgainstRoute(e,t,n,a,r,i,o).pipe(nd((function(e){if(e instanceof Wp)return Bc(null);throw e})))})),Zf(),qf((function(e){return!!e})),nd((function(e,n){if(e instanceof Pf||"EmptyError"===e.name){if(s.noLeftoversInUrl(t,r,i))return Bc(new Zd([],{}));throw new Wp(t)}throw e})))}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,o,s){return tv(r)!==o?Qp(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):Qp(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Yp(o):this.lineralizeSegments(n,o).pipe(G((function(n){var o=new Zd(n,{});return i.expandSegment(e,o,t,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){var s=this,a=Xp(t,r,i),u=a.matched,c=a.consumedSegments,l=a.lastChild,h=a.positionalParamSegments;if(!u)return Qp(t);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?Yp(f):this.lineralizeSegments(r,f).pipe(G((function(r){return s.expandSegment(e,t,n,r.concat(i.slice(l)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(j((function(e){return n._loadedConfig=e,new Zd(r,{})}))):Bc(new Zd(r,{}));var o=Xp(t,n,r),s=o.matched,a=o.consumedSegments,u=o.lastChild;if(!s)return Qp(t);var c=r.slice(u);return this.getChildConfig(e,n,r).pipe(G((function(e){var n=e.module,r=e.routes,o=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some((function(n){return ev(e,t,n)&&"primary"!==tv(n)}))}(e,n,r)?{segmentGroup:Jp(new Zd(t,function(e,t){var n={};n.primary=t;var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==tv(o)&&(n[tv(o)]=new Zd([],{}))}}catch(s){i.e(s)}finally{i.f()}return n}(r,new Zd(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some((function(n){return ev(e,t,n)}))}(e,n,r)?{segmentGroup:Jp(new Zd(e.segments,function(e,t,n,r){var i,o={},s=_createForOfIteratorHelper(n);try{for(s.s();!(i=s.n()).done;){var a=i.value;ev(e,t,a)&&!r[tv(a)]&&(o[tv(a)]=new Zd([],{}))}}catch(u){s.e(u)}finally{s.f()}return Object.assign(Object.assign({},r),o)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,a,c,r),s=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&s.hasChildren()?i.expandChildren(n,r,s).pipe(j((function(e){return new Zd(a,e)}))):0===r.length&&0===u.length?Bc(new Zd(a,{})):i.expandSegment(n,s,r,u,"primary",!0).pipe(j((function(e){return new Zd(a.concat(e.segments),e.children)})))})))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?Bc(new Vd(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Bc(t._loadedConfig):function(e,t,n){var r,i=t.canLoad;return i&&0!==i.length?H(i).pipe(j((function(r){var i,o=e.get(r);if(function(e){return e&&Gp(e.canLoad)}(o))i=o.canLoad(t,n);else{if(!Gp(o))throw new Error("Invalid CanLoad guard");i=o(t,n)}return Qd(i)}))).pipe(Zf(),(r=function(e){return!0===e},function(e){return e.lift(new od(r,void 0,e))})):Bc(!0)}(e.injector,t,n).pipe(G((function(n){return n?r.configLoader.load(e.injector,t).pipe(j((function(e){return t._loadedConfig=e,e}))):function(e){return new w((function(t){return t.error(Ld("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))}))}(t)}))):Bc(new Vd([],e))}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Bc(n);if(r.numberOfChildren>1||!r.children.primary)return Kp(e.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new Kd(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return $d(e,(function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e})),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,o=this.createSegments(e,t.segments,n,r),s={};return $d(t.children,(function(t,o){s[o]=i.createSegmentGroup(e,t,n,r)})),new Zd(o,s)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map((function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)}))}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n,r=0,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===e.path)return t.splice(r),o;r++}}catch(s){i.e(s)}finally{i.f()}return e}}]),e}();function Xp(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(t.matcher||Md)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Jp(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new Zd(e.segments.concat(t.segments),t.children)}return e}function ev(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function tv(e){return e.outlet||"primary"}var nv=function e(t){_classCallCheck(this,e),this.path=t,this.route=this.path[this.path.length-1]},rv=function e(t,n){_classCallCheck(this,e),this.component=t,this.route=n};function iv(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function ov(e,t,n){var r=bp(e),i=e.value;$d(r,(function(e,r){ov(e,i.component?t?t.children.getContext(r):null:t,n)})),n.canDeactivateChecks.push(new rv(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var sv=Symbol("INITIAL_VALUE");function av(){return ad((function(e){return $f.apply(void 0,_toConsumableArray(e.map((function(e){return e.pipe(Ff(1),hd(sv))})))).pipe(zc((function(e,t){var n=!1;return t.reduce((function(e,r,i){if(e!==sv)return e;if(r===sv&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||qp(r))return r}return e}),e)}),sv),qc((function(e){return e!==sv})),j((function(e){return qp(e)?e:!0===e})),Ff(1))}))}function uv(e,t){return null!==e&&t&&t(new Od(e)),Bc(!0)}function cv(e,t){return null!==e&&t&&t(new xd(e)),Bc(!0)}function lv(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?Bc(r.map((function(r){return Kf((function(){var i,o=iv(r,t,n);if(function(e){return e&&Gp(e.canActivate)}(o))i=Qd(o.canActivate(t,e));else{if(!Gp(o))throw new Error("Invalid CanActivate guard");i=Qd(o(t,e))}return i.pipe(qf())}))}))).pipe(av()):Bc(!0)}function hv(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map((function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)})).filter((function(e){return null!==e})).map((function(t){return Kf((function(){return Bc(t.guards.map((function(i){var o,s=iv(i,t.node,n);if(function(e){return e&&Gp(e.canActivateChild)}(s))o=Qd(s.canActivateChild(r,e));else{if(!Gp(s))throw new Error("Invalid CanActivateChild guard");o=Qd(s(r,e))}return o.pipe(qf())}))).pipe(av())}))}));return Bc(i).pipe(av())}var fv=function e(){_classCallCheck(this,e)},dv=function(){function e(t,n,r,i,o,s){_classCallCheck(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}return _createClass(e,[{key:"recognize",value:function(){try{var e=gv(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new Ep([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new _p(n,t),i=new Ip(this.url,r);return this.inheritParamsAndData(i._root),Bc(i)}catch(o){return new w((function(e){return e.error(o)}))}}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=Sp(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach((function(e){return t.inheritParamsAndData(e)}))}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){var n,r=this,i=ep(t,(function(t,n){return r.processSegmentGroup(e,t,n)}));return n={},i.forEach((function(e){var t=n[e.value.outlet];if(t){var r=t.url.map((function(e){return e.toString()})).join("/"),i=e.value.url.map((function(e){return e.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[e.value.outlet]=e.value})),i.sort((function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)})),i}},{key:"processSegment",value:function(e,t,n,r){var i,o=_createForOfIteratorHelper(e);try{for(o.s();!(i=o.n()).done;){var s=i.value;try{return this.processSegmentAgainstRoute(s,t,n,r)}catch(a){if(!(a instanceof fv))throw a}}}catch(u){o.e(u)}finally{o.f()}if(this.noLeftoversInUrl(t,n,r))return[];throw new fv}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo)throw new fv;if((e.outlet||"primary")!==r)throw new fv;var i,o=[],s=[];if("**"===e.path){var a=n.length>0?Wd(n).parameters:{};i=new Ep(n,a,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_v(e),r,e.component,e,pv(t),vv(t)+n.length,bv(e))}else{var u=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new fv;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(t.matcher||Md)(n,e,t);if(!r)throw new fv;var i={};$d(r.posParams,(function(e,t){i[t]=e.path}));var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(t,e,n);o=u.consumedSegments,s=n.slice(u.lastChild),i=new Ep(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_v(e),r,e.component,e,pv(t),vv(t)+o.length,bv(e))}var c=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),l=gv(t,o,s,c,this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return[new _p(i,d)]}if(0===c.length&&0===f.length)return[new _p(i,[])];var p=this.processSegment(c,h,f,"primary");return[new _p(i,p)]}}]),e}();function pv(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function vv(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function gv(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some((function(n){return yv(e,t,n)&&"primary"!==mv(n)}))}(e,n,r)){var o=new Zd(t,function(e,t,n,r){var i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var o,s=_createForOfIteratorHelper(n);try{for(s.s();!(o=s.n()).done;){var a=o.value;if(""===a.path&&"primary"!==mv(a)){var u=new Zd([],{});u._sourceSegment=e,u._segmentIndexShift=t.length,i[mv(a)]=u}}}catch(c){s.e(c)}finally{s.f()}return i}(e,t,r,new Zd(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some((function(n){return yv(e,t,n)}))}(e,n,r)){var s=new Zd(e.segments,function(e,t,n,r,i,o){var s,a={},u=_createForOfIteratorHelper(r);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(yv(e,n,c)&&!i[mv(c)]){var l=new Zd([],{});l._sourceSegment=e,l._segmentIndexShift="legacy"===o?e.segments.length:t.length,a[mv(c)]=l}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),a)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}var a=new Zd(e.segments,e.children);return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}function yv(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function mv(e){return e.outlet||"primary"}function _v(e){return e.data||{}}function bv(e){return e.resolve||{}}function kv(e,t,n,r){var i=iv(e,t,r);return Qd(i.resolve?i.resolve(t,n):i(t,n))}function wv(e){return function(t){return t.pipe(ad((function(t){var n=e(t);return n?H(n).pipe(j((function(){return t}))):H([t])})))}}var Cv=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}(),Sv=new Ue("ROUTES"),Ev=function(){function e(t,n,r,i){_classCallCheck(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(e,[{key:"load",value:function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(j((function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new Vd(qd(i.injector.get(Sv)).map(zd),i)})))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?H(this.loader.load(e)):Qd(e()).pipe(G((function(e){return e instanceof et?Bc(e):H(t.compiler.compileModuleAsync(e))})))}}]),e}(),Iv=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function Tv(e){throw e}function xv(e,t,n){return t.parse("/")}function Av(e,t){return Bc(null)}var Ov,Dv,Rv=((Dv=function(){function e(t,n,r,i,o,s,a,u){var c=this;_classCallCheck(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new x,this.errorHandler=Tv,this.malformedUriErrorHandler=xv,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Av,afterPreactivation:Av},this.urlHandlingStrategy=new Iv,this.routeReuseStrategy=new Cv,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(Je),this.console=o.get(qu);var l=o.get(oc);this.isNgZoneEnabled=l instanceof oc,this.resetConfig(u),this.currentUrlTree=new Kd(new Zd([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ev(s,a,(function(e){return c.triggerEvent(new Id(e))}),(function(e){return c.triggerEvent(new Td(e))})),this.routerState=wp(this.currentUrlTree,this.rootComponentType),this.transitions=new Lc({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(qc((function(e){return 0!==e.id})),j((function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})})),ad((function(e){var r,i,o,s,a=!1,u=!1;return Bc(e).pipe(ol((function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}})),ad((function(e){var r,i,o,s,a=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||a)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Bc(e).pipe(ad((function(e){var r=t.transitions.getValue();return n.next(new yd(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?Qc:[e]})),ad((function(e){return Promise.resolve(e)})),(r=t.ngModule.injector,i=t.configLoader,o=t.urlSerializer,s=t.config,function(e){return e.pipe(ad((function(e){return function(e,t,n,r,i){return new Zp(e,t,n,r,i).apply()}(r,i,o,e.extractedUrl,s).pipe(j((function(t){return Object.assign(Object.assign({},e),{urlAfterRedirects:t})})))})))}),ol((function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})})),function(e,n,r,i,o){return function(r){return r.pipe(G((function(r){return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new dv(e,t,n,r,i,o).recognize()}(e,n,r.urlAfterRedirects,(s=r.urlAfterRedirects,t.serializeUrl(s)),i,o).pipe(j((function(e){return Object.assign(Object.assign({},r),{targetSnapshot:e})})));var s})))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),ol((function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),ol((function(e){var r=new kd(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)})));if(a&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var u=e.id,c=e.extractedUrl,l=e.source,h=e.restoredState,f=e.extras,d=new yd(u,t.serializeUrl(c),l,h);n.next(d);var p=wp(c,t.rootComponentType).snapshot;return Bc(Object.assign(Object.assign({},e),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Qc})),wv((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,s=e.extras,a=s.skipLocationChange,u=s.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!u})})),ol((function(e){var n=new wd(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),j((function(e){return Object.assign(Object.assign({},e),{guards:(n=e.targetSnapshot,r=e.currentSnapshot,i=t.rootContexts,o=n._root,function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},s=bp(n);return t.children.forEach((function(t){!function(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},s=t.value,a=n?n.value:null,u=r?r.getContext(t.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){var c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Jd(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Jd(e.url,t.url)||!Hd(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Op(e,t)||!Hd(e.queryParams,t.queryParams);case"paramsChange":default:return!Op(e,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new nv(i)):(s.data=a.data,s._resolvedData=a._resolvedData),e(t,n,s.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new rv(u&&u.outlet&&u.outlet.component||null,a))}else a&&ov(n,u,o),o.canActivateChecks.push(new nv(i)),e(t,null,s.component?u?u.children:null:r,i,o)}(t,s[t.value.outlet],r,i.concat([t.value]),o),delete s[t.value.outlet]})),$d(s,(function(e,t){return ov(e,r.getContext(t),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(e,t){return function(n){return n.pipe(G((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,s=o.canActivateChecks,a=o.canDeactivateChecks;return 0===a.length&&0===s.length?Bc(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return H(e).pipe(G((function(e){return function(e,t,n,r,i){var o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Bc(o.map((function(o){var s,a=iv(o,t,i);if(function(e){return e&&Gp(e.canDeactivate)}(a))s=Qd(a.canDeactivate(e,t,n,r));else{if(!Gp(a))throw new Error("Invalid CanDeactivate guard");s=Qd(a(e,t,n,r))}return s.pipe(qf())}))).pipe(av()):Bc(!0)}(e.component,e.route,n,t,r)})),qf((function(e){return!0!==e}),!0))}(a,r,i,e).pipe(G((function(n){return n&&"boolean"==typeof n?function(e,t,n,r){return H(t).pipe(fd((function(t){return H([cv(t.route.parent,r),uv(t.route,r),hv(e,t.path,n),lv(e,t.route,n)]).pipe(Zf(),qf((function(e){return!0!==e}),!0))})),qf((function(e){return!0!==e}),!0))}(r,s,e,t):Bc(n)})),j((function(e){return Object.assign(Object.assign({},n),{guardsResult:e})})))})))}}(t.ngModule.injector,(function(e){return t.triggerEvent(e)})),ol((function(e){if(qp(e.guardsResult)){var n=Ld('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}})),ol((function(e){var n=new Cd(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)})),qc((function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new _d(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(r),e.resolve(!1),!1}return!0})),wv((function(e){if(e.guards.canActivateChecks.length)return Bc(e).pipe(ol((function(e){var n=new Sd(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),(n=t.paramsInheritanceStrategy,r=t.ngModule.injector,function(e){return e.pipe(G((function(e){var t=e.targetSnapshot,i=e.guards.canActivateChecks;return i.length?H(i).pipe(fd((function(e){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return Bc({});if(1===i.length){var o=i[0];return kv(e[o],t,n,r).pipe(j((function(e){return _defineProperty({},o,e)})))}var s={};return H(i).pipe(G((function(i){return kv(e[i],t,n,r).pipe(j((function(e){return s[i]=e,e})))}))).pipe(td(),j((function(){return s})))}(e._resolve,e,t,r).pipe(j((function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Sp(e,n).resolve),null})))}(e.route,t,n,r)})),function(e,t){return arguments.length>=2?function(n){return _(zc(e,t),Xf(1),Vf(t))(n)}:function(t){return _(zc((function(t,n,r){return e(t,n,r+1)})),Xf(1))(t)}}((function(e,t){return e})),j((function(t){return e}))):Bc(e)})))}),ol((function(e){var n=new Ed(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})));var n,r})),wv((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,s=e.extras,a=s.skipLocationChange,u=s.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!u})})),j((function(e){var n=function(e,t,n){var r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(t,n,r){return n.children.map((function(n){var i,o=_createForOfIteratorHelper(r.children);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(t.shouldReuseRoute(s.value.snapshot,n.value))return e(t,n,s)}}catch(a){o.e(a)}finally{o.f()}return e(t,n)}))}(t,n,r);return new _p(i,o)}var s=t.retrieve(n.value);if(s){var a=s.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,a),a}var u,c=new Cp(new Lc((u=n.value).url),new Lc(u.params),new Lc(u.queryParams),new Lc(u.fragment),new Lc(u.data),u.outlet,u.component,u),l=n.children.map((function(n){return e(t,n)}));return new _p(c,l)}(e,t._root,n?n._root:void 0);return new kp(r,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:n})})),ol((function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),(i=t.rootContexts,o=t.routeReuseStrategy,s=function(e){return t.triggerEvent(e)},j((function(e){return new zp(o,e.targetRouterState,e.currentRouterState,s).activate(i),e}))),ol({next:function(){a=!0},complete:function(){a=!0}}),(r=function(){if(!a&&!u){t.resetUrlToCurrentUrlTree();var r=new _d(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(r),e.resolve(!1)}t.currentNavigation=null},function(e){return e.lift(new pd(r))}),nd((function(r){if(u=!0,(a=r)&&a.ngNavigationCancelingError){var i=qp(r.url);i||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var o=new _d(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(o),i?setTimeout((function(){var n=t.urlHandlingStrategy.merge(r.url,t.rawUrlTree);return t.scheduleNavigation(n,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})}),0):e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var s=new bd(e.id,t.serializeUrl(e.extractedUrl),r);n.next(s);try{e.resolve(t.errorHandler(r))}catch(c){e.reject(c)}}var a;return Qc})))})))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(t){var n=e.parseUrl(t.url),r="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout((function(){e.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){jd(e),this.config=e.map(zd),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,r=t.queryParams,i=t.fragment,o=t.preserveQueryParams,s=t.queryParamsHandling,a=t.preserveFragment;gr()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var u=n||this.routerState.root,c=a?this.currentUrlTree.fragment:i,l=null;if(s)switch(s){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}else l=o?this.currentUrlTree.queryParams:r||null;return null!==l&&(l=this.removeEmptyProps(l)),function(e,t,n,r,i){if(0===n.length)return Rp(t.root,t.root,t,r,i);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Pp(!0,0,e);var t=0,n=!1,r=e.reduce((function(e,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return $d(r.outlets,(function(e,t){o[t]="string"==typeof e?e.split("/"):e})),[].concat(_toConsumableArray(e),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(e),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(e),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))})),e):[].concat(_toConsumableArray(e),[r])}),[]);return new Pp(n,t,r)}(n);if(o.toRoot())return Rp(t.root,new Zd([],{}),t,r,i);var s=function(e,t,n){if(e.isAbsolute)return new Np(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Np(n.snapshot._urlSegment,!0,0);var r=Dp(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Np(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),a=s.processChildren?Mp(s.segmentGroup,s.index,o.commands):Lp(s.segmentGroup,s.index,o.commands);return Rp(s.segmentGroup,a,t,r,i)}(u,this.currentUrlTree,e,l,c)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};gr()&&this.isNgZoneEnabled&&!oc.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=qp(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(qp(e))return Yd(this.currentUrlTree,e,t);var n=this.parseUrl(e);return Yd(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return null!=r&&(t[n]=r),t}),{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe((function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new md(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)}),(function(t){e.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(e,t,n,r,i){var o,s,a,u=this.getTransition();if(u&&"imperative"!==t&&"imperative"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(u&&"hashchange"==t&&"popstate"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(u&&"popstate"==t&&"hashchange"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);i?(o=i.resolve,s=i.reject,a=i.promise):a=new Promise((function(e,t){o=e,s=t}));var c=++this.navigationId;return this.setTransition({id:c,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch((function(e){return Promise.reject(e)}))}},{key:"setBrowserUrl",value:function(e,t,n,r){var i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),e}()).\u0275fac=function(e){Jo()},Dv.\u0275dir=_t({type:Dv}),Dv),Pv=((Ov=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.router=t,this.route=n,this.locationStrategy=r,this.commands=[],this.subscription=t.events.subscribe((function(e){e instanceof md&&i.updateTargetUrlAndHref()}))}return _createClass(e,[{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:Nv(this.skipLocationChange),replaceUrl:Nv(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){gr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Nv(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Nv(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||Ov)(Zo(Rv),Zo(Cp),Zo($l))},Ov.\u0275dir=_t({type:Ov,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&hs("click",(function(e){return t.onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)})),2&e&&(Ws("href",t.href,br),$o("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[ta]}),Ov);function Nv(e){return""===e||!!e}var Fv,Lv,Mv,Vv=function e(){_classCallCheck(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new jv,this.attachRef=null},jv=function(){function e(){_classCallCheck(this,e),this.contexts=new Map}return _createClass(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new Vv,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),Uv=((Fv=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.parentContexts=t,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new pu,this.deactivateEvents=new pu,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Bv(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),e}()).\u0275fac=function(e){return new(e||Fv)(Zo(jv),Zo(Ba),Zo(pa),Xo("name"),Zo(vo))},Fv.\u0275dir=_t({type:Fv,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),Fv),Bv=function(){function e(t,n,r){_classCallCheck(this,e),this.route=t,this.childContexts=n,this.parent=r}return _createClass(e,[{key:"get",value:function(e,t){return e===Cp?this.route:e===jv?this.childContexts:this.parent.get(e,t)}}]),e}(),zv=function e(){_classCallCheck(this,e)},Hv=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return Bc(null)}}]),e}(),Gv=((Mv=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new Ev(n,r,(function(e){return t.triggerEvent(new Id(e))}),(function(e){return t.triggerEvent(new Td(e))}))}return _createClass(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(qc((function(e){return e instanceof md})),fd((function(){return e.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var e=this.injector.get(Je);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,r=[],i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var s=o._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children))}}catch(a){i.e(a)}finally{i.f()}return H(r).pipe($(),j((function(e){})))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,(function(){return n.loader.load(e.injector,t).pipe(G((function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)})))}))}}]),e}()).\u0275fac=function(e){return new(e||Mv)(Ye(Rv),Ye(Tc),Ye(tc),Ye(Ro),Ye(zv))},Mv.\u0275prov=he({token:Mv,factory:Mv.\u0275fac}),Mv),qv=((Lv=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof yd?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof md&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof Rd&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new Rd(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){Jo()},Lv.\u0275dir=_t({type:Lv}),Lv),Wv=new Ue("ROUTER_CONFIGURATION"),$v=new Ue("ROUTER_FORROOT_GUARD"),Qv=[th,{provide:tp,useClass:np},{provide:Rv,useFactory:function(e,t,n,r,i,o,s){var a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,l=new Rv(null,e,t,n,r,i,o,qd(s));if(u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),a.errorHandler&&(l.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(l.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){var h=Pl();l.events.subscribe((function(e){h.logGroup("Router Event: "+e.constructor.name),h.log(e.toString()),h.log(e),h.logGroupEnd()}))}return a.onSameUrlNavigation&&(l.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(l.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(l.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(l.relativeLinkResolution=a.relativeLinkResolution),l},deps:[tp,jv,th,Ro,Tc,tc,Sv,Wv,[function(){return function e(){_classCallCheck(this,e)}}(),new oe],[function(){return function e(){_classCallCheck(this,e)}}(),new oe]]},jv,{provide:Cp,useFactory:function(e){return e.routerState.root},deps:[Rv]},{provide:Tc,useClass:Oc},Gv,Hv,function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return t().pipe(nd((function(){return Bc(null)})))}}]),e}(),{provide:Wv,useValue:{enableTracing:!1}}];function Yv(){return new _c("Router",Rv)}var Kv,Zv=((Kv=function(){function e(t,n){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[Qv,tg(t),{provide:$v,useFactory:eg,deps:[[Rv,new oe,new ae]]},{provide:Wv,useValue:n||{}},{provide:$l,useFactory:Jv,deps:[Ll,[new ie(Xl),new oe],Wv]},{provide:qv,useFactory:Xv,deps:[Rv,ff,Wv]},{provide:zv,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Hv},{provide:_c,multi:!0,useFactory:Yv},[rg,{provide:Mu,multi:!0,useFactory:ig,deps:[rg]},{provide:sg,useFactory:og,deps:[rg]},{provide:Gu,multi:!0,useExisting:sg}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[tg(t)]}}}]),e}()).\u0275mod=yt({type:Kv}),Kv.\u0275inj=fe({factory:function(e){return new(e||Kv)(Ye($v,8),Ye(Rv,8))}}),Kv);function Xv(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new qv(e,t,n)}function Jv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new eh(e,t):new Jl(e,t)}function eg(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function tg(e){return[{provide:Po,multi:!0,useValue:e},{provide:Sv,multi:!0,useValue:e}]}var ng,rg=((ng=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new x}return _createClass(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(jl,Promise.resolve(null)).then((function(){var t=null,n=new Promise((function(e){return t=e})),r=e.injector.get(Rv),i=e.injector.get(Wv);if(e.isLegacyDisabled(i)||e.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return e.initNavigation?Bc(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(Wv),n=this.injector.get(Gv),r=this.injector.get(qv),i=this.injector.get(Rv),o=this.injector.get(Ec);e===o.components[0]&&(this.isLegacyEnabled(t)?i.initialNavigation():this.isLegacyDisabled(t)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}},{key:"isLegacyDisabled",value:function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}]),e}()).\u0275fac=function(e){return new(e||ng)(Ye(Ro))},ng.\u0275prov=he({token:ng,factory:ng.\u0275fac}),ng);function ig(e){return e.appInitializer.bind(e)}function og(e){return e.bootstrapListener.bind(e)}var sg=new Ue("Router Initializer"),ag=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this)).scheduler=o,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=r<1?1:r,e._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return _createClass(n,[{key:"nextInfiniteTimeWindow",value:function(e){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this._events.push(new ug(this._getNow(),e)),this._trimBufferThenGetEvents(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new E;if(this.isStopped||this.hasError?t=f.EMPTY:(this.observers.push(e),t=new I(this,e)),i&&e.add(e=new el(e,i)),n)for(var s=0;s<o&&!e.closed;s++)e.next(r[s]);else for(var a=0;a<o&&!e.closed;a++)e.next(r[a].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||rl).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r}}]),n}(x),ug=function e(t,n){_classCallCheck(this,e),this.time=t,this.value=n};function cg(e,t,n){var r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},function(e){return e.lift(function(e){var t,n,r=e.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=e.windowTime,s=void 0===o?Number.POSITIVE_INFINITY:o,a=e.refCount,u=e.scheduler,c=0,l=!1,h=!1;return function(e){c++,t&&!l||(l=!1,t=new ag(i,s,u),n=e.subscribe({next:function(e){t.next(e)},error:function(e){l=!0,t.error(e)},complete:function(){h=!0,n=void 0,t.complete()}}));var r=t.subscribe(this);this.add((function(){c--,r.unsubscribe(),n&&!h&&a&&0===c&&(n.unsubscribe(),n=void 0,t=void 0)}))}}(r))}}var lg,hg,fg,dg,pg,vg,gg,yg,mg=((dg=function e(t,r,i,o){_classCallCheck(this,e);var s=new wl(o),a=Cl(s),u=Bc(void 0).pipe(Xc(s.outsideAngular),ad((function(){return o.runOutsideAngular((function(){return n.e(1).then(n.bind(null,"6nsN"))}))})),j((function(){return xl(t,o,r)})),j((function(e){return o.runOutsideAngular((function(){return e.auth()}))})),cg({bufferSize:1,refCount:!1}));return u.pipe(qf()).subscribe(),this.authState=u.pipe(ad((function(e){return o.runOutsideAngular((function(){return new w(e.onAuthStateChanged.bind(e))}))})),a),this.user=u.pipe(ad((function(e){return o.runOutsideAngular((function(){return new w(e.onIdTokenChanged.bind(e))}))})),a),this.idToken=this.user.pipe(ad((function(e){return e?H(e.getIdToken()):Bc(null)}))),this.idTokenResult=this.user.pipe(ad((function(e){return e?H(e.getIdTokenResult()):Bc(null)}))),function(e,t,n){return new Proxy(e,{get:function(r,i){return n.runOutsideAngular((function(){if(e[i])return e[i];if(Sl.includes(i))return function(){};var r=t.toPromise().then((function(e){var t=e&&e[i];return"function"==typeof t?t.bind(e):t&&t.then?t.then((function(e){return n.run((function(){return e}))})):n.run((function(){return t}))}));return new Proxy((function(){}),{get:function(e,t){return r[t]},apply:function(e,t,n){return r.then((function(e){return e&&e.apply(void 0,_toConsumableArray(n))}))}})}))}})}(this,u,o)}).\u0275fac=function(e){return new(e||dg)(Ye(El),Ye(Il,8),Ye(Hu),Ye(oc))},dg.\u0275prov=he({factory:function(){return new dg(Ye(El),Ye(Il,8),Ye(Hu),Ye(oc))},token:dg,providedIn:"any"}),dg),_g=((fg=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._AngularFireAuth=t,this._AngularFirestore=n,this.user$=new Lc(null),t.user.subscribe((function(e){if(e){var t=n.doc("users/"+e.email);t.valueChanges().pipe(qf()).subscribe((function(n){n.emailVerified!==e.emailVerified?t.update({emailVerified:e.emailVerified}).then((function(){n.emailVerified=e.emailVerified,r._user=n,r.user$.next(r._user)})):(r._user=n,r.user$.next(r._user))}))}else r._user=null,r.user$.next(r._user)}))}return _createClass(e,[{key:"logIn",value:function(e,t){var n=this;return new Promise((function(r,i){n._AngularFireAuth.signInWithEmailAndPassword(e,t).then((function(e){console.log("[User Serv] Logged in"),r()}),(function(e){console.error("[User Serv] Login failed: "+e),i()}))}))}},{key:"logOut",value:function(){var e=this;return new Promise((function(t,n){e._AngularFireAuth.signOut().then((function(e){console.log("[User Serv] Signed out"),t()}),(function(e){console.error("[User Serv] Signout failed: "+e),n()}))}))}},{key:"createAccount",value:function(e,t){var n=this;return new Promise((function(r,i){n._AngularFireAuth.createUserWithEmailAndPassword(e.email,t).then((function(t){n._AngularFirestore.doc("users/"+e.email).set(e).then(r).catch((function(e){console.log("[User Serv] Error creating account: "+e),i(e)}))})).catch((function(e){console.log("[User Serv] Error creating account: "+e),i(e)}))}))}},{key:"getUserObservable",value:function(){return this.user$.asObservable()}},{key:"getUserSnapshot",value:function(){return this._user}},{key:"setBranch",value:function(e){var t=this;return this._AngularFirestore.doc("users/"+this._user.email).update({branch:e}).then((function(){t._user.branch=e}))}},{key:"sendVerificationEmail",value:function(){return new Promise((function(e,t){ml.auth().currentUser.sendEmailVerification().then(e,t)}))}}]),e}()).\u0275fac=function(e){return new(e||fg)(Ye(mg),Ye(Df))},fg.\u0275prov=he({token:fg,factory:fg.\u0275fac,providedIn:"root"}),fg),bg=((hg=function(){function e(t,n,r){_classCallCheck(this,e),this._AngularFirestore=t,this._Router=n,this._UserService=r,this.report$=new Lc(this._report),this.page$=new Lc(this._page)}return _createClass(e,[{key:"openReport",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Promise((function(r,i){var o=t._AngularFirestore.doc("/reports/"+e);o.valueChanges().pipe(qf()).subscribe((function(s){t._report=s,t.report$.next(s),void 0===t._report?(console.error("[Report Serv] Report "+e+" does not exist."),i()):o.collection("pages").doc(n.toString()).valueChanges().pipe(qf()).subscribe((function(e){t._page=e,t.page$.next(e),console.log(t._page),console.log("[Report Serv] Report and page successfully opened."),r()}))}))}))}},{key:"generateReportID",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,r=arguments.length>2?arguments[2]:void 0;return new Promise((function(i,o){var s="0123456789abcdefghijklmnopqrstuvwxyz",a="";if(navigator.onLine)if(r)a=r;else for(var u=n;u>0;--u)a+=s[Math.floor(Math.random()*s.length)];else o("offline");t?e._AngularFirestore.collection("/reports",(function(e){return e.where("id","==",a)})).valueChanges().pipe(qf()).subscribe((function(t){t.length>0?(console.warn("[Report Serv] Generated ID is not unique. Retrying..."),e.generateReportID().then((function(e){return i(e)}))):i(a)})):i(a)}))}},{key:"createNewReport",value:function(e){var t=this;return new Promise((function(n,r){if(navigator.onLine){var i,o=t._AngularFirestore.doc("/templates/"+e);o.get().pipe(qf()).subscribe((function(e){i=e.data(),t.generateReportID().then((function(e){var r=t._AngularFirestore.doc("/reports/"+e);i.id=e,i.author=t._UserService.getUserSnapshot().email,i.branch=t._UserService.getUserSnapshot().branch,r.set(i).then((function(){var t=[];i.pageStatuses.forEach((function(e,n){var i=new Promise((function(e,t){o.collection("pages").doc(n.toString()).valueChanges().pipe(qf()).subscribe((function(i){var o=r.collection("pages").doc(n.toString());console.log(i),o.set(i).then(e).catch(t)}),t)}));t.push(i)})),Promise.all(t).then((function(){return n(e)}))}))}))}),(function(e){console.error(e),r()}))}else r()}))}},{key:"duplicateReport",value:function(e){var t=this;return console.log("[Report Serv] Duplicating "+e),new Promise((function(n,r){t._AngularFirestore.doc("/reports/"+e).valueChanges().pipe(qf()).subscribe((function(i){var o=i;console.log(o),t.generateReportID().then((function(s){o.templateID=i.templateID,o.id=s,o.completionStatus="incomplete",t._AngularFirestore.doc("/reports/"+s).set(o).then((function(){for(var i=[],a=function(n){t._AngularFirestore.doc("/reports/"+e+"/pages/"+n.toString()).valueChanges().pipe(qf()).subscribe((function(e){i.push(t._AngularFirestore.doc("/reports/"+s+"/pages/"+n.toString()).set(e))}))},u=0;u<o.pageCount;u++)a(u);Promise.all(i).then((function(){console.log("Report duplicated successfully."),n(s)}),r)}),r)}))}),r)}))}},{key:"getMagicString",value:function(e){var t=this;return new Promise((function(n,r){var i,o,s=[],a=[];t._AngularFirestore.doc("/reports/"+e).get().pipe(qf()).subscribe((function(r){o=r.data();for(var u=function(n){a.push(new Promise((function(r,i){t._AngularFirestore.doc("/reports/"+e+"/pages/"+n.toString()).get().pipe(qf()).subscribe((function(e){s.push(e.data()),r()}),i)})))},c=0;c<o.pageCount;c++)u(c);Promise.all(a).then((function(){i={id:o.id,templateID:o.templateID,title:o.title||null,coverageDate:o.coverageDate||null,submitDate:o.submitDate||null,author:o.author||null,branch:o.branch||null,additionalInfo:o.additionalInfo||null,pageStatuses:o.pageStatuses||null,pageCount:o.pageCount,completionStatus:o.completionStatus,pages:s};var e=JSON.stringify(i);console.log(i),n(e)}))}))}))}},{key:"closeReport",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._report=null,this.report$.next(null),e&&this._Router.navigate([""]),console.log("[Report Serv] The report has been successfully closed.")}},{key:"deleteReport",value:function(e){var t=this;return new Promise((function(n,r){for(var i=t._AngularFirestore.doc("/reports/"+e.id),o=0;o<e.pageCount;o++)i.collection("pages").doc(o.toString()).delete();i.delete().then((function(){console.log("Report deleted"),n()}),(function(e){console.error("Deletion failed: "+e),r()}))}))}},{key:"openPage",value:function(e){var t=this;return console.log("[Report Serv] Opening page "+e+"..."),new Promise((function(n,r){t._report&&navigator.onLine||(console.error("[Report Serv] Cannot open page. No report is open or device offline."),r()),t._AngularFirestore.doc("/reports/"+t._report.id+"/pages/"+e.toString()).valueChanges().pipe(qf()).subscribe((function(e){t._page=e,t.page$.next(e),n()}),r)}))}},{key:"submitReport",value:function(){var e=this;return new Promise((function(t,n){!1===navigator.onLine&&(console.error("[Report Serv] Cannot submit report. Device offline."),n()),e._report||(console.error("[Report Serv] Cannot submit report. None is open."),n()),e._report.completionStatus="complete",e._report.submitDate=(new Date).toISOString(),e._report.author=e._UserService.getUserSnapshot().email,e.report$.next(e._report),e.saveReportOnline().then((function(){e.closeReport(),t()}),n)}))}},{key:"attachToBranch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._report.branch=this._UserService.getUserSnapshot().branch,this.report$.next(this._report),e&&this.saveReportOnline()}},{key:"getReportObservable",value:function(){return this.report$.asObservable()}},{key:"getPageObservable",value:function(){return this.page$.asObservable()}},{key:"saveReportOnline",value:function(){var e=this;return new Promise((function(t,n){navigator.onLine||(console.error("[Report Serv] Cannot save report online. Device offline"),n()),e._report?e._AngularFirestore.doc("reports/"+e._report.id).set(e._report).then((function(){console.log("[Report Serv] Successfully saved report to server."),t()}),n):(console.error("[Report Serv] Cannot save report online. None is open."),n())}))}},{key:"savePageOnline",value:function(){var e=this;return new Promise((function(t,n){navigator.onLine||(console.error("[Report Serv] Cannot save page online. Device offline"),n()),e._page?e._AngularFirestore.doc("reports/"+e._report.id+"/pages/"+e._page.index).set(e._page).then((function(){console.log("[Report Serv] Successfully saved page "+e._page.index+" to server."),t()}),n):(console.error("[Report Serv] Cannot save page online. None is open."),n())}))}},{key:"setSectionValue",value:function(e,t,n){console.log(n)}},{key:"setCoverageDate",value:function(e){e&&!isNaN(new Date(e).getTime())?(console.log("[Report Serv] Setting coverage date to "+e),this._report.coverageDate=e,this.report$.next(this._report)):console.warn("[Report Serv] Cannot set coverage date. Invalid date.")}},{key:"setSubmitDate",value:function(e){isNaN(new Date(e).getTime())?console.error("[Report Serv] Cannot set coverage date. Invalid date."):(console.log("[Report Serv] Setting submit date to "+e),this._report.submitDate=e,this.report$.next(this._report))}},{key:"setAuthor",value:function(){this._report.author=this._UserService.getUserSnapshot().email,this.report$.next(this._report)}},{key:"setAdditionalInfo",value:function(e){console.log("[Report Serv] Setting additional info to "+e),this._report.additionalInfo=e,this.report$.next(this._report)}},{key:"setTitle",value:function(e){console.log("[Report Serv] Setting title to "+e),this._report.title=e}},{key:"setSubject",value:function(e){console.log("[Report Serv] Setting subject to "+e),this._report.title=e}},{key:"setTags",value:function(e){console.log("[Report Serv] Setting tags to "+e),this._report.tags=e}},{key:"setPageStatus",value:function(e,t){"complete"!==t&&"incomplete"!==t&&console.warn("Is "+t+" a valid status?"),this._report.pageStatuses[e]=t,this.report$.next(this._report)}},{key:"setCompletionStatus",value:function(e){"complete"!==e&&"incomplete"!==e&&console.warn("Is "+e+" a valid status?"),this._report.completionStatus=e}},{key:"fetchReports",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._AngularFirestore.doc("reports/"+e),i=new Promise((function(e,t){r.valueChanges().pipe(qf()).subscribe((function(t){e(t)}),t)}));n.push(i)})),Promise.all(n)}},{key:"fetchAllReports",value:function(){var e=this;return confirm("This will read all reports from the database, and may take a while. Are you sure?")?new Promise((function(t,n){e._AngularFirestore.collection("/reports").valueChanges().pipe(qf()).subscribe((function(e){t(e)}),n)})):this.fetchAllReportsWithLimit(10)}},{key:"fetchAllReportsWithLimit",value:function(e){var t=this;return new Promise((function(n,r){t._AngularFirestore.collection("/reports",(function(t){return t.limit(e)})).valueChanges().pipe(qf()).subscribe((function(e){n(e)}),r)}))}},{key:"fetchReportsByBranchWithLimit",value:function(e,t){var n=this;return new Promise((function(r,i){n._AngularFirestore.collection("/reports",(function(n){return n.where("branch","==",e).limit(t)})).valueChanges().pipe(qf()).subscribe((function(e){r(e)}),i)}))}},{key:"fetchReportsByBranch",value:function(e){var t=this;return new Promise((function(n,r){t._AngularFirestore.collection("/reports",(function(t){return t.where("branch","==",e)})).valueChanges().pipe(qf()).subscribe((function(e){n(e)}),r)}))}},{key:"pushTemplateObjectToDB",value:function(e,t){var n=this._AngularFirestore.doc("/templates/"+e.templateID);n.set(e).then((function(){var e=n.collection("pages");t.forEach((function(t,n){e.doc(n.toString()).set(t)}))}))}},{key:"getFullReportCount",value:function(){var e=this;return console.log("[Report Serv] Getting full report count"),new Promise((function(t,n){e._AngularFirestore.collection("/reports").get().pipe(qf()).subscribe((function(e){t(e.size)}),n)}))}},{key:"getReportCountByBranch",value:function(e){var t=this;return console.log("[Report Serv] Getting report count for "+e),new Promise((function(n,r){t._AngularFirestore.collection("/reports",(function(t){return t.where("branch","==",e)})).get().pipe(qf()).subscribe((function(e){n(e.size)}),r)}))}},{key:"report",get:function(){return this._report}},{key:"page",get:function(){return this._page}}]),e}()).\u0275fac=function(e){return new(e||hg)(Ye(Df),Ye(Rv),Ye(_g))},hg.\u0275prov=he({token:hg,factory:hg.\u0275fac,providedIn:"root"}),hg),kg=((lg=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this._AngularFirestore=t,this._Router=n,this._UserServ=r,this._templateNames=[],this._templates=new Map,this.templates$=new Lc(this._templates),t.collection("templates").get().subscribe((function(e){e.forEach((function(e){i._templates.set(e.id,e.data()),i._templateNames.push(e.id)})),i.templates$.next(i._templates)})),this._UserServ.getUserObservable().subscribe((function(e){console.log("[Template Serv] User changed, refreshing template list"),i.refreshTemplateList()}))}return _createClass(e,[{key:"refreshTemplateList",value:function(){var e=this;this._AngularFirestore.collection("templates").get().pipe(qf()).subscribe((function(t){e._templateNames=[],e._templates.clear(),t.forEach((function(t){e._templates.set(t.id,t.data()),e._templateNames.push(t.id)})),console.log(e._templateNames),e.templates$.next(e._templates)}))}},{key:"markHidden",value:function(e){var t=this;return new Promise((function(n,r){var i=t._AngularFirestore.doc("/templates/"+e);i.get().subscribe((function(o){o.exists?i.update({hidden:!0}).then((function(){var r=t._templates.get(e);r.hidden=!0,t._templates.set(e,r),n()}),r):(console.error("Cannot mark "+e+" as hidden. Template does not exist."),r())}))}))}},{key:"markVisible",value:function(e){var t=this;return new Promise((function(n,r){var i=t._AngularFirestore.doc("/templates/"+e);i.get().subscribe((function(o){o.exists?i.update({hidden:!1}).then((function(){var r=t._templates.get(e);r.hidden=!1,t._templates.set(e,r),n()}),r):(console.error("Cannot mark "+e+" as visible. Template does not exist."),r())}))}))}},{key:"openTemplate",value:function(e){console.log("[Template Serv] Opening "+e),this._Router.navigate(["builder"],{queryParams:{open:e}})}},{key:"duplicateTemplate",value:function(e,t){var n=this;return console.log("[Template Serv] Duplicating "+e),new Promise((function(r,i){n._AngularFirestore.doc("/templates/"+e).valueChanges().pipe(qf()).subscribe((function(o){var s=o;s.templateID=t,s.id="",n._AngularFirestore.doc("/templates/"+t).set(s).then((function(){for(var o=[],a=function(r){n._AngularFirestore.doc("/templates/"+e+"/pages/"+r.toString()).valueChanges().pipe(qf()).subscribe((function(e){o.push(n._AngularFirestore.doc("/templates/"+t+"/pages/"+r.toString()).set(e))}))},u=0;u<s.pageCount;u++)a(u);Promise.all(o).then((function(){console.log("Template duplicated successfully."),n.refreshTemplateList(),r()}),i)}),i)}),i)}))}},{key:"deleteTemplate",value:function(e){var t=this;return console.log("[Template Serv] Deleting "+e),new Promise((function(n,r){var i=t._AngularFirestore.doc("/templates/"+e),o=t._templates.get(e),s=prompt('Are you sure? To delete, type "confirm": ',"");if(s&&"confirm"==s)if(o){for(var a=0;a<o.pageCount;a++)t._AngularFirestore.doc("/templates/"+e+"/pages/"+a.toString()).delete();i.delete().then((function(){t.refreshTemplateList(),console.log("Deleted "+i.ref.path),n()}),r)}else r();else r()}))}},{key:"newTemplate",value:function(){console.log("[Template Serv] Opening fresh template"),this._Router.navigate(["builder"])}},{key:"saveTemplate",value:function(e){var t=this;return new Promise((function(n,r){console.log("[Template Serv] Saving template "+e.templateID+"...");var i={id:e.id,templateID:e.templateID,pageCount:e.pageCount,pageStatuses:e.pageStatuses,completionStatus:e.completionStatus};t._AngularFirestore.doc("/templates/"+e.templateID).set(i).then((function(){var i=[];e.pages.forEach((function(n){i.push(t._AngularFirestore.doc("/templates/"+e.templateID+"/pages/"+n.index.toString()).set(n))})),Promise.all(i).then((function(){console.log("[Template Serv] Template saved."),n()}),r)}),r)}))}},{key:"markTemplateHidden",value:function(e){return new Promise((function(e,t){}))}},{key:"templateNames",get:function(){return this._templateNames}},{key:"visibleTemplates",get:function(){var e=[];return this._templates.forEach((function(t,n,r){t.hidden||e.push(t)})),e}},{key:"templateObservable",get:function(){return this.templates$.asObservable()}},{key:"templateSnapshot",get:function(){return this._templates}}]),e}()).\u0275fac=function(e){return new(e||lg)(Ye(Df),Ye(Rv),Ye(_g))},lg.\u0275prov=he({token:lg,factory:lg.\u0275fac,providedIn:"root"}),lg),wg=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=Cg||(Cg=document.querySelector("base"))?Cg.getAttribute("href"):null;return null==n?null:(t=n,pg||(pg=document.createElement("a")),pg.setAttribute("href",t),"/"===pg.pathname.charAt(0)?pg.pathname:"/"+pg.pathname)}},{key:"resetBaseElement",value:function(){Cg=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return function(e,t){t=encodeURIComponent(t);var n,r=_createForOfIteratorHelper(e.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),s=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),a=s[0],u=s[1];if(a.trim()===t)return decodeURIComponent(u)}}catch(c){r.e(c)}finally{r.f()}return null}(document.cookie,e)}}],[{key:"makeCurrent",value:function(){var e;e=new n,Rl||(Rl=e)}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function e(){_classCallCheck(this,e)}}())),Cg=null,Sg=new Ue("TRANSITION_ID"),Eg=[{provide:Mu,useFactory:function(e,t,n){return function(){n.get(Vu).donePromise.then((function(){var n=Pl();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter((function(t){return t.getAttribute("ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}},deps:[Sg,Fl,Ro],multi:!0}],Ig=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){Re.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},Re.getAllAngularTestabilities=function(){return e.getAllTestabilities()},Re.getAllAngularRootElements=function(){return e.getAllRootElements()},Re.frameworkStabilizers||(Re.frameworkStabilizers=[]),Re.frameworkStabilizers.push((function(e){var t=Re.getAllAngularTestabilities(),n=t.length,r=!1,i=function(t){r=r||t,0==--n&&e(r)};t.forEach((function(e){e.whenStable(i)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?Pl().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){var t;t=new e,gc=t}}]),e}(),Tg=new Ue("EventManagerPlugins"),xg=((vg=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=r})),this._plugins=t.slice().reverse()}return _createClass(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event "+e)}}]),e}()).\u0275fac=function(e){return new(e||vg)(Ye(Tg),Ye(oc))},vg.\u0275prov=he({token:vg,factory:vg.\u0275fac}),vg),Ag=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=Pl().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),Og=((yg=function(){function e(){_classCallCheck(this,e),this._stylesSet=new Set}return _createClass(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}()).\u0275fac=function(e){return new(e||yg)},yg.\u0275prov=he({token:yg,factory:yg.\u0275fac}),yg),Dg=((gg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(e.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach((function(e){var r=n._doc.createElement("style");r.textContent=e,n._styleNodes.add(t.appendChild(r))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return Pl().remove(e)}))}}]),n}(Og)).\u0275fac=function(e){return new(e||gg)(Ye(Fl))},gg.\u0275prov=he({token:gg,factory:gg.\u0275fac}),gg),Rg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Pg=/%COMP%/g;function Ng(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?Ng(e,i,n):(i=i.replace(Pg,e),n.push(i))}return n}function Fg(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var Lg,Mg,Vg,jg,Ug=((Lg=function(){function e(t,n,r){_classCallCheck(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Bg(t)}return _createClass(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case ct.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new zg(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case ct.Native:case ct.ShadowDom:return new Hg(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=Ng(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Lg)(Ye(xg),Ye(Dg),Ye(ju))},Lg.\u0275prov=he({token:Lg,factory:Lg.\u0275fac}),Lg),Bg=function(){function e(t){_classCallCheck(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(Rg[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=Rg[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=Rg[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&ma.DashCase?e.style.setProperty(t,n,r&ma.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&ma.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Fg(n)):this.eventManager.addEventListener(e,t,Fg(n))}}]),e}(),zg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;_classCallCheck(this,n),(s=t.call(this,e)).component=i;var a,u=Ng(o+"-"+i.id,i.styles,[]);return r.addStyles(u),s.contentAttr="_ngcontent-%COMP%".replace(Pg,o+"-"+i.id),s.hostAttr=(a=o+"-"+i.id,"_nghost-%COMP%".replace(Pg,a)),s}return _createClass(n,[{key:"applyToHost",value:function(e){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,e,t);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(Bg),Hg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;_classCallCheck(this,n),(s=t.call(this,e)).sharedStylesHost=r,s.hostEl=i,s.component=o,s.shadowRoot=o.encapsulation===ct.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var a=Ng(o.id,o.styles,[]),u=0;u<a.length;u++){var c=document.createElement("style");c.textContent=a[u],s.shadowRoot.appendChild(c)}return s}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(Bg),Gg=((Mg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(Ag)).\u0275fac=function(e){return new(e||Mg)(Ye(Fl))},Mg.\u0275prov=he({token:Mg,factory:Mg.\u0275fac}),Mg),qg=["alt","control","meta","shift"],Wg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$g={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Qg={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},Yg=((Vg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var i=n.parseEventName(t),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Pl().onAndCancel(e,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),o="";if(qg.forEach((function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")})),o+=i,0!=t.length||0===i.length)return null;var s={};return s.domEventName=r,s.fullKey=o,s}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&$g.hasOwnProperty(t)&&(t=$g[t]))}return Wg[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),qg.forEach((function(r){r!=n&&(0,Qg[r])(e)&&(t+=r+".")})),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded((function(){return t(i)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(Ag)).\u0275fac=function(e){return new(e||Vg)(Ye(Fl))},Vg.\u0275prov=he({token:Vg,factory:Vg.\u0275fac}),Vg),Kg=bc(Rc,"browser",[{provide:Hu,useValue:"browser"},{provide:zu,useValue:function(){wg.makeCurrent(),Ig.init()},multi:!0},{provide:Fl,useFactory:function(){return function(e){Dt=e}(document),document},deps:[]}]),Zg=[[],{provide:mo,useValue:"root"},{provide:hr,useFactory:function(){return new hr},deps:[]},{provide:Tg,useClass:Gg,multi:!0,deps:[Fl,oc,Hu]},{provide:Tg,useClass:Yg,multi:!0,deps:[Fl]},[],{provide:Ug,useClass:Ug,deps:[xg,Dg,ju]},{provide:ya,useExisting:Ug},{provide:Og,useExisting:Dg},{provide:Dg,useClass:Dg,deps:[Fl]},{provide:pc,useClass:pc,deps:[oc]},{provide:xg,useClass:xg,deps:[Tg,oc]},[]],Xg=((jg=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:ju,useValue:t.appId},{provide:Sg,useExisting:ju},Eg]}}}]),e}()).\u0275mod=yt({type:jg}),jg.\u0275inj=fe({factory:function(e){return new(e||jg)(Ye(jg,12))},providers:Zg,imports:[cf,Nc]}),jg);"undefined"!=typeof window&&window;var Jg=function(){function e(t,n){_classCallCheck(this,e),this.dueTime=t,this.scheduler=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new ey(e,this.dueTime,this.scheduler))}}]),e}(),ey=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).dueTime=r,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return _createClass(n,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ty,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),n}(v);function ty(e){e.debouncedNext()}var ny=function(){function e(t,n){_classCallCheck(this,e),this.compare=t,this.keySelector=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new ry(e,this.compare,this.keySelector))}}]),e}(),ry=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return _createClass(n,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}]),n}(v),iy=function e(){_classCallCheck(this,e)};function oy(e,t){return{type:7,name:e,definitions:t,options:{}}}function sy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:t,timings:e}}function ay(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:e,options:t}}function uy(e){return{type:6,styles:e,offset:null}}function cy(e,t,n){return{type:0,name:e,styles:t,options:n}}function ly(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:e,animation:t,options:n}}function hy(e){Promise.resolve(null).then(e)}var fy=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+n}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;hy((function(){return e._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(e){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),dy=function(){function e(t){var n=this;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var r=0,i=0,o=0,s=this.players.length;0==s?hy((function(){return n._onFinish()})):this.players.forEach((function(e){e.onDone((function(){++r==s&&n._onFinish()})),e.onDestroy((function(){++i==s&&n._onDestroy()})),e.onStart((function(){++o==s&&n._onStart()}))})),this.totalTime=this.players.reduce((function(e,t){return Math.max(e,t.totalTime)}),0)}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(e){return e.init()}))}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(e){return e.play()}))}},{key:"pause",value:function(){this.players.forEach((function(e){return e.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(e){return e.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(e){return e.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(e){return e.destroy()})),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(e){return e.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach((function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)}))}},{key:"getPosition",value:function(){var e=0;return this.players.forEach((function(t){var n=t.getPosition();e=Math.min(n,e)})),e}},{key:"beforeDestroy",value:function(){this.players.forEach((function(e){e.beforeDestroy&&e.beforeDestroy()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}();function py(e,t){return new w((function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,s=0,a=function(a){var u=H(e[a]),c=!1;n.add(u.subscribe({next:function(e){c||(c=!0,s++),i[a]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&c||(s===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=i[n],e}),{}):i),n.complete())}}))},u=0;u<r;u++)a(u);else n.complete()}))}var vy,gy,yy,my,_y=new Ue("NgValueAccessor"),by={provide:_y,useExisting:Se((function(){return ky})),multi:!0},ky=((vy=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||vy)(Zo(_a),Zo(va))},vy.\u0275dir=_t({type:vy,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&hs("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(){return t.onTouched()}))},features:[ha([by])]}),vy),wy={provide:_y,useExisting:Se((function(){return Sy})),multi:!0},Cy=new Ue("CompositionEventMode"),Sy=((my=function(){function e(t,n,r){var i;_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=r,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=Pl()?Pl().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}()).\u0275fac=function(e){return new(e||my)(Zo(_a),Zo(va),Zo(Cy,8))},my.\u0275dir=_t({type:my,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&hs("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[ha([wy])]}),my),Ey=((yy=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),e}()).\u0275fac=function(e){return new(e||yy)},yy.\u0275dir=_t({type:yy}),yy),Iy=((gy=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(Ey)).\u0275fac=function(e){return Ty(e||gy)},gy.\u0275dir=_t({type:gy,features:[Ys]}),gy),Ty=ar(Iy);function xy(){throw new Error("unimplemented")}var Ay,Oy,Dy=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return _createClass(n,[{key:"validator",get:function(){return xy()}},{key:"asyncValidator",get:function(){return xy()}}]),n}(Ey),Ry=function(){function e(t){_classCallCheck(this,e),this._cd=t}return _createClass(e,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),e}(),Py=((Oy=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(Ry)).\u0275fac=function(e){return new(e||Oy)(Zo(Dy,2))},Oy.\u0275dir=_t({type:Oy,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&Os("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[Ys]}),Oy),Ny=((Ay=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(Ry)).\u0275fac=function(e){return new(e||Ay)(Zo(Iy,2))},Ay.\u0275dir=_t({type:Ay,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&Os("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[Ys]}),Ay);function Fy(e){return null==e||0===e.length}var Ly=new Ue("NgValidators"),My=new Ue("NgAsyncValidators"),Vy=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,jy=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"min",value:function(e){return function(t){if(Fy(t.value)||Fy(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(Fy(t.value)||Fy(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return Fy(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return Fy(e.value)||Vy.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){if(Fy(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}},{key:"maxLength",value:function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(r="","^"!==t.charAt(0)&&(r+="^"),r+=t,"$"!==t.charAt(t.length-1)&&(r+="$"),n=new RegExp(r)):(r=t.toString(),n=t),function(e){if(Fy(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:r,actualValue:t}}}):e.nullValidator;var n,r}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(Uy);return 0==t.length?null:function(e){return zy(function(e,t){return t.map((function(t){return t(e)}))}(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(Uy);return 0==t.length?null:function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var r=t[0];if(u(r))return py(r,null);if(c(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return py(i.map((function(e){return r[e]})),i)}}if("function"==typeof t[t.length-1]){var o=t.pop();return py(t=1===t.length&&u(t[0])?t[0]:t,null).pipe(j((function(e){return o.apply(void 0,_toConsumableArray(e))})))}return py(t,null)}(function(e,t){return t.map((function(t){return t(e)}))}(e,t).map(By)).pipe(j(zy))}}}]),e}();function Uy(e){return null!=e}function By(e){var t=cs(e)?H(e):e;if(!ls(t))throw new Error("Expected validator to return Promise or Observable.");return t}function zy(e){var t={};return e.forEach((function(e){t=null!=e?Object.assign(Object.assign({},t),e):t})),0===Object.keys(t).length?null:t}function Hy(e){return e.validate?function(t){return e.validate(t)}:e}function Gy(e){return e.validate?function(t){return e.validate(t)}:e}var qy,Wy,$y,Qy,Yy={provide:_y,useExisting:Se((function(){return Ky})),multi:!0},Ky=((qy=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||qy)(Zo(_a),Zo(va))},qy.\u0275dir=_t({type:qy,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&hs("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[ha([Yy])]}),qy),Zy={provide:_y,useExisting:Se((function(){return Jy})),multi:!0},Xy=(($y=function(){function e(){_classCallCheck(this,e),this._accessors=[]}return _createClass(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach((function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)}))}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}()).\u0275fac=function(e){return new(e||$y)},$y.\u0275prov=he({token:$y,factory:$y.\u0275fac}),$y),Jy=((Wy=function(){function e(t,n,r,i){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get(Dy),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),e}()).\u0275fac=function(e){return new(e||Wy)(Zo(_a),Zo(va),Zo(Xy),Zo(Ro))},Wy.\u0275dir=_t({type:Wy,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&hs("change",(function(){return t.onChange()}))("blur",(function(){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[ha([Zy])]}),Wy),em={provide:_y,useExisting:Se((function(){return tm})),multi:!0},tm=((Qy=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||Qy)(Zo(_a),Zo(va))},Qy.\u0275dir=_t({type:Qy,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&hs("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[ha([em])]}),Qy),nm='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',rm='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',im='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',om=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+nm)}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(rm,"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ").concat(im))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+nm)}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+rm)}},{key:"arrayParentException",value:function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(e){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(e,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===e?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),e}(),sm={provide:_y,useExisting:Se((function(){return lm})),multi:!0};function am(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var um,cm,lm=((cm=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Uo}return _createClass(e,[{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=am(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r),e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}}]),e}()).\u0275fac=function(e){return new(e||cm)(Zo(_a),Zo(va))},cm.\u0275dir=_t({type:cm,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&hs("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[ha([sm])]}),cm),hm=((um=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}return _createClass(e,[{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(am(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}}]),e}()).\u0275fac=function(e){return new(e||um)(Zo(va),Zo(_a),Zo(lm,9))},um.\u0275dir=_t({type:um,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),um),fm={provide:_y,useExisting:Se((function(){return gm})),multi:!0};function dm(e,t){return null==e?""+t:("string"==typeof t&&(t="'".concat(t,"'")),t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var pm,vm,gm=((vm=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Uo}return _createClass(e,[{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var r=e.map((function(e){return n._getOptionId(e)}));t=function(e,t){e._setSelected(r.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var s=i.item(o),a=t._getOptionValue(s.value);r.push(a)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var h=t._getOptionValue(l.value);r.push(h)}}t.value=r,e(r)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r)._value,e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}}]),e}()).\u0275fac=function(e){return new(e||vm)(Zo(_a),Zo(va))},vm.\u0275dir=_t({type:vm,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&hs("change",(function(e){return t.onChange(e.target)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[ha([fm])]}),vm),ym=((pm=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}return _createClass(e,[{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"_setSelected",value:function(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(e){null!=this._select&&(this._value=e,this._setElementValue(dm(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._select?(this._value=e,this._setElementValue(dm(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}}]),e}()).\u0275fac=function(e){return new(e||pm)(Zo(va),Zo(_a),Zo(gm,9))},pm.\u0275dir=_t({type:pm,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),pm);function mm(e,t){return[].concat(_toConsumableArray(t.path),[e])}function _m(e,t){e||Cm(t,"Cannot find control with"),t.valueAccessor||Cm(t,"No value accessor for form control with"),e.validator=jy.compose([e.validator,t.validator]),e.asyncValidator=jy.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange((function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&bm(e,t)}))}(e,t),function(e,t){e.registerOnChange((function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&bm(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange((function(e){t.valueAccessor.setDisabledState(e)})),t._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))})),t._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))}))}function bm(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function km(e,t){null==e&&Cm(t,"Cannot find control with"),e.validator=jy.compose([e.validator,t.validator]),e.asyncValidator=jy.composeAsync([e.asyncValidator,t.asyncValidator])}function wm(e){return Cm(e,"There is no FormControl instance attached to form control element with")}function Cm(e,t){var n;throw n=e.path.length>1?"path: '".concat(e.path.join(" -> "),"'"):e.path[0]?"name: '".concat(e.path,"'"):"unspecified name attribute",new Error("".concat(t," ").concat(n))}function Sm(e){return null!=e?jy.compose(e.map(Hy)):null}function Em(e){return null!=e?jy.composeAsync(e.map(Gy)):null}function Im(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Uo(t,n.currentValue)}var Tm=[ky,tm,Ky,lm,gm,Jy];function xm(e,t){e._syncPendingControls(),t.forEach((function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}))}function Am(e,t){if(!t)return null;Array.isArray(t)||Cm(e,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return t.forEach((function(t){var o;t.constructor===Sy?n=t:(o=t,Tm.some((function(e){return o.constructor===e}))?(r&&Cm(e,"More than one built-in value accessor matches form control with"),r=t):(i&&Cm(e,"More than one custom value accessor matches form control with"),i=t))})),i||r||n||(Cm(e,"No valid value accessor for form control with"),null)}function Om(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function Dm(e,t,n,r){gr()&&"never"!==r&&((null!==r&&"once"!==r||t._ngModelWarningSentOnce)&&("always"!==r||n._ngModelWarningSent)||(om.ngModelWarning(e),t._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}function Rm(e){var t=Nm(e)?e.validators:e;return Array.isArray(t)?Sm(t):t||null}function Pm(e,t){var n=Nm(t)?t.asyncValidators:e;return Array.isArray(n)?Em(n):n||null}function Nm(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var Fm,Lm,Mm,Vm,jm,Um,Bm,zm,Hm,Gm=function(){function e(t,n){_classCallCheck(this,e),this.validator=t,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(e,[{key:"setValidators",value:function(e){this.validator=Rm(e)}},{key:"setAsyncValidators",value:function(e){this.asyncValidator=Pm(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(e){return e.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(e){e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(e){e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!0)}))}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild((function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!1)}))}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(t){return t._updateTreeValidity(e)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=By(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return t.setErrors(n,{emitEvent:e})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;var r=e;return t.forEach((function(e){r=r instanceof Wm?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof $m&&r.at(e)||null})),r}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new pu,this.statusChanges=new pu}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls((function(t){return t.status===e}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(e){return e.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(e){return e.touched}))}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){Nm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}}]),e}(),qm=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this,Rm(i),Pm(o,i)))._onChange=[],e._applyFormState(r),e._setUpdateStrategy(i),e.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e._initObservables(),e}return _createClass(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(e){return e(t.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(Gm),Wm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,Rm(r),Pm(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach((function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(e,t,n){return e[n]=t instanceof qm?t.value:t.getRawValue(),e}))}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,(function(e,t){return!!t._syncPendingControls()||e}));return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach((function(n){return e(t.controls[n],n)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){var t=this,n=!1;return this._forEachChild((function(r,i){n=n||t.contains(i)&&e(r)})),n}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},(function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t}))}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild((function(e,r){n=t(n,e,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(Gm),$m=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,Rm(r),Pm(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach((function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map((function(e){return e instanceof qm?e.value:e.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(e){return e._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce((function(e,t){return!!t._syncPendingControls()||e}),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}},{key:"_forEachChild",value:function(e){this.controls.forEach((function(t,n){e(t,n)}))}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter((function(t){return t.enabled||e.disabled})).map((function(e){return e.value}))}},{key:"_anyControls",value:function(e){return this.controls.some((function(t){return t.enabled&&e(t)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){return e._registerControl(t)}))}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var e,t=_createForOfIteratorHelper(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(Gm),Qm={provide:Iy,useExisting:Se((function(){return Km}))},Ym=Promise.resolve(null),Km=((Lm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).submitted=!1,i._directives=[],i.ngSubmit=new pu,i.form=new Wm({},Sm(e),Em(r)),i}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(e){var t=this;Ym.then((function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),_m(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)}))}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t=this;Ym.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name),Om(t._directives,e)}))}},{key:"addFormGroup",value:function(e){var t=this;Ym.then((function(){var n=t._findContainer(e.path),r=new Wm({});km(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(e){var t=this;Ym.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)}))}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){var n=this;Ym.then((function(){n.form.get(e.path).setValue(t)}))}},{key:"setValue",value:function(e){this.control.setValue(e)}},{key:"onSubmit",value:function(e){return this.submitted=!0,xm(this.form,this._directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(e){return e.pop(),e.length?this.form.get(e):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),n}(Iy)).\u0275fac=function(e){return new(e||Lm)(Zo(Ly,10),Zo(My,10))},Lm.\u0275dir=_t({type:Lm,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&hs("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ha([Qm]),Ys]}),Lm),Zm=((Fm=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return mm(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Sm(this._validators)}},{key:"asyncValidator",get:function(){return Em(this._asyncValidators)}}]),n}(Iy)).\u0275fac=function(e){return Xm(e||Fm)},Fm.\u0275dir=_t({type:Fm,features:[Ys]}),Fm),Xm=ar(Zm),Jm=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '.concat(nm,'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '))}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(rm,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(im))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(rm,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(im))}}]),e}(),e_={provide:Iy,useExisting:Se((function(){return t_}))},t_=((Mm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){this._parent instanceof n||this._parent instanceof Km||Jm.modelGroupParentException()}}]),n}(Zm)).\u0275fac=function(e){return new(e||Mm)(Zo(Iy,5),Zo(Ly,10),Zo(My,10))},Mm.\u0275dir=_t({type:Mm,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[ha([e_]),Ys]}),Mm),n_={provide:Dy,useExisting:Se((function(){return i_}))},r_=Promise.resolve(null),i_=((jm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;return _classCallCheck(this,n),(s=t.call(this)).control=new qm,s._registered=!1,s.update=new pu,s._parent=e,s._rawValidators=r||[],s._rawAsyncValidators=i||[],s.valueAccessor=Am(_assertThisInitialized(s),o),s}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),Im(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){_m(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof t_)&&this._parent instanceof Zm?Jm.formGroupNameException():this._parent instanceof t_||this._parent instanceof Km||Jm.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Jm.missingNameException()}},{key:"_updateValue",value:function(e){var t=this;r_.then((function(){t.control.setValue(e,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,r=""===n||n&&"false"!==n;r_.then((function(){r&&!t.control.disabled?t.control.disable():!r&&t.control.disabled&&t.control.enable()}))}},{key:"path",get:function(){return this._parent?mm(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Sm(this._rawValidators)}},{key:"asyncValidator",get:function(){return Em(this._rawAsyncValidators)}}]),n}(Dy)).\u0275fac=function(e){return new(e||jm)(Zo(Iy,9),Zo(Ly,10),Zo(My,10),Zo(_y,10))},jm.\u0275dir=_t({type:jm,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ha([n_]),Ys,ta]}),jm),o_=((Vm=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Vm)},Vm.\u0275dir=_t({type:Vm,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Vm),s_=new Ue("NgModelWithFormControlWarning"),a_={provide:Dy,useExisting:Se((function(){return u_}))},u_=((Um=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;return _classCallCheck(this,n),(s=t.call(this))._ngModelWarningConfig=o,s.update=new pu,s._ngModelWarningSent=!1,s._rawValidators=e||[],s._rawAsyncValidators=r||[],s.valueAccessor=Am(_assertThisInitialized(s),i),s}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._isControlChanged(e)&&(_m(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),Im(e,this.viewModel)&&(Dm("formControl",n,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_isControlChanged",value:function(e){return e.hasOwnProperty("form")}},{key:"isDisabled",set:function(e){om.disabledAttrWarning()}},{key:"path",get:function(){return[]}},{key:"validator",get:function(){return Sm(this._rawValidators)}},{key:"asyncValidator",get:function(){return Em(this._rawAsyncValidators)}},{key:"control",get:function(){return this.form}}]),n}(Dy)).\u0275fac=function(e){return new(e||Um)(Zo(Ly,10),Zo(My,10),Zo(_y,10),Zo(s_,8))},Um.\u0275dir=_t({type:Um,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[ha([a_]),Ys,ta]}),Um._ngModelWarningSentOnce=!1,Um),c_={provide:Iy,useExisting:Se((function(){return l_}))},l_=((Bm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._validators=e,i._asyncValidators=r,i.submitted=!1,i.directives=[],i.form=null,i.ngSubmit=new pu,i}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(e){var t=this.form.get(e.path);return _m(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){Om(this.directives,e)}},{key:"addFormGroup",value:function(e){var t=this.form.get(e.path);km(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(e){}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"addFormArray",value:function(e){var t=this.form.get(e.path);km(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(e){}},{key:"getFormArray",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){this.form.get(e.path).setValue(t)}},{key:"onSubmit",value:function(e){return this.submitted=!0,xm(this.form,this.directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_updateDomValue",value:function(){var e=this;this.directives.forEach((function(t){var n=e.form.get(t.path);t.control!==n&&(function(e,t){t.valueAccessor.registerOnChange((function(){return wm(t)})),t.valueAccessor.registerOnTouched((function(){return wm(t)})),t._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),t._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),e&&e._clearChangeFns()}(t.control,t),n&&_m(n,t),t.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var e=this;this.form._registerOnCollectionChange((function(){return e._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var e=Sm(this._validators);this.form.validator=jy.compose([this.form.validator,e]);var t=Em(this._asyncValidators);this.form.asyncValidator=jy.composeAsync([this.form.asyncValidator,t])}},{key:"_checkFormPresent",value:function(){this.form||om.missingFormException()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),n}(Iy)).\u0275fac=function(e){return new(e||Bm)(Zo(Ly,10),Zo(My,10))},Bm.\u0275dir=_t({type:Bm,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&hs("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ha([c_]),Ys,ta]}),Bm),h_={provide:Iy,useExisting:Se((function(){return f_}))},f_=((zm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){v_(this._parent)&&om.groupParentException()}}]),n}(Zm)).\u0275fac=function(e){return new(e||zm)(Zo(Iy,13),Zo(Ly,10),Zo(My,10))},zm.\u0275dir=_t({type:zm,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[ha([h_]),Ys]}),zm),d_={provide:Iy,useExisting:Se((function(){return p_}))},p_=((Hm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"_checkParentType",value:function(){v_(this._parent)&&om.arrayParentException()}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return mm(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"validator",get:function(){return Sm(this._validators)}},{key:"asyncValidator",get:function(){return Em(this._asyncValidators)}}]),n}(Iy)).\u0275fac=function(e){return new(e||Hm)(Zo(Iy,13),Zo(Ly,10),Zo(My,10))},Hm.\u0275dir=_t({type:Hm,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[ha([d_]),Ys]}),Hm);function v_(e){return!(e instanceof f_||e instanceof l_||e instanceof p_)}var g_,y_,m_,__,b_,k_,w_={provide:Dy,useExisting:Se((function(){return C_}))},C_=((g_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s){var a;return _classCallCheck(this,n),(a=t.call(this))._ngModelWarningConfig=s,a._added=!1,a.update=new pu,a._ngModelWarningSent=!1,a._parent=e,a._rawValidators=r||[],a._rawAsyncValidators=i||[],a.valueAccessor=Am(_assertThisInitialized(a),o),a}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._added||this._setUpControl(),Im(e,this.viewModel)&&(Dm("formControlName",n,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_checkParentType",value:function(){!(this._parent instanceof f_)&&this._parent instanceof Zm?om.ngModelGroupException():this._parent instanceof f_||this._parent instanceof l_||this._parent instanceof p_||om.controlParentException()}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}},{key:"isDisabled",set:function(e){om.disabledAttrWarning()}},{key:"path",get:function(){return mm(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Sm(this._rawValidators)}},{key:"asyncValidator",get:function(){return Em(this._rawAsyncValidators)}}]),n}(Dy)).\u0275fac=function(e){return new(e||g_)(Zo(Iy,13),Zo(Ly,10),Zo(My,10),Zo(_y,10),Zo(s_,8))},g_.\u0275dir=_t({type:g_,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ha([w_]),Ys,ta]}),g_._ngModelWarningSentOnce=!1,g_),S_={provide:Ly,useExisting:Se((function(){return E_})),multi:!0},E_=((k_=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validate",value:function(e){return this.required?jy.required(e):null}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}},{key:"required",get:function(){return this._required},set:function(e){this._required=null!=e&&!1!==e&&""+e!="false",this._onChange&&this._onChange()}}]),e}()).\u0275fac=function(e){return new(e||k_)},k_.\u0275dir=_t({type:k_,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&$o("required",t.required?"":null)},inputs:{required:"required"},features:[ha([S_])]}),k_),I_=((b_=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:b_}),b_.\u0275inj=fe({factory:function(e){return new(e||b_)}}),b_),T_=((__=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"group",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(e),r=null,i=null,o=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(r=null!=t.validators?t.validators:null,i=null!=t.asyncValidators?t.asyncValidators:null,o=null!=t.updateOn?t.updateOn:void 0):(r=null!=t.validator?t.validator:null,i=null!=t.asyncValidator?t.asyncValidator:null)),new Wm(n,{asyncValidators:i,updateOn:o,validators:r})}},{key:"control",value:function(e,t,n){return new qm(e,t,n)}},{key:"array",value:function(e,t,n){var r=this,i=e.map((function(e){return r._createControl(e)}));return new $m(i,t,n)}},{key:"_reduceControls",value:function(e){var t=this,n={};return Object.keys(e).forEach((function(r){n[r]=t._createControl(e[r])})),n}},{key:"_createControl",value:function(e){return e instanceof qm||e instanceof Wm||e instanceof $m?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}]),e}()).\u0275fac=function(e){return new(e||__)},__.\u0275prov=he({token:__,factory:__.\u0275fac}),__),x_=((m_=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:m_}),m_.\u0275inj=fe({factory:function(e){return new(e||m_)},providers:[Xy],imports:[I_]}),m_),A_=((y_=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:s_,useValue:t.warnOnNgModelWithFormControl}]}}}]),e}()).\u0275mod=yt({type:y_}),y_.\u0275inj=fe({factory:function(e){return new(e||y_)},providers:[T_,Xy],imports:[I_]}),y_),O_=["buttonProjectedRef"];function D_(e,t){1&e&&is(0,"span",3)}function R_(e,t){if(1&e){var n=us();ns(0,"button",1),hs("click",(function(e){return Kt(n),gs().emitClick(e)})),Yo(1,D_,1,0,"span",2),_s(2),rs()}if(2&e){var r=gs();Ds(r.classNames),$o("type",r.type)("name",r.name)("disabled",r.disabled)("id",r.id),Ur(1),es("ngIf",r.loading)}}var P_=["*"];function N_(e,t){}function F_(e,t){if(1&e&&(os(0),Yo(1,N_,0,0,"ng-template",3),ss()),2&e){var n=t.$implicit;Ur(1),es("ngTemplateOutlet",n.templateRef)}}function L_(e,t){}function M_(e,t){if(1&e&&(ns(0,"div",9),Yo(1,L_,0,0,"ng-template",3),rs()),2&e){var n=gs(2),r=Ko(3);es("id",n.popoverId),$o("id",n.popoverId)("aria-hidden",!n.open),Ur(1),es("ngTemplateOutlet",r)}}function V_(e,t){if(1&e&&(os(0),ns(1,"div",4,5),ns(3,"button",6),is(4,"clr-icon",7),rs(),Yo(5,M_,2,4,"div",8),rs(),ss()),2&e){var n=gs();Ur(1),es("ngClass",n.menuPosition),Ur(2),$o("aria-controls",n.popoverId)("aria-expanded",n.open)("aria-label",n.commonStrings.keys.rowActions),Ur(1),$o("title",n.commonStrings.keys.more),Ur(1),es("clrPopoverContent",n.open)("clrPopoverContentAt",n.popoverPosition)("clrPopoverContentOutsideClickToClose",!0)("clrPopoverContentScrollToClose",!0)}}function j_(e,t){}function U_(e,t){if(1&e&&(os(0),Yo(1,j_,0,0,"ng-template",3),ss()),2&e){var n=t.$implicit;Ur(1),es("ngTemplateOutlet",n.templateRef)}}function B_(e,t){1&e&&Yo(0,U_,2,1,"ng-container",0),2&e&&es("ngForOf",gs().menuButtons)}var z_=["clrLoading",""];function H_(e,t){1&e&&(ns(0,"span"),is(1,"span",2),rs()),2&e&&(Ur(1),es("@spinner",void 0))}function G_(e,t){if(1&e){var n=us();ns(0,"span"),ns(1,"span",3),hs("@validated.done",(function(){Kt(n);var e=gs();return e.loadingStateChange(e.buttonState.DEFAULT)})),rs(),rs()}2&e&&(Ur(1),es("@validated",void 0))}function q_(e,t){1&e&&(ns(0,"span"),_s(1),rs()),2&e&&es("@defaultButton",void 0)}function W_(e,t){1&e&&is(0,"label")}var $_=[[["","clrCheckbox",""],["","clrToggle",""]],[["label"]]],Q_=["[clrCheckbox],[clrToggle]","label"];function Y_(e,t){1&e&&is(0,"label")}function K_(e,t){1&e&&_s(0,2,["*ngIf","!invalid"])}function Z_(e,t){1&e&&is(0,"clr-icon",4)}function X_(e,t){1&e&&_s(0,3,["*ngIf","invalid"])}var J_=[[["label"]],[["clr-checkbox-wrapper"],["clr-toggle-wrapper"]],[["clr-control-helper"]],[["clr-control-error"]]],eb=["label","clr-checkbox-wrapper,clr-toggle-wrapper","clr-control-helper","clr-control-error"];function tb(e,t){if(1&e&&(ns(0,"td",4),zs(1),rs()),2&e){var n=t.$implicit;$o("aria-label",n.day),Ur(1),Gs(" ",n.narrow," ")}}function nb(e,t){if(1&e&&(ns(0,"td",7),is(1,"clr-day",8),rs()),2&e){var n=t.$implicit;Ur(1),es("clrDayView",n)}}function rb(e,t){if(1&e&&(ns(0,"tr",5),Yo(1,nb,2,1,"td",6),rs()),2&e){var n=t.$implicit;Ur(1),es("ngForOf",n)}}var ib=["actionButton"];function ob(e,t){1&e&&is(0,"label")}function sb(e,t){if(1&e&&(ns(0,"button",7,8),is(2,"clr-icon",9),rs()),2&e){var n=gs();es("disabled",n.isInputDateDisabled),$o("title",n.commonStrings.keys.datepickerToggle)("aria-label",n.commonStrings.keys.datepickerToggle)}}function ab(e,t){1&e&&is(0,"clr-datepicker-view-manager",10)}function ub(e,t){1&e&&_s(0,2,["*ngIf","!invalid"])}function cb(e,t){1&e&&_s(0,3,["*ngIf","invalid"])}var lb=[[["label"]],[["","clrDate",""]],[["clr-control-helper"]],[["clr-control-error"]]],hb=["label","[clrDate]","clr-control-helper","clr-control-error"];function fb(e,t){1&e&&is(0,"clr-monthpicker")}function db(e,t){1&e&&is(0,"clr-yearpicker")}function pb(e,t){1&e&&is(0,"clr-daypicker")}function vb(e,t){if(1&e){var n=us();ns(0,"button",1),hs("click",(function(){Kt(n);var e=t.index;return gs().changeMonth(e)})),zs(1),rs()}if(2&e){var r=t.$implicit,i=t.index,o=gs();Os("is-selected",i===o.calendarMonthIndex),$o("tabindex",o.getTabIndex(i)),Ur(1),Gs(" ",r," ")}}function gb(e,t){if(1&e){var n=us();ns(0,"button",7),hs("click",(function(){Kt(n);var e=t.$implicit;return gs().changeYear(e)})),zs(1),rs()}if(2&e){var r=t.$implicit,i=gs();Os("is-selected",r===i.calendarYear),$o("tabindex",i.getTabIndex(r)),Ur(1),Gs(" ",r," ")}}function yb(e,t){1&e&&is(0,"label")}function mb(e,t){1&e&&is(0,"clr-icon",4)}function _b(e,t){1&e&&_s(0,2,["*ngIf","!invalid"])}function bb(e,t){1&e&&_s(0,3,["*ngIf","invalid"])}var kb=[[["label"]],[["","clrInput",""]],[["clr-control-helper"]],[["clr-control-error"]]],wb=["label","[clrInput]","clr-control-helper","clr-control-error"];function Cb(e,t){1&e&&is(0,"label")}function Sb(e,t){if(1&e){var n=us();ns(0,"button",6),hs("click",(function(){return Kt(n),gs().toggle()})),is(1,"clr-icon"),rs()}if(2&e){var r=gs();es("disabled",null==r.control?null:r.control.disabled),Ur(1),$o("shape",r.show?"eye-hide":"eye")("title",r.show?r.commonStrings.keys.hide:r.commonStrings.keys.show)}}function Eb(e,t){1&e&&is(0,"clr-icon",7)}function Ib(e,t){1&e&&_s(0,2,["*ngIf","!invalid"])}function Tb(e,t){1&e&&_s(0,3,["*ngIf","invalid"])}var xb=[[["label"]],[["","clrPassword",""]],[["clr-control-helper"]],[["clr-control-error"]]],Ab=["label","[clrPassword]","clr-control-helper","clr-control-error"];function Ob(e,t){1&e&&is(0,"label")}var Db=[[["","clrRadio",""]],[["label"]]],Rb=["[clrRadio]","label"];function Pb(e,t){1&e&&is(0,"label")}function Nb(e,t){1&e&&is(0,"clr-icon",4)}function Fb(e,t){1&e&&_s(0,2,["*ngIf","!invalid"])}function Lb(e,t){1&e&&_s(0,3,["*ngIf","invalid"])}var Mb=[[["label"]],[["","clrSelect",""]],[["clr-control-helper"]],[["clr-control-error"]]],Vb=["label","[clrSelect]","clr-control-helper","clr-control-error"];function jb(e,t){1&e&&is(0,"label")}function Ub(e,t){1&e&&is(0,"clr-icon",4)}function Bb(e,t){1&e&&_s(0,2,["*ngIf","!invalid"])}function zb(e,t){1&e&&_s(0,3,["*ngIf","invalid"])}var Hb=[[["label"]],[["","clrTextarea",""]],[["clr-control-helper"]],[["clr-control-error"]]],Gb=["label","[clrTextarea]","clr-control-helper","clr-control-error"],qb=["anchor"];function Wb(e,t){if(1&e&&(ns(0,"div",4),ns(1,"div",5),ns(2,"button",6),is(3,"clr-icon",7),rs(),rs(),_s(4),rs()),2&e){var n=gs();es("id",n.popoverId),Ur(3),$o("title",n.commonStrings.keys.close)}}var $b=["input"],Qb=["input_low"],Yb=["columnPortal"];function Kb(e,t){1&e&&_s(0)}function Zb(e,t){1&e&&as(0)}function Xb(e,t){1&e&&is(0,"clr-icon",10),2&e&&$o("shape",gs(2).sortIcon)}function Jb(e,t){if(1&e){var n=us();ns(0,"button",7),hs("click",(function(){return Kt(n),gs().sort()})),Yo(1,Zb,1,0,"ng-container",8),Yo(2,Xb,1,1,"clr-icon",9),rs()}if(2&e){var r=gs(),i=Ko(6);$o("aria-label",r.commonStrings.keys.sortColumn),Ur(1),es("ngTemplateOutlet",i),Ur(1),es("ngIf",r.sortIcon)}}function ek(e,t){if(1&e){var n=us();ns(0,"clr-dg-string-filter",11),hs("clrFilterValueChange",(function(e){return Kt(n),gs().filterValue=e})),rs()}if(2&e){var r=gs();es("clrDgStringFilter",r.registered)("clrFilterValue",r.filterValue)}}function tk(e,t){if(1&e){var n=us();ns(0,"clr-dg-numeric-filter",12),hs("clrFilterValueChange",(function(e){return Kt(n),gs().filterValue=e})),rs()}if(2&e){var r=gs();es("clrDgNumericFilter",r.registered)("clrFilterValue",r.filterValue)}}function nk(e,t){1&e&&_s(0,1)}function rk(e,t){1&e&&as(0)}function ik(e,t){if(1&e&&(ns(0,"span",13),Yo(1,rk,1,0,"ng-container",8),rs()),2&e){gs();var n=Ko(6);Ur(1),es("ngTemplateOutlet",n)}}function ok(e,t){1&e&&is(0,"clr-dg-column-separator")}var sk=[[["clr-dg-filter"],["clr-dg-string-filter"],["clr-dg-numeric-filter"]],"*"],ak=["clr-dg-filter, clr-dg-string-filter, clr-dg-numeric-filter","*"];function uk(e,t){1&e&&is(0,"div",3)}function ck(e,t){1&e&&_s(0,0,["*ngIf","emptyDatagrid"])}function lk(e,t){if(1&e&&(os(0),ns(1,"button",1),is(2,"clr-icon",2),rs(),ss()),2&e){var n=gs();Ur(2),$o("title",n.commonStrings.keys.info)}}var hk=["cellPortal"];function fk(e,t){1&e&&_s(0)}var dk=["rowPortal"];function pk(e,t){1&e&&_s(0)}var vk=["detailButton"],gk=["stickyCells"],yk=["scrollableCells"],mk=["calculatedCells"];function _k(e,t){}function bk(e,t){if(1&e&&(ns(0,"clr-expandable-animation",7),Yo(1,_k,0,0,"ng-template",8),rs()),2&e){var n=gs(2),r=Ko(6);es("clrExpandTrigger",n.expandAnimationTrigger),Ur(1),es("ngTemplateOutlet",r)}}function kk(e,t){}function wk(e,t){1&e&&Yo(0,kk,0,0,"ng-template",8),2&e&&(gs(2),es("ngTemplateOutlet",Ko(6)))}function Ck(e,t){if(1&e&&(ns(0,"label",6),Yo(1,bk,2,2,"clr-expandable-animation",1),Yo(2,wk,1,1,void 0,2),rs()),2&e){var n=gs();Ur(1),es("ngIf",n.expand.expandable),Ur(1),es("ngIf",!n.expand.expandable)}}function Sk(e,t){}function Ek(e,t){if(1&e&&(ns(0,"clr-expandable-animation",7),Yo(1,Sk,0,0,"ng-template",8),rs()),2&e){var n=gs(),r=Ko(6);es("clrExpandTrigger",n.expandAnimationTrigger),Ur(1),es("ngTemplateOutlet",r)}}function Ik(e,t){}function Tk(e,t){1&e&&Yo(0,Ik,0,0,"ng-template",8),2&e&&(gs(),es("ngTemplateOutlet",Ko(6)))}function xk(e,t){1&e&&_s(0)}var Ak=function(e){return{"clr-form-control-disabled":e}};function Ok(e,t){if(1&e){var n=us();ns(0,"div",19),ns(1,"input",20),hs("ngModelChange",(function(e){return Kt(n),gs(2).toggle(e)})),rs(),rs()}if(2&e){var r=gs(2);es("ngClass",su(6,Ak,!r.clrDgSelectable)),Ur(1),es("ngModel",r.selected)("id",r.checkboxId),$o("disabled",!r.clrDgSelectable||null)("aria-disabled",!r.clrDgSelectable||null)("aria-label",r.commonStrings.keys.select)}}function Dk(e,t){if(1&e){var n=us();ns(0,"div",19),ns(1,"input",21),hs("ngModelChange",(function(e){return Kt(n),gs(2).selection.currentSingle=e})),rs(),rs()}if(2&e){var r=gs(2);es("ngClass",su(9,Ak,!r.clrDgSelectable)),Ur(1),es("id",r.radioId)("name",r.selection.id+"-radio")("value",r.item)("ngModel",r.selection.currentSingle)("checked",r.selection.currentSingle===r.item),$o("disabled",!r.clrDgSelectable||null)("aria-disabled",!r.clrDgSelectable||null)("aria-label",r.commonStrings.keys.select)}}function Rk(e,t){1&e&&(ns(0,"div",22),_s(1,2),rs())}function Pk(e,t){if(1&e){var n=us();ns(0,"button",26),hs("click",(function(){return Kt(n),gs(4).toggleExpand()})),is(1,"clr-icon",27),rs()}if(2&e){var r=gs(4);$o("aria-expanded",r.expand.expanded)("aria-label",r.expand.expanded?r.clrDgDetailCloseLabel:r.clrDgDetailOpenLabel)("aria-controls",r.expandableId),Ur(1),$o("dir",r.expand.expanded?"down":"right")("title",r.expand.expanded?r.commonStrings.keys.collapse:r.commonStrings.keys.expand)}}function Nk(e,t){if(1&e&&(ns(0,"clr-spinner",28),zs(1),rs()),2&e){var n=gs(4);Ur(1),Hs(n.commonStrings.keys.loading)}}function Fk(e,t){if(1&e&&(os(0),Yo(1,Pk,2,5,"button",24),Yo(2,Nk,2,1,"clr-spinner",25),ss()),2&e){var n=gs(3);Ur(1),es("ngIf",!n.expand.loading),Ur(1),es("ngIf",n.expand.loading)}}function Lk(e,t){if(1&e&&(ns(0,"div",23),Yo(1,Fk,3,2,"ng-container",2),rs()),2&e){var n=gs(2);Ur(1),es("ngIf",n.expand.expandable)}}function Mk(e,t){if(1&e){var n=us();ns(0,"div",29),ns(1,"button",30,31),hs("click",(function(){Kt(n);var e=Ko(2),t=gs(2);return t.detailService.toggle(t.item,e)})),is(3,"clr-icon",32),rs(),rs()}if(2&e){var r=gs(2);Ur(1),Os("is-open",r.detailService.isRowOpen(r.item)),$o("aria-label",r.detailService.isOpen?r.clrDgDetailCloseLabel:r.clrDgDetailOpenLabel)("aria-expanded",r.detailService.isOpen)("aria-controls",r.detailService.id),Ur(2),$o("dir",r.detailService.isRowOpen(r.item)?"left":"right")("title",r.detailService.isRowOpen(r.item)?r.commonStrings.keys.close:r.commonStrings.keys.open)}}function Vk(e,t){}function jk(e,t){1&e&&Yo(0,Vk,0,0,"ng-template",8),2&e&&(gs(2),es("ngTemplateOutlet",Ko(4)))}function Uk(e,t){}function Bk(e,t){1&e&&Yo(0,Uk,0,0,"ng-template",8),2&e&&(gs(2),es("ngTemplateOutlet",Ko(4)))}var zk=function(e){return{"is-replaced":e}};function Hk(e,t){if(1&e&&(ns(0,"div",9),ns(1,"div",10),os(2,null,11),Yo(4,Ok,2,8,"div",12),Yo(5,Dk,2,11,"div",12),Yo(6,Rk,2,0,"div",13),Yo(7,Lk,2,1,"div",14),Yo(8,Mk,4,7,"div",15),ss(),rs(),ns(9,"div",16),ns(10,"div",17),_s(11,1),as(12,null,18),rs(),Yo(14,jk,1,1,void 0,2),Yo(15,Bk,1,1,void 0,2),rs(),rs()),2&e){var n=gs();Os("datagrid-row-detail-open",n.detailService.isRowOpen(n.item)),es("id",n.id),Ur(4),es("ngIf",n.selection.selectionType===n.SELECTION_TYPE.Multi),Ur(1),es("ngIf",n.selection.selectionType===n.SELECTION_TYPE.Single),Ur(1),es("ngIf",n.rowActionService.hasActionableRow),Ur(1),es("ngIf",n.globalExpandable.hasExpandableRow),Ur(1),es("ngIf",n.detailService.enabled),Ur(1),es("ngClass",su(11,zk,n.replaced&&n.expanded)),Ur(5),es("ngIf",n.replaced&&!n.expand.loading),Ur(1),es("ngIf",!n.replaced&&!n.expand.loading)}}var Gk=[[["clr-dg-row-detail"]],[["clr-dg-cell"]],[["clr-dg-action-overflow"]]],qk=["clr-dg-row-detail","clr-dg-cell","clr-dg-action-overflow"],Wk=["scrollableColumns"],$k=["datagridTable"],Qk=["projectedDisplayColumns"],Yk=["projectedCalculationColumns"],Kk=["displayedRows"],Zk=["calculationRows"];function Xk(e,t){if(1&e){var n=us();ns(0,"div",23),ns(1,"span",24),ns(2,"input",25),hs("ngModelChange",(function(e){return Kt(n),gs().allSelected=e})),rs(),rs(),is(3,"div",26),rs()}if(2&e){var r=gs();Ur(2),es("ngModel",r.allSelected),$o("aria-label",r.commonStrings.keys.selectAll)}}function Jk(e,t){1&e&&(ns(0,"div",23),is(1,"div",26),rs()),2&e&&$o("aria-label",gs().clrDgSingleSelectionAriaLabel)}function ew(e,t){1&e&&(ns(0,"div",27),is(1,"div",26),rs()),2&e&&$o("aria-label",gs().clrDgSingleActionableAriaLabel)}function tw(e,t){1&e&&(ns(0,"div",28),is(1,"div",26),rs()),2&e&&$o("aria-label",gs().clrDetailExpandableAriaLabel)}function nw(e,t){1&e&&is(0,"clr-dg-placeholder")}function rw(e,t){1&e&&(ns(0,"div",29),ns(1,"clr-spinner",30),zs(2,"Loading"),rs(),rs())}var iw=[[["clr-dg-action-bar"]],[["clr-dg-placeholder"]],[["clr-dg-footer"]],[["","clrIfDetail",""],["clr-dg-detail"]]],ow=["clr-dg-action-bar","clr-dg-placeholder","clr-dg-footer","[clrIfDetail],clr-dg-detail"];function sw(e,t){if(1&e){var n=us();ns(0,"div",4),hs("click",(function(e){return Kt(n),gs().closeOverflowContent(e)})),_s(1),rs()}if(2&e){var r=gs();es("id",r.popoverId),$o("aria-hidden",!r.open)("id",r.popoverId)}}var aw=["menuDescription"],uw=["allSelected"];function cw(e,t){if(1&e&&(os(0),zs(1),ss()),2&e){var n=gs(2);Ur(1),Hs(n.commonStrings.keys.showColumns)}}function lw(e,t){}function hw(e,t){if(1&e){var n=us();ns(0,"li"),ns(1,"clr-checkbox-wrapper"),ns(2,"input",15),hs("ngModelChange",(function(e){Kt(n);var r=t.$implicit;return gs(2).toggleColumnState(r,!e)})),rs(),ns(3,"label"),Yo(4,lw,0,0,"ng-template",16),rs(),rs(),rs()}if(2&e){var r=t.$implicit,i=gs(2);Ur(2),es("disabled",i.hasOnlyOneVisibleColumn&&!r.hidden)("ngModel",!r.hidden),Ur(2),es("ngTemplateOutlet",r.titleTemplateRef)}}function fw(e,t){if(1&e){var n=us();ns(0,"clr-dg-column-toggle-button",17),hs("clrAllSelected",(function(){return Kt(n),gs(2).allColumnsSelected()})),zs(1),rs()}if(2&e){var r=gs(2);Ur(1),Gs(" ",r.commonStrings.keys.selectAll," ")}}function dw(e,t){if(1&e&&(ns(0,"div",3),ns(1,"div",4),ns(2,"div",5,6),zs(4),rs(),ns(5,"div",5,7),zs(7),rs(),Yo(8,cw,2,1,"ng-container",8),_s(9),ns(10,"button",9),is(11,"clr-icon",10),rs(),rs(),ns(12,"ul",11),Yo(13,hw,5,3,"li",12),rs(),ns(14,"div",13),_s(15,1),Yo(16,fw,2,1,"clr-dg-column-toggle-button",14),rs(),rs()),2&e){var n=gs();es("id",n.popoverId),Ur(4),Hs(n.commonStrings.keys.showColumnsMenuDescription),Ur(3),Hs(n.commonStrings.keys.allColumnsSelected),Ur(1),es("ngIf",!n.customToggleTitle),Ur(2),$o("aria-label",n.commonStrings.keys.close),Ur(1),$o("title",n.commonStrings.keys.close),Ur(2),es("ngForOf",n.hideableColumnStates)("ngForTrackBy",n.trackByFn),Ur(3),es("ngIf",!n.customToggleButton)}}var pw=[[["clr-dg-column-toggle-title"]],[["clr-dg-column-toggle-button"]]],vw=["clr-dg-column-toggle-title","clr-dg-column-toggle-button"],gw=function(){return{strict:!1}};function yw(e,t){if(1&e&&(ns(0,"div",1),ns(1,"div",2),zs(2),rs(),_s(3),ns(4,"div",2),zs(5),rs(),rs()),2&e){var n=gs();es("clrFocusTrap",ou(5,gw))("id",n.detailService.id),$o("aria-describedby",n.header?n.header.titleId:""),Ur(2),Hs(n.commonStrings.keys.detailPaneStart),Ur(3),Hs(n.commonStrings.keys.detailPaneEnd)}}function mw(e,t){if(1&e&&(os(0),ns(1,"div",1),ns(2,"clr-checkbox-wrapper",2),is(3,"input",3),ns(4,"label"),zs(5),rs(),rs(),rs(),ss()),2&e){var n=gs();Ur(5),Hs(n.selection.current.length)}}function _w(e,t){1&e&&is(0,"clr-dg-column-toggle")}function bw(e,t){if(1&e&&(os(0),_s(1,1),Yo(2,_w,1,0,"clr-dg-column-toggle",0),ns(3,"div",4),_s(4,2),rs(),ss()),2&e){var n=gs();Ur(2),es("ngIf",n.hasHideableColumns&&!n.toggle)}}var kw=[[["clr-dg-pagination"]],[["clr-dg-column-toggle"]],"*"],ww=["clr-dg-pagination","clr-dg-column-toggle","*"];function Cw(e,t){if(1&e&&is(0,"clr-icon",7),2&e){var n=gs();$o("dir",n.caretDirection)("title",n.caretTitle)}}function Sw(e,t){if(1&e&&(ns(0,"span",8),zs(1),rs()),2&e){var n=gs();Ur(1),Hs(n.commonStrings.keys.stackViewChanged)}}var Ew=[[["clr-stack-label"]],"*",[["clr-stack-block"]]],Iw=["clr-stack-label","*","clr-stack-block"],Tw=[[["clr-stack-header"]],"*"],xw=["clr-stack-header","*"],Aw=["contentContainer"];function Ow(e,t){if(1&e){var n=us();ns(0,"button",9),hs("click",(function(){return Kt(n),gs().expandService.toggle()}))("focus",(function(){return Kt(n),gs().focusTreeNode()})),is(1,"clr-icon",10),rs()}if(2&e){var r=gs();Ur(1),$o("dir",r.expandService.expanded?"down":"right")}}function Dw(e,t){1&e&&(ns(0,"div",11),is(1,"span",12),rs())}function Rw(e,t){if(1&e){var n=us();ns(0,"div",13),ns(1,"input",14),hs("change",(function(){Kt(n);var e=gs();return e._model.toggleSelection(e.featuresService.eager)}))("focus",(function(){return Kt(n),gs().focusTreeNode()})),rs(),is(2,"label",15),rs()}if(2&e){var r=gs();Ur(1),ks("id","",r.nodeId,"-check"),es("checked",r._model.selected.value===r.STATES.SELECTED)("indeterminate",r._model.selected.value===r.STATES.INDETERMINATE),Ur(1),ks("for","",r.nodeId,"-check")}}function Pw(e,t){1&e&&(ns(0,"span"),zs(1," selected "),rs())}function Nw(e,t){1&e&&(ns(0,"span"),zs(1," unselected "),rs())}function Fw(e,t){if(1&e&&(ns(0,"div",16),Yo(1,Pw,2,0,"span",17),Yo(2,Nw,2,0,"span",17),rs()),2&e){var n=gs();Ur(1),es("ngIf",n.ariaSelected),Ur(1),es("ngIf",!n.ariaSelected)}}var Lw=["*",[["clr-tree-node"]],[["","clrIfExpanded",""]]],Mw=["*","clr-tree-node","[clrIfExpanded]"];function Vw(e,t){1&e&&is(0,"clr-recursive-children",1),2&e&&es("children",gs().featuresService.recursion.root)}function jw(e,t){1&e&&as(0)}function Uw(e,t){if(1&e&&(os(0),Yo(1,jw,1,0,"ng-container",2),ss()),2&e){var n=t.$implicit,r=gs(2);Ur(1),es("ngTemplateOutlet",r.featuresService.recursion.template)("ngTemplateOutletContext",r.getContext(n))}}function Bw(e,t){if(1&e&&(os(0),Yo(1,Uw,2,2,"ng-container",1),ss()),2&e){var n=gs();Ur(1),es("ngForOf",(null==n.parent?null:n.parent.children)||n.children)}}function zw(e,t){if(1&e){var n=us();ns(0,"button",4),hs("click",(function(){return Kt(n),gs(2).close()})),is(1,"clr-icon",5),rs()}2&e&&$o("aria-label",gs(2).clrCloseButtonAriaLabel)}function Hw(e,t){if(1&e&&(ns(0,"div",1),ns(1,"div",2),_s(2),rs(),Yo(3,zw,2,1,"button",3),rs()),2&e){var n=gs();Os("alert-hidden",n.hidden)("alert-sm",n.isSmall)("alert-app-level",n.isAppLevel),es("ngClass",n.alertClass),Ur(3),es("ngIf",n.closable)}}function Gw(e,t){1&e&&_s(0)}var qw=["tabContentProjectedRef"];function Ww(e,t){if(1&e&&(ns(0,"section",1),_s(1),rs()),2&e){var n=gs();Os("active",n.active),es("id",n.tabContentId)("hidden",!n.active),$o("aria-labelledby",n.ariaLabelledBy)("aria-expanded",n.active)("aria-hidden",!n.active)}}var $w=["clrKeyFocus",""],Qw=["tabContentViewContainer"];function Yw(e,t){if(1&e&&(os(0),ns(1,"li",4),as(2,5),rs(),ss()),2&e){var n=gs().$implicit;Ur(2),es("ngTemplateOutlet",n.templateRefContainer.template)}}function Kw(e,t){if(1&e&&(os(0),Yo(1,Yw,3,1,"ng-container",2),ss()),2&e){var n=t.$implicit,r=gs();Ur(1),es("ngIf",n.tabsId===r.tabsId&&!n.inOverflow)}}function Zw(e,t){1&e&&as(0,5),2&e&&es("ngTemplateOutlet",gs().$implicit.templateRefContainer.template)}function Xw(e,t){if(1&e&&(os(0),Yo(1,Zw,1,1,"ng-container",13),ss()),2&e){var n=t.$implicit,r=gs(3);Ur(1),es("ngIf",n.tabsId===r.tabsId&&n.inOverflow)}}function Jw(e,t){if(1&e){var n=us();ns(0,"clr-tab-overflow-content",12),hs("keydown.esc",(function(){return Kt(n),gs(2).closeOnEscapeKey()}),!1,zn)("click",(function(e){Kt(n),gs();var t=Ko(4);return gs().closeOnOutsideClick(e,t)}),!1,zn)("focusout",(function(e){return Kt(n),gs(2).closeOnFocusOut(e)})),Yo(1,Xw,2,1,"ng-container",1),rs()}if(2&e){var r=gs(2);Ur(1),es("ngForOf",r.tabLinkDirectives)}}function eC(e,t){if(1&e){var n=us();os(0),ns(1,"div",6),ns(2,"li",7),ns(3,"button",8,9),hs("mousedown",(function(){return Kt(n),gs()._mousedown=!0}))("focus",(function(){return Kt(n),gs().openOverflowOnFocus()}))("click",(function(){return Kt(n),gs().toggleOverflowOnClick()})),is(5,"clr-icon",10),rs(),rs(),Yo(6,Jw,2,1,"clr-tab-overflow-content",11),rs(),ss()}if(2&e){var r=gs();Ur(1),Os("open",r.toggleService.open),Ur(2),Os("active",r.activeTabInOverflow)("open",r.toggleService.open),$o("tabindex",r.activeTabInOverflow&&!r.toggleService.open?0:-1),Ur(2),Os("is-info",r.toggleService.open),$o("title",r.commonStrings.keys.more),Ur(1),es("ngIf",r.toggleService.open)}}function tC(e,t){if(1&e){var n=us();ns(0,"button",10),hs("click",(function(){return Kt(n),gs(2).close()})),is(1,"clr-icon",11),rs()}2&e&&$o("aria-label",gs(2).commonStrings.keys.close)}function nC(e,t){if(1&e){var n=us();ns(0,"div",1),ns(1,"div",2),hs("@fadeDown.done",(function(e){return Kt(n),gs().fadeDone(e)})),ns(2,"div",3),zs(3),rs(),ns(4,"div",4),_s(5),ns(6,"div",5),ns(7,"div",6),Yo(8,tC,2,1,"button",7),ns(9,"div",8),_s(10,1),rs(),rs(),_s(11,2),_s(12,3),rs(),rs(),ns(13,"div",3),zs(14),rs(),rs(),ns(15,"div",9),hs("click",(function(){Kt(n);var e=gs();return e.staticBackdrop||e.close()})),rs(),rs()}if(2&e){var r=gs();Ur(1),Os("modal-sm","sm"==r.size)("modal-lg","lg"==r.size)("modal-xl","xl"==r.size),es("@fadeDown",r.skipAnimation),$o("aria-hidden",!r._open)("aria-labelledby",r.modalId),Ur(2),Hs(r.commonStrings.keys.modalContentStart),Ur(5),es("ngIf",r.closable),Ur(1),bs("id",r.modalId),Ur(5),Hs(r.commonStrings.keys.modalContentEnd),Ur(1),es("@fade",void 0)}}var rC=[[["",8,"modal-nav"]],[["",8,"modal-title"]],[["",8,"modal-body"]],[["",8,"modal-footer"]]],iC=[".modal-nav",".modal-title",".modal-body",".modal-footer"];function oC(e,t){if(1&e&&(os(0),zs(1),ss()),2&e){var n=gs(3);Ur(1),Hs(n.commonStrings.keys.danger)}}function sC(e,t){if(1&e&&(ns(0,"div",14),Yo(1,oC,2,1,"ng-container",0),rs()),2&e){var n=gs().$implicit,r=gs();Ur(1),es("ngIf",n.status===r.AccordionStatus.Error)}}function aC(e,t){if(1&e&&(os(0),zs(1),ss()),2&e){var n=gs(2);Ur(1),Hs(n.commonStrings.keys.danger)}}function uC(e,t){if(1&e&&(os(0),zs(1),ss()),2&e){var n=gs(2);Ur(1),Hs(n.commonStrings.keys.success)}}function cC(e,t){if(1&e){var n=us();ns(0,"div",15),hs("@toggle.done",(function(){Kt(n);var e=gs().$implicit;return gs().collapsePanelOnAnimationDone(e)})),ns(1,"div",16),_s(2,2),rs(),rs()}2&e&&es("@toggle",void 0)}function lC(e,t){if(1&e){var n=us();os(0),Yo(1,sC,2,1,"div",1),ns(2,"div",2),ns(3,"div",3),ns(4,"button",4,5),hs("click",(function(){return Kt(n),gs().togglePanel()})),cu(6,"async"),ns(7,"span",6),Yo(8,aC,2,1,"ng-container",0),Yo(9,uC,2,1,"ng-container",0),rs(),ns(10,"span",7),is(11,"clr-icon",8),is(12,"span",9),is(13,"clr-icon",10),is(14,"clr-icon",11),rs(),_s(15),_s(16,1),rs(),rs(),ns(17,"div",12),Yo(18,cC,3,1,"div",13),rs(),rs(),ss()}if(2&e){var r,i=t.$implicit,o=gs(),s=(null==(r=lu(6,16,o.accordionDescription.changes))?null:r.length)||o.accordionDescription.length;Ur(1),es("ngIf",i.status!==o.AccordionStatus.Inactive),Ur(1),es("ngClass",o.getPanelStateClasses(i)),Ur(2),Os("clr-accordion-header-has-description",s),es("id",o.getAccordionHeaderId(i.templateId))("disabled",o.isAccordion&&i.disabled),$o("aria-disabled",!o.isAccordion&&i.disabled)("aria-controls",o.getAccordionContentId(i.templateId))("aria-expanded",i.open),Ur(4),es("ngIf",i.status===o.AccordionStatus.Error),Ur(1),es("ngIf",i.status===o.AccordionStatus.Complete),Ur(8),es("@skipInitialRender",void 0)("id",o.getAccordionContentId(i.templateId)),$o("aria-hidden",!i.open)("aria-labelledby",o.getAccordionHeaderId(i.templateId)),Ur(1),es("ngIf",i.open)}}var hC,fC,dC,pC,vC=[[["clr-accordion-title"],["clr-step-title"]],[["clr-accordion-description"],["clr-step-description"]],"*"],gC=["clr-accordion-title, clr-step-title","clr-accordion-description, clr-step-description","*"],yC=((pC=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||pC)},pC.\u0275dir=_t({type:pC,selectors:[["clr-icon"]]}),pC),mC=((dC=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:dC}),dC.\u0275inj=fe({factory:function(e){return new(e||dC)},imports:[[cf]]}),dC),_C=((fC=function(){function e(){_classCallCheck(this,e),this._open=!1,this._openChange=new x,this._openEventChange=new x}return _createClass(e,[{key:"getEventChange",value:function(){return this._openEventChange.asObservable()}},{key:"toggleWithEvent",value:function(e){this.openEvent=e,this.open=!this.open}},{key:"openChange",get:function(){return this._openChange.asObservable()}},{key:"openEvent",set:function(e){this._openEvent=e,this._openEventChange.next(e)},get:function(){return this._openEvent}},{key:"open",set:function(e){this._open!==(e=!!e)&&(this._open=e,this._openChange.next(e))},get:function(){return this._open}},{key:"originalEvent",get:function(){return this._openEvent}}]),e}()).\u0275fac=function(e){return new(e||fC)},fC.\u0275prov=he({token:fC,factory:fC.\u0275fac}),fC),bC=((hC=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.renderer=t,this.smartOpenService=n,this.document=r,this.outsideClickClose=!0,this.scrollToClose=!0,this.subscriptions=[],this.subscriptions.push(n.openChange.subscribe((function(e){e?(i.addEscapeListener(),i.addClickListener(),i.addScrollListener()):i.removeAllEventListeners()})),n.getEventChange().subscribe((function(e){i.ignoredEvent=e})))}return _createClass(e,[{key:"addScrollListener",value:function(){var e=this;this.scrollToClose&&(this.documentScroller=function e(t,n,i,o){return r(i)&&(o=i,i=void 0),o?e(t,n,i).pipe(j((function(e){return u(e)?o.apply(void 0,_toConsumableArray(e)):o(e)}))):new w((function(e){!function e(t,n,r,i,o){var s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var a=t;t.addEventListener(n,r,o),s=function(){return a.removeEventListener(n,r,o)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var u=t;t.on(n,r),s=function(){return u.off(n,r)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var c=t;t.addListener(n,r),s=function(){return c.removeListener(n,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var l=0,h=t.length;l<h;l++)e(t[l],n,r,i,o)}i.add(s)}(t,n,(function(t){e.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),e,i)}))}(this.document,"scroll",{capture:!0}),this.scrollSubscription=this.documentScroller.pipe(qc(this.testForSmartPopoverContentContainer)).subscribe((function(){e.smartOpenService.open=!1,e.setAnchorFocus()})))}},{key:"removeScrollListener",value:function(){this.documentScroller&&(this.scrollSubscription.unsubscribe(),delete this.documentScroller)}},{key:"testForSmartPopoverContentContainer",value:function(e){for(var t=e.target;t.classList&&"body"!==t.parentElement.localName;)t=t.parentElement;return!!t.classList&&!t.classList.contains("clr-popover-content")}},{key:"addClickListener",value:function(){var e=this;this.outsideClickClose&&(this.documentClickListener=this.renderer.listen(this.document,"click",(function(t){t===e.ignoredEvent?delete e.ignoredEvent:(e.smartOpenService.open=!1,t.target.focus())})))}},{key:"removeClickListener",value:function(){this.outsideClickClose&&(delete this.ignoredEvent,this.documentClickListener&&(this.documentClickListener(),delete this.documentClickListener))}},{key:"addEscapeListener",value:function(){var e=this;this.escapeListener=this.renderer.listen(this.document,"keydown.escape",(function(t){e.smartOpenService.open=!1,e.setAnchorFocus()}))}},{key:"removeEscapeListener",value:function(){this.escapeListener&&(this.escapeListener(),delete this.escapeListener)}},{key:"setCloseFocus",value:function(){this._closeButtonRef.nativeElement.focus()}},{key:"setAnchorFocus",value:function(){this.anchorButtonRef.nativeElement.focus()}},{key:"removeAllEventListeners",value:function(){this.removeScrollListener(),this.removeClickListener(),this.removeEscapeListener()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.removeAllEventListeners()}},{key:"anchorButtonRef",set:function(e){this._anchorButtonRef=e},get:function(){return this._anchorButtonRef}},{key:"closeButtonRef",set:function(e){this._closeButtonRef=e},get:function(){return this._closeButtonRef}},{key:"contentRef",set:function(e){this._contentRef=e},get:function(){return this._contentRef}}]),e}()).\u0275fac=function(e){return new(e||hC)(Ye(_a),Ye(_C),Ye(Fl))},hC.\u0275prov=he({token:hC,factory:hC.\u0275fac}),hC),kC=function(e){return e[e.BOTTOM=0]="BOTTOM",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.TOP=3]="TOP",e}({}),wC=function(e){return e[e.START=0]="START",e[e.CENTER=.5]="CENTER",e[e.END=1]="END",e}({}),CC=function(e){return Object.assign(Object.assign({},e),{side:-1*e.side})},SC=function(e,t){var n=e.content+(t?.5:-.5);return n<0||n>1?e:Object.assign(Object.assign({},e),{content:n})};function EC(e,t,n){return function(r){return t(e(r),n)}}function IC(e,t,n){var r=t.left,i=t.top;switch(e.axis+e.side){case-1:r+=TC(e,t,n),i-=n.height;break;case 1:r+=TC(e,t,n),i+=t.height;break;case 0:r-=n.width,i+=xC(e,t,n);break;case 2:r+=t.width,i+=xC(e,t,n)}return{xOffset:r,yOffset:i}}function TC(e,t,n){var r=0;switch(e.anchor){case wC.START:break;case wC.CENTER:r+=t.width/2;break;case wC.END:r+=t.width}switch(e.content){case wC.START:break;case wC.CENTER:r-=n.width/2;break;case wC.END:r-=n.width}return r}function xC(e,t,n){var r=0;switch(e.anchor){case wC.START:break;case wC.CENTER:r+=t.height/2;break;case wC.END:r+=t.height}switch(e.content){case wC.START:break;case wC.CENTER:r-=n.height/2;break;case wC.END:r-=n.height}return r}var AC,OC,DC,RC,PC,NC,FC,LC,MC,VC,jC,UC=function(e){return e[e.VERTICAL=0]="VERTICAL",e[e.HORIZONTAL=1]="HORIZONTAL",e}({}),BC=((NC=function(){function e(t,n){_classCallCheck(this,e),this.eventService=t,this.platformId=n,this._shouldRealign=new x,this.shouldRealign=this._shouldRealign.asObservable()}return _createClass(e,[{key:"realign",value:function(){this._shouldRealign.next()}},{key:"alignContent",value:function(e){if(!lf(this.platformId))return{xOffset:0,yOffset:0};this.currentAnchorCoords=this.eventService.anchorButtonRef.nativeElement.getBoundingClientRect(),this.currentContentCoords=e.getBoundingClientRect(),this.contentOffsets=IC(this.position,this.currentAnchorCoords,this.currentContentCoords);var t=function(e,t){var n=[],r=e.yOffset+t.height,i=e.xOffset,o=e.xOffset+t.width;return e.yOffset>=0||n.push(kC.TOP),i>=0||n.push(kC.LEFT),r<=(window.innerHeight||document.documentElement.clientHeight)||n.push(kC.BOTTOM),o<=(window.innerWidth||document.documentElement.clientWidth)||n.push(kC.RIGHT),n}(this.contentOffsets,this.currentContentCoords),n=t.reduce((function(e,t){return e+t}),0);return 1===t.length&&this.position.axis===UC.VERTICAL?this.handleVerticalAxisOneViolation(n):1===t.length&&this.position.axis===UC.HORIZONTAL?this.handleHorizontalAxisOneViolation(n):2===t.length&&this.position.axis===UC.VERTICAL?this.handleVerticalAxisTwoViolations(n):2===t.length&&this.position.axis===UC.HORIZONTAL&&this.handleHorizontalAxisTwoViolations(n),this.contentOffsets}},{key:"handleVerticalAxisOneViolation",value:function(e){switch(e){case 0:case 3:this.contentOffsets=IC(CC(this.position),this.currentAnchorCoords,this.currentContentCoords);break;case 1:this.contentOffsets=IC(SC(this.position),this.currentAnchorCoords,this.currentContentCoords);break;case 2:this.contentOffsets=IC(SC(this.position,!0),this.currentAnchorCoords,this.currentContentCoords)}}},{key:"handleVerticalAxisTwoViolations",value:function(e){switch(e){case 5:var t=EC(CC,SC,!0);this.contentOffsets=IC(t(this.position),this.currentAnchorCoords,this.currentContentCoords);break;case 4:var n=EC(CC,SC,!1);this.contentOffsets=IC(n(this.position),this.currentAnchorCoords,this.currentContentCoords);break;case 3:break;case 2:var r=EC(CC,SC,!0);this.contentOffsets=IC(r(this.position),this.currentAnchorCoords,this.currentContentCoords);break;case 1:var i=EC(CC,SC,!1);this.contentOffsets=IC(i(this.position),this.currentAnchorCoords,this.currentContentCoords)}}},{key:"handleHorizontalAxisOneViolation",value:function(e){switch(e){case 1:case 2:this.contentOffsets=IC(CC(this.position),this.currentAnchorCoords,this.currentContentCoords);break;case 0:this.contentOffsets=IC(SC(this.position,!0),this.currentAnchorCoords,this.currentContentCoords);break;case 3:this.contentOffsets=IC(SC(this.position),this.currentAnchorCoords,this.currentContentCoords)}}},{key:"handleHorizontalAxisTwoViolations",value:function(e){switch(e){case 5:case 4:var t=EC(CC,SC,!1);this.contentOffsets=IC(t(this.position),this.currentAnchorCoords,this.currentContentCoords);break;case 3:break;case 2:case 1:var n=EC(CC,SC,!0);this.contentOffsets=IC(n(this.position),this.currentAnchorCoords,this.currentContentCoords)}}},{key:"position",set:function(e){this._position=e},get:function(){return this._position}}]),e}()).\u0275fac=function(e){return new(e||NC)(Ye(bC),Ye(Hu))},NC.\u0275prov=he({token:NC,factory:NC.\u0275fac}),NC),zC=((PC=function(){function e(t,n,r,i,o,s,a){_classCallCheck(this,e),this.document=t,this.container=n,this.template=r,this.renderer=i,this.smartPositionService=o,this.smartEventsService=s,this.smartOpenService=a,this.subscriptions=[],this.shouldRealign=!1,this.checkCollector=new pu}return _createClass(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.subscriptions.push(this.smartOpenService.openChange.subscribe((function(t){t?e.addContent():e.removeContent()})),this.smartPositionService.shouldRealign.subscribe((function(){e.shouldRealign=!0,e.view&&e.renderer.setStyle(e.view.rootNodes[0],"opacity","0")})),this.checkCollector.pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uc;return function(n){return n.lift(new Jg(e,t))}}(0)).subscribe((function(){e.alignContent(),e.shouldRealign=!1,e.view&&e.renderer.setStyle(e.view.rootNodes[0],"opacity","1")})))}},{key:"ngOnDestroy",value:function(){this.removeContent(),this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"removeContent",value:function(){var e=this;this.view&&(this.view.rootNodes.forEach((function(t){return e.renderer.removeChild(e.document.body,t)})),this.container.clear(),delete this.view)}},{key:"addContent",value:function(){var e=this;this.view=this.container.createEmbeddedView(this.template),this.smartEventsService.contentRef=this.view.rootNodes[0],this.renderer.addClass(this.view.rootNodes[0],"clr-popover-content"),this.renderer.setStyle(this.view.rootNodes[0],"top","0px"),this.renderer.setStyle(this.view.rootNodes[0],"left","0px"),this.renderer.setStyle(this.view.rootNodes[0],"opacity","0"),this.renderer.listen(this.view.rootNodes[0],"click",(function(t){e.smartOpenService.openEvent=t})),this.view.rootNodes.forEach((function(t){e.renderer.appendChild(e.document.body,t)})),this.shouldRealign=!0}},{key:"ngAfterContentChecked",value:function(){this.smartOpenService.open&&this.view&&this.shouldRealign&&this.checkCollector.emit()}},{key:"alignContent",value:function(){if(this.view){var e=this.smartPositionService.alignContent(this.view.rootNodes[0]);this.renderer.setStyle(this.view.rootNodes[0],"top",e.yOffset+"px"),this.renderer.setStyle(this.view.rootNodes[0],"left",e.xOffset+"px")}}},{key:"open",set:function(e){this.smartOpenService.open=!!e}},{key:"contentAt",set:function(e){this.smartPositionService.position=e}},{key:"outsideClickClose",set:function(e){this.smartEventsService.outsideClickClose=!!e}},{key:"scrollToClose",set:function(e){this.smartEventsService.scrollToClose=!!e}}]),e}()).\u0275fac=function(e){return new(e||PC)(Zo(Fl),Zo(Ba),Zo(ja),Zo(_a),Zo(BC),Zo(bC),Zo(_C))},PC.\u0275dir=_t({type:PC,selectors:[["","clrPopoverContent",""]],inputs:{open:["clrPopoverContent","open"],contentAt:["clrPopoverContentAt","contentAt"],outsideClickClose:["clrPopoverContentOutsideClickToClose","outsideClickClose"],scrollToClose:["clrPopoverContentScrollToClose","scrollToClose"]}}),PC),HC=((RC=function(){function e(t){var n=this;_classCallCheck(this,e),this.smartOpenService=t,this.subscriptions=[],this.openCloseChange=new pu,this.subscriptions.push(this.smartOpenService.openChange.subscribe((function(e){n.openCloseChange.next(e)})))}return _createClass(e,[{key:"handleClick",value:function(e){this.smartOpenService.toggleWithEvent(e)}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||RC)(Zo(_C))},RC.\u0275dir=_t({type:RC,selectors:[["","clrPopoverOpenCloseButton",""]],hostVars:2,hostBindings:function(e,t){1&e&&hs("click",(function(e){return t.handleClick(e)})),2&e&&Os("clr-smart-open-close",!0)},outputs:{openCloseChange:"clrPopoverOpenCloseChange"}}),RC),GC=((DC=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.elementRef=t,this.smartEventsService=n,this.smartOpenService=r,this.subscriptions=[],this.closeChange=new pu,this.subscriptions.push(r.openChange.pipe(qc((function(e){return!e}))).subscribe((function(){i.closeChange.next()})))}return _createClass(e,[{key:"handleClick",value:function(e){this.smartOpenService.toggleWithEvent(e),this.smartEventsService.setAnchorFocus()}},{key:"ngAfterViewInit",value:function(){this.smartEventsService.closeButtonRef=this.elementRef,this.smartEventsService.setCloseFocus()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||DC)(Zo(va),Zo(bC),Zo(_C))},DC.\u0275dir=_t({type:DC,selectors:[["","clrPopoverCloseButton",""]],hostVars:2,hostBindings:function(e,t){1&e&&hs("click",(function(e){return t.handleClick(e)})),2&e&&Os("clr-smart-close-button",!0)},outputs:{closeChange:"clrPopoverOnCloseChange"}}),DC),qC=((OC=function e(t,n){_classCallCheck(this,e),t.anchorButtonRef=n}).\u0275fac=function(e){return new(e||OC)(Zo(bC),Zo(va))},OC.\u0275dir=_t({type:OC,selectors:[["","clrPopoverAnchor",""]],hostVars:2,hostBindings:function(e,t){2&e&&Os("clr-anchor",!0)}}),OC),WC=((AC=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:AC}),AC.\u0275inj=fe({factory:function(e){return new(e||AC)},imports:[[]]}),AC),$C=function e(){_classCallCheck(this,e)},QC=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.ERROR=3]="ERROR",e}({}),YC=((LC=function(){function e(t){_classCallCheck(this,e),this.listener=t,this._loadingState=QC.DEFAULT}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.loadingState=QC.DEFAULT}},{key:"loadingState",get:function(){return this._loadingState},set:function(e){!0===e?e=QC.LOADING:e||(e=QC.DEFAULT),e!==this._loadingState&&(this._loadingState=e,this.listener&&this.listener.loadingStateChange(e))}}]),e}()).\u0275fac=function(e){return new(e||LC)(Zo($C,8))},LC.\u0275dir=_t({type:LC,selectors:[["","clrLoading",""]],inputs:{loadingState:["clrLoading","loadingState"]}}),LC),KC=((FC=function(){function e(){_classCallCheck(this,e),this._changes=new x}return _createClass(e,[{key:"updateButtonGroup",value:function(e){this._changes.next(e)}},{key:"changes",get:function(){return this._changes.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||FC)},FC.\u0275prov=he({token:FC,factory:FC.\u0275fac}),FC),ZC=((VC=MC=function(){function e(t,n){_classCallCheck(this,e),this.buttonInGroupService=t,this.toggleService=n,this._enableService=!1,this._inMenu=!1,this._classNames="btn",this._name=null,this._type=null,this._id=null,this._disabled=null,this._click=new pu(!1)}return _createClass(e,[{key:"loadingStateChange",value:function(e){this.loading=e===QC.LOADING}},{key:"emitClick",value:function(e){this.inMenu&&this.toggleService.toggleWithEvent(e),this._click.emit(!0)}},{key:"ngAfterViewInit",value:function(){this._enableService=!0}},{key:"inMenu",get:function(){return this._inMenu},set:function(e){this._inMenu!==(e=!!e)&&(this._inMenu=e,this._enableService&&this.buttonInGroupService&&this.buttonInGroupService.updateButtonGroup(this))}},{key:"classNames",get:function(){return this._classNames},set:function(e){if("string"==typeof e){var t=e.split(" ");-1===t.indexOf("btn")&&t.push("btn"),this._classNames=t.join(" ")}}},{key:"name",get:function(){return this._name},set:function(e){"string"==typeof e&&(this._name=e)}},{key:"type",get:function(){return this._type},set:function(e){"string"==typeof e&&(this._type=e)}},{key:"id",get:function(){return this._id},set:function(e){"string"==typeof e&&(this._id=e)}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=null!==e&&!1!==e?"":null}}]),e}()).\u0275fac=function(e){return new(e||VC)(Zo(KC,12),Zo(_C))},VC.\u0275cmp=dt({type:VC,selectors:[["clr-button"]],viewQuery:function(e,t){var n;1&e&&Iu(O_,!0),2&e&&Eu(n=Ru())&&(t.templateRef=n.first)},inputs:{inMenu:["clrInMenu","inMenu"],classNames:["class","classNames"],name:"name",type:"type",id:"id",disabled:"disabled"},outputs:{_click:"click"},features:[ha([{provide:$C,useExisting:MC}])],ngContentSelectors:P_,decls:2,vars:0,consts:[["buttonProjectedRef",""],[3,"click"],["class","spinner spinner-inline",4,"ngIf"],[1,"spinner","spinner-inline"]],template:function(e,t){1&e&&(ms(),Yo(0,R_,3,7,"ng-template",null,0,Lu))},directives:[Hh],encapsulation:2}),VC),XC={open:"Open",close:"Close",show:"Show",hide:"Hide",expand:"Expand",collapse:"Collapse",more:"More",select:"Select",selectAll:"Select All",previous:"Previous",next:"Next",current:"Jump to current",info:"Info",success:"Success",warning:"Warning",danger:"Error",rowActions:"Available actions",pickColumns:"Show or hide columns",showColumns:"Show Columns",sortColumn:"Sort Column",firstPage:"First Page",lastPage:"Last Page",nextPage:"Next Page",previousPage:"Previous Page",currentPage:"Current Page",totalPages:"Total Pages",minValue:"Min value",maxValue:"Max value",modalContentStart:"Beginning of Modal Content",modalContentEnd:"End of Modal Content",showColumnsMenuDescription:"Show or hide columns menu",allColumnsSelected:"All columns selected",signpostToggle:"Signpost Toggle",signpostClose:"Signpost Close",loading:"Loading",detailPaneStart:"Start of row details",detailPaneEnd:"End of row details",singleSelectionAriaLabel:"Single selection header",singleActionableAriaLabel:"Single actionable header",detailExpandableAriaLabel:"Toggle more row content",datagridFilterAriaLabel:"Toggle column filter",alertCloseButtonAriaLabel:"Close alert",datepickerToggle:"Toggle datepicker",datepickerPreviousMonth:"Previous month",datepickerCurrentMonth:"Current month",datepickerNextMonth:"Next month",datepickerPreviousDecade:"Previous decade",datepickerNextDecade:"Next decade",datepickerCurrentDecade:"Current decade",datepickerSelectMonthText:"Select month, the current month is {CALENDAR_MONTH}",datepickerSelectYearText:"Select year, the current year is {CALENDAR_YEAR}",daypickerSRCurrentMonthPhrase:"The current month is {CURRENT_MONTH}",daypickerSRCurrentYearPhrase:"The current year is {CURRENT_YEAR}",daypickerSRCurrentDecadePhrase:"The current decade is {DECADE_RANGE}",stackViewChanged:"Value changed.",formErrorSummary:"The form has {ERROR_NUMBER} errors.",verticalNavToggle:"Toggle vertical navigation",verticalNavGroupToggle:"Toggle vertical navigation group",timelineStepNotStarted:"Not started",timelineStepCurrent:"Current",timelineStepSuccess:"Completed",timelineStepError:"Error",timelineStepProcessing:"In progress",dategridExpandableBeginningOf:"Beginning of",dategridExpandableEndOf:"End of",dategridExpandableRowContent:"Expandable row content",dategridExpandableRowsHelperText:"Screen reader table commands may not work for viewing expanded content, please use your screen reader's browse mode to read the content exposed by this button"},JC=((jC=function(){function e(){_classCallCheck(this,e),this._strings=XC}return _createClass(e,[{key:"localize",value:function(e){this._strings=Object.assign(Object.assign({},this._strings),e)}},{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(t),r=e;return n.length&&n.forEach((function(e){r=r.replace("{".concat(e,"}"),t[e])})),r}},{key:"keys",get:function(){return this._strings}}]),e}()).\u0275fac=function(e){return new(e||jC)},jC.\u0275prov=he({factory:function(){return new jC},token:jC,providedIn:"root"}),jC),eS=0,tS=new Ue("UNIQUE_ID");function nS(){return"clr-id-"+eS++}var rS,iS,oS,sS,aS,uS,cS,lS,hS,fS,dS,pS,vS,gS,yS,mS,_S,bS,kS,wS,CS,SS,ES,IS,TS,xS,AS,OS,DS,RS,PS,NS,FS,LS,MS,VS,jS,US={provide:tS,useFactory:nS},BS=function(e){return e[e.BEFORE=-1]="BEFORE",e[e.AFTER=1]="AFTER",e}({}),zS=function(){var e=function e(){_classCallCheck(this,e)};return e["top-right"]={axis:UC.VERTICAL,side:BS.BEFORE,anchor:wC.END,content:wC.END},e["top-left"]={axis:UC.VERTICAL,side:BS.BEFORE,anchor:wC.START,content:wC.START},e["bottom-right"]={axis:UC.VERTICAL,side:BS.AFTER,anchor:wC.END,content:wC.END},e["bottom-left"]={axis:UC.VERTICAL,side:BS.AFTER,anchor:wC.START,content:wC.START},e["right-top"]={axis:UC.HORIZONTAL,side:BS.AFTER,anchor:wC.CENTER,content:wC.END},e["right-bottom"]={axis:UC.HORIZONTAL,side:BS.AFTER,anchor:wC.START,content:wC.START},e["left-top"]={axis:UC.HORIZONTAL,side:BS.BEFORE,anchor:wC.CENTER,content:wC.END},e["left-bottom"]={axis:UC.HORIZONTAL,side:BS.BEFORE,anchor:wC.START,content:wC.START},e}(),HS=((iS=function(){function e(t,n,r,i){_classCallCheck(this,e),this.buttonGroupNewService=t,this.toggleService=n,this.popoverId=r,this.commonStrings=i,this.popoverPosition=zS["bottom-left"],this.inlineButtons=[],this.menuButtons=[]}return _createClass(e,[{key:"ngAfterContentInit",value:function(){var e=this;this.initializeButtons(),this.buttonGroupNewService.changes.subscribe((function(t){return e.rearrangeButton(t)})),this.buttons.changes.subscribe((function(){e.initializeButtons()}))}},{key:"rearrangeButton",value:function(e){var t,n;e.inMenu?(t=this.inlineButtons,n=this.menuButtons):(t=this.menuButtons,n=this.inlineButtons);var r=t.indexOf(e);if(r>-1){t.splice(r,1);var i=this.getMoveIndex(e);i<=n.length&&n.splice(i,0,e)}}},{key:"getMoveIndex",value:function(e){return this.buttons.filter((function(t){return t.inMenu===e.inMenu})).indexOf(e)}},{key:"initializeButtons",value:function(){var e=[],t=[];this.buttons.forEach((function(n){n.inMenu?t.push(n):e.push(n)})),this.inlineButtons=e,this.menuButtons=t}},{key:"open",get:function(){return this.toggleService.open}},{key:"menuPosition",get:function(){return this._menuPosition},set:function(e){this._menuPosition=e&&zS[e]?e:"bottom-left",this.popoverPosition=zS[this._menuPosition]}}]),e}()).\u0275fac=function(e){return new(e||iS)(Zo(KC),Zo(_C),Zo(tS),Zo(JC))},iS.\u0275cmp=dt({type:iS,selectors:[["clr-button-group"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,ZC,!1),2&e&&Eu(r=Ru())&&(t.buttons=r)},hostVars:2,hostBindings:function(e,t){2&e&&Os("btn-group",!0)},inputs:{menuPosition:["clrMenuPosition","menuPosition"]},features:[ha([KC,US,_C,bC,BC])],decls:4,vars:2,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],["ref",""],[3,"ngTemplateOutlet"],[1,"btn-group-overflow","open",3,"ngClass"],["anchor",""],["clrPopoverAnchor","","clrPopoverOpenCloseButton","",1,"btn","dropdown-toggle"],["shape","ellipsis-horizontal"],["role","menu","class","dropdown-menu clr-button-group-menu",3,"id",4,"clrPopoverContent","clrPopoverContentAt","clrPopoverContentOutsideClickToClose","clrPopoverContentScrollToClose"],["role","menu",1,"dropdown-menu","clr-button-group-menu",3,"id"]],template:function(e,t){1&e&&(Yo(0,F_,2,1,"ng-container",0),Yo(1,V_,6,9,"ng-container",1),Yo(2,B_,1,1,"ng-template",null,2,Lu)),2&e&&(es("ngForOf",t.inlineButtons),Ur(1),es("ngIf",t.menuButtons.length>0))},directives:[Bh,Hh,Xh,jh,qC,HC,yC,zC],encapsulation:2}),iS),GS=((rS=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:rS}),rS.\u0275inj=fe({factory:function(e){return new(e||rS)},imports:[[cf,mC,WC]]}),rS),qS=((fS=oS=function(){function e(t,n){_classCallCheck(this,e),this.el=t,this.renderer=n,this.buttonState=QC,this.state=QC.DEFAULT,this.clrLoadingChange=new pu(!1)}return _createClass(e,[{key:"loadingStateChange",value:function(e){if(e!==this.state){switch(this.state=e,e){case QC.DEFAULT:this.renderer.removeStyle(this.el.nativeElement,"width"),this.renderer.removeStyle(this.el.nativeElement,"transform"),this.disabled||this.renderer.removeAttribute(this.el.nativeElement,"disabled");break;case QC.LOADING:this.setExplicitButtonWidth(),this.renderer.setStyle(this.el.nativeElement,"transform","translatez(0)"),this.renderer.setAttribute(this.el.nativeElement,"disabled","");break;case QC.SUCCESS:this.setExplicitButtonWidth();break;case QC.ERROR:this.loadingStateChange(QC.DEFAULT)}this.clrLoadingChange.emit(e)}}},{key:"setExplicitButtonWidth",value:function(){if(this.el.nativeElement&&this.el.nativeElement.getBoundingClientRect){var e=this.el.nativeElement.getBoundingClientRect();this.renderer.setStyle(this.el.nativeElement,"width",e.width+"px")}}}]),e}()).\u0275fac=function(e){return new(e||fS)(Zo(va),Zo(_a))},fS.\u0275cmp=dt({type:fS,selectors:[["button","clrLoading",""]],hostVars:1,hostBindings:function(e,t){2&e&&$o("disabled",t.disabled?"":null)},inputs:{disabled:"disabled"},outputs:{clrLoadingChange:"clrLoadingChange"},features:[ha([{provide:$C,useExisting:oS}])],attrs:z_,ngContentSelectors:P_,decls:4,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"spinner","spinner-inline"],[1,"spinner","spinner-inline","spinner-check"]],template:function(e,t){1&e&&(ms(),os(0,0),Yo(1,H_,2,1,"span",1),Yo(2,G_,2,1,"span",1),Yo(3,q_,2,1,"span",1),ss()),2&e&&(es("ngSwitch",t.state),Ur(1),es("ngSwitchCase",t.buttonState.LOADING),Ur(1),es("ngSwitchCase",t.buttonState.SUCCESS),Ur(1),es("ngSwitchCase",t.buttonState.DEFAULT))},directives:[Kh,Zh],encapsulation:2,data:{animation:[oy("defaultButton",[ly(":enter",[uy({opacity:0}),sy("200ms 100ms ease-in",uy({opacity:1}))]),ly(":leave",[uy({opacity:0})])]),oy("spinner",[ly(":enter",[uy({opacity:0}),sy("200ms 100ms ease-in",uy({opacity:1}))]),ly(":leave",[uy({opacity:1}),sy("100ms ease-out",uy({opacity:0}))])]),oy("validated",[ly(":enter",[sy("600ms",(hS=[uy({transform:"scale(0,0)",offset:0}),uy({opacity:1,offset:.2}),uy({transform:"scale(1.2,1.2)",offset:.4}),uy({transform:"scale(.9,.9)",offset:.6}),uy({transform:"scale(1,1)",offset:1})],{type:5,steps:hS}))]),ly(":leave",[uy({opacity:1}),sy("100ms ease-out",uy({opacity:0}))])])]}}),fS),WS=((lS=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:lS}),lS.\u0275inj=fe({factory:function(e){return new(e||lS)},imports:[[cf]]}),lS),$S=((cS=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:cS}),cS.\u0275inj=fe({factory:function(e){return new(e||cS)},imports:[WS,GS]}),cS),QS=((uS=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||uS)},uS.\u0275cmp=dt({type:uS,selectors:[["ng-component"]],decls:0,vars:0,template:function(e,t){},encapsulation:2}),uS),YS=((aS=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:aS}),aS.\u0275inj=fe({factory:function(e){return new(e||aS)}}),aS),KS=0,ZS=((sS=function(){function e(){_classCallCheck(this,e),this._id="clr-form-control-"+ ++KS,this._idChange=new Lc(this._id)}return _createClass(e,[{key:"id",get:function(){return this._id},set:function(e){this._id=e,this._idChange.next(e)}},{key:"idChange",get:function(){return this._idChange.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||sS)},sS.\u0275prov=he({token:sS,factory:sS.\u0275fac}),sS),XS=function(e){return e.off="off",e.polite="polite",e.assertive="assertive",e}({}),JS=((dS=function(){function e(t,n,r){_classCallCheck(this,e),this.ngZone=t,this.platformId=r,this._id="clr-aria-live-element-"+nS(),this.document=n}return _createClass(e,[{key:"announce",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:XS.polite;n!==XS.off&&(!this.ariaLiveElement&&lf(this.platformId)&&(this.ariaLiveElement=this.createContainer()),(e="string"!=typeof e&&lf(this.platformId)?e.textContent:e)&&(this.ariaLiveElement.setAttribute("aria-live",n),this.ngZone.runOutsideAngular((function(){clearTimeout(t.previousTimeout),t.previousTimeout=setTimeout((function(){t.ariaLiveElement.textContent=e}),100)}))))}},{key:"ngOnDestroy",value:function(){clearTimeout(this.previousTimeout),lf(this.platformId)&&this.ariaLiveElement&&(this.document.body.removeChild(this.ariaLiveElement),this.ariaLiveElement=null)}},{key:"createContainer",value:function(){var e=this.document.createElement("div");return e.setAttribute("id",this.id),e.classList.add("clr-sr-only"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live",XS.polite),this.document.body.appendChild(e),e}},{key:"id",get:function(){return this._id}}]),e}()).\u0275fac=function(e){return new(e||dS)(Ye(oc),Ye(Fl),Ye(Hu))},dS.\u0275prov=he({factory:function(){return new dS(Ye(oc),Ye(Fl),Ye(Hu))},token:dS,providedIn:"root"}),dS),eE=function(e){return e.VERTICAL="vertical",e.HORIZONTAL="horizontal",e.COMPACT="compact",e}({}),tE=((SS=function(){function e(){_classCallCheck(this,e),this.minLabelSize=1,this.maxLabelSize=12,this.layout=eE.HORIZONTAL,this.layoutValues=Object.keys(eE).map((function(e){return eE[e]})),this._labelSize=2}return _createClass(e,[{key:"isVertical",value:function(){return this.layout===eE.VERTICAL}},{key:"isHorizontal",value:function(){return this.layout===eE.HORIZONTAL}},{key:"isCompact",value:function(){return this.layout===eE.COMPACT}},{key:"isValid",value:function(e){return this.layoutValues.indexOf(e)>-1}},{key:"labelSizeIsValid",value:function(e){return Number.isInteger(e)&&e>=this.minLabelSize&&e<=this.maxLabelSize}},{key:"labelSize",set:function(e){this.labelSizeIsValid(e)&&(this._labelSize=e)},get:function(){return this._labelSize}},{key:"layoutClass",get:function(){return"clr-form-"+this.layout}}]),e}()).\u0275fac=function(e){return new(e||SS)},SS.\u0275prov=he({token:SS,factory:SS.\u0275fac}),SS),nE=((CS=function(){function e(t){_classCallCheck(this,e),this.layoutService=t,this.className=""}return _createClass(e,[{key:"controlClass",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=[this.className,n];return e&&r.push("clr-error"),t&&this.layoutService&&-1===this.className.indexOf("clr-col")&&r.push("clr-col-md-".concat(this.layoutService.maxLabelSize-this.layoutService.labelSize," clr-col-12")),r.join(" ").trim()}},{key:"initControlClass",value:function(e,t){t&&t.className&&(this.className=t.className,t.className.split(" ").forEach((function(n){n.startsWith("clr-col")&&e.removeClass(t,n)})))}}]),e}()).\u0275fac=function(e){return new(e||CS)(Ye(tE,8))},CS.\u0275prov=he({token:CS,factory:CS.\u0275fac}),CS),rE=((wS=function(){function e(t,n,r,i){_classCallCheck(this,e),this.controlIdService=t,this.controlClassService=n,this.ariaLiveService=r,this.el=i}return _createClass(e,[{key:"ngAfterViewInit",value:function(){null===this.controlClassService&&this.ariaLiveService.announce(this.el.nativeElement)}}]),e}()).\u0275fac=function(e){return new(e||wS)(Zo(ZS,8),Zo(nE,8),Zo(JS),Zo(va))},wS.\u0275cmp=dt({type:wS,selectors:[["clr-control-error"]],hostVars:3,hostBindings:function(e,t){2&e&&(Ws("id",(null==t.controlIdService?null:t.controlIdService.id)+"-error"),Os("clr-subtext",!0))},features:[ha([JS])],ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2}),wS),iE=((kS=function e(t){_classCallCheck(this,e),this.controlIdService=t}).\u0275fac=function(e){return new(e||kS)(Zo(ZS,8))},kS.\u0275cmp=dt({type:kS,selectors:[["clr-control-helper"]],hostVars:3,hostBindings:function(e,t){2&e&&(Ws("id",(null==t.controlIdService?null:t.controlIdService.id)+"-helper"),Os("clr-subtext",!0))},ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2}),kS),oE=((bS=function(){function e(){_classCallCheck(this,e),this._controlChanges=new x}return _createClass(e,[{key:"setControl",value:function(e){this._controlChanges.next(e)}},{key:"controlChanges",get:function(){return this._controlChanges.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||bS)},bS.\u0275prov=he({token:bS,factory:bS.\u0275fac}),bS),sE=((_S=function(){function e(t){var n=this;_classCallCheck(this,e),this.ngControlService=t,this._statusChanges=new x,this.subscriptions=[],this.subscriptions.push(this.ngControlService.controlChanges.subscribe((function(e){e&&(n.control=e,n.listenForChanges())})))}return _createClass(e,[{key:"listenForChanges",value:function(){var e=this;this.subscriptions.push(this.control.statusChanges.subscribe((function(){e.sendValidity()})))}},{key:"sendValidity",value:function(){this._statusChanges.next(!(!this.control.touched||!this.control.invalid))}},{key:"triggerStatusChange",value:function(){this.control&&this.sendValidity()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"statusChanges",get:function(){return this._statusChanges.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||_S)(Ye(oE))},_S.\u0275prov=he({token:_S,factory:_S.\u0275fac}),_S),aE=((mS=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.controlIdService=t,this.layoutService=n,this.ngControlService=r,this.renderer=i,this.el=o,this.subscriptions=[],this.enableGrid=!0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;(this.controlIdService||this.ngControlService)&&this.renderer.addClass(this.el.nativeElement,"clr-control-label"),this.enableGrid&&this.layoutService&&!this.layoutService.isVertical()&&this.el.nativeElement&&this.el.nativeElement.className.indexOf("clr-col")<0&&(this.renderer.addClass(this.el.nativeElement,"clr-col-12"),this.renderer.addClass(this.el.nativeElement,"clr-col-md-"+this.layoutService.labelSize)),this.controlIdService&&!this.forAttr&&this.subscriptions.push(this.controlIdService.idChange.subscribe((function(t){return e.forAttr=t})))}},{key:"disableGrid",value:function(){this.enableGrid=!1}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"labelText",get:function(){return this.el.nativeElement&&this.el.nativeElement.textContent}}]),e}()).\u0275fac=function(e){return new(e||mS)(Zo(ZS,8),Zo(tE,8),Zo(oE,8),Zo(_a),Zo(va))},mS.\u0275dir=_t({type:mS,selectors:[["label"]],hostVars:1,hostBindings:function(e,t){2&e&&$o("for",t.forAttr)},inputs:{forAttr:["for","forAttr"]}}),mS),uE=((yS=function(){function e(){_classCallCheck(this,e),this._touched=new x}return _createClass(e,[{key:"markAsTouched",value:function(){this._touched.next()}},{key:"touchedChange",get:function(){return this._touched.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||yS)},yS.\u0275prov=he({token:yS,factory:yS.\u0275fac}),yS),cE=((gS=function(){function e(t,n,r,i,o,s){_classCallCheck(this,e),this.layoutService=t,this.markControlService=n,this.platformId=r,this.el=i,this.commonStrings=o,this.ariaLiveService=s,this.invalidControls=[]}return _createClass(e,[{key:"markAsDirty",value:function(e){this.markAsTouched(!0)}},{key:"markAsTouched",value:function(e){this.markControlService.markAsTouched(),!1!==e&&lf(this.platformId)&&(this.invalidControls=Array.from(this.el.nativeElement.querySelectorAll(".ng-invalid")),this.invalidControls.length>0&&(this.invalidControls[0].focus(),this.updateAriaLive()))}},{key:"onFormSubmit",value:function(){this.markAsTouched()}},{key:"updateAriaLive",value:function(){var e=this;if(0!==this.invalidControls.length){var t=this.labels.filter((function(t){return e.invalidControls.find((function(e){return t.forAttr===e.id}))}));this.ariaLiveService.announce(this.commonStrings.parse(this.commonStrings.keys.formErrorSummary,{ERROR_NUMBER:t.length.toString()}))}}},{key:"labelSize",set:function(e){this.layoutService.labelSize=e}}]),e}()).\u0275fac=function(e){return new(e||gS)(Zo(tE),Zo(uE),Zo(Hu),Zo(va),Zo(JC),Zo(JS))},gS.\u0275dir=_t({type:gS,selectors:[["","clrForm",""]],contentQueries:function(e,t,n){var r;1&e&&Au(n,aE,!0),2&e&&Eu(r=Ru())&&(t.labels=r)},hostVars:6,hostBindings:function(e,t){1&e&&hs("submit",(function(){return t.onFormSubmit()})),2&e&&Os("clr-form",!0)("clr-form-horizontal",t.layoutService.isHorizontal())("clr-form-compact",t.layoutService.isCompact())},inputs:{labelSize:["clrLabelSize","labelSize"]},features:[ha([tE,uE,JS])]}),gS),lE=((vS=function(){function e(t){_classCallCheck(this,e),this.layoutService=t}return _createClass(e,[{key:"ngOnInit",value:function(){this.layout&&this.layoutService.isValid(this.layout)&&(this.layoutService.layout=this.layout)}}]),e}()).\u0275fac=function(e){return new(e||vS)(Zo(tE))},vS.\u0275dir=_t({type:vS,selectors:[["","clrForm","","clrLayout",""]],inputs:{layout:["clrLayout","layout"]}}),vS),hE=((pS=function(){function e(t,n,r,i){var o=this;_classCallCheck(this,e),this.ifErrorService=t,this.layoutService=n,this.controlClassService=r,this.ngControlService=i,this.subscriptions=[],this.invalid=!1,this._dynamic=!1,this.subscriptions.push(this.ifErrorService.statusChanges.subscribe((function(e){o.invalid=e}))),this.subscriptions.push(this.ngControlService.controlChanges.subscribe((function(e){o.control=e})))}return _createClass(e,[{key:"controlClass",value:function(){return this.controlClassService.controlClass(this.invalid,this.addGrid())}},{key:"addGrid",value:function(){return this.layoutService&&!this.layoutService.isVertical()}},{key:"ngOnDestroy",value:function(){this.subscriptions.map((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||pS)(Zo(sE),Zo(tE,8),Zo(nE),Zo(oE))},pS.\u0275dir=_t({type:pS,contentQueries:function(e,t,n){var r;1&e&&Au(n,aE,!0),2&e&&Eu(r=Ru())&&(t.label=r.first)}}),pS),fE=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(_classCallCheck(this,e),this.injector=n.injector,!this.injector.get(t,null)){var i=this.injector.get(pa),o=this.injector.get(va);n.createComponent(i.resolveComponentFactory(QS));var s=i.resolveComponentFactory(t),a=[];a[r]=[o.nativeElement];var u=n.createComponent(s,void 0,void 0,a);n.remove(0),u.instance._dynamic=!0,this.injector=u.injector}}return _createClass(e,[{key:"get",value:function(e,t){return this.injector.get(e,t)}}]),e}(),dE=((IS=function(){function e(t,n,r,i,o,s){var a=this;_classCallCheck(this,e),this.vcr=t,this.wrapperType=n,this.ngControl=i,this.subscriptions=[],this.index=0,this.renderer=o,this.el=s;try{this.ngControlService=r.get(oE),this.ifErrorService=r.get(sE),this.controlClassService=r.get(nE),this.markControlService=r.get(uE)}catch(u){}this.controlClassService&&this.controlClassService.initControlClass(o,s.nativeElement),this.markControlService&&this.subscriptions.push(this.markControlService.touchedChange.subscribe((function(){a.ngControl.control.markAsTouched(),a.ngControl.control.updateValueAndValidity()})))}return _createClass(e,[{key:"triggerValidation",value:function(){this.ifErrorService&&this.ifErrorService.triggerStatusChange()}},{key:"getProviderFromContainer",value:function(e,t){try{return this._containerInjector.get(e,t)}catch(n){return t}}},{key:"ngOnInit",value:function(){this._containerInjector=new fE(this.wrapperType,this.vcr,this.index),this.controlIdService=this._containerInjector.get(ZS),this._id?this.controlIdService.id=this._id:this._id=this.controlIdService.id,this.ngControlService&&this.ngControlService.setControl(this.ngControl),this.listenForErrorStateChanges()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"listenForErrorStateChanges",value:function(){var e=this;this.ifErrorService&&this.subscriptions.push(this.ifErrorService.statusChanges.pipe(hd(!1),qc((function(){return e.renderer&&!!e.el})),(function(e){return e.lift(new ny(void 0,void 0))})).subscribe((function(t){return e.setAriaDescribedBy(t)})))}},{key:"setAriaDescribedBy",value:function(e){this.renderer.setAttribute(this.el.nativeElement,"aria-describedby",this.getAriaDescribedById(e))}},{key:"getAriaDescribedById",value:function(e){return this.controlIdService.id.concat(e?"-error":"-helper")}},{key:"id",get:function(){return this._id},set:function(e){this._id=e,this.controlIdService&&(this.controlIdService.id=e)}}]),e}()).\u0275fac=function(e){return new(e||IS)(Zo(Ba),Zo(yo),Zo(Ro),Zo(Dy),Zo(_a),Zo(va))},IS.\u0275dir=_t({type:IS,hostVars:1,hostBindings:function(e,t){1&e&&hs("blur",(function(){return t.triggerValidation()})),2&e&&Ws("id",t.id)},inputs:{id:"id"}}),IS),pE=((ES=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:ES}),ES.\u0275inj=fe({factory:function(e){return new(e||ES)},imports:[[cf,mC]]}),ES),vE=new Ue("IS_TOGGLE"),gE={provide:vE,useFactory:function(){return new Lc(!1)}},yE=((OS=function(){function e(t){var n=this;_classCallCheck(this,e),this._dynamic=!1,this.toggle=!1,this.subscriptions=[],this.subscriptions.push(t.subscribe((function(e){n.toggle=e})))}return _createClass(e,[{key:"ngOnInit",value:function(){this.label&&this.label.disableGrid()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||OS)(Zo(vE))},OS.\u0275cmp=dt({type:OS,selectors:[["clr-checkbox-wrapper"],["clr-toggle-wrapper"]],contentQueries:function(e,t,n){var r;1&e&&Ou(n,aE,!0),2&e&&Eu(r=Ru())&&(t.label=r.first)},hostVars:4,hostBindings:function(e,t){2&e&&Os("clr-checkbox-wrapper",!t.toggle)("clr-toggle-wrapper",t.toggle)},features:[ha([ZS,gE])],ngContentSelectors:Q_,decls:3,vars:1,consts:[[4,"ngIf"]],template:function(e,t){1&e&&(ms($_),_s(0),_s(1,1),Yo(2,W_,1,0,"label",0)),2&e&&(Ur(2),es("ngIf",!t.label))},directives:[Hh,aE],encapsulation:2}),OS),mE=((AS=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s,a){var u;return _classCallCheck(this,n),(u=t.call(this,e,yE,r,i,o,s)).toggle=a,u}return _createClass(n,[{key:"ngOnInit",value:function(){_get(_getPrototypeOf(n.prototype),"ngOnInit",this).call(this);var e=this.getProviderFromContainer(vE,null);e&&null!==this.toggle&&e.next(!0)}}]),n}(dE)).\u0275fac=function(e){return new(e||AS)(Zo(Ba),Zo(Ro),Zo(Dy,10),Zo(_a),Zo(va),Xo("clrToggle"))},AS.\u0275dir=_t({type:AS,selectors:[["","clrCheckbox",""],["","clrToggle",""]],features:[Ys]}),AS),_E=((xS=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).inline=!1,e}return _createClass(n,[{key:"clrInline",set:function(e){this.inline="string"==typeof e?"false"!==e:!!e},get:function(){return this.inline}}]),n}(hE)).\u0275fac=function(e){return WP(e||xS)},xS.\u0275cmp=dt({type:xS,selectors:[["clr-checkbox-container"],["clr-toggle-container"]],hostVars:6,hostBindings:function(e,t){2&e&&Os("clr-form-control",!0)("clr-form-control-disabled",null==t.control?null:t.control.disabled)("clr-row",t.addGrid())},inputs:{clrInline:"clrInline"},features:[ha([oE,nE,sE]),Ys],ngContentSelectors:eb,decls:8,vars:7,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],[1,"clr-subtext-wrapper"],["class","clr-validate-icon","shape","exclamation-circle","aria-hidden","true",4,"ngIf"],["shape","exclamation-circle","aria-hidden","true",1,"clr-validate-icon"]],template:function(e,t){1&e&&(ms(J_),_s(0),Yo(1,Y_,1,0,"label",0),ns(2,"div",1),_s(3,1),ns(4,"div",2),Yo(5,K_,1,0,void 0,0),Yo(6,Z_,1,0,"clr-icon",3),Yo(7,X_,1,0,void 0,0),rs(),rs()),2&e&&(Ur(1),es("ngIf",!t.label&&t.addGrid()),Ur(1),Os("clr-control-inline",t.clrInline),es("ngClass",t.controlClass()),Ur(3),es("ngIf",!t.invalid),Ur(1),es("ngIf",t.invalid),Ur(1),es("ngIf",t.invalid))},directives:[Hh,jh,aE,yC],encapsulation:2}),xS),bE=((TS=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:TS}),TS.\u0275inj=fe({factory:function(e){return new(e||TS)},imports:[[cf,mC,pE,YS],pE]}),TS),kE=0,wE=new Ue("IF_ACTIVE_ID"),CE={provide:wE,useFactory:function(){return++kE}},SE=((jS=function(){function e(){_classCallCheck(this,e),this._currentChange=new x}return _createClass(e,[{key:"currentChange",get:function(){return this._currentChange.asObservable()}},{key:"current",set:function(e){this._current!==e&&(this._current=e,this._currentChange.next(e))},get:function(){return this._current}}]),e}()).\u0275fac=function(e){return new(e||jS)},jS.\u0275prov=he({token:jS,factory:jS.\u0275fac}),jS),EE=((VS=function(){function e(t,n,r,i){var o=this;_classCallCheck(this,e),this.ifActiveService=t,this.id=n,this.template=r,this.container=i,this.wasActive=!1,this.activeChange=new pu(!1),this.checkAndUpdateView(t.current),this.subscription=this.ifActiveService.currentChange.subscribe((function(e){o.checkAndUpdateView(e)}))}return _createClass(e,[{key:"checkAndUpdateView",value:function(e){var t=e===this.id;t!==this.wasActive&&(this.updateView(t),this.activeChange.emit(t),this.wasActive=t)}},{key:"updateView",value:function(e){e?this.container.createEmbeddedView(this.template):this.container.clear()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"active",set:function(e){e&&(this.ifActiveService.current=this.id)},get:function(){return this.ifActiveService.current===this.id}}]),e}()).\u0275fac=function(e){return new(e||VS)(Zo(SE),Zo(wE),Zo(ja),Zo(Ba))},VS.\u0275dir=_t({type:VS,selectors:[["","clrIfActive",""]],inputs:{active:["clrIfActive","active"]},outputs:{activeChange:"clrIfActiveChange"}}),VS),IE=((MS=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.toggleService=t,this.template=n,this.container=r,this.openChange=new pu(!1),this.subscription=this.toggleService.openChange.subscribe((function(e){i.updateView(e),i.openChange.emit(e)}))}return _createClass(e,[{key:"updateView",value:function(e){e?this.container.createEmbeddedView(this.template):this.container.clear()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"open",set:function(e){this.toggleService.open=e},get:function(){return this.toggleService.open}}]),e}()).\u0275fac=function(e){return new(e||MS)(Zo(_C),Zo(ja),Zo(Ba))},MS.\u0275dir=_t({type:MS,selectors:[["","clrIfOpen",""]],inputs:{open:["clrIfOpen","open"]},outputs:{openChange:"clrIfOpenChange"}}),MS),TE=((LS=function(){function e(){_classCallCheck(this,e),this.expandable=0,this._loading=!1,this._expanded=!1,this._expandChange=new x}return _createClass(e,[{key:"toggle",value:function(){this.expanded=!this._expanded}},{key:"loadingStateChange",value:function(e){switch(e){case QC.LOADING:this.loading=!0;break;default:this.loading=!1}}},{key:"loading",get:function(){return this._loading},set:function(e){(e=!!e)!==this._loading&&(this._loading=e)}},{key:"expanded",get:function(){return this._expanded},set:function(e){(e=!!e)!==this._expanded&&(this._expanded=e,this._expandChange.next(e))}},{key:"expandChange",get:function(){return this._expandChange.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||LS)},LS.\u0275prov=he({token:LS,factory:LS.\u0275fac}),LS),xE=((FS=function(){function e(t,n,r,i,o){var s=this;_classCallCheck(this,e),this.template=t,this.container=n,this.el=r,this.renderer=i,this.expand=o,this._expanded=!1,this.expandedChange=new pu(!0),this._subscriptions=[],o.expandable++,this._subscriptions.push(o.expandChange.subscribe((function(){s.updateView(),s.expandedChange.emit(s.expand.expanded)})))}return _createClass(e,[{key:"updateView",value:function(){if(!this.expand.expanded||0===this.container.length)if(this.template)this.expand.expanded?this.container.createEmbeddedView(this.template):this.container.clear();else try{this.renderer.setStyle(this.el.nativeElement,"display",this.expand.expanded?null:"none")}catch(e){}}},{key:"ngOnInit",value:function(){this.updateView()}},{key:"ngOnDestroy",value:function(){this.expand.expandable--,this._subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"expanded",get:function(){return this._expanded},set:function(e){"boolean"==typeof e&&(this.expand.expanded=e,this._expanded=e)}}]),e}()).\u0275fac=function(e){return new(e||FS)(Zo(ja,8),Zo(Ba),Zo(va),Zo(_a),Zo(TE))},FS.\u0275dir=_t({type:FS,selectors:[["","clrIfExpanded",""]],inputs:{expanded:["clrIfExpanded","expanded"]},outputs:{expandedChange:"clrIfExpandedChange"}}),FS),AE=((NS=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:NS}),NS.\u0275inj=fe({factory:function(e){return new(e||NS)},imports:[[cf]]}),NS),OE=((PS=function(){function e(){_classCallCheck(this,e),this._previousFocusTraps=[]}return _createClass(e,[{key:"activatePreviousTrapper",value:function(){this._current=this._previousFocusTraps.pop()}},{key:"current",get:function(){return this._current},set:function(e){this._previousFocusTraps.push(this._current),this._current=e}},{key:"nbFocusTrappers",get:function(){return this._previousFocusTraps.length}}]),e}()).\u0275fac=function(e){return new(e||PS)},PS.\u0275prov=he({factory:function(){return new PS},token:PS,providedIn:"root"}),PS),DE=((RS=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.el=t,this.injector=n,this.focusTrapsTracker=r,this.renderer=i,this.platformId=o,this.localFocusEscaped=!1,this._config={strict:!0},this.document=this.injector.get(Fl),this.focusTrapsTracker.current=this,this.renderer.setAttribute(this.el.nativeElement,"tabindex","0")}return _createClass(e,[{key:"onFocusIn",value:function(e){if(this.focusTrapsTracker.current===this&&lf(this.platformId)&&!this.localFocusEscaped){var t=this.el.nativeElement;this._config.strict&&e.target&&!t.contains(e.target)||e.target===this.bottomReboundEl&&t.contains(this.previousTrappedActiveElement)?t.focus():e.target===this.topReboundEl||e.target===t||t.contains(e.target)||(this.localFocusEscaped=!0),this.previousTrappedActiveElement=e.target}}},{key:"createFocusableOffScreenEl",value:function(){var e=this.document.createElement("span");return this.renderer.setAttribute(e,"tabindex","0"),this.renderer.addClass(e,"offscreen-focus-rebounder"),e}},{key:"addReboundEls",value:function(){if(lf(this.platformId)){this.topReboundEl=this.createFocusableOffScreenEl(),this.bottomReboundEl=this.createFocusableOffScreenEl();var e=this.el.nativeElement;this.renderer.insertBefore(e.parentElement,this.topReboundEl,e),e.nextSibling?this.renderer.insertBefore(e.parentNode,this.bottomReboundEl,e.nextSibling):this.renderer.appendChild(e.parentNode,this.bottomReboundEl)}}},{key:"removeReboundEls",value:function(){lf(this.platformId)&&this.topReboundEl&&this.bottomReboundEl&&(this.parentElement.removeChild(this.topReboundEl),this.parentElement.removeChild(this.bottomReboundEl),delete this.topReboundEl,delete this.bottomReboundEl)}},{key:"setPreviousFocus",value:function(){this.previousActiveElement&&this.previousActiveElement.focus&&this.previousActiveElement.focus()}},{key:"ngAfterViewInit",value:function(){lf(this.platformId)&&(this.previousActiveElement=this.document.activeElement,this.parentElement=this.el.nativeElement.parentElement),this.addReboundEls()}},{key:"ngOnDestroy",value:function(){this.removeReboundEls(),this.setPreviousFocus(),this.focusTrapsTracker.activatePreviousTrapper()}},{key:"config",set:function(e){this._config=Object.assign(this._config,e)}}]),e}()).\u0275fac=function(e){return new(e||RS)(Zo(va),Zo(Ro),Zo(OE),Zo(_a),Zo(Hu))},RS.\u0275dir=_t({type:RS,selectors:[["","clrFocusTrap",""]],hostBindings:function(e,t){1&e&&hs("focusin",(function(e){return t.onFocusIn(e)}),!1,zn)},inputs:{config:["clrFocusTrap","config"]}}),RS),RE=((DS=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:DS}),DS.\u0275inj=fe({factory:function(e){return new(e||DS)},imports:[[cf]]}),DS),PE=/d+.+m+.+y+/i,NE=/m+.+d+.+y+/i,FE=/d+|m+|y+/i,LE=/\d+/g,ME=/Mobi/i,VE=/\u200f/g,jE={name:"LITTLE_ENDIAN",format:["DD","MM","YYYY"]},UE={name:"MIDDLE_ENDIAN",format:["MM","DD","YYYY"]},BE={name:"BIG_ENDIAN",format:["YYYY","MM","DD"]};function zE(e,t){return new Date(e,t+1,0).getDate()}var HE,GE,qE,WE,$E,QE,YE,KE,ZE,XE,JE=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];_classCallCheck(this,e),this.dayModel=t,this.isTodaysDate=n,this.isExcluded=r,this.isDisabled=i,this.isSelected=o,this.isFocusable=s}return _createClass(e,[{key:"tabIndex",get:function(){return this.isFocusable?0:-1}}]),e}(),eI=function(){function e(t,n,r){_classCallCheck(this,e),this.year=t,this.month=n,this.date=r}return _createClass(e,[{key:"isEqual",value:function(e){return!!e&&this.year===e.year&&this.month===e.month&&this.date===e.date}},{key:"toDate",value:function(){return new Date(this.year,this.month,this.date)}},{key:"incrementBy",value:function(t){var n=new Date(this.year,this.month,this.date+t);return new e(n.getFullYear(),n.getMonth(),n.getDate())}},{key:"clone",value:function(){return new e(this.year,this.month,this.date)}},{key:"toComparisonString",value:function(){return"".concat(this.year).concat(this.pad(this.month)).concat(this.pad(this.date))}},{key:"pad",value:function(e){return e<10?"0"+e:""+e}},{key:"toDateString",value:function(){return this.toDate().toLocaleDateString()}}]),e}(),tI=function(){function e(t,n,r,i,o,s){_classCallCheck(this,e),this.calendar=t,this.selectedDay=n,this.focusableDay=r,this.today=i,this.firstDayOfWeek=o,this.excludedDates=s,this.currMonthDayViews=[],this.initializeCalendarView()}return _createClass(e,[{key:"initializeCalendarView",value:function(){var e=this.calendar.previousMonth(),t=this.calendar.nextMonth(),n=this.numDaysFromPrevMonthInCalView(this.calendar.year,this.calendar.month),r=42-(this.calendar.days.length+n),i=[],o=[];n>0&&(i=this.generateDayViewModels(e.days.slice(-1*n),!0,!1)),this.currMonthDayViews=this.generateDayViewModels(this.calendar.days,!1,!0),r>0&&(o=this.generateDayViewModels(t.days.slice(0,r),!0,!1)),this._calendarView=this.generateCalendarView(i,this.currMonthDayViews,o),this.initializeSelectedDay(),this.initializeFocusableDay()}},{key:"isDateExcluded",value:function(e){var t=this.excludedDates,n=t.minDate,r=t.maxDate,i=n.toComparisonString(),o=r.toComparisonString(),s=e.toComparisonString();return!(s>=i&&s<=o)}},{key:"generateDayViewModels",value:function(e,t,n){var r=this,i=e.map((function(e){return new JE(e,!1,t,r.isDateExcluded(e),!1,!1)}));return n&&this.calendar.isDayInCalendar(this.today)&&(i[this.today.date-1].isTodaysDate=!0),i}},{key:"numDaysFromPrevMonthInCalView",value:function(e,t){var n=new Date(e,t,1).getDay();return n>=this.firstDayOfWeek?n-this.firstDayOfWeek:7+n-this.firstDayOfWeek}},{key:"isDayInCalendarView",value:function(e){return!!this.calendar.isDayInCalendar(e)}},{key:"generateCalendarView",value:function(e,t,n){for(var r=[].concat(_toConsumableArray(e),_toConsumableArray(t),_toConsumableArray(n)),i=[],o=0;o<6;o++)i[o]=r.slice(7*o,7*(o+1));return i}},{key:"initializeSelectedDay",value:function(){this.selectedDay&&this.isDayInCalendarView(this.selectedDay)&&(this.currMonthDayViews[this.selectedDay.date-1].isSelected=!0)}},{key:"initializeFocusableDay",value:function(){this.focusableDay&&this.isDayInCalendarView(this.focusableDay)?this.setFocusableFlag(this.focusableDay,!0):this.selectedDay&&this.isDayInCalendarView(this.selectedDay)?(this.setFocusableFlag(this.selectedDay,!0),this.focusableDay=this.selectedDay.clone()):this.isDayInCalendarView(this.today)?(this.setFocusableFlag(this.today,!0),this.focusableDay=this.today.clone()):(this.focusableDay=new eI(this.calendar.year,this.calendar.month,15),this.setFocusableFlag(this.focusableDay,!0))}},{key:"setFocusableFlag",value:function(e,t){e&&(this.currMonthDayViews[e.date-1].isFocusable=t)}},{key:"updateFocusableDay",value:function(e){this.setFocusableFlag(this.focusableDay,!1),this.setFocusableFlag(e,!0),this.focusableDay=e}},{key:"calendarView",get:function(){return this._calendarView}}]),e}(),nI=function(){function e(t,n){_classCallCheck(this,e),this.year=t,this.month=n,this.initializeDaysInCalendar()}return _createClass(e,[{key:"initializeDaysInCalendar",value:function(){var e=this,t=zE(this.year,this.month);this.days=Array(t).fill(null).map((function(t,n){return new eI(e.year,e.month,n+1)}))}},{key:"isEqual",value:function(e){return!!e&&this.year===e.year&&this.month===e.month}},{key:"isDayInCalendar",value:function(e){return!!e&&this.year===e.year&&this.month===e.month}},{key:"previousMonth",value:function(){return 0===this.month?new e(this.year-1,11):new e(this.year,this.month-1)}},{key:"nextMonth",value:function(){return 11===this.month?new e(this.year+1,0):new e(this.year,this.month+1)}}]),e}(),rI=((XE=function(){function e(){_classCallCheck(this,e),this._todaysFullDate=new Date,this._selectedDayChange=new x,this._displayedCalendarChange=new x,this._focusOnCalendarChange=new x,this._focusedDayChange=new x}return _createClass(e,[{key:"setDisplayedCalendar",value:function(e){this._displayedCalendar.isEqual(e)||(this._displayedCalendar=e,this._displayedCalendarChange.next())}},{key:"initializeTodaysDate",value:function(){this._todaysFullDate=new Date,this._today=new eI(this._todaysFullDate.getFullYear(),this._todaysFullDate.getMonth(),this._todaysFullDate.getDate())}},{key:"notifySelectedDayChanged",value:function(e){this.selectedDay=e,this._selectedDayChange.next(e)}},{key:"initializeCalendar",value:function(){this.focusedDay=null,this.initializeTodaysDate(),this._displayedCalendar=this.selectedDay?new nI(this.selectedDay.year,this.selectedDay.month):new nI(this.today.year,this.today.month)}},{key:"changeMonth",value:function(e){this.setDisplayedCalendar(new nI(this._displayedCalendar.year,e))}},{key:"changeYear",value:function(e){this.setDisplayedCalendar(new nI(e,this._displayedCalendar.month))}},{key:"moveToNextMonth",value:function(){this.setDisplayedCalendar(this._displayedCalendar.nextMonth())}},{key:"moveToPreviousMonth",value:function(){this.setDisplayedCalendar(this._displayedCalendar.previousMonth())}},{key:"moveToCurrentMonth",value:function(){this.displayedCalendar.isDayInCalendar(this.today)||this.setDisplayedCalendar(new nI(this.today.year,this.today.month)),this._focusOnCalendarChange.next()}},{key:"incrementFocusDay",value:function(e){this.focusedDay=this.focusedDay.incrementBy(e),this._displayedCalendar.isDayInCalendar(this.focusedDay)?this._focusedDayChange.next(this.focusedDay):this.setDisplayedCalendar(new nI(this.focusedDay.year,this.focusedDay.month)),this._focusOnCalendarChange.next()}},{key:"displayedCalendar",get:function(){return this._displayedCalendar}},{key:"today",get:function(){return this._today}},{key:"selectedDayChange",get:function(){return this._selectedDayChange.asObservable()}},{key:"displayedCalendarChange",get:function(){return this._displayedCalendarChange.asObservable()}},{key:"focusOnCalendarChange",get:function(){return this._focusOnCalendarChange.asObservable()}},{key:"focusedDayChange",get:function(){return this._focusedDayChange.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||XE)},XE.\u0275prov=he({token:XE,factory:XE.\u0275fac}),XE),iI=((ZE=function(){function e(t,n){_classCallCheck(this,e),this._ngZone=t,this.platformId=n}return _createClass(e,[{key:"focusCell",value:function(e){var t=this;this._ngZone.runOutsideAngular((function(){t.ngZoneIsStableInBrowser().subscribe((function(){var t=e.nativeElement.querySelector('[tabindex="0"]');t&&t.focus()}))}))}},{key:"focusInput",value:function(e){var t=this;this._ngZone.runOutsideAngular((function(){return t.ngZoneIsStableInBrowser().subscribe((function(){return e.focus()}))}))}},{key:"elementIsFocused",value:function(e){return lf(this.platformId)&&document.activeElement===e}},{key:"ngZoneIsStableInBrowser",value:function(){var e=this;return this._ngZone.onStable.asObservable().pipe(qf(),qc((function(){return lf(e.platformId)})))}}]),e}()).\u0275fac=function(e){return new(e||ZE)(Ye(oc),Ye(Hu))},ZE.\u0275prov=he({token:ZE,factory:ZE.\u0275fac}),ZE),oI=((KE=function(){function e(t){_classCallCheck(this,e),this.locale=t,this._firstDayOfWeek=0,this.initializeLocaleData()}return _createClass(e,[{key:"initializeLocaleData",value:function(){this.initializeFirstDayOfWeek(),this.initializeLocaleDateFormat(),this.initializeLocaleMonthsAbbreviated(),this.initializeLocaleMonthsWide(),this.initializeLocaleDays()}},{key:"initializeLocaleDays",value:function(){for(var e=[],t=ch(this.locale,oh.Standalone,sh.Wide).slice(),n=ch(this.locale,oh.Standalone,sh.Narrow).slice(),r=this.firstDayOfWeek,i=0;i<7;i++)e.push({day:t[i],narrow:n[i]});if(r>0){var o=e.splice(0,r);e.push.apply(e,_toConsumableArray(o))}this._localeDays=e}},{key:"initializeLocaleMonthsAbbreviated",value:function(){this._localeMonthsAbbreviated=lh(this.locale,oh.Standalone,sh.Abbreviated).slice()}},{key:"initializeLocaleMonthsWide",value:function(){this._localeMonthsWide=lh(this.locale,oh.Standalone,sh.Wide).slice()}},{key:"initializeFirstDayOfWeek",value:function(){this._firstDayOfWeek=Xa(this.locale)[eu.FirstDayOfWeek]}},{key:"initializeLocaleDateFormat",value:function(){this._localeDateFormat=hh(this.locale,ah.Short)}},{key:"firstDayOfWeek",get:function(){return this._firstDayOfWeek}},{key:"localeDays",get:function(){return this._localeDays}},{key:"localeDaysNarrow",get:function(){return this._localeDays.map((function(e){return e.narrow}))}},{key:"localeMonthsAbbreviated",get:function(){return this._localeMonthsAbbreviated}},{key:"localeMonthsWide",get:function(){return this._localeMonthsWide}},{key:"localeDateFormat",get:function(){return this._localeDateFormat}}]),e}()).\u0275fac=function(e){return new(e||KE)(Ye(Wu))},KE.\u0275prov=he({token:KE,factory:KE.\u0275fac}),KE),sI=((YE=function(){function e(t){_classCallCheck(this,e),this._localeHelperService=t,this.disabledDates={minDate:new eI(0,0,1),maxDate:new eI(9999,11,31)},this.cldrLocaleDateFormat="dd/MM/y",this.localeDisplayFormat=jE,this.delimiters=["/","/"],this.cldrLocaleDateFormat=this._localeHelperService.localeDateFormat,this.initializeLocaleDisplayFormat()}return _createClass(e,[{key:"setMinDate",value:function(e){if(e){var t=_slicedToArray(e.split("-").map((function(e){return parseInt(e,10)})),3),n=t[0],r=t[1],i=t[2];this.disabledDates.minDate=new eI(n,r-1,i)}else this.disabledDates.minDate=new eI(0,0,1)}},{key:"setMaxDate",value:function(e){if(e){var t=_slicedToArray(e.split("-").map((function(e){return parseInt(e,10)})),3),n=t[0],r=t[1],i=t[2];this.disabledDates.maxDate=new eI(n,r-1,i)}else this.disabledDates.maxDate=new eI(9999,11,31)}},{key:"initializeLocaleDisplayFormat",value:function(){var e=this.cldrLocaleDateFormat.toLocaleLowerCase();this.localeDisplayFormat=PE.test(e)?jE:NE.test(e)?UE:BE,this.extractDelimiters()}},{key:"extractDelimiters",value:function(){if(this.cldrLocaleDateFormat){var e=this.cldrLocaleDateFormat.replace(VE,"").split(FE);e&&4===e.length?this.delimiters=[e[1],e[2]]:console.error("Unexpected date format received. Delimiters extracted: ",e)}}},{key:"toLocaleDisplayFormatString",value:function(e){if(e){if(isNaN(e.getTime()))return"";var t=e.getDate(),n=e.getMonth()+1,r=t>9?t.toString():"0"+t,i=n>9?n.toString():"0"+n;return this.localeDisplayFormat===jE?r+this.delimiters[0]+i+this.delimiters[1]+e.getFullYear():this.localeDisplayFormat===UE?i+this.delimiters[0]+r+this.delimiters[1]+e.getFullYear():e.getFullYear()+this.delimiters[0]+i+this.delimiters[1]+r}return""}},{key:"isValidMonth",value:function(e){return e>-1&&e<12}},{key:"isValidDate",value:function(e,t,n){return n>0&&n<=zE(e,t)}},{key:"validateAndGetDate",value:function(e,t,n){var r=+e,i=+t-1,o=+n;if(!this.isValidMonth(i)||!this.isValidDate(r,i,o))return null;var s=function(e){if(e>9999||e>100&&e<999||e<10)return-1;if(e>999)return e;var t=(new Date).getFullYear(),n=e+100*Math.floor(t/100);return n>t+20&&(n-=100),n}(r);return-1!==s?new Date(s,i,o):null}},{key:"getDateValueFromDateString",value:function(e){if(!e)return null;var t=e.match(LE);if(!t||3!==t.length)return null;var n=_slicedToArray(t,3),r=n[0],i=n[1],o=n[2];return this.localeDisplayFormat===jE?this.validateAndGetDate(o,i,r):this.localeDisplayFormat===UE?this.validateAndGetDate(o,r,i):this.validateAndGetDate(r,i,o)}},{key:"placeholderText",get:function(){var e=this.localeDisplayFormat.format;return e[0]+this.delimiters[0]+e[1]+this.delimiters[1]+e[2]}}]),e}()).\u0275fac=function(e){return new(e||YE)(Ye(oI))},YE.\u0275prov=he({token:YE,factory:YE.\u0275fac}),YE),aI=((QE=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this._localeHelperService=t,this._dateNavigationService=n,this._datepickerFocusService=r,this._dateIOService=i,this._elRef=o,this._subs=[],this.generateCalendarView(),this.initializeSubscriptions()}return _createClass(e,[{key:"initializeSubscriptions",value:function(){var e=this;this._subs.push(this._dateNavigationService.displayedCalendarChange.subscribe((function(){e.generateCalendarView()}))),this._subs.push(this._dateNavigationService.focusedDayChange.subscribe((function(t){e.calendarViewModel.updateFocusableDay(t)}))),this._subs.push(this._dateNavigationService.focusOnCalendarChange.subscribe((function(){e._datepickerFocusService.focusCell(e._elRef)})))}},{key:"generateCalendarView",value:function(){this.calendarViewModel=new tI(this.calendar,this.selectedDay,this.focusedDay,this.today,this._localeHelperService.firstDayOfWeek,this._dateIOService.disabledDates)}},{key:"onKeyDown",value:function(e){if(e&&this.focusedDay)switch(e.keyCode){case 38:e.preventDefault(),this._dateNavigationService.incrementFocusDay(-7);break;case 40:e.preventDefault(),this._dateNavigationService.incrementFocusDay(7);break;case 37:e.preventDefault(),this._dateNavigationService.incrementFocusDay(-1);break;case 39:e.preventDefault(),this._dateNavigationService.incrementFocusDay(1)}}},{key:"ngAfterViewInit",value:function(){this._datepickerFocusService.focusCell(this._elRef)}},{key:"ngOnDestroy",value:function(){this._subs.forEach((function(e){return e.unsubscribe()}))}},{key:"localeDays",get:function(){return this._localeHelperService.localeDays}},{key:"calendar",get:function(){return this._dateNavigationService.displayedCalendar}},{key:"selectedDay",get:function(){return this._dateNavigationService.selectedDay}},{key:"focusedDay",get:function(){return this._dateNavigationService.focusedDay}},{key:"today",get:function(){return this._dateNavigationService.today}}]),e}()).\u0275fac=function(e){return new(e||QE)(Zo(oI),Zo(rI),Zo(iI),Zo(sI),Zo(va))},QE.\u0275cmp=dt({type:QE,selectors:[["clr-calendar"]],hostBindings:function(e,t){1&e&&hs("keydown",(function(e){return t.onKeyDown(e)}))},decls:4,vars:2,consts:[[1,"calendar-table"],[1,"calendar-row","weekdays"],["class","calendar-cell weekday","role","heading",4,"ngFor","ngForOf"],["class","calendar-row",4,"ngFor","ngForOf"],["role","heading",1,"calendar-cell","weekday"],[1,"calendar-row"],["class","calendar-cell",4,"ngFor","ngForOf"],[1,"calendar-cell"],[3,"clrDayView"]],template:function(e,t){1&e&&(ns(0,"table",0),ns(1,"tr",1),Yo(2,tb,2,2,"td",2),rs(),Yo(3,rb,2,1,"tr",3),rs()),2&e&&(Ur(2),es("ngForOf",t.localeDays),Ur(1),es("ngForOf",t.calendarViewModel.calendarView))},directives:function(){return[Bh,px]},encapsulation:2}),QE),uI=(($E=function(){function e(){_classCallCheck(this,e),this._focused=new Lc(!1)}return _createClass(e,[{key:"focusChange",get:function(){return this._focused.asObservable()}},{key:"focused",set:function(e){this._focused.next(e)}}]),e}()).\u0275fac=function(e){return new(e||$E)},$E.\u0275prov=he({token:$E,factory:$E.\u0275fac}),$E),cI=((WE=function(){function e(){_classCallCheck(this,e),this._touchedChange=new x,this._dirtyChange=new x}return _createClass(e,[{key:"markAsTouched",value:function(){this._touchedChange.next()}},{key:"markAsDirty",value:function(){this._dirtyChange.next()}},{key:"setDisabled",value:function(e){this.disabled=e}},{key:"touchedChange",get:function(){return this._touchedChange.asObservable()}},{key:"dirtyChange",get:function(){return this._dirtyChange.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||WE)},WE.\u0275prov=he({token:WE,factory:WE.\u0275fac}),WE),lI=((qE=function(){function e(t){_classCallCheck(this,e),this._document=t,this._isUserAgentMobile=!1,this._document&&(this._isUserAgentMobile=ME.test(t.defaultView.navigator.userAgent),this._innerWidth=t.defaultView.innerWidth)}return _createClass(e,[{key:"isEnabled",get:function(){return!(this._document&&this._innerWidth<768&&this._isUserAgentMobile)}}]),e}()).\u0275fac=function(e){return new(e||qE)(Ye(Fl))},qE.\u0275prov=he({token:qE,factory:qE.\u0275fac}),qE),hI=((GE=function(){function e(){_classCallCheck(this,e),this._currentView="DAYVIEW",this.position=zS["bottom-left"]}return _createClass(e,[{key:"changeToMonthView",value:function(){this._currentView="MONTHVIEW"}},{key:"changeToYearView",value:function(){this._currentView="YEARVIEW"}},{key:"changeToDayView",value:function(){this._currentView="DAYVIEW"}},{key:"isDayView",get:function(){return"DAYVIEW"===this._currentView}},{key:"isYearView",get:function(){return"YEARVIEW"===this._currentView}},{key:"isMonthView",get:function(){return"MONTHVIEW"===this._currentView}}]),e}()).\u0275fac=function(e){return new(e||GE)},GE.\u0275prov=he({token:GE,factory:GE.\u0275fac}),GE),fI=((HE=function(){function e(t,n,r,i,o,s,a,u,c,l,h){var f=this;_classCallCheck(this,e),this.toggleService=t,this.dateNavigationService=n,this.datepickerEnabledService=r,this.dateFormControlService=i,this.commonStrings=o,this.ifErrorService=s,this.focusService=a,this.viewManagerService=u,this.controlClassService=c,this.layoutService=l,this.ngControlService=h,this._dynamic=!1,this.invalid=!1,this.focus=!1,this.subscriptions=[],this.subscriptions.push(this.focusService.focusChange.subscribe((function(e){f.focus=e})),this.ngControlService.controlChanges.subscribe((function(e){f.control=e})),this.toggleService.openChange.subscribe((function(e){f.dateFormControlService.markAsTouched()})))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.subscriptions.push(this.ifErrorService.statusChanges.subscribe((function(t){e.invalid=t})))}},{key:"ngAfterViewInit",value:function(){var e=this;this.subscriptions.push(this.toggleService.openChange.subscribe((function(t){t?e.initializeCalendar():e.toggleButton.nativeElement.focus()})))}},{key:"controlClass",value:function(){return this.controlClassService.controlClass(this.invalid,this.addGrid())}},{key:"addGrid",value:function(){return this.layoutService&&!this.layoutService.isVertical()}},{key:"initializeCalendar",value:function(){this.dateNavigationService.initializeCalendar()}},{key:"ngOnDestroy",value:function(){this.subscriptions.map((function(e){return e.unsubscribe()}))}},{key:"clrPosition",set:function(e){e&&zS[e]&&(this.viewManagerService.position=zS[e])}},{key:"popoverPosition",get:function(){return this.viewManagerService.position}},{key:"open",get:function(){return this.toggleService.open}},{key:"actionButton",set:function(e){this.toggleButton=e}},{key:"isEnabled",get:function(){return this.datepickerEnabledService.isEnabled}},{key:"isInputDateDisabled",get:function(){return this.control&&this.control.disabled||this.dateFormControlService&&this.dateFormControlService.disabled}}]),e}()).\u0275fac=function(e){return new(e||HE)(Zo(_C),Zo(rI),Zo(lI),Zo(cI),Zo(JC),Zo(sE),Zo(uI),Zo(hI),Zo(nE),Zo(tE,8),Zo(oE))},HE.\u0275cmp=dt({type:HE,selectors:[["clr-date-container"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,aE,!0),2&e&&Eu(r=Ru())&&(t.label=r.first)},viewQuery:function(e,t){var n;1&e&&Tu(ib,!0),2&e&&Eu(n=Ru())&&(t.actionButton=n.first)},hostVars:6,hostBindings:function(e,t){2&e&&Os("clr-form-control-disabled",t.isInputDateDisabled)("clr-form-control",!0)("clr-row",t.addGrid())},inputs:{clrPosition:"clrPosition"},features:[ha([ZS,_C,bC,BC,oI,sE,nE,uI,oE,sI,rI,lI,cI,hI])],ngContentSelectors:hb,decls:11,vars:11,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],["clrPopoverAnchor","",1,"clr-input-wrapper"],[1,"clr-input-group"],["type","button","clrPopoverOpenCloseButton","","class","clr-input-group-icon-action",3,"disabled",4,"ngIf"],["clrFocusTrap","",4,"clrPopoverContent","clrPopoverContentAt","clrPopoverContentOutsideClickToClose","clrPopoverContentScrollToClose"],["shape","exclamation-circle",1,"clr-validate-icon"],["type","button","clrPopoverOpenCloseButton","",1,"clr-input-group-icon-action",3,"disabled"],["actionButton",""],["shape","calendar"],["clrFocusTrap",""]],template:function(e,t){1&e&&(ms(lb),_s(0),Yo(1,ob,1,0,"label",0),ns(2,"div",1),ns(3,"div",2),ns(4,"div",3),_s(5,1),Yo(6,sb,3,3,"button",4),Yo(7,ab,1,0,"clr-datepicker-view-manager",5),rs(),is(8,"clr-icon",6),rs(),Yo(9,ub,1,0,void 0,0),Yo(10,cb,1,0,void 0,0),rs()),2&e&&(Ur(1),es("ngIf",!t.label&&t.addGrid()),Ur(1),es("ngClass",t.controlClass()),Ur(2),Os("clr-focus",t.focus),Ur(2),es("ngIf",t.isEnabled),Ur(1),es("clrPopoverContent",t.open)("clrPopoverContentAt",t.popoverPosition)("clrPopoverContentOutsideClickToClose",!0)("clrPopoverContentScrollToClose",!0),Ur(2),es("ngIf",!t.invalid),Ur(1),es("ngIf",t.invalid))},directives:function(){return[Hh,jh,qC,zC,yC,aE,HC,dx,DE]},encapsulation:2}),HE);function dI(e){return null!==e&&("string"==typeof e?e.length>=0:"boolean"==typeof e&&e)}var pI,vI,gI,yI,mI,_I,bI,kI,wI,CI,SI,EI,II,TI,xI,AI,OI,DI,RI,PI,NI,FI,LI,MI,VI,jI,UI,BI,zI,HI,GI,qI,WI,$I,QI,YI,KI,ZI,XI,JI,eT,tT,nT,rT,iT,oT,sT,aT,uT,cT,lT,hT,fT,dT,pT,vT,gT,yT,mT,_T,bT,kT,wT,CT,ST,ET,IT,TT,xT,AT,OT,DT,RT,PT,NT,FT,LT,MT,VT,jT,UT,BT,zT,HT,GT,qT,WT,$T,QT,YT,KT,ZT,XT,JT,ex,tx,nx,rx,ix,ox,sx,ax,ux,cx,lx,hx,fx=(mI=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s,a,u,c,l,h,f,d,p){var v;return _classCallCheck(this,n),(v=t.call(this,e,fI,r,s,o,i)).el=i,v.renderer=o,v.control=s,v.container=a,v.dateIOService=u,v.dateNavigationService=c,v.datepickerEnabledService=l,v.dateFormControlService=h,v.platformId=f,v.focusService=d,v.datepickerFocusService=p,v.dateChange=new pu(!1),v.index=1,v}return _createClass(n,[{key:"ngOnInit",value:function(){_get(_getPrototypeOf(n.prototype),"ngOnInit",this).call(this),this.populateServicesFromContainerComponent(),this.subscriptions.push(this.listenForUserSelectedDayChanges(),this.listenForControlValueChanges(),this.listenForTouchChanges(),this.listenForDirtyChanges(),this.listenForInputRefocus())}},{key:"ngAfterViewInit",value:function(){this.processInitialInputs()}},{key:"setFocusStates",value:function(){this.setFocus(!0)}},{key:"triggerValidation",value:function(){_get(_getPrototypeOf(n.prototype),"triggerValidation",this).call(this),this.setFocus(!1)}},{key:"onValueChange",value:function(e){var t=this.dateIOService.getDateValueFromDateString(e.value);if(this.usingClarityDatepicker()&&t)this.updateDate(t,!0);else if(this.usingNativeDatepicker()){var n=_slicedToArray(e.value.split("-"),3),r=n[0],i=n[1],o=n[2];this.updateDate(new Date(+r,+i-1,+o),!0)}else this.emitDateOutput(null)}},{key:"usingClarityDatepicker",value:function(){return this.datepickerEnabledService.isEnabled}},{key:"usingNativeDatepicker",value:function(){return!this.datepickerEnabledService.isEnabled}},{key:"setFocus",value:function(e){this.focusService&&(this.focusService.focused=e)}},{key:"populateServicesFromContainerComponent",value:function(){this.container||(this.dateIOService=this.getProviderFromContainer(sI),this.dateNavigationService=this.getProviderFromContainer(rI),this.datepickerEnabledService=this.getProviderFromContainer(lI),this.dateFormControlService=this.getProviderFromContainer(cI))}},{key:"processInitialInputs",value:function(){this.datepickerHasFormControl()?this.updateDate(this.dateIOService.getDateValueFromDateString(this.control.value)):this.updateDate(this.initialClrDateInputValue)}},{key:"updateDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getValidDateValueFromDate(e);t?this.emitDateOutput(n):this.previousDateChange=n,this.dateNavigationService&&(this.dateNavigationService.selectedDay=n?new eI(n.getFullYear(),n.getMonth(),n.getDate()):null),this.updateInput(n)}},{key:"updateInput",value:function(e){if(e){var t=this.dateIOService.toLocaleDisplayFormatString(e);this.usingNativeDatepicker()?(e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),this.renderer.setProperty(this.el.nativeElement,"valueAsDate",e)):this.datepickerHasFormControl()&&t!==this.control.value?this.control.control.setValue(t):this.renderer.setProperty(this.el.nativeElement,"value",t)}else this.renderer.setProperty(this.el.nativeElement,"value","")}},{key:"getValidDateValueFromDate",value:function(e){if(this.dateIOService){var t=this.dateIOService.toLocaleDisplayFormatString(e);return this.dateIOService.getDateValueFromDateString(t)}return null}},{key:"emitDateOutput",value:function(e){var t,n;n=this.previousDateChange,(t=e)instanceof Date&&n instanceof Date&&t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()&&t.getDate()===n.getDate()?!e&&this.previousDateChange&&(this.dateChange.emit(null),this.previousDateChange=null):(this.dateChange.emit(e),this.previousDateChange=e)}},{key:"datepickerHasFormControl",value:function(){return!!this.control}},{key:"listenForControlValueChanges",value:function(){var e=this;return Bc(this.datepickerHasFormControl()).pipe(qc((function(e){return e})),ad((function(){return e.control.valueChanges})),qc((function(){return!e.datepickerFocusService.elementIsFocused(e.el.nativeElement)}))).subscribe((function(t){return e.updateDate(e.dateIOService.getDateValueFromDateString(t))}))}},{key:"listenForUserSelectedDayChanges",value:function(){var e=this;return this.dateNavigationService.selectedDayChange.subscribe((function(t){return e.updateDate(t.toDate(),!0)}))}},{key:"listenForTouchChanges",value:function(){var e=this;return this.dateFormControlService.touchedChange.pipe(qc((function(){return e.datepickerHasFormControl()}))).subscribe((function(){return e.control.control.markAsTouched()}))}},{key:"listenForDirtyChanges",value:function(){var e=this;return this.dateFormControlService.dirtyChange.pipe(qc((function(){return e.datepickerHasFormControl()}))).subscribe((function(){return e.control.control.markAsDirty()}))}},{key:"listenForInputRefocus",value:function(){var e=this;return this.dateNavigationService.selectedDayChange.pipe(qc((function(e){return!!e}))).subscribe((function(t){return e.datepickerFocusService.focusInput(e.el.nativeElement)}))}},{key:"date",set:function(e){this.previousDateChange!==e&&this.updateDate(this.getValidDateValueFromDate(e)),this.initialClrDateInputValue||(this.initialClrDateInputValue=e)}},{key:"min",set:function(e){this.dateIOService.setMinDate(e)}},{key:"max",set:function(e){this.dateIOService.setMaxDate(e)}},{key:"placeholderText",get:function(){return this.placeholder?this.placeholder:this.dateIOService.placeholderText}},{key:"inputType",get:function(){return lf(this.platformId)&&this.usingNativeDatepicker()?"date":"text"}},{key:"disabled",set:function(e){this.dateFormControlService&&this.dateFormControlService.setDisabled(dI(e))},get:function(){return this.dateFormControlService?this.dateFormControlService.disabled:null}}]),n}(dE),mI.\u0275fac=function(e){return new(e||mI)(Zo(Ba),Zo(Ro),Zo(va),Zo(_a),Zo(Dy,10),Zo(fI,8),Zo(sI,8),Zo(rI,8),Zo(lI,8),Zo(cI,8),Zo(Hu),Zo(uI,8),Zo(iI))},mI.\u0275dir=_t({type:mI,selectors:[["","clrDate",""]],hostVars:5,hostBindings:function(e,t){1&e&&hs("focus",(function(){return t.setFocusStates()}))("blur",(function(){return t.triggerValidation()}))("change",(function(e){return t.onValueChange(e.target)})),2&e&&(Ws("disabled",t.disabled),$o("placeholder",t.placeholderText)("type",t.inputType),Os("clr-input",!0))},inputs:{date:["clrDate","date"],min:"min",max:"max",disabled:"disabled",placeholder:"placeholder"},outputs:{dateChange:"clrDateChange"},features:[ha([iI]),Ys]}),mI),dx=(yI=function(){function e(t){_classCallCheck(this,e),this.viewManagerService=t}return _createClass(e,[{key:"isMonthView",get:function(){return this.viewManagerService.isMonthView}},{key:"isYearView",get:function(){return this.viewManagerService.isYearView}},{key:"isDayView",get:function(){return this.viewManagerService.isDayView}}]),e}(),yI.\u0275fac=function(e){return new(e||yI)(Zo(hI))},yI.\u0275cmp=dt({type:yI,selectors:[["clr-datepicker-view-manager"]],hostVars:3,hostBindings:function(e,t){2&e&&($o("aria-modal",!0),Os("datepicker",!0))},features:[ha([iI])],decls:3,vars:3,consts:[[4,"ngIf"]],template:function(e,t){1&e&&(Yo(0,fb,1,0,"clr-monthpicker",0),Yo(1,db,1,0,"clr-yearpicker",0),Yo(2,pb,1,0,"clr-daypicker",0)),2&e&&(es("ngIf",t.isMonthView),Ur(1),es("ngIf",t.isYearView),Ur(1),es("ngIf",t.isDayView))},directives:function(){return[Hh,gx,mx,vx]},encapsulation:2}),yI),px=(gI=function(){function e(t,n,r){_classCallCheck(this,e),this._dateNavigationService=t,this._toggleService=n,this.dateFormControlService=r}return _createClass(e,[{key:"onDayViewFocus",value:function(){this._dateNavigationService.focusedDay=this.dayView.dayModel}},{key:"selectDay",value:function(){this._dateNavigationService.notifySelectedDayChanged(this.dayView.dayModel),this.dateFormControlService.markAsDirty(),this._toggleService.open=!1}},{key:"dayView",set:function(e){this._dayView=e,this.dayString=this._dayView.dayModel.toDateString()},get:function(){return this._dayView}}]),e}(),gI.\u0275fac=function(e){return new(e||gI)(Zo(rI),Zo(_C),Zo(cI))},gI.\u0275cmp=dt({type:gI,selectors:[["clr-day"]],hostVars:2,hostBindings:function(e,t){2&e&&Os("day",!0)},inputs:{dayView:["clrDayView","dayView"]},decls:2,vars:11,consts:[["type","button",1,"day-btn",3,"click","focus"]],template:function(e,t){1&e&&(ns(0,"button",0),hs("click",(function(){return t.selectDay()}))("focus",(function(){return t.onDayViewFocus()})),zs(1),rs()),2&e&&(Os("is-today",t.dayView.isTodaysDate)("is-excluded",t.dayView.isExcluded)("is-disabled",t.dayView.isDisabled)("is-selected",t.dayView.isSelected),$o("tabindex",t.dayView.tabIndex)("aria-label",t.dayString),Ur(1),Gs(" ",t.dayView.dayModel.date," "))},encapsulation:2}),gI),vx=(vI=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this._viewManagerService=t,this._dateNavigationService=n,this._localeHelperService=r,this.commonStrings=i,this.ariaLiveService=o}return _createClass(e,[{key:"ngAfterViewInit",value:function(){this.ariaLiveService.announce("".concat(this.ariaLiveMonth," ").concat(this.updateAriaLiveYear))}},{key:"changeToMonthView",value:function(){this._viewManagerService.changeToMonthView()}},{key:"changeToYearView",value:function(){this._viewManagerService.changeToYearView()}},{key:"nextMonth",value:function(){this._dateNavigationService.moveToNextMonth()}},{key:"previousMonth",value:function(){this._dateNavigationService.moveToPreviousMonth()}},{key:"currentMonth",value:function(){this._dateNavigationService.moveToCurrentMonth()}},{key:"monthAttrString",get:function(){return this.commonStrings.parse(this.commonStrings.keys.datepickerSelectMonthText,{CALENDAR_MONTH:this.calendarMonth})}},{key:"yearAttrString",get:function(){return this.commonStrings.parse(this.commonStrings.keys.datepickerSelectYearText,{CALENDAR_YEAR:this.calendarYear.toString()})}},{key:"ariaLiveMonth",get:function(){return this.commonStrings.parse(this.commonStrings.keys.daypickerSRCurrentMonthPhrase,{CURRENT_MONTH:this.calendarMonth})}},{key:"updateAriaLiveYear",get:function(){return this.commonStrings.parse(this.commonStrings.keys.daypickerSRCurrentYearPhrase,{CURRENT_YEAR:this.calendarYear.toString()})}},{key:"calendarMonth",get:function(){return this._localeHelperService.localeMonthsAbbreviated[this._dateNavigationService.displayedCalendar.month]}},{key:"calendarYear",get:function(){return this._dateNavigationService.displayedCalendar.year}}]),e}(),vI.\u0275fac=function(e){return new(e||vI)(Zo(hI),Zo(rI),Zo(oI),Zo(JC),Zo(JS))},vI.\u0275cmp=dt({type:vI,selectors:[["clr-daypicker"]],hostVars:2,hostBindings:function(e,t){2&e&&Os("daypicker",!0)},features:[ha([JS])],decls:18,vars:14,consts:[[1,"clr-sr-only"],[1,"calendar-header"],[1,"calendar-pickers"],["type","button",1,"calendar-btn","monthpicker-trigger",3,"click"],["type","button",1,"calendar-btn","yearpicker-trigger",3,"click"],[1,"calendar-switchers"],["type","button",1,"calendar-btn","switcher",3,"click"],["shape","angle","dir","left"],["shape","event"],["shape","angle","dir","right"]],template:function(e,t){1&e&&(ns(0,"div",0),zs(1),rs(),ns(2,"div",1),ns(3,"div",2),ns(4,"button",3),hs("click",(function(){return t.changeToMonthView()})),zs(5),rs(),ns(6,"button",4),hs("click",(function(){return t.changeToYearView()})),zs(7),rs(),rs(),ns(8,"div",5),ns(9,"button",6),hs("click",(function(){return t.previousMonth()})),is(10,"clr-icon",7),rs(),ns(11,"button",6),hs("click",(function(){return t.currentMonth()})),is(12,"clr-icon",8),rs(),ns(13,"button",6),hs("click",(function(){return t.nextMonth()})),is(14,"clr-icon",9),rs(),rs(),rs(),is(15,"clr-calendar"),ns(16,"div",0),zs(17),rs()),2&e&&(Ur(1),Hs(t.commonStrings.keys.modalContentStart),Ur(3),$o("aria-label",t.monthAttrString)("title",t.monthAttrString),Ur(1),Gs(" ",t.calendarMonth," "),Ur(1),$o("aria-label",t.yearAttrString)("title",t.yearAttrString),Ur(1),Gs(" ",t.calendarYear," "),Ur(2),$o("aria-label",t.commonStrings.keys.datepickerPreviousMonth),Ur(1),$o("title",t.commonStrings.keys.datepickerPreviousMonth),Ur(1),$o("aria-label",t.commonStrings.keys.datepickerCurrentMonth),Ur(1),$o("title",t.commonStrings.keys.datepickerCurrentMonth),Ur(1),$o("aria-label",t.commonStrings.keys.datepickerNextMonth),Ur(1),$o("title",t.commonStrings.keys.datepickerNextMonth),Ur(3),Hs(t.commonStrings.keys.modalContentEnd))},directives:[yC,aI],encapsulation:2}),vI),gx=(pI=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this._viewManagerService=t,this._localeHelperService=n,this._dateNavigationService=r,this._datepickerFocusService=i,this._elRef=o,this._focusedMonthIndex=this.calendarMonthIndex}return _createClass(e,[{key:"changeMonth",value:function(e){this._dateNavigationService.changeMonth(e),this._viewManagerService.changeToDayView()}},{key:"getTabIndex",value:function(e){return e===this._focusedMonthIndex?0:-1}},{key:"onKeyDown",value:function(e){if(e){var t=e.keyCode;38===t&&this._focusedMonthIndex>0?(e.preventDefault(),this._focusedMonthIndex--,this._datepickerFocusService.focusCell(this._elRef)):40===t&&this._focusedMonthIndex<11?(e.preventDefault(),this._focusedMonthIndex++,this._datepickerFocusService.focusCell(this._elRef)):39===t&&this._focusedMonthIndex<6?(e.preventDefault(),this._focusedMonthIndex=this._focusedMonthIndex+6,this._datepickerFocusService.focusCell(this._elRef)):37===t&&this._focusedMonthIndex>5&&(e.preventDefault(),this._focusedMonthIndex=this._focusedMonthIndex-6,this._datepickerFocusService.focusCell(this._elRef))}}},{key:"ngAfterViewInit",value:function(){this._datepickerFocusService.focusCell(this._elRef)}},{key:"monthNames",get:function(){return this._localeHelperService.localeMonthsWide}},{key:"calendarMonthIndex",get:function(){return this._dateNavigationService.displayedCalendar.month}}]),e}(),pI.\u0275fac=function(e){return new(e||pI)(Zo(hI),Zo(oI),Zo(rI),Zo(iI),Zo(va))},pI.\u0275cmp=dt({type:pI,selectors:[["clr-monthpicker"]],hostVars:2,hostBindings:function(e,t){1&e&&hs("keydown",(function(e){return t.onKeyDown(e)})),2&e&&Os("monthpicker",!0)},decls:1,vars:1,consts:[["type","button","class","calendar-btn month",3,"is-selected","click",4,"ngFor","ngForOf"],["type","button",1,"calendar-btn","month",3,"click"]],template:function(e,t){1&e&&Yo(0,vb,2,4,"button",0),2&e&&es("ngForOf",t.monthNames)},directives:[Bh],encapsulation:2}),pI),yx=function(){function e(t){_classCallCheck(this,e),this.year=t,this.yearRange=[],this.generateYearRange()}return _createClass(e,[{key:"generateYearRange",value:function(){var e=this.year-this.year%10;this.yearRange=this.generateRange(e,e+10)}},{key:"generateRange",value:function(e,t){return Array.from({length:t-e},(function(t,n){return n+e}))}},{key:"nextDecade",value:function(){return new e(this.year+10)}},{key:"previousDecade",value:function(){return new e(this.year-10)}},{key:"currentDecade",value:function(){return new e((new Date).getFullYear())}},{key:"inRange",value:function(e){return this.yearRange.indexOf(e)>-1}},{key:"middleYear",get:function(){return this.yearRange[Math.floor(this.yearRange.length/2)]}}]),e}(),mx=(CI=function(){function e(t,n,r,i,o,s){_classCallCheck(this,e),this._dateNavigationService=t,this._viewManagerService=n,this._datepickerFocusService=r,this._elRef=i,this.commonStrings=o,this.ariaLiveService=s,this.yearRangeModel=new yx(this.calendarYear),this._focusedYear=this.calendarYear,this.updateRange(this.yearRangeModel)}return _createClass(e,[{key:"incrementFocusYearBy",value:function(e){this._focusedYear=this._focusedYear+e,this.yearRangeModel.inRange(this._focusedYear)||(this.yearRangeModel=e>0?this.yearRangeModel.nextDecade():this.yearRangeModel.previousDecade()),this._datepickerFocusService.focusCell(this._elRef)}},{key:"changeYear",value:function(e){this._dateNavigationService.changeYear(e),this._viewManagerService.changeToDayView()}},{key:"previousDecade",value:function(){this.yearRangeModel=this.yearRangeModel.previousDecade(),this.updateRange(this.yearRangeModel)}},{key:"currentDecade",value:function(){this.yearRangeModel.inRange(this._dateNavigationService.today.year)||(this.yearRangeModel=this.yearRangeModel.currentDecade()),this._datepickerFocusService.focusCell(this._elRef),this.updateRange(this.yearRangeModel)}},{key:"nextDecade",value:function(){this.yearRangeModel=this.yearRangeModel.nextDecade(),this.updateRange(this.yearRangeModel)}},{key:"getTabIndex",value:function(e){return this.yearRangeModel.inRange(this._focusedYear)||(this._focusedYear=this.yearRangeModel.inRange(this.calendarYear)?this.calendarYear:this.yearRangeModel.middleYear),this._focusedYear===e?0:-1}},{key:"onKeyDown",value:function(e){if(e){var t=e.keyCode;38===t?(e.preventDefault(),this.incrementFocusYearBy(-1)):40===t?(e.preventDefault(),this.incrementFocusYearBy(1)):39===t?(e.preventDefault(),this.incrementFocusYearBy(5)):37===t&&(e.preventDefault(),this.incrementFocusYearBy(-5))}}},{key:"updateRange",value:function(e){this.decadeRange="".concat(e.yearRange[0]," to ").concat(e.yearRange[e.yearRange.length-1]),this.ariaLiveService.announce(this.ariaLiveDecadeText)}},{key:"ngAfterViewInit",value:function(){this._datepickerFocusService.focusCell(this._elRef),this.ariaLiveService.announce(this.ariaLiveDecadeText)}},{key:"ariaLiveDecadeText",get:function(){return this.commonStrings.parse(this.commonStrings.keys.daypickerSRCurrentDecadePhrase,{DECADE_RANGE:this.decadeRange})}},{key:"calendarYear",get:function(){return this._dateNavigationService.displayedCalendar.year}}]),e}(),CI.\u0275fac=function(e){return new(e||CI)(Zo(rI),Zo(hI),Zo(iI),Zo(va),Zo(JC),Zo(JS))},CI.\u0275cmp=dt({type:CI,selectors:[["clr-yearpicker"]],hostVars:2,hostBindings:function(e,t){1&e&&hs("keydown",(function(e){return t.onKeyDown(e)})),2&e&&Os("yearpicker",!0)},features:[ha([JS])],decls:9,vars:7,consts:[[1,"year-switchers"],["type","button",1,"calendar-btn","switcher",3,"click"],["shape","angle","dir","left"],["shape","event"],["shape","angle","dir","right"],[1,"years"],["type","button","class","calendar-btn year",3,"is-selected","click",4,"ngFor","ngForOf"],["type","button",1,"calendar-btn","year",3,"click"]],template:function(e,t){1&e&&(ns(0,"div",0),ns(1,"button",1),hs("click",(function(){return t.previousDecade()})),is(2,"clr-icon",2),rs(),ns(3,"button",1),hs("click",(function(){return t.currentDecade()})),is(4,"clr-icon",3),rs(),ns(5,"button",1),hs("click",(function(){return t.nextDecade()})),is(6,"clr-icon",4),rs(),rs(),ns(7,"div",5),Yo(8,gb,2,4,"button",6),rs()),2&e&&(Ur(1),$o("aria-label",t.commonStrings.keys.datepickerPreviousDecade),Ur(1),$o("title",t.commonStrings.keys.datepickerPreviousDecade),Ur(1),$o("aria-label",t.commonStrings.keys.datepickerCurrentDecade),Ur(1),$o("title",t.commonStrings.keys.datepickerCurrentDecade),Ur(1),$o("aria-label",t.commonStrings.keys.datepickerNextDecade),Ur(1),$o("title",t.commonStrings.keys.datepickerNextDecade),Ur(2),es("ngForOf",t.yearRangeModel.yearRange))},directives:[yC,Bh],encapsulation:2}),CI),_x=(wI=function e(){_classCallCheck(this,e)},wI.\u0275mod=yt({type:wI}),wI.\u0275inj=fe({factory:function(e){return new(e||wI)},imports:[[cf,YS,AE,WC,mC,RE,pE]]}),wI),bx=(kI=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(hE),kI.\u0275fac=function(e){return $P(e||kI)},kI.\u0275cmp=dt({type:kI,selectors:[["clr-input-container"]],hostVars:6,hostBindings:function(e,t){2&e&&Os("clr-form-control",!0)("clr-form-control-disabled",null==t.control?null:t.control.disabled)("clr-row",t.addGrid())},features:[ha([sE,oE,ZS,nE]),Ys],ngContentSelectors:wb,decls:8,vars:5,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],[1,"clr-input-wrapper"],["class","clr-validate-icon","shape","exclamation-circle","aria-hidden","true",4,"ngIf"],["shape","exclamation-circle","aria-hidden","true",1,"clr-validate-icon"]],template:function(e,t){1&e&&(ms(kb),_s(0),Yo(1,yb,1,0,"label",0),ns(2,"div",1),ns(3,"div",2),_s(4,1),Yo(5,mb,1,0,"clr-icon",3),rs(),Yo(6,_b,1,0,void 0,0),Yo(7,bb,1,0,void 0,0),rs()),2&e&&(Ur(1),es("ngIf",!t.label&&t.addGrid()),Ur(1),es("ngClass",t.controlClass()),Ur(3),es("ngIf",t.invalid),Ur(1),es("ngIf",!t.invalid),Ur(1),es("ngIf",t.invalid))},directives:[Hh,jh,aE,yC],encapsulation:2}),kI),kx=(bI=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s){var a;return _classCallCheck(this,n),(a=t.call(this,e,bx,r,i,o,s)).index=1,a}return n}(dE),bI.\u0275fac=function(e){return new(e||bI)(Zo(Ba),Zo(Ro),Zo(Dy,10),Zo(_a),Zo(va))},bI.\u0275dir=_t({type:bI,selectors:[["","clrInput",""]],hostVars:2,hostBindings:function(e,t){2&e&&Os("clr-input",!0)},features:[Ys]}),bI),wx=(_I=function e(){_classCallCheck(this,e)},_I.\u0275mod=yt({type:_I}),_I.\u0275inj=fe({factory:function(e){return new(e||_I)},imports:[[cf,x_,mC,pE],pE]}),_I),Cx=new Ue(void 0),Sx={provide:Cx,useFactory:function(){return new Lc(!1)}},Ex=(BI=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s,a,u){var c;return _classCallCheck(this,n),(c=t.call(this,e,r,i,o)).focusService=s,c.toggleService=a,c.commonStrings=u,c.show=!1,c.focus=!1,c._toggle=!0,c.subscriptions.push(c.focusService.focusChange.subscribe((function(e){c.focus=e}))),c}return _createClass(n,[{key:"toggle",value:function(){this.show=!this.show,this.toggleService.next(this.show)}},{key:"clrToggle",set:function(e){this._toggle=e,e||(this.show=!1)},get:function(){return this._toggle}}]),n}(hE),BI.\u0275fac=function(e){return new(e||BI)(Zo(sE),Zo(tE,8),Zo(nE),Zo(oE),Zo(uI),Zo(Cx),Zo(JC))},BI.\u0275cmp=dt({type:BI,selectors:[["clr-password-container"]],hostVars:6,hostBindings:function(e,t){2&e&&Os("clr-form-control",!0)("clr-form-control-disabled",null==t.control?null:t.control.disabled)("clr-row",t.addGrid())},inputs:{clrToggle:"clrToggle"},features:[ha([sE,oE,ZS,nE,uI,Sx]),Ys],ngContentSelectors:Ab,decls:10,vars:8,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],[1,"clr-input-wrapper"],[1,"clr-input-group"],["class","clr-input-group-icon-action","type","button",3,"disabled","click",4,"ngIf"],["class","clr-validate-icon","shape","exclamation-circle","aria-hidden","true",4,"ngIf"],["type","button",1,"clr-input-group-icon-action",3,"disabled","click"],["shape","exclamation-circle","aria-hidden","true",1,"clr-validate-icon"]],template:function(e,t){1&e&&(ms(xb),_s(0),Yo(1,Cb,1,0,"label",0),ns(2,"div",1),ns(3,"div",2),ns(4,"div",3),_s(5,1),Yo(6,Sb,2,3,"button",4),rs(),Yo(7,Eb,1,0,"clr-icon",5),rs(),Yo(8,Ib,1,0,void 0,0),Yo(9,Tb,1,0,void 0,0),rs()),2&e&&(Ur(1),es("ngIf",!t.label&&t.addGrid()),Ur(1),es("ngClass",t.controlClass()),Ur(2),Os("clr-focus",t.focus),Ur(2),es("ngIf",t.clrToggle),Ur(1),es("ngIf",t.invalid),Ur(1),es("ngIf",!t.invalid),Ur(1),es("ngIf",t.invalid))},directives:[Hh,jh,aE,yC],encapsulation:2}),BI),Ix=(UI=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s,a,u){var c;if(_classCallCheck(this,n),(c=t.call(this,e,Ex,r,i,o,s)).focusService=a,c.toggleService=u,c.index=1,!c.focusService)throw new Error("clrPassword requires being wrapped in <clr-password-container>");return c.subscriptions.push(c.toggleService.subscribe((function(e){o.setProperty(s.nativeElement,"type",e?"text":"password")}))),_possibleConstructorReturn(c)}return _createClass(n,[{key:"triggerFocus",value:function(){this.focusService&&(this.focusService.focused=!0)}},{key:"triggerValidation",value:function(){_get(_getPrototypeOf(n.prototype),"triggerValidation",this).call(this),this.focusService&&(this.focusService.focused=!1)}}]),n}(dE),UI.\u0275fac=function(e){return new(e||UI)(Zo(Ba),Zo(Ro),Zo(Dy,10),Zo(_a),Zo(va),Zo(uI,8),Zo(Cx,8))},UI.\u0275dir=_t({type:UI,selectors:[["","clrPassword",""]],hostVars:2,hostBindings:function(e,t){1&e&&hs("focus",(function(){return t.triggerFocus()}))("blur",(function(){return t.triggerValidation()})),2&e&&Os("clr-input",!0)},features:[Ys]}),UI),Tx=(jI=function e(){_classCallCheck(this,e)},jI.\u0275mod=yt({type:jI}),jI.\u0275inj=fe({factory:function(e){return new(e||jI)},imports:[[cf,x_,mC,pE],pE]}),jI),xx=(VI=function(){function e(){_classCallCheck(this,e),this._dynamic=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.label&&this.label.disableGrid()}}]),e}(),VI.\u0275fac=function(e){return new(e||VI)},VI.\u0275cmp=dt({type:VI,selectors:[["clr-radio-wrapper"]],contentQueries:function(e,t,n){var r;1&e&&Ou(n,aE,!0),2&e&&Eu(r=Ru())&&(t.label=r.first)},hostVars:2,hostBindings:function(e,t){2&e&&Os("clr-radio-wrapper",!0)},features:[ha([ZS])],ngContentSelectors:Rb,decls:3,vars:1,consts:[[4,"ngIf"]],template:function(e,t){1&e&&(ms(Db),_s(0),_s(1,1),Yo(2,Ob,1,0,"label",0)),2&e&&(Ur(2),es("ngIf",!t.label))},directives:[Hh,aE],encapsulation:2}),VI),Ax=(MI=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s){return _classCallCheck(this,n),t.call(this,e,xx,r,i,o,s)}return n}(dE),MI.\u0275fac=function(e){return new(e||MI)(Zo(Ba),Zo(Ro),Zo(Dy,10),Zo(_a),Zo(va))},MI.\u0275dir=_t({type:MI,selectors:[["","clrRadio",""]],features:[Ys]}),MI),Ox=(LI=function e(){_classCallCheck(this,e)},LI.\u0275mod=yt({type:LI}),LI.\u0275inj=fe({factory:function(e){return new(e||LI)},imports:[[cf,pE,YS,mC],pE]}),LI),Dx=(FI=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).multi=!1,e}return _createClass(n,[{key:"ngOnInit",value:function(){var e=this;this.subscriptions.push(this.ngControlService.controlChanges.subscribe((function(t){t&&(e.multi=t.valueAccessor instanceof gm,e.control=t)})))}},{key:"wrapperClass",value:function(){return this.multi?"clr-multiselect-wrapper":"clr-select-wrapper"}}]),n}(hE),FI.\u0275fac=function(e){return QP(e||FI)},FI.\u0275cmp=dt({type:FI,selectors:[["clr-select-container"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,gm,!0),2&e&&Eu(r=Ru())&&(t.multiple=r.first)},hostVars:6,hostBindings:function(e,t){2&e&&Os("clr-form-control",!0)("clr-form-control-disabled",null==t.control?null:t.control.disabled)("clr-row",t.addGrid())},features:[ha([sE,oE,ZS,nE]),Ys],ngContentSelectors:Vb,decls:8,vars:6,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],[3,"ngClass"],["class","clr-validate-icon","shape","exclamation-circle","aria-hidden","true",4,"ngIf"],["shape","exclamation-circle","aria-hidden","true",1,"clr-validate-icon"]],template:function(e,t){1&e&&(ms(Mb),_s(0),Yo(1,Pb,1,0,"label",0),ns(2,"div",1),ns(3,"div",2),_s(4,1),Yo(5,Nb,1,0,"clr-icon",3),rs(),Yo(6,Fb,1,0,void 0,0),Yo(7,Lb,1,0,void 0,0),rs()),2&e&&(Ur(1),es("ngIf",!t.label&&t.addGrid()),Ur(1),es("ngClass",t.controlClass()),Ur(1),es("ngClass",t.wrapperClass()),Ur(2),es("ngIf",t.invalid),Ur(1),es("ngIf",!t.invalid),Ur(1),es("ngIf",t.invalid))},directives:[Hh,jh,aE,yC],encapsulation:2}),FI),Rx=(NI=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s){var a;return _classCallCheck(this,n),(a=t.call(this,e,Dx,r,i,o,s)).index=1,a}return n}(dE),NI.\u0275fac=function(e){return new(e||NI)(Zo(Ba),Zo(Ro),Zo(Dy,10),Zo(_a),Zo(va))},NI.\u0275dir=_t({type:NI,selectors:[["","clrSelect",""]],hostVars:2,hostBindings:function(e,t){2&e&&Os("clr-select",!0)},features:[Ys]}),NI),Px=(PI=function e(){_classCallCheck(this,e)},PI.\u0275mod=yt({type:PI}),PI.\u0275inj=fe({factory:function(e){return new(e||PI)},imports:[[cf,x_,mC,pE],pE]}),PI),Nx=(RI=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(hE),RI.\u0275fac=function(e){return YP(e||RI)},RI.\u0275cmp=dt({type:RI,selectors:[["clr-textarea-container"]],hostVars:6,hostBindings:function(e,t){2&e&&Os("clr-form-control",!0)("clr-form-control-disabled",null==t.control?null:t.control.disabled)("clr-row",t.addGrid())},features:[ha([sE,oE,ZS,nE]),Ys],ngContentSelectors:Gb,decls:8,vars:5,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],[1,"clr-textarea-wrapper"],["class","clr-validate-icon","shape","exclamation-circle","aria-hidden","true",4,"ngIf"],["shape","exclamation-circle","aria-hidden","true",1,"clr-validate-icon"]],template:function(e,t){1&e&&(ms(Hb),_s(0),Yo(1,jb,1,0,"label",0),ns(2,"div",1),ns(3,"div",2),_s(4,1),Yo(5,Ub,1,0,"clr-icon",3),rs(),Yo(6,Bb,1,0,void 0,0),Yo(7,zb,1,0,void 0,0),rs()),2&e&&(Ur(1),es("ngIf",!t.label&&t.addGrid()),Ur(1),es("ngClass",t.controlClass()),Ur(3),es("ngIf",t.invalid),Ur(1),es("ngIf",!t.invalid),Ur(1),es("ngIf",t.invalid))},directives:[Hh,jh,aE,yC],encapsulation:2}),RI),Fx=(DI=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s){var a;return _classCallCheck(this,n),(a=t.call(this,e,Nx,r,i,o,s)).index=1,a}return n}(dE),DI.\u0275fac=function(e){return new(e||DI)(Zo(Ba),Zo(Ro),Zo(Dy,10),Zo(_a),Zo(va))},DI.\u0275dir=_t({type:DI,selectors:[["","clrTextarea",""]],hostVars:2,hostBindings:function(e,t){2&e&&Os("clr-textarea",!0)},features:[Ys]}),DI),Lx=(OI=function e(){_classCallCheck(this,e)},OI.\u0275mod=yt({type:OI}),OI.\u0275inj=fe({factory:function(e){return new(e||OI)},imports:[[cf,x_,mC,pE],pE]}),OI),Mx=(AI=function e(){_classCallCheck(this,e)},AI.\u0275mod=yt({type:AI}),AI.\u0275inj=fe({factory:function(e){return new(e||AI)},imports:[[cf,pE,YS,mC],pE]}),AI),Vx=(xI=function e(){_classCallCheck(this,e)},xI.\u0275mod=yt({type:xI}),xI.\u0275inj=fe({factory:function(e){return new(e||xI)},imports:[[cf,wx,mC]]}),xI),jx=(TI=function e(){_classCallCheck(this,e)},TI.\u0275mod=yt({type:TI}),TI.\u0275inj=fe({factory:function(e){return new(e||TI)},imports:[[cf],pE,bE,_x,wx,Tx,Ox,Px,Lx,Mx,Vx]}),TI),Ux=(II=function e(){_classCallCheck(this,e)},II.\u0275mod=yt({type:II}),II.\u0275inj=fe({factory:function(e){return new(e||II)},imports:[[cf]]}),II),Bx=(EI=function e(){_classCallCheck(this,e)},EI.\u0275mod=yt({type:EI}),EI.\u0275inj=fe({factory:function(e){return new(e||EI)},imports:[[cf]]}),EI),zx=(SI=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"userDefinedWidth",value:function(e){e.classList.add("datagrid-cell-width-zero");var t=this.clientRect(e).width;return e.classList.remove("datagrid-cell-width-zero"),t}},{key:"scrollBarWidth",value:function(e){return e.offsetWidth-e.clientWidth}},{key:"scrollWidth",value:function(e){return e.scrollWidth||0}},{key:"computedHeight",value:function(e){return parseInt(getComputedStyle(e).getPropertyValue("height"),10)}},{key:"clientRect",value:function(e){var t=e.getBoundingClientRect();return{top:parseInt(t.top,10),bottom:parseInt(t.bottom,10),left:parseInt(t.left,10),right:parseInt(t.right,10),width:parseInt(t.width,10),height:parseInt(t.height,10)}}},{key:"minWidth",value:function(e){return parseInt(getComputedStyle(e).getPropertyValue("min-width"),10)}},{key:"focus",value:function(e){e.focus()}}]),e}(),SI.\u0275fac=function(e){return new(e||SI)},SI.\u0275prov=he({token:SI,factory:SI.\u0275fac}),SI),Hx=function e(t){_classCallCheck(this,e),this.dragPosition=t.dragPosition,this.group=t.group,this.dragDataTransfer=t.dragDataTransfer,this.dropPointPosition=t.dropPointPosition},Gx=function(e){return e[e.DRAG_START=0]="DRAG_START",e[e.DRAG_MOVE=1]="DRAG_MOVE",e[e.DRAG_END=2]="DRAG_END",e[e.DRAG_ENTER=3]="DRAG_ENTER",e[e.DRAG_LEAVE=4]="DRAG_LEAVE",e[e.DROP=5]="DROP",e}({}),qx=((eT=function(){function e(){_classCallCheck(this,e),this.dragStart=new x,this.dragMove=new x,this.dragEnd=new x,this.drop=new x}return _createClass(e,[{key:"broadcast",value:function(e){switch(e.type){case Gx.DRAG_START:this.dragStart.next(e);break;case Gx.DRAG_MOVE:this.dragMove.next(e);break;case Gx.DRAG_END:this.dragEnd.next(e);break;case Gx.DROP:this.drop.next(e)}}},{key:"dragStarted",get:function(){return this.dragStart.asObservable()}},{key:"dragMoved",get:function(){return this.dragMove.asObservable()}},{key:"dragEnded",get:function(){return this.dragEnd.asObservable()}},{key:"dropped",get:function(){return this.drop.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||eT)},eT.\u0275prov=he({factory:function(){return new eT},token:eT,providedIn:"root"}),eT),Wx=((JI=function(){function e(t,n,r){_classCallCheck(this,e),this.ngZone=t,this.renderer=n,this.eventBus=r,this.dragStart=new x,this.dragMove=new x,this.dragEnd=new x,this.hasDragStarted=!1}return _createClass(e,[{key:"attachDragListeners",value:function(e){this.draggableEl=e,this.listeners=[this.customDragEvent(this.draggableEl,"mousedown","mousemove","mouseup"),this.customDragEvent(this.draggableEl,"touchstart","touchmove","touchend")]}},{key:"detachDragListeners",value:function(){this.listeners&&this.listeners.map((function(e){return e()})),this.nestedListeners&&this.nestedListeners.map((function(e){return e()}))}},{key:"getNativeEventObject",value:function(e){return e.hasOwnProperty("changedTouches")?e.changedTouches[0]:e}},{key:"customDragEvent",value:function(e,t,n,r){var i=this;return this.renderer.listen(e,t,(function(e){i.initialPosition={pageX:i.getNativeEventObject(e).pageX,pageY:i.getNativeEventObject(e).pageY},i.nestedListeners=[],i.nestedListeners.push(i.renderer.listen("document","selectstart",(function(e){e.preventDefault(),e.stopImmediatePropagation()}))),i.nestedListeners.push(i.ngZone.runOutsideAngular((function(){return i.renderer.listen("document",n,(function(e){e.stopImmediatePropagation(),i.hasDragStarted?i.broadcast(e,Gx.DRAG_MOVE):(i.hasDragStarted=!0,i.broadcast(e,Gx.DRAG_START))}))}))),i.nestedListeners.push(i.renderer.listen("document",r,(function(e){i.hasDragStarted&&(i.hasDragStarted=!1,i.broadcast(e,Gx.DRAG_END)),i.nestedListeners&&i.nestedListeners.map((function(e){return e()}))})))}))}},{key:"broadcast",value:function(e,t){var n=this.generateDragEvent(e,t);switch(n.type){case Gx.DRAG_START:this.dragStart.next(n);break;case Gx.DRAG_MOVE:this.dragMove.next(n);break;case Gx.DRAG_END:this.dragEnd.next(n)}n.ghostElement=this.ghostElement,n.dropPointPosition=this.dropPointPosition,this.eventBus.broadcast(n)}},{key:"generateDragEvent",value:function(e,t){var n=this.getNativeEventObject(e);return{type:t,dragPosition:{pageX:n.pageX,pageY:n.pageY,moveX:n.pageX-this.initialPosition.pageX,moveY:n.pageY-this.initialPosition.pageY},group:this.group,dragDataTransfer:this.dragDataTransfer,ghostElement:this.ghostElement}}},{key:"dragStarted",get:function(){return this.dragStart.asObservable()}},{key:"dragMoved",get:function(){return this.dragMove.asObservable()}},{key:"dragEnded",get:function(){return this.dragEnd.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||JI)(Ye(oc),Ye(_a),Ye(qx))},JI.\u0275prov=he({token:JI,factory:JI.\u0275fac}),JI),$x=((XI=function(){function e(t){_classCallCheck(this,e),this.domAdapter=t}return _createClass(e,[{key:"capture",value:function(e,t){this.draggableElClientRect=this.domAdapter.clientRect(e),this.snapshotDragEvent=t}},{key:"discard",value:function(){delete this.draggableElClientRect,delete this.snapshotDragEvent}},{key:"hasDraggableState",get:function(){return!!this.snapshotDragEvent&&!!this.draggableElClientRect}},{key:"clientRect",get:function(){return this.draggableElClientRect}},{key:"dragEvent",get:function(){return this.snapshotDragEvent}}]),e}()).\u0275fac=function(e){return new(e||XI)(Ye(zx))},XI.\u0275prov=he({token:XI,factory:XI.\u0275fac}),XI),Qx=((ZI=function(){function e(t,n,r,i,o){var s=this;if(_classCallCheck(this,e),this.el=t,this.dragEventListener=n,this.draggableSnapshot=r,this.renderer=i,this.ngZone=o,this.subscriptions=[],this.leaveAnimConfig={value:0,params:{top:"0px",left:"0px"}},!this.dragEventListener||!this.draggableSnapshot)throw new Error("The clr-draggable-ghost component can only be used inside of a clrDraggable directive.");this.draggableGhostEl=this.el.nativeElement,this.renderer.addClass(this.draggableGhostEl,"draggable-ghost"),this.dragEventListener.ghostElement=this.draggableGhostEl,this.setDefaultGhostSize(this.draggableGhostEl);var a={top:this.draggableSnapshot.hasDraggableState?this.draggableSnapshot.dragEvent.dragPosition.pageY-this.draggableSnapshot.clientRect.top:0,left:this.draggableSnapshot.hasDraggableState?this.draggableSnapshot.dragEvent.dragPosition.pageX-this.draggableSnapshot.clientRect.left:0},u=!1;this.subscriptions.push(this.dragEventListener.dragMoved.subscribe((function(e){u||(s.draggableSnapshot.hasDraggableState?s.animateToOnLeave(s.draggableSnapshot.clientRect.top+"px",s.draggableSnapshot.clientRect.left+"px"):s.animateToOnLeave(e.dragPosition.pageY+"px",e.dragPosition.pageX+"px"),u=!0);var t=s.findTopLeftPosition(e.dragPosition,a);s.setPositionStyle(s.draggableGhostEl,t.pageX,t.pageY),s.dragEventListener.dropPointPosition=s.findDropPointPosition(t)})))}return _createClass(e,[{key:"setDefaultGhostSize",value:function(e){this.draggableSnapshot.hasDraggableState&&this.setSizeStyle(e,this.draggableSnapshot.clientRect.width,this.draggableSnapshot.clientRect.height)}},{key:"animateToOnLeave",value:function(e,t){var n=this;this.ngZone.run((function(){n.leaveAnimConfig={value:0,params:{top:e,left:t}}}))}},{key:"findTopLeftPosition",value:function(e,t){return{pageX:e.pageX-t.left,pageY:e.pageY-t.top}}},{key:"findDropPointPosition",value:function(e){return this.draggableSnapshot.hasDraggableState?{pageX:e.pageX+this.draggableSnapshot.clientRect.width/2,pageY:e.pageY+this.draggableSnapshot.clientRect.height/2}:e}},{key:"setSizeStyle",value:function(e,t,n){this.renderer.setStyle(e,"width",t+"px"),this.renderer.setStyle(e,"height",n+"px")}},{key:"setPositionStyle",value:function(e,t,n){this.renderer.setStyle(e,"left",t+"px"),this.renderer.setStyle(e,"top",n+"px"),this.renderer.setStyle(e,"visibility","visible")}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||ZI)(Zo(va),Zo(Wx,8),Zo($x,8),Zo(_a),Zo(oc))},ZI.\u0275cmp=dt({type:ZI,selectors:[["clr-draggable-ghost"]],hostVars:1,hostBindings:function(e,t){2&e&&$s("@leaveAnimation",t.leaveAnimConfig)},ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2,data:{animation:[oy("leaveAnimation",[ly(":leave",[uy({left:"*",top:"*"}),sy("0.2s ease-in-out",uy({top:"{{top}}",left:"{{left}}"}))])])]}}),ZI),Yx=((KI=function(){function e(t,n,r){var i=this;if(_classCallCheck(this,e),this.template=t,this.container=n,this.dragEventListener=r,this.subscriptions=[],!this.dragEventListener||!this.container)throw new Error("The *clrIfDragged directive can only be used inside of a clrDraggable directive.");this.subscriptions.push(this.dragEventListener.dragStarted.subscribe((function(e){i.container.createEmbeddedView(i.template)}))),this.subscriptions.push(this.dragEventListener.dragEnded.subscribe((function(e){i.container.clear()})))}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||KI)(Zo(ja),Zo(Ba,12),Zo(Wx,8))},KI.\u0275dir=_t({type:KI,selectors:[["","clrIfDragged",""]]}),KI),Kx=((YI=function(){function e(t,n){_classCallCheck(this,e),this.dragEventListener=t,this.renderer=n}return _createClass(e,[{key:"makeElementHandle",value:function(e){this._defaultHandleEl&&this._defaultHandleEl!==e&&this.renderer.removeClass(this._defaultHandleEl,"drag-handle"),this.dragEventListener.attachDragListeners(e),this.renderer.addClass(e,"drag-handle")}},{key:"registerCustomHandle",value:function(e){this.dragEventListener.detachDragListeners(),this._customHandleEl=e,this.makeElementHandle(this._customHandleEl)}},{key:"unregisterCustomHandle",value:function(){this.dragEventListener.detachDragListeners(),this.renderer.removeClass(this._customHandleEl,"drag-handle"),delete this._customHandleEl,this._defaultHandleEl&&this.makeElementHandle(this._defaultHandleEl)}},{key:"defaultHandleEl",get:function(){return this._defaultHandleEl},set:function(e){this._defaultHandleEl=e,this._customHandleEl||this.makeElementHandle(this._defaultHandleEl)}},{key:"customHandleEl",get:function(){return this._customHandleEl}}]),e}()).\u0275fac=function(e){return new(e||YI)(Ye(Wx),Ye(_a))},YI.\u0275prov=he({token:YI,factory:YI.\u0275fac}),YI),Zx=((QI=function(){function e(t){_classCallCheck(this,e),this.renderer=t}return _createClass(e,[{key:"enter",value:function(){this.renderer.addClass(document.body,"in-drag")}},{key:"exit",value:function(){this.renderer.removeClass(document.body,"in-drag")}}]),e}()).\u0275fac=function(e){return new(e||QI)(Ye(_a))},QI.\u0275prov=he({token:QI,factory:QI.\u0275fac}),QI),Xx=(($I=function(){function e(t,n,r,i,o,s,a,u){_classCallCheck(this,e),this.el=t,this.dragEventListener=n,this.dragHandleRegistrar=r,this.viewContainerRef=i,this.cfr=o,this.injector=s,this.draggableSnapshot=a,this.globalDragMode=u,this.subscriptions=[],this.dragOn=!1,this.dragStartEmitter=new pu,this.dragMoveEmitter=new pu,this.dragEndEmitter=new pu,this.draggableEl=this.el.nativeElement,this.componentFactory=this.cfr.resolveComponentFactory(Qx)}return _createClass(e,[{key:"createDefaultGhost",value:function(e){this.draggableSnapshot.capture(this.draggableEl,e),this.viewContainerRef.createComponent(this.componentFactory,0,this.injector,[[this.draggableEl.cloneNode(!0)]])}},{key:"destroyDefaultGhost",value:function(){this.viewContainerRef.clear(),this.draggableSnapshot.discard()}},{key:"ngAfterContentInit",value:function(){var e=this;this.dragHandleRegistrar.defaultHandleEl=this.draggableEl,this.subscriptions.push(this.dragEventListener.dragStarted.subscribe((function(t){e.globalDragMode.enter(),e.dragOn=!0,e.customGhost||e.createDefaultGhost(t),e.dragStartEmitter.emit(new Hx(t))}))),this.subscriptions.push(this.dragEventListener.dragMoved.subscribe((function(t){e.dragMoveEmitter.emit(new Hx(t))}))),this.subscriptions.push(this.dragEventListener.dragEnded.subscribe((function(t){e.globalDragMode.exit(),e.dragOn=!1,e.customGhost||e.destroyDefaultGhost(),e.dragEndEmitter.emit(new Hx(t))})))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.dragEventListener.detachDragListeners()}},{key:"dataTransfer",set:function(e){this.dragEventListener.dragDataTransfer=e}},{key:"group",set:function(e){this.dragEventListener.group=e}}]),e}()).\u0275fac=function(e){return new(e||$I)(Zo(va),Zo(Wx),Zo(Kx),Zo(Ba),Zo(pa),Zo(Ro),Zo($x),Zo(Zx))},$I.\u0275dir=_t({type:$I,selectors:[["","clrDraggable",""]],contentQueries:function(e,t,n){var r;1&e&&Au(n,Yx,!0),2&e&&Eu(r=Ru())&&(t.customGhost=r.first)},hostVars:4,hostBindings:function(e,t){2&e&&Os("draggable",!0)("being-dragged",t.dragOn)},inputs:{dataTransfer:["clrDraggable","dataTransfer"],group:["clrGroup","group"]},outputs:{dragStartEmitter:"clrDragStart",dragMoveEmitter:"clrDragMove",dragEndEmitter:"clrDragEnd"},features:[ha([Wx,Kx,$x,Zx,zx])]}),$I),Jx=((WI=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:WI}),WI.\u0275inj=fe({factory:function(e){return new(e||WI)},imports:[[cf]]}),WI),eA=((qI=function(){function e(t,n){_classCallCheck(this,e),this.element=t,this.domAdapter=n,this.startHeight=0}return _createClass(e,[{key:"animationDone",value:function(){this.updateStartHeight()}},{key:"updateStartHeight",value:function(){this.startHeight=this.domAdapter.computedHeight(this.element.nativeElement)||0}},{key:"expandAnimation",get:function(){return{value:this.clrExpandTrigger,params:{startHeight:this.startHeight}}}}]),e}()).\u0275fac=function(e){return new(e||qI)(Zo(va),Zo(zx))},qI.\u0275cmp=dt({type:qI,selectors:[["clr-expandable-animation"]],hostVars:1,hostBindings:function(e,t){1&e&&fs("@expandAnimation.done",(function(){return t.animationDone()})),2&e&&$s("@expandAnimation",t.expandAnimation)},inputs:{clrExpandTrigger:"clrExpandTrigger"},features:[ha([zx])],ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},styles:["[_nghost-%COMP%] {\n      display: block;\n    }"],data:{animation:[oy("expandAnimation",[ly("true <=> false",[uy({height:"{{startHeight}}px",overflow:"hidden"}),sy("0.2s ease-in-out",uy({height:"*"}))])])]}}),qI),tA=((GI=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:GI}),GI.\u0275inj=fe({factory:function(e){return new(e||GI)},imports:[[cf]]}),GI),nA=((HI=function(){function e(t,n){_classCallCheck(this,e),this.el=t,this.ariaLiveService=n}return _createClass(e,[{key:"ngAfterViewInit",value:function(){this.ariaLiveService.announce(this.el.nativeElement,this.ariaLive)}},{key:"spinnerClass",get:function(){return!0}},{key:"inlineClass",get:function(){return this._inline}},{key:"clrInline",set:function(e){this._inline=dI(e)}},{key:"inverseClass",get:function(){return this._inverse}},{key:"clrInverse",set:function(e){this._inverse=dI(e)}},{key:"smallClass",get:function(){return this._small}},{key:"clrSmall",set:function(e){this._small=dI(e)}},{key:"mediumClass",get:function(){return!this._small&&this._medium}},{key:"clrMedium",set:function(e){this._medium=dI(e)}},{key:"ariaLive",get:function(){return dI(this.assertive)?XS.assertive:dI(this.off)?XS.off:XS.polite}}]),e}()).\u0275fac=function(e){return new(e||HI)(Zo(va),Zo(JS))},HI.\u0275cmp=dt({type:HI,selectors:[["clr-spinner"]],hostVars:11,hostBindings:function(e,t){2&e&&($o("aria-busy",!0),Os("spinner",t.spinnerClass)("spinner-inline",t.inlineClass)("spinner-inverse",t.inverseClass)("spinner-sm",t.smallClass)("spinner-md",t.mediumClass))},inputs:{clrInline:"clrInline",clrInverse:"clrInverse",clrSmall:"clrSmall",clrMedium:"clrMedium",assertive:["clrAssertive","assertive"],off:["clrOff","off"]},features:[ha([JS])],ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2}),HI),rA=((zI=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:zI}),zI.\u0275inj=fe({factory:function(e){return new(e||zI)},imports:[[cf]]}),zI),iA=new Ue("FOCUS_ON_VIEW_INIT"),oA={provide:iA,useValue:!0},sA=((nT=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.el=t,this.platformId=n,this.focusOnViewInit=r,this.renderer=o,this.directFocus=!0,this._isEnabled=this.focusOnViewInit,this.document=i}return _createClass(e,[{key:"onFocusout",value:function(){this.directFocus||(this.renderer.removeAttribute(this.el.nativeElement,"tabindex"),this.renderer.setStyle(this.el.nativeElement,"outline",null))}},{key:"ngAfterViewInit",value:function(){this.focus()}},{key:"focus",value:function(){lf(this.platformId)&&this._isEnabled&&this.document&&this.document.activeElement!==this.el.nativeElement&&(this.el.nativeElement.focus(),this.document.activeElement!==this.el.nativeElement&&(this.directFocus=!1,this.renderer.setAttribute(this.el.nativeElement,"tabindex","-1"),this.renderer.setStyle(this.el.nativeElement,"outline","none"),this.el.nativeElement.focus()))}},{key:"isEnabled",set:function(e){this.focusOnViewInit&&"boolean"==typeof e&&(this._isEnabled=e)}}]),e}()).\u0275fac=function(e){return new(e||nT)(Zo(va),Zo(Hu),Zo(iA),Zo(Fl),Zo(_a))},nT.\u0275dir=_t({type:nT,selectors:[["","clrFocusOnViewInit",""]],hostBindings:function(e,t){1&e&&hs("focusout",(function(){return t.onFocusout()}))},inputs:{isEnabled:["clrFocusOnViewInit","isEnabled"]}}),nT),aA=((tT=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:tT}),tT.\u0275inj=fe({factory:function(e){return new(e||tT)},providers:[oA],imports:[[cf]]}),tT),uA=function e(){_classCallCheck(this,e)},cA=((oT=function(){function e(){_classCallCheck(this,e),this._change=new x,this.nbChanges=0}return _createClass(e,[{key:"changeStart",value:function(){this.nbChanges++}},{key:"changeDone",value:function(){0==--this.nbChanges&&this._change.next()}},{key:"change",get:function(){return this._change.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||oT)},oT.\u0275prov=he({token:oT,factory:oT.\u0275fac}),oT),lA=((iT=function(){function e(t){_classCallCheck(this,e),this.stateDebouncer=t,this.preventEmit=!1,this.activated=!1,this._size=0,this._change=new x,this._sizeChange=new x,this._current=1}return _createClass(e,[{key:"previous",value:function(){this.current>1&&this.current--}},{key:"next",value:function(){this.current<this.last&&this.current++}},{key:"resetPageSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.preventEmit=e,this.size=0}},{key:"size",get:function(){return this._size},set:function(e){var t=this._size;e!==t&&(this.preventEmit||this.stateDebouncer.changeStart(),this._size=e,this._current=0===e?1:Math.floor(t/e*(this._current-1))+1,this.preventEmit||(this._change.next(this._current),this._sizeChange.next(this._size),this.stateDebouncer.changeDone())),this.preventEmit=!1}},{key:"totalItems",get:function(){return this._totalItems||0},set:function(e){this._totalItems=e,this.current>this.last&&(this.current=this.last)}},{key:"last",get:function(){return this._last?this._last:this.size>0&&this.totalItems?Math.ceil(this.totalItems/this.size):1},set:function(e){this._last=e}},{key:"change",get:function(){return this._change.asObservable()}},{key:"sizeChange",get:function(){return this._sizeChange.asObservable()}},{key:"current",get:function(){return this._current},set:function(e){e!==this._current&&(this.stateDebouncer.changeStart(),this._current=e,this._change.next(e),this.stateDebouncer.changeDone())}},{key:"firstItem",get:function(){return 0===this._totalItems?-1:0===this.size?0:(this.current-1)*this.size}},{key:"lastItem",get:function(){if(0===this._totalItems)return-1;if(0===this.size)return this.totalItems-1;var e=this.current*this.size-1;return this.totalItems&&(e=Math.min(e,this.totalItems-1)),e}}]),e}()).\u0275fac=function(e){return new(e||iT)(Ye(cA))},iT.\u0275prov=he({token:iT,factory:iT.\u0275fac}),iT),hA=((rT=function(){function e(t,n){_classCallCheck(this,e),this._page=t,this.stateDebouncer=n,this._change=new x,this._all=[]}return _createClass(e,[{key:"hasActiveFilters",value:function(){var e,t=_createForOfIteratorHelper(this._all);try{for(t.s();!(e=t.n()).done;){var n=e.value.filter;if(n&&n.isActive())return!0}}catch(r){t.e(r)}finally{t.f()}return!1}},{key:"getActiveFilters",value:function(){var e,t=[],n=_createForOfIteratorHelper(this._all);try{for(n.s();!(e=n.n()).done;){var r=e.value.filter;r&&r.isActive()&&t.push(r)}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"add",value:function(e){var t=this,n=e.changes.subscribe((function(){return t.resetPageAndEmitFilterChange([e])})),r=!1,i=new fA(e,(function(){if(!r){n.unsubscribe();var i=t._all.findIndex((function(t){return t.filter===e}));i>=0&&t._all.splice(i,1),e.isActive()&&t.resetPageAndEmitFilterChange([]),r=!0}}));return this._all.push(i),e.isActive()&&this.resetPageAndEmitFilterChange([e]),i}},{key:"accepts",value:function(e){var t,n=_createForOfIteratorHelper(this._all);try{for(n.s();!(t=n.n()).done;){var r=t.value.filter;if(r&&r.isActive()&&!r.accepts(e))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}},{key:"resetPageAndEmitFilterChange",value:function(e){this.stateDebouncer.changeStart(),this._page.current=1,this._change.next(e),this.stateDebouncer.changeDone()}},{key:"change",get:function(){return this._change.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||rT)(Ye(lA),Ye(cA))},rT.\u0275prov=he({token:rT,factory:rT.\u0275fac}),rT),fA=function e(t,n){_classCallCheck(this,e),this.filter=t,this.unregister=n},dA=((sT=function(){function e(t){_classCallCheck(this,e),this.filters=t}return _createClass(e,[{key:"setFilter",value:function(e){this.deleteFilter(),e instanceof fA?this.registered=e:e&&(this.registered=this.filters.add(e))}},{key:"deleteFilter",value:function(){this.registered&&(this.registered.unregister(),delete this.registered)}},{key:"ngOnDestroy",value:function(){this.deleteFilter()}},{key:"filter",get:function(){return this.registered&&this.registered.filter}}]),e}()).\u0275fac=function(e){Jo()},sT.\u0275dir=_t({type:sT}),sT),pA=((uT=aT=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s){var a;return _classCallCheck(this,n),(a=t.call(this,e)).commonStrings=r,a.smartToggleService=i,a.platformId=o,a.popoverId=s,a.subs=[],a.ariaExpanded=!1,a.smartPosition={axis:UC.VERTICAL,side:BS.AFTER,anchor:wC.END,content:wC.END},a._open=!1,a.openChange=new pu(!1),a.subs.push(i.openChange.subscribe((function(e){a.open=e,a.ariaExpanded=e}))),a}return _createClass(n,[{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this),this.subs.forEach((function(e){return e.unsubscribe()}))}},{key:"open",get:function(){return this._open},set:function(e){this.open!==(e=!!e)&&(this.smartToggleService.open=e,this.openChange.emit(e),!e&&lf(this.platformId)&&this.anchor.nativeElement.focus(),this._open=e)}},{key:"customFilter",set:function(e){this.setFilter(e)}},{key:"active",get:function(){return!!this.filter&&this.filter.isActive()}}]),n}(dA)).\u0275fac=function(e){return new(e||uT)(Zo(hA),Zo(JC),Zo(_C),Zo(Hu),Zo(tS))},uT.\u0275cmp=dt({type:uT,selectors:[["clr-dg-filter"]],viewQuery:function(e,t){var n;1&e&&Tu(qb,!0,va),2&e&&Eu(n=Ru())&&(t.anchor=n.first)},inputs:{open:["clrDgFilterOpen","open"],customFilter:["clrDgFilter","customFilter"]},outputs:{openChange:"clrDgFilterOpenChange"},features:[ha([{provide:uA,useExisting:aT},US]),Ys],ngContentSelectors:P_,decls:4,vars:12,consts:[["type","button","clrPopoverAnchor","","clrPopoverOpenCloseButton","",1,"datagrid-filter-toggle"],["anchor",""],[1,"is-solid"],["class","datagrid-filter","clrFocusTrap","",3,"id",4,"clrPopoverContent","clrPopoverContentAt","clrPopoverContentOutsideClickToClose","clrPopoverContentScrollToClose"],["clrFocusTrap","",1,"datagrid-filter",3,"id"],[1,"datagrid-filter-close-wrapper"],["type","button","clrPopoverCloseButton","",1,"close"],["shape","close"]],template:function(e,t){1&e&&(ms(),ns(0,"button",0,1),is(2,"clr-icon",2),rs(),Yo(3,Wb,5,2,"div",3)),2&e&&(Os("datagrid-filter-open",t.open)("datagrid-filtered",t.active),$o("aria-label",t.commonStrings.keys.datagridFilterAriaLabel)("aria-expanded",t.ariaExpanded)("aria-controls",t.popoverId),Ur(2),$o("shape",t.active?"filter-grid-circle":"filter-grid"),Ur(1),es("clrPopoverContent",t.open)("clrPopoverContentAt",t.smartPosition)("clrPopoverContentOutsideClickToClose",!0)("clrPopoverContentScrollToClose",!0))},directives:[qC,HC,yC,zC,DE,GC],encapsulation:2}),uT),vA=function(){function e(t){_classCallCheck(this,e),this.prop=t,t.indexOf(".")>=0&&(this.splitProp=t.split("."))}return _createClass(e,[{key:"getPropValue",value:function(e){if(this.splitProp){var t,n=e,r=_createForOfIteratorHelper(this.splitProp);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(null==n||void 0===n||void 0===n[i])return;n=n[i]}}catch(o){r.e(o)}finally{r.f()}return n}return e[this.prop]}}]),e}(),gA=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_classCallCheck(this,e),this.prop=t,this.exact=n,this.nestedProp=new vA(t)}return _createClass(e,[{key:"accepts",value:function(e,t){var n=this.nestedProp.getPropValue(e);return void 0!==n&&(this.exact?(""+n).toLowerCase()===t:(""+n).toLowerCase().indexOf(t)>=0)}}]),e}(),yA=function(){function e(t){_classCallCheck(this,e),this.filterFn=t,this._changes=new x,this._rawValue="",this._lowerCaseValue=""}return _createClass(e,[{key:"isActive",value:function(){return!!this.value}},{key:"accepts",value:function(e){return this.filterFn.accepts(e,this.lowerCaseValue)}},{key:"equals",value:function(t){return t instanceof e&&(t.filterFn instanceof gA?this.filterFn instanceof gA&&t.filterFn.prop===this.filterFn.prop&&t.value===this.value:t===this)}},{key:"changes",get:function(){return this._changes.asObservable()}},{key:"value",get:function(){return this._rawValue},set:function(e){e||(e=""),e!==this._rawValue&&(this._rawValue=e,this._lowerCaseValue=e.toLowerCase().trim(),this._changes.next(e))}},{key:"lowerCaseValue",get:function(){return this._lowerCaseValue}},{key:"state",get:function(){return this.filterFn instanceof gA?{property:this.filterFn.prop,value:this.value}:this}}]),e}(),mA=((lT=cT=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).domAdapter=r,o.smartToggleService=i,o.subs=[],o.open=!1,o.filterValueChange=new pu,o}return _createClass(n,[{key:"ngAfterViewInit",value:function(){var e=this;this.subs.push(this.smartToggleService.openChange.subscribe((function(t){e.open=t,setTimeout((function(){e.domAdapter.focus(e.input.nativeElement)}))})))}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this),this.subs.forEach((function(e){return e.unsubscribe()}))}},{key:"customStringFilter",set:function(e){this.setFilter(e instanceof fA?e:new yA(e)),this.initFilterValue&&(this.value=this.initFilterValue,delete this.initFilterValue)}},{key:"value",get:function(){return this.filter.value},set:function(e){this.filter?(e||(e=""),e!==this.filter.value&&(this.filter.value=e,this.filterValueChange.emit(e))):this.initFilterValue=e}}]),n}(dA)).\u0275fac=function(e){return new(e||lT)(Zo(hA),Zo(zx),Zo(_C))},lT.\u0275cmp=dt({type:lT,selectors:[["clr-dg-string-filter"]],viewQuery:function(e,t){var n;1&e&&(Tu($b,!0),Tu(pA,!0)),2&e&&(Eu(n=Ru())&&(t.input=n.first),Eu(n=Ru())&&(t.filterContainer=n.first))},inputs:{customStringFilter:["clrDgStringFilter","customStringFilter"],value:["clrFilterValue","value"]},outputs:{filterValueChange:"clrFilterValueChange"},features:[ha([{provide:uA,useExisting:cT}]),Ys],decls:3,vars:3,consts:[[3,"clrDgFilter","clrDgFilterOpen","clrDgFilterOpenChange"],["type","text","name","search",1,"clr-input",3,"ngModel","ngModelChange"],["input",""]],template:function(e,t){1&e&&(ns(0,"clr-dg-filter",0),hs("clrDgFilterOpenChange",(function(e){return t.open=e})),ns(1,"input",1,2),hs("ngModelChange",(function(e){return t.value=e})),rs(),rs()),2&e&&(es("clrDgFilter",t.registered)("clrDgFilterOpen",t.open),Ur(1),es("ngModel",t.value))},directives:[pA,Sy,Py,i_],encapsulation:2}),lT),_A=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_classCallCheck(this,e),this.prop=t,this.exact=n,this.nestedProp=new vA(t)}return _createClass(e,[{key:"accepts",value:function(e,t,n){var r=this.nestedProp.getPropValue(e);return!(null!==t&&r<t||null!==n&&r>n)}}]),e}(),bA=function(){function e(t){_classCallCheck(this,e),this.filterFn=t,this._changes=new x,this._low=null,this._high=null}return _createClass(e,[{key:"isActive",value:function(){return null!==this._low||null!==this.high}},{key:"accepts",value:function(e){return this.filterFn.accepts(e,this._low,this._high)}},{key:"equals",value:function(t){return t instanceof e&&(t.filterFn instanceof _A?this.filterFn instanceof _A&&t.filterFn.prop===this.filterFn.prop&&t.low===this._low&&t.high===this._high:t===this)}},{key:"changes",get:function(){return this._changes.asObservable()}},{key:"value",get:function(){return[this._low,this._high]},set:function(e){var t=e[0],n=e[1];t===this._low&&n===this._high||(this._low=t,this._high=n,this._changes.next([this._low,this._high]))}},{key:"low",set:function(e){e!==this._low&&(this._low=e,this._changes.next([this._low,this._high]))},get:function(){return this._low}},{key:"high",set:function(e){e!==this._high&&(this._high=e,this._changes.next([this._low,this._high]))},get:function(){return this._high}},{key:"state",get:function(){return this.filterFn instanceof _A?{property:this.filterFn.prop,low:this._low,high:this._high}:this}}]),e}(),kA=((bT=hT=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;return _classCallCheck(this,n),(s=t.call(this,e)).domAdapter=r,s.commonStrings=i,s.popoverToggleService=o,s.subscriptions=[],s.open=!1,s.filterValueChange=new pu,s}return _createClass(n,[{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){e.unsubscribe()}))}},{key:"ngAfterViewInit",value:function(){var e=this;this.subscriptions.push(this.popoverToggleService.openChange.subscribe((function(t){e.open=t,setTimeout((function(){e.domAdapter.focus(e.input.nativeElement)}))})))}},{key:"customNumericFilter",set:function(e){this.setFilter(e instanceof fA?e:new bA(e)),this.initFilterValues&&(this.value=this.initFilterValues,delete this.initFilterValues)}},{key:"value",get:function(){return[this.filter.low,this.filter.high]},set:function(e){this.filter?!e||e[0]===this.filter.low&&e[1]===this.filter.high||(this.filter.low="number"==typeof e[0]?e[0]:null,this.filter.high="number"==typeof e[1]?e[1]:null,this.filterValueChange.emit(e)):this.initFilterValues=e}},{key:"low",get:function(){return"number"==typeof this.filter.low&&isFinite(this.filter.low)?this.filter.low:null},set:function(e){"number"==typeof e&&e!==this.filter.low?(this.filter.low=e,this.filterValueChange.emit([this.filter.low,this.filter.high])):"number"!=typeof e&&(this.filter.low=null,this.filterValueChange.emit([this.filter.low,this.filter.high]))}},{key:"high",get:function(){return"number"==typeof this.filter.high&&isFinite(this.filter.high)?this.filter.high:null},set:function(e){"number"==typeof e&&e!==this.filter.high?(this.filter.high=e,this.filterValueChange.emit([this.filter.low,this.filter.high])):"number"!=typeof e&&(this.filter.high=null,this.filterValueChange.emit([this.filter.low,this.filter.high]))}}]),n}(dA)).\u0275fac=function(e){return new(e||bT)(Zo(hA),Zo(zx),Zo(JC),Zo(_C))},bT.\u0275cmp=dt({type:bT,selectors:[["clr-dg-numeric-filter"]],viewQuery:function(e,t){var n;1&e&&(Tu(Qb,!0),Tu(pA,!0)),2&e&&(Eu(n=Ru())&&(t.input=n.first),Eu(n=Ru())&&(t.filterContainer=n.first))},inputs:{customNumericFilter:["clrDgNumericFilter","customNumericFilter"],value:["clrFilterValue","value"]},outputs:{filterValueChange:"clrFilterValueChange"},features:[ha([{provide:uA,useExisting:hT}]),Ys],decls:6,vars:8,consts:[[3,"clrDgFilter","clrDgFilterOpen","clrDgFilterOpenChange"],["type","number","name","low",1,"datagrid-numeric-filter-input",3,"ngModel","placeholder","ngModelChange"],["input_low",""],[1,"datagrid-filter-input-spacer"],["type","number","name","high",1,"datagrid-numeric-filter-input",3,"ngModel","placeholder","ngModelChange"],["input_high",""]],template:function(e,t){1&e&&(ns(0,"clr-dg-filter",0),hs("clrDgFilterOpenChange",(function(e){return t.open=e})),ns(1,"input",1,2),hs("ngModelChange",(function(e){return t.low=e})),rs(),is(3,"span",3),ns(4,"input",4,5),hs("ngModelChange",(function(e){return t.high=e})),rs(),rs()),2&e&&(es("clrDgFilter",t.registered)("clrDgFilterOpen",t.open),Ur(1),es("ngModel",t.low)("placeholder",t.commonStrings.keys.minValue),$o("aria-label",t.commonStrings.keys.minValue),Ur(3),es("ngModel",t.high)("placeholder",t.commonStrings.keys.maxValue),$o("aria-label",t.commonStrings.keys.maxValue))},directives:[pA,Ky,Sy,Py,i_],encapsulation:2}),bT),wA=((_T=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.subscription=n.chocolate.subscribe((function(){r.latestFlavor!==r.flavor&&(n.disableChocolateCheck=!0,t.detectChanges(),n.disableChocolateCheck=!1)}))}return _createClass(e,[{key:"ngAfterContentChecked",value:function(){this.latestFlavor=this.flavor}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}]),e}()).\u0275fac=function(e){Jo()},_T.\u0275dir=_t({type:_T}),_T),CA=((mT=function(){function e(){_classCallCheck(this,e),this.actionableCount=0}return _createClass(e,[{key:"register",value:function(){this.actionableCount++}},{key:"unregister",value:function(){this.actionableCount--}},{key:"hasActionableRow",get:function(){return this.actionableCount>0}}]),e}()).\u0275fac=function(e){return new(e||mT)},mT.\u0275prov=he({token:mT,factory:mT.\u0275fac}),mT),SA=((yT=function(){function e(){_classCallCheck(this,e),this._chocolate=new x,this.disableChocolateCheck=!1}return _createClass(e,[{key:"ngAfterViewChecked",value:function(){this.disableChocolateCheck||this._chocolate.next()}},{key:"chocolate",get:function(){return this._chocolate.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||yT)},yT.\u0275dir=_t({type:yT}),yT),EA=((gT=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(SA)).\u0275fac=function(e){return KP(e||gT)},gT.\u0275dir=_t({type:gT,selectors:[["clr-datagrid"]],features:[Ys]}),gT),IA=((vT=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;if(_classCallCheck(this,n),!r)throw new Error("clr-dg-row should only be used inside of a clr-datagrid");return(o=t.call(this,e,r)).rowActions=i,o}return _createClass(n,[{key:"flavor",get:function(){return this.rowActions.hasActionableRow}}]),n}(wA)).\u0275fac=function(e){return new(e||vT)(Zo(vo),Zo(EA,8),Zo(CA))},vT.\u0275dir=_t({type:vT,selectors:[["clr-datagrid"],["clr-dg-row"]],features:[Ys]}),vT),TA=((pT=function(){function e(){_classCallCheck(this,e),this.toggleState=!1,this._state=new Lc(this.toggleState),this._enabled=!1}return _createClass(e,[{key:"close",value:function(){this.toggleState=!1,this._state.next(this.toggleState),this.button&&(this.button.focus(),this.button=null)}},{key:"open",value:function(e,t){this.cache=e,this.button=t,this.toggleState=!0,this._state.next(this.toggleState)}},{key:"toggle",value:function(e,t){this.isRowOpen(e)||!e?this.close():this.open(e,t)}},{key:"isRowOpen",value:function(e){return!(!this.toggleState||this.cache!==e)}},{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=e}},{key:"stateChange",get:function(){return this._state.asObservable()}},{key:"state",get:function(){return this.cache}},{key:"isOpen",get:function(){return!0===this.toggleState}}]),e}()).\u0275fac=function(e){return new(e||pT)},pT.\u0275prov=he({token:pT,factory:pT.\u0275fac}),pT),xA=((dT=function(){function e(t){_classCallCheck(this,e),this.detailService=t,this.expandableCount=0}return _createClass(e,[{key:"register",value:function(){this.expandableCount++}},{key:"unregister",value:function(){this.expandableCount--}},{key:"hasExpandableRow",get:function(){return!this.detailService.enabled&&this.expandableCount>0}}]),e}()).\u0275fac=function(e){return new(e||dT)(Ye(TA))},dT.\u0275prov=he({token:dT,factory:dT.\u0275fac}),dT),AA=((fT=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;if(_classCallCheck(this,n),!r)throw new Error("clr-dg-row should only be used inside of a clr-datagrid");return(o=t.call(this,e,r)).expandableCount=i,o}return _createClass(n,[{key:"flavor",get:function(){return this.expandableCount.hasExpandableRow}}]),n}(wA)).\u0275fac=function(e){return new(e||fT)(Zo(vo),Zo(EA,8),Zo(xA))},fT.\u0275dir=_t({type:fT,selectors:[["clr-datagrid"],["clr-dg-row"]],features:[Ys]}),fT),OA=function(){function e(t){_classCallCheck(this,e),this.prop=t,this.nestedProp=new vA(t)}return _createClass(e,[{key:"compare",value:function(e,t){var n=this.nestedProp.getPropValue(e),r=this.nestedProp.getPropValue(t);return"string"==typeof n&&(n=n.toLowerCase()),"string"==typeof r&&(r=r.toLowerCase()),null==n?null==r?0:1:null==r||n<r?-1:n>r?1:0}}]),e}(),DA=function(e){return e[e.UNSORTED=0]="UNSORTED",e[e.ASC=1]="ASC",e[e.DESC=-1]="DESC",e}({}),RA=((IT=function(){function e(t){_classCallCheck(this,e),this.stateDebouncer=t,this._reverse=!1,this._change=new x}return _createClass(e,[{key:"emitChange",value:function(){this._change.next(this)}},{key:"toggle",value:function(e,t){this.stateDebouncer.changeStart(),this.comparator===e?this._reverse=void 0!==t&&t||!this._reverse:(this._comparator=e,this._reverse=void 0!==t&&t),this.emitChange(),this.stateDebouncer.changeDone()}},{key:"clear",value:function(){this.comparator=null}},{key:"compare",value:function(e,t){return(this.reverse?-1:1)*this.comparator.compare(e,t)}},{key:"comparator",get:function(){return this._comparator},set:function(e){this.stateDebouncer.changeStart(),this._comparator=e,this.emitChange(),this.stateDebouncer.changeDone()}},{key:"reverse",get:function(){return this._reverse},set:function(e){this.stateDebouncer.changeStart(),this._reverse=e,this.emitChange(),this.stateDebouncer.changeDone()}},{key:"change",get:function(){return this._change.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||IT)(Ye(cA))},IT.\u0275prov=he({token:IT,factory:IT.\u0275fac}),IT),PA=((ET=function(){function e(){_classCallCheck(this,e),this._dynamic=!1}return _createClass(e,[{key:"ngAfterViewInit",value:function(){this.columnView=this.templateRef.createEmbeddedView(null)}},{key:"ngOnDestroy",value:function(){this.columnView.destroy()}}]),e}()).\u0275fac=function(e){return new(e||ET)},ET.\u0275cmp=dt({type:ET,selectors:[["dg-wrapped-column"]],viewQuery:function(e,t){var n;1&e&&Tu(Yb,!0),2&e&&Eu(n=Ru())&&(t.templateRef=n.first)},ngContentSelectors:P_,decls:2,vars:0,consts:[["columnPortal",""]],template:function(e,t){1&e&&(ms(),Yo(0,Kb,1,0,"ng-template",null,0,Lu))},encapsulation:2}),ET),NA=((ST=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s,a){var u;return _classCallCheck(this,n),(u=t.call(this,r))._sort=e,u.vcr=i,u.detailService=o,u.changeDetectorRef=s,u.commonStrings=a,u.showSeparator=!0,u.subscriptions=[],u._colType="string",u._sorted=!1,u.sortedChange=new pu,u._sortOrder=DA.UNSORTED,u.sortOrderChange=new pu,u.customFilter=!1,u.filterValueChange=new pu,u.subscriptions.push(u.listenForSortingChanges()),u.subscriptions.push(u.listenForDetailPaneChanges()),u}return _createClass(n,[{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"listenForDetailPaneChanges",value:function(){var e=this;return this.detailService.stateChange.subscribe((function(t){e.showSeparator!==!t&&(e.showSeparator=!t,e.changeDetectorRef.markForCheck())}))}},{key:"listenForSortingChanges",value:function(){var e=this;return this._sort.change.subscribe((function(t){e.changeDetectorRef.markForCheck(),e.sortOrder!==DA.UNSORTED&&t.comparator!==e._sortBy&&(e._sortOrder=DA.UNSORTED,e.sortOrderChange.emit(e._sortOrder),e.sortIcon=null),e.sorted&&t.comparator!==e._sortBy&&(e._sorted=!1,e.sortedChange.emit(!1))}))}},{key:"setupDefaultFilter",value:function(e,t){"number"===t?this.setFilter(new bA(new _A(e))):"string"===t&&this.setFilter(new yA(new gA(e))),this.filter&&this.initFilterValue&&(this.updateFilterValue=this.initFilterValue,delete this.initFilterValue)}},{key:"sort",value:function(e){this.sortable&&(this._sort.toggle(this._sortBy,e),this._sortOrder=this._sort.reverse?DA.DESC:DA.ASC,this.sortIcon=this._sortOrder===DA.DESC?"arrow down":"arrow",this.sortOrderChange.emit(this._sortOrder),this._sorted=!0,this.sortedChange.emit(!0))}},{key:"ngOnInit",value:function(){this.wrappedInjector=new fE(PA,this.vcr)}},{key:"field",get:function(){return this._field},set:function(e){"string"==typeof e&&(this._field=e,!this.customFilter&&this._colType&&this.setupDefaultFilter(this._field,this._colType),this._sortBy||(this._sortBy=new OA(this._field)))}},{key:"colType",get:function(){return this._colType},set:function(e){this._colType=e,!this.customFilter&&!this.filter&&this._colType&&this._field&&this.setupDefaultFilter(this._field,this._colType)}},{key:"sortBy",get:function(){return this._sortBy},set:function(e){"string"==typeof e?this._sortBy=new OA(e):e?this._sortBy=e:this._field?this._sortBy=new OA(this._field):delete this._sortBy}},{key:"sortable",get:function(){return!!this._sortBy}},{key:"sorted",get:function(){return this._sorted},set:function(e){!e&&this.sorted?(this._sorted=!1,this._sort.clear()):e&&!this.sorted&&this.sort()}},{key:"sortOrder",get:function(){return this._sortOrder},set:function(e){if(void 0!==e&&this._sortOrder!==e)switch(e){default:case DA.UNSORTED:this._sort.clear();break;case DA.ASC:this.sort(!1);break;case DA.DESC:this.sort(!0)}}},{key:"ariaSort",get:function(){switch(this._sortOrder){default:case DA.UNSORTED:return"none";case DA.ASC:return"ascending";case DA.DESC:return"descending"}}},{key:"projectedFilter",set:function(e){e&&(this.deleteFilter(),this.customFilter=!0)}},{key:"filterValue",get:function(){if(this.filter instanceof yA||this.filter instanceof bA)return this.filter.value},set:function(e){(this.filter instanceof yA||this.filter instanceof bA)&&(this.updateFilterValue=e,this.filterValueChange.emit(this.filter.value))}},{key:"updateFilterValue",set:function(e){this.filter?this.filter instanceof yA?(e&&"string"==typeof e||(e=""),e!==this.filter.value&&(this.filter.value=e)):this.filter instanceof bA&&(e&&e instanceof Array||(e=[null,null]),2!==e.length||e[0]===this.filter.value[0]&&e[1]===this.filter.value[1]||(this.filter.value=e)):this.initFilterValue=e}},{key:"_view",get:function(){return this.wrappedInjector.get(PA,this.vcr).columnView}}]),n}(dA)).\u0275fac=function(e){return new(e||ST)(Zo(RA),Zo(hA),Zo(Ba),Zo(TA),Zo(vo),Zo(JC))},ST.\u0275cmp=dt({type:ST,selectors:[["clr-dg-column"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,uA,!0),2&e&&Eu(r=Ru())&&(t.projectedFilter=r.first)},hostAttrs:["role","columnheader"],hostVars:3,hostBindings:function(e,t){2&e&&($o("aria-sort",t.ariaSort),Os("datagrid-column",!0))},inputs:{field:["clrDgField","field"],colType:["clrDgColType","colType"],updateFilterValue:["clrFilterValue","updateFilterValue"],sortBy:["clrDgSortBy","sortBy"],sorted:["clrDgSorted","sorted"],sortOrder:["clrDgSortOrder","sortOrder"]},outputs:{sortedChange:"clrDgSortedChange",sortOrderChange:"clrDgSortOrderChange",filterValueChange:"clrFilterValueChange"},features:[ha([BC,bC,_C]),Ys],ngContentSelectors:ak,decls:9,vars:5,consts:[[1,"datagrid-column-flex"],["class","datagrid-column-title","type","button",3,"click",4,"ngIf"],[3,"clrDgStringFilter","clrFilterValue","clrFilterValueChange",4,"ngIf"],[3,"clrDgNumericFilter","clrFilterValue","clrFilterValueChange",4,"ngIf"],["columnTitle",""],["class","datagrid-column-title",4,"ngIf"],[4,"ngIf"],["type","button",1,"datagrid-column-title",3,"click"],[4,"ngTemplateOutlet"],["class","sort-icon",4,"ngIf"],[1,"sort-icon"],[3,"clrDgStringFilter","clrFilterValue","clrFilterValueChange"],[3,"clrDgNumericFilter","clrFilterValue","clrFilterValueChange"],[1,"datagrid-column-title"]],template:function(e,t){1&e&&(ms(sk),ns(0,"div",0),Yo(1,Jb,3,3,"button",1),_s(2),Yo(3,ek,1,2,"clr-dg-string-filter",2),Yo(4,tk,1,2,"clr-dg-numeric-filter",3),Yo(5,nk,1,0,"ng-template",null,4,Lu),Yo(7,ik,2,1,"span",5),Yo(8,ok,1,0,"clr-dg-column-separator",6),rs()),2&e&&(Ur(1),es("ngIf",t.sortable),Ur(2),es("ngIf",t.field&&!t.customFilter&&"string"==t.colType),Ur(1),es("ngIf",t.field&&!t.customFilter&&"number"==t.colType),Ur(3),es("ngIf",!t.sortable),Ur(1),es("ngIf",t.showSeparator))},directives:function(){return[Hh,Xh,yC,mA,kA,fO]},encapsulation:2,changeDetection:0}),ST),FA=((CT=function(){function e(t,n,r){_classCallCheck(this,e),this._filters=t,this._sort=n,this._page=r,this.loading=!1,this.trackBy=function(e,t){return t},this._smart=!1,this._displayed=[],this._change=new x,this._allChanges=new x}return _createClass(e,[{key:"destroy",value:function(){this._filtersSub&&this._filtersSub.unsubscribe(),this._sortSub&&this._sortSub.unsubscribe(),this._pageSub&&this._pageSub.unsubscribe()}},{key:"smartenUp",value:function(){var e=this;this._smart=!0,this._filtersSub=this._filters.change.subscribe((function(){return e._filterItems()})),this._sortSub=this._sort.change.subscribe((function(){e._sort.comparator?e._sortItems():e._filterItems()})),this._pageSub=this._page.change.subscribe((function(){return e._changePage()}))}},{key:"refresh",value:function(){this.smart&&this._filterItems()}},{key:"emitChange",value:function(){this._change.next(this.displayed)}},{key:"emitAllChanges",value:function(e){this._allChanges.next(e)}},{key:"_filterItems",value:function(){var e=this;this.uninitialized||(this._filtered=this._filters.hasActiveFilters()?this._all.filter((function(t){return e._filters.accepts(t)})):this._all.slice(),this._page.totalItems=this._filtered.length,this._sortItems())}},{key:"_sortItems",value:function(){var e=this;this.uninitialized||(this._sort.comparator&&this._filtered.sort((function(t,n){return e._sort.compare(t,n)})),this._changePage())}},{key:"_changePage",value:function(){this.uninitialized||this._page.activated&&0===this._page.size||(this._displayed=this._page.size>0?this._filtered.slice(this._page.firstItem,this._page.lastItem+1):this._filtered,this.emitChange())}},{key:"smart",get:function(){return this._smart}},{key:"all",get:function(){return this._all},set:function(e){this._all=e,this.emitAllChanges(e),this.smart?this._filterItems():(this._displayed=e,this.emitChange())}},{key:"displayed",get:function(){return this._displayed}},{key:"change",get:function(){return this._change.asObservable()}},{key:"allChanges",get:function(){return this._allChanges.asObservable()}},{key:"uninitialized",get:function(){return!this._all}}]),e}()).\u0275fac=function(e){return new(e||CT)(Ye(hA),Ye(RA),Ye(lA))},CT.\u0275prov=he({token:CT,factory:CT.\u0275fac}),CT),LA=((wT=function(){function e(t,n,r,i){var o=this;_classCallCheck(this,e),this.template=t,this.differs=n,this.items=r,this.vcr=i,this.differ=null,this.subscriptions=[],r.smartenUp(),this.iterableProxy=new Bh(this.vcr,this.template,this.differs),this.subscriptions.push(r.change.subscribe((function(e){o.iterableProxy.ngForOf=e,o.iterableProxy.ngDoCheck()})))}return _createClass(e,[{key:"ngDoCheck",value:function(){this.differ||(this.differ=this.differs.find(this._rawItems).create(this.iterableProxy.ngForTrackBy)),this.differ&&this.differ.diff(this._rawItems)&&(this.items.all=this._rawItems)}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"rawItems",set:function(e){this._rawItems=e||[]}},{key:"trackBy",set:function(e){this.iterableProxy.ngForTrackBy=e}}]),e}()).\u0275fac=function(e){return new(e||wT)(Zo(ja),Zo(Na),Zo(FA),Zo(Ba))},wT.\u0275dir=_t({type:wT,selectors:[["","clrDgItems","","clrDgItemsOf",""]],inputs:{rawItems:["clrDgItemsOf","rawItems"],trackBy:["clrDgItemsTrackBy","trackBy"]}}),wT),MA=((kT=function(){function e(t){_classCallCheck(this,e),this.items=t}return _createClass(e,[{key:"emptyDatagrid",get:function(){return!(this.items.loading||this.items.displayed&&0!==this.items.displayed.length)}}]),e}()).\u0275fac=function(e){return new(e||kT)(Zo(FA))},kT.\u0275cmp=dt({type:kT,selectors:[["clr-dg-placeholder"]],hostVars:2,hostBindings:function(e,t){2&e&&Os("datagrid-placeholder-container",!0)},ngContentSelectors:P_,decls:3,vars:4,consts:[[1,"datagrid-placeholder"],["class","datagrid-placeholder-image",4,"ngIf"],[4,"ngIf"],[1,"datagrid-placeholder-image"]],template:function(e,t){1&e&&(ms(),ns(0,"div",0),Yo(1,uk,1,0,"div",1),Yo(2,ck,1,0,void 0,2),rs()),2&e&&(Os("datagrid-empty",t.emptyDatagrid),Ur(1),es("ngIf",t.emptyDatagrid),Ur(1),es("ngIf",t.emptyDatagrid))},directives:[Hh],encapsulation:2}),kT),VA=new Ue("POPOVER_HOST_ANCHOR"),jA=((RT=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"focusTrigger",value:function(){this._triggerEl&&this._triggerEl.focus()}},{key:"triggerEl",set:function(e){this._triggerEl=e}}]),e}()).\u0275fac=function(e){return new(e||RT)},RT.\u0275prov=he({token:RT,factory:RT.\u0275fac}),RT),UA=((DT=function(){function e(){_classCallCheck(this,e),this._id=new x}return _createClass(e,[{key:"setId",value:function(e){this._id.next(e)}},{key:"id",get:function(){return this._id.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||DT)},DT.\u0275prov=he({token:DT,factory:DT.\u0275fac}),DT),BA=((OT=function(){function e(t,n,r,i,o,s,a){_classCallCheck(this,e),this.toggleService=t,this.el=n,this.commonStrings=r,this.signpostIdService=i,this.signpostFocusManager=o,this.platformId=a,this.subscriptions=[],this.document=s}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.signpostFocusManager.triggerEl=this.el.nativeElement,this.subscriptions.push(this.toggleService.openChange.subscribe((function(t){e.ariaExpanded=t;var n=e.isOpen;e.isOpen=t,!e.isOpen&&n&&e.focusOnClose()})),this.signpostIdService.id.subscribe((function(t){return e.ariaControl=t})))}},{key:"focusOnClose",value:function(){lf(this.platformId)&&(this.isOpen||this.document.activeElement!==this.document.body||this.signpostFocusManager.focusTrigger())}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"onSignpostTriggerClick",value:function(e){this.toggleService.toggleWithEvent(e)}}]),e}()).\u0275fac=function(e){return new(e||OT)(Zo(_C),Zo(va),Zo(JC),Zo(UA),Zo(jA),Zo(Fl),Zo(Hu))},OT.\u0275dir=_t({type:OT,selectors:[["","clrSignpostTrigger",""]],hostAttrs:[1,"signpost-trigger"],hostVars:5,hostBindings:function(e,t){1&e&&hs("click",(function(e){return t.onSignpostTriggerClick(e)})),2&e&&($o("aria-label",t.commonStrings.keys.signpostToggle)("aria-expanded",t.ariaExpanded)("aria-controls",t.ariaControl),Os("active",t.isOpen))}}),OT),zA=((AT=function(){function e(t){_classCallCheck(this,e),this.commonStrings=t,this.useCustomTrigger=!1}return _createClass(e,[{key:"customTrigger",set:function(e){this.useCustomTrigger=!!e}}]),e}()).\u0275fac=function(e){return new(e||AT)(Zo(JC))},AT.\u0275cmp=dt({type:AT,selectors:[["clr-signpost"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,BA,!0),2&e&&Eu(r=Ru())&&(t.customTrigger=r.first)},hostVars:2,hostBindings:function(e,t){2&e&&Os("signpost",!0)},features:[ha([_C,jA,{provide:VA,useExisting:va},UA])],ngContentSelectors:P_,decls:2,vars:1,consts:[[4,"ngIf"],["type","button","clrSignpostTrigger","",1,"signpost-action","btn","btn-small","btn-link"],["shape","info"]],template:function(e,t){1&e&&(ms(),Yo(0,lk,3,1,"ng-container",0),_s(1)),2&e&&es("ngIf",!t.useCustomTrigger)},directives:[Hh,BA,yC],encapsulation:2}),AT),HA=((xT=function(){function e(){_classCallCheck(this,e),this._dynamic=!1}return _createClass(e,[{key:"ngAfterViewInit",value:function(){this.cellView=this.templateRef.createEmbeddedView(null)}},{key:"ngOnDestroy",value:function(){this.cellView.destroy()}}]),e}()).\u0275fac=function(e){return new(e||xT)},xT.\u0275cmp=dt({type:xT,selectors:[["dg-wrapped-cell"]],viewQuery:function(e,t){var n;1&e&&Tu(hk,!0),2&e&&Eu(n=Ru())&&(t.templateRef=n.first)},ngContentSelectors:P_,decls:2,vars:0,consts:[["cellPortal",""]],template:function(e,t){1&e&&(ms(),Yo(0,fk,1,0,"ng-template",null,0,Lu))},encapsulation:2}),xT),GA=((TT=function(){function e(t){_classCallCheck(this,e),this.vcr=t}return _createClass(e,[{key:"ngOnInit",value:function(){this.wrappedInjector=new fE(HA,this.vcr)}},{key:"_view",get:function(){return this.wrappedInjector.get(HA,this.vcr).cellView}}]),e}()).\u0275fac=function(e){return new(e||TT)(Zo(Ba))},TT.\u0275cmp=dt({type:TT,selectors:[["clr-dg-cell"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,zA,!1),2&e&&Eu(r=Ru())&&(t.signpost=r)},hostAttrs:["role","gridcell"],hostVars:4,hostBindings:function(e,t){2&e&&Os("datagrid-cell",!0)("datagrid-signpost-trigger",t.signpost.length>0)},ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2}),TT),qA=function(e){return e[e.DISPLAY=0]="DISPLAY",e[e.CALCULATE=1]="CALCULATE",e}({}),WA=function(e){return e[e.ALIGN_COLUMNS=0]="ALIGN_COLUMNS",e[e.CALCULATE_MODE_ON=1]="CALCULATE_MODE_ON",e[e.CALCULATE_MODE_OFF=2]="CALCULATE_MODE_OFF",e[e.CLEAR_WIDTHS=3]="CLEAR_WIDTHS",e[e.COMPUTE_COLUMN_WIDTHS=4]="COMPUTE_COLUMN_WIDTHS",e}({}),$A=((NT=function(){function e(){_classCallCheck(this,e),this._renderStep=new x,this.alreadySized=!1}return _createClass(e,[{key:"filterRenderSteps",value:function(e){return this.renderStep.pipe(qc((function(t){return e===t})))}},{key:"resize",value:function(){this._renderStep.next(WA.CALCULATE_MODE_ON),this.alreadySized&&this._renderStep.next(WA.CLEAR_WIDTHS),this._renderStep.next(WA.COMPUTE_COLUMN_WIDTHS),this._renderStep.next(WA.ALIGN_COLUMNS),this.alreadySized=!0,this._renderStep.next(WA.CALCULATE_MODE_OFF)}},{key:"renderStep",get:function(){return this._renderStep.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||NT)},NT.\u0275prov=he({token:NT,factory:NT.\u0275fac}),NT),QA=((PT=function(){function e(t){var n=this;_classCallCheck(this,e),this.subscriptions=[],this._view=new Lc(qA.DISPLAY),this.subscriptions.push(t.filterRenderSteps(WA.CALCULATE_MODE_ON).subscribe((function(){return n._view.next(qA.CALCULATE)}))),this.subscriptions.push(t.filterRenderSteps(WA.CALCULATE_MODE_OFF).subscribe((function(){return n._view.next(qA.DISPLAY)})))}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"view",get:function(){return this._view.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||PT)(Ye($A))},PT.\u0275prov=he({token:PT,factory:PT.\u0275fac}),PT),YA=function(e){return e[e.None=0]="None",e[e.Single=1]="Single",e[e.Multi=2]="Multi",e}({}),KA=0,ZA=((UT=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._items=t,this._filters=n,this.preserveSelection=!1,this.prevSelectionRefs=[],this.lockedRefs=[],this._selectionType=YA.None,this.rowSelectionMode=!1,this.debounce=!1,this.subscriptions=[],this._change=new x,this.id="clr-dg-selection"+KA++,this.subscriptions.push(this._filters.change.subscribe((function(){r._selectable&&!r.preserveSelection&&r.clearSelection()}))),this.subscriptions.push(this._items.allChanges.subscribe((function(e){var t=[];switch(r.selectionType){case YA.None:break;case YA.Single:var n,i=r._items.trackBy,o=!1;if(r.currentSingle&&!r.prevSingleSelectionRef&&r._items.all&&r._items.trackBy){var s=r._items.all.findIndex((function(e){return e===r.currentSingle}));r.prevSingleSelectionRef=r._items.trackBy(s,r.currentSingle)}e.forEach((function(e,s){var a=i(s,e);r.prevSingleSelectionRef===a&&(n=e,o=!0),r.lockedRefs.indexOf(a)>-1&&t.push(a)})),r._items.smart&&!n&&(o=!0),setTimeout((function(){o&&(r.currentSingle=n)}),0);break;case YA.Multi:var a=r.current.slice(),u=r._items.trackBy,c=!1;r.current.length>0&&r.prevSelectionRefs.length!==r.current.length&&r._items.all&&r._items.trackBy&&(r.prevSelectionRefs=[],r.current.forEach((function(e){var t=r._items.all.findIndex((function(t){return t===e}));r.prevSelectionRefs.push(r._items.trackBy(t,e))}))),e.forEach((function(e,n){var i=u(n,e);r.lockedRefs.indexOf(i)>-1&&t.push(i)})),a.length>0&&(e.forEach((function(e,t){var n=u(t,e),i=r.prevSelectionRefs.indexOf(n);i>-1&&(a[i]=e,c=!0)})),r._items.smart&&(a=a.filter((function(t){return e.indexOf(t)>-1})),r.current.length!==a.length&&(c=!0)),setTimeout((function(){c&&(r.current=a)}),0))}r.lockedRefs=t})))}return _createClass(e,[{key:"clearSelection",value:function(){this.current.length=0,this.prevSelectionRefs=[],this._currentSingle=null,this.prevSingleSelectionRef=null,this.emitChange()}},{key:"destroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"updateCurrent",value:function(e,t){var n=this;this._current=e,t&&(this.emitChange(),this.debounce=!0,setTimeout((function(){return n.debounce=!1})))}},{key:"emitChange",value:function(){this._selectionType===YA.Single?this._change.next(this.currentSingle):this._selectionType===YA.Multi&&this._change.next(this.current)}},{key:"isSelected",value:function(e){return this._selectionType===YA.Single?this.currentSingle===e:this._selectionType===YA.Multi&&this.current.indexOf(e)>=0}},{key:"selectItem",value:function(e){if(this.current.push(e),this._items.trackBy&&this._items.all){var t=this._items.all.findIndex((function(t){return t===e}));this.prevSelectionRefs.push(this._items.trackBy(t,e))}}},{key:"deselectItem",value:function(e){if(this.current.splice(e,1),this._items.trackBy&&e<this.prevSelectionRefs.length){var t=this.prevSelectionRefs.splice(e,1);this.lockedRefs=this.lockedRefs.filter((function(e){return e!==t[0]}))}}},{key:"setSelected",value:function(e,t){switch(this._selectionType){case YA.None:case YA.Single:break;case YA.Multi:var n=this.current.indexOf(e);n>=0&&!t?(this.deselectItem(n),this.emitChange()):n<0&&t&&(this.selectItem(e),this.emitChange())}}},{key:"isAllSelected",value:function(){var e=this;if(this._selectionType!==YA.Multi||!this._items.displayed)return!1;var t=this._items.displayed.filter((function(t){return!1===e.isLocked(t)}));return!(t.length<1)&&t.filter((function(t){return e.current.indexOf(t)>-1})).length===t.length}},{key:"canItBeLocked",value:function(){return this._selectionType!==YA.None&&Array.isArray(this._items.all)}},{key:"lockItem",value:function(e,t){if(this.canItBeLocked()){var n=this._items.trackBy(this._items.all.findIndex((function(t){return t===e})),e);!0===t?this.lockedRefs.push(n):this.lockedRefs=this.lockedRefs.filter((function(e){return n!==e}))}}},{key:"isLocked",value:function(e){if(this.canItBeLocked()){var t=this._items.trackBy(this._items.all.findIndex((function(t){return t===e})),e);return this.lockedRefs.indexOf(t)>-1}return!1}},{key:"toggleAll",value:function(){var e=this;this._selectionType!==YA.None&&this._selectionType!==YA.Single&&(this.isAllSelected()?this._items.displayed.forEach((function(t){var n=e.current.indexOf(t);n>-1&&!1===e.isLocked(t)&&e.deselectItem(n)})):this._items.displayed.forEach((function(t){e.current.indexOf(t)<0&&!1===e.isLocked(t)&&e.selectItem(t)})),this.emitChange())}},{key:"selectionType",get:function(){return this._selectionType},set:function(e){e!==this.selectionType&&(this._selectionType=e,e===YA.None?delete this.current:this.updateCurrent([],!1))}},{key:"_selectable",get:function(){return this._selectionType===YA.Multi||this._selectionType===YA.Single}},{key:"currentSingle",get:function(){return this._currentSingle},set:function(e){var t=this;if(e!==this._currentSingle){if(this._currentSingle=e,this._items.all&&this._items.trackBy&&e){var n=this._items.all.findIndex((function(t){return t===e}));this.prevSingleSelectionRef=this._items.trackBy(n,e)}this.emitChange(),this.debounce=!0,setTimeout((function(){return t.debounce=!1}))}}},{key:"current",get:function(){return this._current},set:function(e){this.updateCurrent(e,!0)}},{key:"change",get:function(){return this._change.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||UT)(Ye(FA),Ye(hA))},UT.\u0275prov=he({token:UT,factory:UT.\u0275fac}),UT),XA=((jT=function(){function e(){_classCallCheck(this,e),this._dynamic=!1}return _createClass(e,[{key:"ngAfterViewInit",value:function(){this.rowView=this.templateRef.createEmbeddedView(null)}},{key:"ngOnDestroy",value:function(){this.rowView.destroy()}}]),e}()).\u0275fac=function(e){return new(e||jT)},jT.\u0275cmp=dt({type:jT,selectors:[["dg-wrapped-row"]],viewQuery:function(e,t){var n;1&e&&Tu(dk,!0),2&e&&Eu(n=Ru())&&(t.templateRef=n.first)},ngContentSelectors:P_,decls:2,vars:0,consts:[["rowPortal",""]],template:function(e,t){1&e&&(ms(),Yo(0,pk,1,0,"ng-template",null,0,Lu))},encapsulation:2}),jT),JA=0,eO=((VT=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).expandableId="",e._replace=new Lc(!1),e._animate=new x,JA++,e.expandableId="clr-dg-expandable-row-"+JA,e}return _createClass(n,[{key:"loadingStateChange",value:function(e){_get(_getPrototypeOf(n.prototype),"loadingStateChange",this).call(this,e),e!==QC.LOADING&&this._animate.next()}},{key:"setReplace",value:function(e){this._replace.next(e)}},{key:"expanded",get:function(){return this._expanded},set:function(e){(e=!!e)!==this._expanded&&(this._expanded=e,this._animate.next(),this._expandChange.next(e))}},{key:"replace",get:function(){return this._replace.asObservable()}},{key:"animate",get:function(){return this._animate.asObservable()}}]),n}(TE)).\u0275fac=function(e){return new(e||VT)},VT.\u0275prov=he({token:VT,factory:VT.\u0275fac}),VT),tO=0,nO=((MT=function(){function e(t,n,r,i,o,s,a,u,c,l){var h=this;_classCallCheck(this,e),this.selection=t,this.rowActionService=n,this.globalExpandable=r,this.expand=i,this.detailService=o,this.displayMode=s,this.vcr=a,this.renderer=u,this.el=c,this.commonStrings=l,this.SELECTION_TYPE=YA,this.expandAnimationTrigger=!1,this._selected=!1,this.selectedChanged=new pu(!1),this.expandedChange=new pu(!1),this._detailOpenLabel="",this._detailCloseLabel="",this.subscriptions=[],this.displayCells=!1,tO++,this.id="clr-dg-row"+tO,this.radioId="clr-dg-row-rd"+tO,this.checkboxId="clr-dg-row-cb"+tO,this.expandableId=i.expandableId,this.subscriptions.push($f(this.expand.replace,this.expand.expandChange).subscribe((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];n&&r?(h.replaced=!0,h.renderer.addClass(h.el.nativeElement,"datagrid-row-replaced")):(h.replaced=!1,h.renderer.removeClass(h.el.nativeElement,"datagrid-row-replaced"))})))}return _createClass(e,[{key:"toggle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.selected;e!==this.selected&&(this.selected=e,this.selectedChanged.emit(e))}},{key:"toggleExpand",value:function(){this.expand.expandable&&(this.expandAnimation.updateStartHeight(),this.expanded=!this.expanded,this.expandedChange.emit(this.expanded))}},{key:"ngAfterContentInit",value:function(){var e=this;this.dgCells.changes.subscribe((function(){e.dgCells.forEach((function(t){t._view.destroyed||e._scrollableCells.insert(t._view)}))}))}},{key:"ngAfterViewInit",value:function(){var e=this;this.subscriptions.push(this.displayMode.view.subscribe((function(t){for(var n=e._scrollableCells.length;n>0;n--)e._scrollableCells.detach();for(var r=e._calculatedCells.length;r>0;r--)e._calculatedCells.detach();t===qA.CALCULATE?(e.displayCells=!1,e.dgCells.forEach((function(t){t._view.destroyed||e._calculatedCells.insert(t._view)}))):(e.displayCells=!0,e.dgCells.forEach((function(t){t._view.destroyed||e._scrollableCells.insert(t._view)})))})),this.expand.animate.subscribe((function(){e.expandAnimationTrigger=!e.expandAnimationTrigger})))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"ngOnInit",value:function(){this.wrappedInjector=new fE(XA,this.vcr)}},{key:"selected",get:function(){return this.selection.selectionType===YA.None?this._selected:this.selection.isSelected(this.item)},set:function(e){this.selection.selectionType===YA.None?this._selected=e:this.selection.setSelected(this.item,e)}},{key:"clrDgSelectable",set:function(e){this.selection.lockItem(this.item,!1===e)},get:function(){return!this.selection.isLocked(this.item)}},{key:"expanded",get:function(){return this.expand.expanded},set:function(e){this.expand.expanded=e}},{key:"clrDgDetailOpenLabel",set:function(e){this._detailOpenLabel=e},get:function(){return this._detailOpenLabel?this._detailOpenLabel:this.commonStrings.keys.open}},{key:"clrDgDetailCloseLabel",set:function(e){this._detailCloseLabel=e},get:function(){return this._detailCloseLabel?this._detailCloseLabel:this.commonStrings.keys.close}},{key:"_view",get:function(){return this.wrappedInjector.get(XA,this.vcr).rowView}}]),e}()).\u0275fac=function(e){return new(e||MT)(Zo(ZA),Zo(CA),Zo(xA),Zo(eO),Zo(TA),Zo(QA),Zo(Ba),Zo(_a),Zo(va),Zo(JC))},MT.\u0275cmp=dt({type:MT,selectors:[["clr-dg-row"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,GA,!1),2&e&&Eu(r=Ru())&&(t.dgCells=r)},viewQuery:function(e,t){var n;1&e&&(Tu(eA,!0),Tu(vk,!0),Tu(gk,!0,Ba),Tu(yk,!0,Ba),Tu(mk,!0,Ba)),2&e&&(Eu(n=Ru())&&(t.expandAnimation=n.first),Eu(n=Ru())&&(t.detailButton=n.first),Eu(n=Ru())&&(t._stickyCells=n.first),Eu(n=Ru())&&(t._scrollableCells=n.first),Eu(n=Ru())&&(t._calculatedCells=n.first))},hostAttrs:["role","rowgroup"],hostVars:5,hostBindings:function(e,t){2&e&&($o("aria-owns",t.id),Os("datagrid-row",!0)("datagrid-selected",t.selected))},inputs:{selected:["clrDgSelected","selected"],clrDgSelectable:"clrDgSelectable",expanded:["clrDgExpanded","expanded"],clrDgDetailOpenLabel:"clrDgDetailOpenLabel",clrDgDetailCloseLabel:"clrDgDetailCloseLabel",item:["clrDgItem","item"]},outputs:{selectedChanged:"clrDgSelectedChange",expandedChange:"clrDgExpandedChange"},features:[ha([eO,{provide:TE,useExisting:eO},{provide:$C,useExisting:eO}])],ngContentSelectors:qk,decls:9,vars:3,consts:[["class","datagrid-row-clickable",4,"ngIf"],[3,"clrExpandTrigger",4,"ngIf"],[4,"ngIf"],["detail",""],["rowContent",""],["calculatedCells",""],[1,"datagrid-row-clickable"],[3,"clrExpandTrigger"],[3,"ngTemplateOutlet"],["role","row",1,"datagrid-row-master","datagrid-row-flex",3,"id"],[1,"datagrid-row-sticky"],["stickyCells",""],["class","datagrid-select datagrid-fixed-column datagrid-cell","role","gridcell",3,"ngClass",4,"ngIf"],["class","datagrid-row-actions datagrid-fixed-column datagrid-cell","role","gridcell",4,"ngIf"],["class","datagrid-expandable-caret datagrid-fixed-column datagrid-cell","role","gridcell",4,"ngIf"],["class","datagrid-detail-caret datagrid-fixed-column datagrid-cell",4,"ngIf"],[1,"datagrid-row-scrollable",3,"ngClass"],[1,"datagrid-scrolling-cells"],["scrollableCells",""],["role","gridcell",1,"datagrid-select","datagrid-fixed-column","datagrid-cell",3,"ngClass"],["clrCheckbox","","type","checkbox",3,"ngModel","id","ngModelChange"],["type","radio","clrRadio","",3,"id","name","value","ngModel","checked","ngModelChange"],["role","gridcell",1,"datagrid-row-actions","datagrid-fixed-column","datagrid-cell"],["role","gridcell",1,"datagrid-expandable-caret","datagrid-fixed-column","datagrid-cell"],["type","button","class","datagrid-expandable-caret-button",3,"click",4,"ngIf"],["clrSmall","",4,"ngIf"],["type","button",1,"datagrid-expandable-caret-button",3,"click"],["shape","caret",1,"datagrid-expandable-caret-icon"],["clrSmall",""],[1,"datagrid-detail-caret","datagrid-fixed-column","datagrid-cell"],["type","button","aria-haspopup","dialog",1,"datagrid-detail-caret-button",3,"click"],["detailButton",""],["shape","angle-double",1,"datagrid-detail-caret-icon"]],template:function(e,t){1&e&&(ms(Gk),Yo(0,Ck,3,2,"label",0),Yo(1,Ek,2,2,"clr-expandable-animation",1),Yo(2,Tk,1,1,void 0,2),Yo(3,xk,1,0,"ng-template",null,3,Lu),Yo(5,Hk,16,13,"ng-template",null,4,Lu),as(7,null,5)),2&e&&(es("ngIf",t.selection.rowSelectionMode),Ur(1),es("ngIf",!t.selection.rowSelectionMode&&t.expand.expandable),Ur(1),es("ngIf",!t.selection.rowSelectionMode&&!t.expand.expandable))},directives:[Hh,aE,eA,Xh,jh,ky,mE,Py,i_,Jy,Sy,Ax,yC,nA],encapsulation:2}),MT),rO=((LT=function(){function e(t,n,r,i){var o=this;_classCallCheck(this,e),this.filters=t,this.sort=n,this.page=r,this.debouncer=i,this.change=this.debouncer.change.pipe(j((function(){return o.state})))}return _createClass(e,[{key:"state",get:function(){var e={};this.page.size>0&&(e.page={from:this.page.firstItem,to:this.page.lastItem,size:this.page.size,current:this.page.current}),this.sort.comparator&&(e.sort=this.sort.comparator instanceof OA?{by:this.sort.comparator.prop,reverse:this.sort.reverse}:{by:this.sort.comparator,reverse:this.sort.reverse});var t=this.filters.getActiveFilters();if(t.length>0){e.filters=[];var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;e.filters.push(i.state?i.state:i)}}catch(o){r.e(o)}finally{r.f()}}return e}}]),e}()).\u0275fac=function(e){return new(e||LT)(Ye(hA),Ye(RA),Ye(lA),Ye(cA))},LT.\u0275prov=he({token:LT,factory:LT.\u0275fac}),LT),iO=((FT=function(){function e(t){_classCallCheck(this,e),this.platformId=t}return _createClass(e,[{key:"getColumnDragHeight",value:function(){if(this.tableRef)return this.tableRef.clientHeight+"px"}},{key:"tableRef",get:function(){return this._tableRef},set:function(e){this._tableRef=e}},{key:"table",set:function(e){lf(this.platformId)&&e.nativeElement&&(this.tableRef=e.nativeElement.querySelector(".datagrid-table"))}}]),e}()).\u0275fac=function(e){return new(e||FT)(Ye(Hu))},FT.\u0275prov=he({token:FT,factory:FT.\u0275fac}),FT),oO=function(e){return e[e.WIDTH=0]="WIDTH",e[e.HIDDEN=1]="HIDDEN",e}({}),sO=Object.keys(oO).map((function(e){return oO[e]})).filter((function(e){return e===parseInt(e,10)})),aO=((ex=function(){function e(){_classCallCheck(this,e),this.columns=[],this._cache=[]}return _createClass(e,[{key:"cache",value:function(){this._cache=this.columns.map((function(e){var t=Object.assign({},e.value);return delete t.changes,t}))}},{key:"hasCache",value:function(){return!!this._cache.length}},{key:"resetToLastCache",value:function(){var e=this;this._cache.forEach((function(t,n){e.columns[n].next(Object.assign(Object.assign({},t),{changes:sO}))})),this._cache=[]}},{key:"emitStateChangeAt",value:function(e,t){this.columns[e]&&this.emitStateChange(this.columns[e],t)}},{key:"emitStateChange",value:function(e,t){e.next(Object.assign(Object.assign({},e.value),t))}},{key:"columnStates",get:function(){return this.columns.map((function(e){return e.value}))}},{key:"hasHideableColumns",get:function(){return this.columnStates.filter((function(e){return e.hideable})).length>0}}]),e}()).\u0275fac=function(e){return new(e||ex)},ex.\u0275prov=he({token:ex,factory:ex.\u0275fac}),ex),uO=((JT=function(){function e(t,n,r,i,o,s,a,u,c,l,h,f,d){_classCallCheck(this,e),this.organizer=t,this.items=n,this.expandableRows=r,this.selection=i,this.rowActionService=o,this.stateProvider=s,this.displayMode=a,this.renderer=u,this.detailService=c,this.el=h,this.page=f,this.commonStrings=d,this.SELECTION_TYPE=YA,this.refresh=new pu(!1),this.selectedChanged=new pu(!1),this.singleSelectedChanged=new pu(!1),this.clrDgSingleSelectionAriaLabel=this.commonStrings.keys.singleSelectionAriaLabel,this.clrDgSingleActionableAriaLabel=this.commonStrings.keys.singleActionableAriaLabel,this.clrDetailExpandableAriaLabel=this.commonStrings.keys.detailExpandableAriaLabel,this._subscriptions=[],this.detailService.id=l}return _createClass(e,[{key:"dataChanged",value:function(){this.items.refresh()}},{key:"ngAfterContentInit",value:function(){var e=this;this.items.smart||(this.items.all=this.rows.map((function(e){return e.item}))),this._subscriptions.push(this.rows.changes.subscribe((function(){e.items.smart||(e.items.all=e.rows.map((function(e){return e.item}))),e.rows.forEach((function(t){e._displayedRows.insert(t._view)}))})))}},{key:"ngAfterViewInit",value:function(){var e=this;this.refresh.emit(this.stateProvider.state),this._subscriptions.push(this.stateProvider.change.subscribe((function(t){return e.refresh.emit(t)})),this.selection.change.subscribe((function(t){e.selection.selectionType===YA.Single?e.singleSelectedChanged.emit(t):e.selection.selectionType===YA.Multi&&e.selectedChanged.emit(t)})),this.page.change.subscribe((function(){e.datagridTable.nativeElement.focus()})),this.displayMode.view.subscribe((function(t){for(var n=e._projectedDisplayColumns.length;n>0;n--)e._projectedDisplayColumns.detach();for(var r=e._projectedCalculationColumns.length;r>0;r--)e._projectedCalculationColumns.detach();for(var i=e._calculationRows.length;i>0;i--)e._calculationRows.detach();for(var o=e._displayedRows.length;o>0;o--)e._displayedRows.detach();t===qA.DISPLAY?(e.renderer.removeClass(e.el.nativeElement,"datagrid-calculate-mode"),e.columns.forEach((function(t){e._projectedDisplayColumns.insert(t._view)})),e.rows.forEach((function(t){e._displayedRows.insert(t._view)}))):(e.renderer.addClass(e.el.nativeElement,"datagrid-calculate-mode"),e.columns.forEach((function(t){e._projectedCalculationColumns.insert(t._view)})),e.rows.forEach((function(t){e._calculationRows.insert(t._view)})))})))}},{key:"ngOnDestroy",value:function(){this._subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"resize",value:function(){this.organizer.resize()}},{key:"loading",get:function(){return this.items.loading},set:function(e){this.items.loading=e}},{key:"selected",set:function(e){this.selection.selectionType=e?YA.Multi:YA.None,this.selection.updateCurrent(e,!1)}},{key:"singleSelected",set:function(e){this.selection.selectionType=YA.Single,e?this.selection.currentSingle=e:this.selection.currentSingle&&(this.selection.currentSingle=null)}},{key:"clrDgPreserveSelection",set:function(e){this.selection.preserveSelection=e}},{key:"rowSelectionMode",set:function(e){this.selection.rowSelectionMode=e}},{key:"allSelected",get:function(){return this.selection.isAllSelected()},set:function(e){this.selection.toggleAll()}}]),e}()).\u0275fac=function(e){return new(e||JT)(Zo($A),Zo(FA),Zo(xA),Zo(ZA),Zo(CA),Zo(rO),Zo(QA),Zo(_a),Zo(TA),Zo(tS),Zo(va),Zo(lA),Zo(JC))},JT.\u0275cmp=dt({type:JT,selectors:[["clr-datagrid"]],contentQueries:function(e,t,n){var r;1&e&&(Au(n,LA,!0),Au(n,MA,!0),Au(n,NA,!1),Au(n,nO,!1)),2&e&&(Eu(r=Ru())&&(t.iterator=r.first),Eu(r=Ru())&&(t.placeholder=r.first),Eu(r=Ru())&&(t.columns=r),Eu(r=Ru())&&(t.rows=r))},viewQuery:function(e,t){var n;1&e&&(Tu(Wk,!0,Ba),Tu($k,!0,va),Tu(Qk,!0,Ba),Tu(Yk,!0,Ba),Tu(Kk,!0,Ba),Tu(Zk,!0,Ba)),2&e&&(Eu(n=Ru())&&(t.scrollableColumns=n.first),Eu(n=Ru())&&(t.datagridTable=n.first),Eu(n=Ru())&&(t._projectedDisplayColumns=n.first),Eu(n=Ru())&&(t._projectedCalculationColumns=n.first),Eu(n=Ru())&&(t._displayedRows=n.first),Eu(n=Ru())&&(t._calculationRows=n.first))},hostVars:4,hostBindings:function(e,t){2&e&&Os("datagrid-host",!0)("datagrid-detail-open",t.detailService.isOpen)},inputs:{clrDgSingleSelectionAriaLabel:"clrDgSingleSelectionAriaLabel",clrDgSingleActionableAriaLabel:"clrDgSingleActionableAriaLabel",clrDetailExpandableAriaLabel:"clrDetailExpandableAriaLabel",loading:["clrDgLoading","loading"],selected:["clrDgSelected","selected"],singleSelected:["clrDgSingleSelected","singleSelected"],clrDgPreserveSelection:"clrDgPreserveSelection",rowSelectionMode:["clrDgRowSelection","rowSelectionMode"]},outputs:{refresh:"clrDgRefresh",selectedChanged:"clrDgSelectedChange",singleSelectedChanged:"clrDgSingleSelectedChange"},features:[ha([ZA,RA,hA,lA,FA,$A,CA,xA,cA,TA,US,rO,iO,aO,QA])],ngContentSelectors:ow,decls:32,vars:7,consts:[[1,"datagrid-outer-wrapper"],[1,"datagrid-inner-wrapper"],[1,"datagrid"],["datagrid",""],[1,"datagrid-table-wrapper"],["role","grid","tabindex","-1",1,"datagrid-table"],["datagridTable",""],["role","rowgroup",1,"datagrid-header"],["role","row",1,"datagrid-row"],[1,"datagrid-row-master","datagrid-row-flex"],[1,"datagrid-row-sticky"],["role","columnheader","class","datagrid-column datagrid-select datagrid-fixed-column",4,"ngIf"],["role","columnheader","class","datagrid-column datagrid-row-actions datagrid-fixed-column",4,"ngIf"],["role","columnheader","class","datagrid-column datagrid-expandable-caret datagrid-fixed-column",4,"ngIf"],[1,"datagrid-row-scrollable"],["projectedDisplayColumns",""],["displayedRows",""],[4,"ngIf"],["class","datagrid-spinner",4,"ngIf"],[1,"datagrid-calculation-table"],[1,"datagrid-calculation-header"],["projectedCalculationColumns",""],["calculationRows",""],["role","columnheader",1,"datagrid-column","datagrid-select","datagrid-fixed-column"],[1,"datagrid-column-title"],["clrCheckbox","","type","checkbox",3,"ngModel","ngModelChange"],[1,"datagrid-column-separator"],["role","columnheader",1,"datagrid-column","datagrid-row-actions","datagrid-fixed-column"],["role","columnheader",1,"datagrid-column","datagrid-expandable-caret","datagrid-fixed-column"],[1,"datagrid-spinner"],["clrMedium",""]],template:function(e,t){1&e&&(ms(iw),_s(0),ns(1,"div",0),ns(2,"div",1),ns(3,"div",2,3),ns(5,"div",4),ns(6,"div",5,6),ns(8,"div",7),ns(9,"div",8),ns(10,"div",9),ns(11,"div",10),Yo(12,Xk,4,2,"div",11),Yo(13,Jk,2,1,"div",11),Yo(14,ew,2,1,"div",12),Yo(15,tw,2,1,"div",13),rs(),ns(16,"div",14),as(17,null,15),rs(),rs(),rs(),rs(),as(19,null,16),_s(21,1),Yo(22,nw,1,0,"clr-dg-placeholder",17),rs(),rs(),rs(),_s(23,2),Yo(24,rw,3,0,"div",18),rs(),_s(25,3),rs(),ns(26,"div",19),ns(27,"div",20),as(28,null,21),rs(),as(30,null,22),rs()),2&e&&(Ur(3),$o("aria-hidden",!!t.detailService.isOpen||null),Ur(9),es("ngIf",t.selection.selectionType===t.SELECTION_TYPE.Multi),Ur(1),es("ngIf",t.selection.selectionType===t.SELECTION_TYPE.Single),Ur(1),es("ngIf",t.rowActionService.hasActionableRow),Ur(1),es("ngIf",t.expandableRows.hasExpandableRow||t.detailService.enabled),Ur(7),es("ngIf",!t.placeholder),Ur(2),es("ngIf",t.loading))},directives:[Hh,ky,mE,Py,i_,MA,nA],encapsulation:2}),JT),cO=0,lO=((XT=function(){function e(t,n,r,i,o,s){var a=this;_classCallCheck(this,e),this.rowActionService=t,this.commonStrings=n,this.platformId=r,this.zone=i,this.smartToggleService=o,this.popoverId=s,this.subscriptions=[],this.smartPosition={axis:UC.HORIZONTAL,side:BS.AFTER,anchor:wC.CENTER,content:wC.CENTER},this._open=!1,this.openChange=new pu(!1),this.rowActionService.register(),this.subscriptions.push(this.smartToggleService.openChange.subscribe((function(e){a.open=e,e&&a.focusFirstButton()}))),this.popoverId="clr-action-menu"+cO++}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.rowActionService.unregister(),this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"closeOverflowContent",value:function(e){this.smartToggleService.toggleWithEvent(e)}},{key:"focusFirstButton",value:function(){lf(this.platformId)&&this.zone.runOutsideAngular((function(){setTimeout((function(){var e=document.querySelector("button.action-item");e&&e.focus()}))}))}},{key:"open",get:function(){return this._open},set:function(e){var t=!!e;!!t!==this.open&&(this.smartToggleService.open=t,this.openChange.emit(t),this._open=t)}}]),e}()).\u0275fac=function(e){return new(e||XT)(Zo(CA),Zo(JC),Zo(Hu),Zo(oc),Zo(_C),Zo(tS))},XT.\u0275cmp=dt({type:XT,selectors:[["clr-dg-action-overflow"]],inputs:{open:["clrDgActionOverflowOpen","open"]},outputs:{openChange:"clrDgActionOverflowOpenChange"},features:[ha([US,_C,bC,BC])],ngContentSelectors:P_,decls:4,vars:8,consts:[["type","button","role","button","aria-haspopup","true","clrPopoverAnchor","","clrPopoverOpenCloseButton","",1,"datagrid-action-toggle"],["anchor",""],["shape","ellipsis-vertical"],["class","datagrid-action-overflow","role","menu","clrFocusTrap","",3,"id","click",4,"clrPopoverContent","clrPopoverContentAt","clrPopoverContentOutsideClickToClose","clrPopoverContentScrollToClose"],["role","menu","clrFocusTrap","",1,"datagrid-action-overflow",3,"id","click"]],template:function(e,t){1&e&&(ms(),ns(0,"button",0,1),is(2,"clr-icon",2),rs(),Yo(3,sw,2,3,"div",3)),2&e&&($o("aria-controls",t.popoverId)("aria-expanded",t.open)("aria-label",t.commonStrings.keys.rowActions),Ur(2),$o("title",t.commonStrings.keys.rowActions),Ur(1),es("clrPopoverContent",t.open)("clrPopoverContentAt",t.smartPosition)("clrPopoverContentOutsideClickToClose",!0)("clrPopoverContentScrollToClose",!0))},directives:[qC,HC,yC,zC,DE],encapsulation:2}),XT),hO=((ZT=function(){function e(t,n,r){_classCallCheck(this,e),this.el=t,this.domAdapter=n,this.organizer=r,this._resizedBy=0}return _createClass(e,[{key:"startResize",value:function(){this._resizedBy=0,this.isWithinMaxResizeRange=!0,this.widthBeforeResize=this.domAdapter.clientRect(this.el.nativeElement).width}},{key:"endResize",value:function(){this.organizer.resize()}},{key:"calculateResize",value:function(e){var t=e.dragPosition.moveX;t<-this.maxResizeRange?(this._resizedBy=-this.maxResizeRange,this.isWithinMaxResizeRange=!1):(this._resizedBy=t,this.isWithinMaxResizeRange=!0)}},{key:"resizedBy",get:function(){return this._resizedBy}},{key:"minColumnWidth",get:function(){return this.domAdapter.minWidth(this.el.nativeElement)||96}},{key:"maxResizeRange",get:function(){return this.widthBeforeResize-this.minColumnWidth}},{key:"widthAfterResize",get:function(){return this.widthBeforeResize+this._resizedBy}}]),e}()).\u0275fac=function(e){return new(e||ZT)(Ye(va),Ye(zx),Ye($A))},ZT.\u0275prov=he({token:ZT,factory:ZT.\u0275fac}),ZT),fO=((KT=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.columnResizerService=t,this.renderer=n,this.tableSizeService=r,this.document=i,this.columnSeparatorId=o}return _createClass(e,[{key:"showTracker",value:function(e){this.columnResizerService.startResize();var t=this.tableSizeService.getColumnDragHeight();this.renderer.setStyle(e,"height",t),this.renderer.setStyle(e,"display","block")}},{key:"moveTracker",value:function(e,t){this.columnResizerService.calculateResize(e),this.renderer.setStyle(t,"transform","translateX(".concat(this.columnResizerService.resizedBy,"px)")),this.renderer.setStyle(this.document.body,"cursor","col-resize"),this.redFlagTracker(t)}},{key:"hideTracker",value:function(e){this.columnResizerService.endResize(),this.renderer.setStyle(e,"display","none"),this.renderer.setStyle(e,"transform","translateX(0px)"),this.renderer.setStyle(this.document.body,"cursor","auto")}},{key:"redFlagTracker",value:function(e){var t;t!==this.columnResizerService.isWithinMaxResizeRange&&((t=this.columnResizerService.isWithinMaxResizeRange)?this.renderer.removeClass(e,"exceeded-max"):this.renderer.addClass(e,"exceeded-max"))}}]),e}()).\u0275fac=function(e){return new(e||KT)(Zo(hO),Zo(_a),Zo(iO),Zo(Fl),Zo(tS))},KT.\u0275cmp=dt({type:KT,selectors:[["clr-dg-column-separator"]],hostVars:2,hostBindings:function(e,t){2&e&&Os("datagrid-column-separator",!0)},features:[ha([US])],decls:3,vars:1,consts:[["aria-hidden","true","clrDraggable","",1,"datagrid-column-handle",3,"clrGroup","clrDragStart","clrDragMove","clrDragEnd"],[1,"datagrid-column-resize-tracker"],["resizeTrackerEl",""]],template:function(e,t){if(1&e){var n=us();ns(0,"div",0),hs("clrDragStart",(function(){Kt(n);var e=Ko(2);return t.showTracker(e)}))("clrDragMove",(function(e){Kt(n);var r=Ko(2);return t.moveTracker(e,r)}))("clrDragEnd",(function(){Kt(n);var e=Ko(2);return t.hideTracker(e)})),rs(),is(1,"div",1,2)}2&e&&es("clrGroup",t.columnSeparatorId)},directives:[Xx],encapsulation:2}),KT),dO=((YT=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||YT)},YT.\u0275cmp=dt({type:YT,selectors:[["clr-dg-column-toggle-title"]],ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2}),YT),pO=((QT=function(){function e(t){_classCallCheck(this,e),this.columnsService=t,this.allSelected=new pu}return _createClass(e,[{key:"hideableColumns",value:function(){return this.columnsService.columns.filter((function(e){return e.value.hideable}))}},{key:"selectAll",value:function(){var e=this;this.hideableColumns().forEach((function(t){return e.columnsService.emitStateChange(t,{hidden:!1,changes:[oO.HIDDEN]})})),this.allSelected.next(!0)}},{key:"clrAllSelected",get:function(){return this.allSelected.asObservable()}},{key:"allHideablesVisible",get:function(){return 0===this.hideableColumns().filter((function(e){return e.value.hidden})).length}}]),e}()).\u0275fac=function(e){return new(e||QT)(Zo(aO))},QT.\u0275cmp=dt({type:QT,selectors:[["clr-dg-column-toggle-button"]],outputs:{clrAllSelected:"clrAllSelected"},ngContentSelectors:P_,decls:2,vars:1,consts:[["type","button",1,"btn","btn-sm","btn-link","switch-button",3,"disabled","click"]],template:function(e,t){1&e&&(ms(),ns(0,"button",0),hs("click",(function(){return t.selectAll()})),_s(1),rs()),2&e&&es("disabled",t.allHideablesVisible)},encapsulation:2}),QT),vO=(($T=function(){function e(t,n,r,i,o,s){_classCallCheck(this,e),this.commonStrings=t,this.columnsService=n,this.columnSwitchId=r,this.platformId=i,this.zone=o,this.popoverId=s,this.smartPosition={axis:UC.VERTICAL,side:BS.BEFORE,anchor:wC.START,content:wC.START}}return _createClass(e,[{key:"toggleColumnState",value:function(e,t){var n=this.columnsService.columns.filter((function(t){return t.value===e}))[0];this.columnsService.emitStateChange(n,{hidden:t,changes:[oO.HIDDEN]})}},{key:"toggleSwitchPanel",value:function(){var e=this;this.openState=!this.openState,this.openState&&lf(this.platformId)&&this.menuDescriptionElement&&this.zone.runOutsideAngular((function(){setTimeout((function(){e.menuDescriptionElement.nativeElement.focus()}))}))}},{key:"allColumnsSelected",value:function(){this.allSelectedElement.nativeElement.focus()}},{key:"trackByFn",value:function(e){return e}},{key:"allColumnsVisible",get:function(){return this._allColumnsVisible},set:function(e){this._allColumnsVisible=e}},{key:"hideableColumnStates",get:function(){return this.columnsService.columns.filter((function(e){return e.value.hideable})).map((function(e){return e.value}))}},{key:"hasOnlyOneVisibleColumn",get:function(){return 0==this.columnsService.columns.length-this.hideableColumnStates.length&&1===this.hideableColumnStates.filter((function(e){return!e.hidden})).length}}]),e}()).\u0275fac=function(e){return new(e||$T)(Zo(JC),Zo(aO),Zo(tS),Zo(Hu),Zo(oc),Zo(tS))},$T.\u0275cmp=dt({type:$T,selectors:[["clr-dg-column-toggle"]],contentQueries:function(e,t,n){var r;1&e&&(Au(n,dO,!0),Au(n,pO,!0)),2&e&&(Eu(r=Ru())&&(t.customToggleTitle=r.first),Eu(r=Ru())&&(t.customToggleButton=r.first))},viewQuery:function(e,t){var n;1&e&&(Tu(aw,!0,va),Tu(uw,!0,va)),2&e&&(Eu(n=Ru())&&(t.menuDescriptionElement=n.first),Eu(n=Ru())&&(t.allSelectedElement=n.first))},hostVars:4,hostBindings:function(e,t){2&e&&Os("column-switch-wrapper",!0)("active",t.openState)},features:[ha([US,bC,BC,_C])],ngContentSelectors:vw,decls:3,vars:7,consts:[["role","button","type","button","clrPopoverAnchor","","clrPopoverOpenCloseButton","",1,"btn","btn-sm","btn-link","column-toggle--action"],["shape","view-columns"],["class","column-switch","role","dialog","clrFocusTrap","",3,"id",4,"clrPopoverContent","clrPopoverContentAt","clrPopoverContentOutsideClickToClose","clrPopoverContentScrollToClose"],["role","dialog","clrFocusTrap","",1,"column-switch",3,"id"],[1,"switch-header"],["tabindex","-1",1,"clr-sr-only"],["menuDescription",""],["allSelected",""],[4,"ngIf"],["clrPopoverCloseButton","","type","button",1,"btn","btn-sm","btn-link","toggle-switch-close-button"],["shape","close"],[1,"switch-content","list-unstyled"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"switch-footer"],[3,"clrAllSelected",4,"ngIf"],["clrCheckbox","","type","checkbox",3,"disabled","ngModel","ngModelChange"],[3,"ngTemplateOutlet"],[3,"clrAllSelected"]],template:function(e,t){1&e&&(ms(pw),ns(0,"button",0),is(1,"clr-icon",1),rs(),Yo(2,dw,17,9,"div",2)),2&e&&($o("aria-controls",t.popoverId)("aria-owns",t.popoverId),Ur(1),$o("title",t.commonStrings.keys.pickColumns),Ur(1),es("clrPopoverContent",t.openState)("clrPopoverContentAt",t.smartPosition)("clrPopoverContentOutsideClickToClose",!0)("clrPopoverContentScrollToClose",!0))},directives:function(){return[qC,HC,yC,zC,DE,Hh,GC,Bh,SO,yE,ky,mE,Py,i_,aE,Xh,pO]},encapsulation:2}),$T),gO=((WT=function(){function e(t){_classCallCheck(this,e),this.expandableRowsCount=t,this.expandableRowsCount&&this.expandableRowsCount.register()}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.expandableRowsCount&&this.expandableRowsCount.unregister()}}]),e}()).\u0275fac=function(e){return new(e||WT)(Zo(xA,8))},WT.\u0275dir=_t({type:WT,selectors:[["","clrIfExpanded",""]]}),WT),yO=((qT=function(){function e(t,n){_classCallCheck(this,e),this.detailService=t,this.commonStrings=n}return _createClass(e,[{key:"titleId",get:function(){return this.detailService.id+"-title"}}]),e}()).\u0275fac=function(e){return new(e||qT)(Zo(TA),Zo(JC))},qT.\u0275cmp=dt({type:qT,selectors:[["clr-dg-detail-header"]],hostVars:2,hostBindings:function(e,t){2&e&&Os("datagrid-detail-header",!0)},ngContentSelectors:P_,decls:5,vars:2,consts:[["clrFocusOnViewInit","",1,"datagrid-detail-header-title",3,"id"],[1,"datagrid-detail-pane-close"],["type","button",1,"btn","btn-link",3,"click"],["size","24","shape","times"]],template:function(e,t){1&e&&(ms(),ns(0,"div",0),_s(1),rs(),ns(2,"div",1),ns(3,"button",2),hs("click",(function(){return t.detailService.close()})),is(4,"clr-icon",3),rs(),rs()),2&e&&(es("id",t.titleId),Ur(3),$o("aria-label",t.commonStrings.keys.close))},directives:[sA,yC],encapsulation:2}),qT),mO=((GT=function(){function e(t,n){_classCallCheck(this,e),this.detailService=t,this.commonStrings=n}return _createClass(e,[{key:"closeCheck",value:function(){this.detailService.close()}}]),e}()).\u0275fac=function(e){return new(e||GT)(Zo(TA),Zo(JC))},GT.\u0275cmp=dt({type:GT,selectors:[["clr-dg-detail"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,yO,!0),2&e&&Eu(r=Ru())&&(t.header=r.first)},hostVars:2,hostBindings:function(e,t){1&e&&hs("keyup.esc",(function(){return t.closeCheck()}),!1,zn),2&e&&Os("datagrid-detail-pane",!0)},ngContentSelectors:P_,decls:1,vars:1,consts:[["class","datagrid-detail-pane-content","role","dialog","aria-modal","true",3,"clrFocusTrap","id",4,"ngIf"],["role","dialog","aria-modal","true",1,"datagrid-detail-pane-content",3,"clrFocusTrap","id"],[1,"clr-sr-only"]],template:function(e,t){1&e&&(ms(),Yo(0,yw,6,6,"div",0)),2&e&&es("ngIf",t.detailService.isOpen)},directives:[Hh,DE],encapsulation:2}),GT),_O=((HT=function(){function e(t,n,r){_classCallCheck(this,e),this.templateRef=t,this.viewContainer=n,this.detailService=r,this.subscriptions=[],this.skip=!1,this.stateChange=new pu(null),this.detailService.enabled=!0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.subscriptions.push(this.detailService.stateChange.subscribe((function(t){e.togglePanel(!0===t)})))}},{key:"togglePanel",value:function(e){var t=null;this.viewContainer.clear(),!0===e&&(this.viewContainer.createEmbeddedView(this.templateRef,{$implicit:this.detailService.state}),this.skip=!0,t=this.detailService.state),this.stateChange.emit(t)}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"state",set:function(e){this.skip||this.detailService.toggle(e),this.skip=!1}}]),e}()).\u0275fac=function(e){return new(e||HT)(Zo(ja),Zo(Ba),Zo(TA))},HT.\u0275dir=_t({type:HT,selectors:[["","clrIfDetail",""]],inputs:{state:["clrIfDetail","state"]},outputs:{stateChange:"clrIfDetailChange"}}),HT),bO=((zT=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||zT)},zT.\u0275cmp=dt({type:zT,selectors:[["clr-dg-detail-body"]],hostVars:2,hostBindings:function(e,t){2&e&&Os("datagrid-detail-body",!0)},ngContentSelectors:P_,decls:2,vars:0,consts:[[1,"clr-dg-detail-body-wrapper"]],template:function(e,t){1&e&&(ms(),ns(0,"div",0),_s(1),rs())},encapsulation:2}),zT),kO=((BT=function(){function e(t,n,r){_classCallCheck(this,e),this.selection=t,this.detailService=n,this.columnsService=r,this.SELECTION_TYPE=YA}return _createClass(e,[{key:"hasHideableColumns",get:function(){return this.columnsService.hasHideableColumns}}]),e}()).\u0275fac=function(e){return new(e||BT)(Zo(ZA),Zo(TA),Zo(aO))},BT.\u0275cmp=dt({type:BT,selectors:[["clr-dg-footer"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,vO,!0),2&e&&Eu(r=Ru())&&(t.toggle=r.first)},hostVars:2,hostBindings:function(e,t){2&e&&Os("datagrid-footer",!0)},ngContentSelectors:ww,decls:3,vars:2,consts:[[4,"ngIf"],[1,"clr-form-control-disabled"],[1,"datagrid-footer-select"],["clrCheckbox","","type","checkbox","checked","checked","disabled",""],[1,"datagrid-footer-description"]],template:function(e,t){1&e&&(ms(kw),Yo(0,mw,6,1,"ng-container",0),Yo(1,bw,5,1,"ng-container",0),_s(2)),2&e&&(es("ngIf",t.selection.selectionType===t.SELECTION_TYPE.Multi&&t.selection.current.length>0),Ur(1),es("ngIf",!t.detailService.isOpen))},directives:[Hh,yE,mE,aE,vO],encapsulation:2}),BT),wO=new Ue("COLUMN_STATE"),CO={provide:wO,useFactory:function(){return new Lc({changes:[]})}},SO=((ox=function(){function e(t){_classCallCheck(this,e),this._items=t}return _createClass(e,[{key:"trackBy",set:function(e){this._items&&(this._items.trackBy=e)}}]),e}()).\u0275fac=function(e){return new(e||ox)(Zo(FA,8))},ox.\u0275dir=_t({type:ox,selectors:[["","ngForTrackBy",""]],inputs:{trackBy:["ngForTrackBy","trackBy"]}}),ox),EO=((ix=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.el=t,this.renderer=n,this.subscriptions=[],this.subscriptions.push(r.filterRenderSteps(WA.CLEAR_WIDTHS).subscribe((function(){return i.clearWidth()})))}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.stateSubscription&&this.stateSubscription.unsubscribe()}},{key:"stateChanges",value:function(e){var t=this;this.runAllChanges&&(e.changes=this.runAllChanges,delete this.runAllChanges),e.changes&&e.changes.length&&e.changes.forEach((function(n){switch(n){case oO.WIDTH:t.setWidth(e);break;case oO.HIDDEN:t.setHidden(e)}}))}},{key:"clearWidth",value:function(){this.renderer.removeClass(this.el.nativeElement,"datagrid-fixed-width"),this.renderer.setStyle(this.el.nativeElement,"width",null)}},{key:"setWidth",value:function(e){e.strictWidth?this.renderer.addClass(this.el.nativeElement,"datagrid-fixed-width"):this.renderer.removeClass(this.el.nativeElement,"datagrid-fixed-width"),this.renderer.setStyle(this.el.nativeElement,"width",e.width+"px")}},{key:"setHidden",value:function(e){e.hidden?this.renderer.addClass(this.el.nativeElement,"datagrid-hidden-column"):this.renderer.removeClass(this.el.nativeElement,"datagrid-hidden-column")}},{key:"columnState",set:function(e){var t=this;this.stateSubscription&&this.stateSubscription.unsubscribe(),this.runAllChanges=sO,this.stateSubscription=e.subscribe((function(e){return t.stateChanges(e)}))}}]),e}()).\u0275fac=function(e){return new(e||ix)(Zo(va),Zo(_a),Zo($A))},ix.\u0275dir=_t({type:ix,selectors:[["clr-dg-cell"]]}),ix),IO=((rx=function(){function e(t,n,r,i,o,s,a){var u=this;_classCallCheck(this,e),this.el=t,this.renderer=n,this.organizer=r,this.domAdapter=i,this.columnResizerService=o,this.columnsService=s,this.columnState=a,this.resizeEmitter=new pu,this.widthSet=!1,this.autoSet=!1,this.subscriptions=[],this.subscriptions.push(this.organizer.filterRenderSteps(WA.CLEAR_WIDTHS).subscribe((function(){return u.clearWidth()}))),this.subscriptions.push(a.subscribe((function(e){return u.stateChanges(e)})))}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"stateChanges",value:function(e){var t=this;e.changes&&e.changes.length&&e.changes.forEach((function(n){switch(n){case oO.WIDTH:t.setWidth(e);break;case oO.HIDDEN:t.setHidden(e)}}))}},{key:"clearWidth",value:function(){this.widthSet&&!this.columnResizerService.resizedBy&&this.renderer.setStyle(this.el.nativeElement,"width",null),this.autoSet&&this.renderer.removeClass(this.el.nativeElement,"datagrid-fixed-width")}},{key:"detectStrictWidth",value:function(){return this.columnResizerService.resizedBy?this.columnResizerService.widthAfterResize:this.autoSet?0:this.domAdapter.userDefinedWidth(this.el.nativeElement)}},{key:"computeWidth",value:function(e){var t=e;return t||(t=this.domAdapter.scrollWidth(this.el.nativeElement)),t}},{key:"getColumnWidthState",value:function(){var e=this.detectStrictWidth();return{width:this.computeWidth(e),strictWidth:e}}},{key:"setColumnState",value:function(e){this.columnsService.columns[e]=this.columnState}},{key:"setWidth",value:function(e){e.strictWidth?(this.columnResizerService.resizedBy&&(this.resizeEmitter.emit(e.width),this.renderer.setStyle(this.el.nativeElement,"width",e.width+"px"),this.widthSet=!1),this.renderer.addClass(this.el.nativeElement,"datagrid-fixed-width"),this.autoSet=!1):(this.renderer.removeClass(this.el.nativeElement,"datagrid-fixed-width"),this.renderer.setStyle(this.el.nativeElement,"width",e.width+"px"),this.widthSet=!0,this.autoSet=!0)}},{key:"setHidden",value:function(e){e.hidden?this.renderer.addClass(this.el.nativeElement,"datagrid-hidden-column"):this.renderer.removeClass(this.el.nativeElement,"datagrid-hidden-column")}}]),e}()).\u0275fac=function(e){return new(e||rx)(Zo(va),Zo(_a),Zo($A),Zo(zx),Zo(hO),Zo(aO),Zo(wO))},rx.\u0275dir=_t({type:rx,selectors:[["clr-dg-column"]],outputs:{resizeEmitter:"clrDgColumnResize"},features:[ha([hO,CO])]}),rx),TO=((nx=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"userDefinedWidth",value:function(e){return 0}},{key:"scrollBarWidth",value:function(e){return 0}},{key:"scrollWidth",value:function(e){return 0}},{key:"computedHeight",value:function(e){return 0}},{key:"clientRect",value:function(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},{key:"minWidth",value:function(e){return 0}},{key:"focus",value:function(e){}}]),e}()).\u0275fac=function(e){return new(e||nx)},nx.\u0275prov=he({token:nx,factory:nx.\u0275fac}),nx),xO=((tx=function(){function e(t){_classCallCheck(this,e),this.columnsService=t,this.subscriptions=[]}return _createClass(e,[{key:"ngAfterContentInit",value:function(){var e=this;this.setColumnState(),this.subscriptions.push(this.cells.changes.subscribe((function(){e.setColumnState()})))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"setColumnState",value:function(){var e=this;this.cells.length===this.columnsService.columns.length&&this.cells.forEach((function(t,n){e.columnsService.columns[n]&&(t.columnState=e.columnsService.columns[n])}))}}]),e}()).\u0275fac=function(e){return new(e||tx)(Zo(aO))},tx.\u0275dir=_t({type:tx,selectors:[["clr-dg-row"],["clr-dg-row-detail"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,EO,!1),2&e&&Eu(r=Ru())&&(t.cells=r)}}),tx),AO=function(e){return lf(e)?new zx:new TO},OO=((hx=function(){function e(t,n,r,i,o,s,a,u,c){var l=this;_classCallCheck(this,e),this.organizer=t,this.items=n,this.page=r,this.domAdapter=i,this.el=o,this.renderer=s,this.detailService=a,this.tableSizeService=u,this.columnsService=c,this._heightSet=!1,this.subscriptions=[],this.columnsSizesStable=!1,this.shouldStabilizeColumns=!0,this.subscriptions.push(this.organizer.filterRenderSteps(WA.COMPUTE_COLUMN_WIDTHS).subscribe((function(){return l.computeHeadersWidth()}))),this.subscriptions.push(this.page.sizeChange.subscribe((function(){l._heightSet&&l.resetDatagridHeight()}))),this.subscriptions.push(this.detailService.stateChange.subscribe((function(e){return l.toggleDetailPane(e)}))),this.subscriptions.push(this.items.change.subscribe((function(){return l.shouldStabilizeColumns=!0})))}return _createClass(e,[{key:"ngAfterContentInit",value:function(){var e=this;this.setupColumns(),this.subscriptions.push(this.headers.changes.subscribe((function(){e.setupColumns(),e.columnsSizesStable=!1,e.stabilizeColumns()})))}},{key:"ngAfterViewInit",value:function(){this.tableSizeService.table=this.el}},{key:"ngAfterViewChecked",value:function(){var e=this;this.shouldStabilizeColumns&&this.stabilizeColumns(),this.shouldComputeHeight()&&setTimeout((function(){e.computeDatagridHeight()}))}},{key:"setupColumns",value:function(){this.headers.forEach((function(e,t){return e.setColumnState(t)})),this.columnsService.columns.splice(this.headers.length),this.rows.forEach((function(e){return e.setColumnState()}))}},{key:"shouldComputeHeight",value:function(){return!this._heightSet&&this.page.size>0&&this.items.displayed.length===this.page.size}},{key:"toggleDetailPane",value:function(e){var t=this;this.headers&&(e&&!this.columnsService.hasCache()?(this.columnsService.cache(),this.headers.forEach((function(n,r){r>0&&t.columnsService.emitStateChangeAt(r,{changes:[oO.HIDDEN],hidden:e})}))):e||this.columnsService.resetToLastCache())}},{key:"computeDatagridHeight",value:function(){var e=this.domAdapter.clientRect(this.el.nativeElement).height;this.renderer.setStyle(this.el.nativeElement,"height",e+"px"),this._heightSet=!0}},{key:"resetDatagridHeight",value:function(){this.renderer.setStyle(this.el.nativeElement,"height",""),this._heightSet=!1}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"computeHeadersWidth",value:function(){var e=this,t=this.headers.length,n=!0;this.headers.forEach((function(r,i){var o=Object.assign({changes:[oO.WIDTH]},r.getColumnWidthState());o.strictWidth||(n=!1),t===i+1&&n&&(o.strictWidth=0),e.columnsService.emitStateChangeAt(i,o)}))}},{key:"stabilizeColumns",value:function(){this.shouldStabilizeColumns=!1,this.columnsSizesStable||this.items.displayed.length>0&&(this.organizer.resize(),this.columnsSizesStable=!0)}}]),e}()).\u0275fac=function(e){return new(e||hx)(Zo($A),Zo(FA),Zo(lA),Zo(zx),Zo(va),Zo(_a),Zo(TA),Zo(iO),Zo(aO))},hx.\u0275dir=_t({type:hx,selectors:[["clr-datagrid"]],contentQueries:function(e,t,n){var r;1&e&&(Au(n,IO,!1),Au(n,xO,!0)),2&e&&(Eu(r=Ru())&&(t.headers=r),Eu(r=Ru())&&(t.rows=r))},features:[ha([{provide:zx,useFactory:AO,deps:[Hu]}])]}),hx),DO=((lx=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:lx}),lx.\u0275inj=fe({factory:function(e){return new(e||lx)},imports:[[cf,mC,jx,x_,Ux,AE,Bx,tA,Jx,rA,WC,RE,aA]]}),lx),RO=((cx=function(){function e(t,n,r){_classCallCheck(this,e),this.parent=t,this.uniqueId=n,this.commonStrings=r,this.expanded=!1,this.expandedChange=new pu(!1),this.expandable=!1,this.focused=!1,this._changedChildren=0,this._fullyInitialized=!1,this._changed=!1,t&&t.addChild()}return _createClass(e,[{key:"ngOnInit",value:function(){this._fullyInitialized=!0}},{key:"addChild",value:function(){this.expandable=!0}},{key:"toggleExpand",value:function(){this.expandable&&(this.expanded=!this.expanded,this.expandedChange.emit(this.expanded))}},{key:"getStackChildrenId",value:function(){return this.expanded?"clr-stack-children-"+this.uniqueId:null}},{key:"getChangedValue",get:function(){return this._changed||this._changedChildren>0&&!this.expanded}},{key:"setChangedValue",set:function(e){this._changed=e,this.parent&&this._fullyInitialized&&(e?this.parent._changedChildren++:this.parent._changedChildren--)}},{key:"caretDirection",get:function(){return this.expanded?"down":"right"}},{key:"caretTitle",get:function(){return this.expanded?this.commonStrings.keys.collapse:this.commonStrings.keys.expand}},{key:"role",get:function(){return this.expandable?"button":null}},{key:"tabIndex",get:function(){return this.expandable?"0":null}},{key:"onStackLabelFocus",get:function(){return this.expandable&&!this.expanded&&this.focused}},{key:"ariaExpanded",get:function(){return this.expandable?this.expanded?"true":"false":null}}]),e}()).\u0275fac=function(e){return new(e||cx)(Zo(cx,12),Zo(tS),Zo(JC))},cx.\u0275cmp=dt({type:cx,selectors:[["clr-stack-block"]],hostVars:10,hostBindings:function(e,t){2&e&&Os("stack-block",!0)("stack-block-expanded",t.expanded)("stack-block-expandable",t.expandable)("stack-block-changed",t.getChangedValue)("on-focus",t.onStackLabelFocus)},inputs:{expanded:["clrSbExpanded","expanded"],expandable:["clrSbExpandable","expandable"],setChangedValue:["clrSbNotifyChange","setChangedValue"],ariaLevel:["clrStackViewLevel","ariaLevel"],ariaSetsize:["clrStackViewSetsize","ariaSetsize"],ariaPosinset:["clrStackViewPosinset","ariaPosinset"]},outputs:{expandedChange:"clrSbExpandedChange"},features:[ha([US])],ngContentSelectors:Iw,decls:10,vars:14,consts:[[1,"stack-block-label",3,"id","click","keyup.enter","keyup.space","focus","blur"],["shape","caret","class","stack-block-caret",4,"ngIf"],["class","clr-sr-only",4,"ngIf"],[1,"stack-view-key"],[1,"stack-block-content"],[1,"stack-children",3,"clrExpandTrigger"],["role","region"],["shape","caret",1,"stack-block-caret"],[1,"clr-sr-only"]],template:function(e,t){1&e&&(ms(Ew),ns(0,"div",0),hs("click",(function(){return t.toggleExpand()}))("keyup.enter",(function(){return t.toggleExpand()}))("keyup.space",(function(){return t.toggleExpand()}))("focus",(function(){return t.focused=!0}))("blur",(function(){return t.focused=!1})),Yo(1,Cw,1,2,"clr-icon",1),Yo(2,Sw,2,1,"span",2),ns(3,"div",3),_s(4),rs(),ns(5,"div",4),_s(6,1),rs(),rs(),ns(7,"clr-expandable-animation",5),ns(8,"div",6),_s(9,2),rs(),rs()),2&e&&(es("id",t.uniqueId),$o("role",t.role)("tabindex",t.tabIndex)("aria-expanded",t.ariaExpanded)("aria-controls",t.getStackChildrenId())("aria-posinset",t.ariaPosinset)("aria-level",t.ariaLevel)("aria-setsize",t.ariaSetsize),Ur(1),es("ngIf",t.expandable),Ur(1),es("ngIf",t.getChangedValue),Ur(5),es("clrExpandTrigger",t.expanded),$o("id",t.getStackChildrenId()),Ur(1),As("height",t.expanded?"auto":0))},directives:[Hh,eA,yC],styles:["[_nghost-%COMP%] {\n        display: block;\n      }"]}),cx),PO=((ux=function(){function e(){_classCallCheck(this,e),this.editable=!1,this.save=new pu(!1),this._editMode=!1,this.editingChange=new pu(!1)}return _createClass(e,[{key:"editing",get:function(){return this.editable&&this._editMode},set:function(e){this.editable&&(this._editMode=e,this.editingChange.emit(e),e||this.save.emit(null))}}]),e}()).\u0275fac=function(e){return new(e||ux)},ux.\u0275cmp=dt({type:ux,selectors:[["clr-stack-view"]],outputs:{save:"clrStackSave"},ngContentSelectors:xw,decls:3,vars:0,consts:[[1,"stack-view"]],template:function(e,t){1&e&&(ms(Tw),_s(0),ns(1,"div",0),_s(2,1),rs())},styles:["[_nghost-%COMP%] { display: block; }"]}),ux),NO=((ax=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||ax)},ax.\u0275dir=_t({type:ax,selectors:[["clr-stack-label"],["clr-stack-content"]]}),ax),FO=((sx=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:sx}),sx.\u0275inj=fe({factory:function(e){return new(e||sx)},imports:[[cf,x_,mC,tA]]}),sx),LO=function(e){return e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Backspace="Backspace",e.Tab="TAB",e.Enter="Enter",e.Escape="Escape",e.Space="Space",e.Home="Home",e.End="End",e}({}),MO=function(e){return e.ArrowUp="Up",e.ArrowDown="Down",e.ArrowRight="Right",e.ArrowLeft="Left",e.Space="Spacebar",e.Escape="Esc",e.Home="Home",e.End="End",e.Enter="Enter",e.Tab="Tab",e}({});function VO(e){return e===LO.ArrowUp||e===MO.ArrowUp?LO.ArrowUp:e===LO.ArrowDown||e===MO.ArrowDown?LO.ArrowDown:e===LO.ArrowRight||e===MO.ArrowRight?LO.ArrowRight:e===LO.ArrowLeft||e===MO.ArrowLeft?LO.ArrowLeft:e===LO.Space||e===MO.Space?LO.Space:e===LO.Escape||e===MO.Escape?LO.Escape:e}function jO(e){var t=VO(e.key);t!==LO.ArrowUp&&t!==LO.ArrowDown&&t!==LO.ArrowLeft&&t!==LO.ArrowRight||e.preventDefault()}function UO(e){return void 0===e.code?MO:LO}var BO,zO,HO,GO,qO,WO,$O,QO,YO=function(e){return e[e.UNSELECTED=0]="UNSELECTED",e[e.SELECTED=1]="SELECTED",e[e.INDETERMINATE=2]="INDETERMINATE",e}({}),KO=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).parent=e,e&&e._addChild(_assertThisInitialized(r)),r.children=[],r}return _createClass(n,[{key:"_addChild",value:function(e){this.children.push(e)}},{key:"_removeChild",value:function(e){var t=this.children.indexOf(e);t>-1&&this.children.splice(t,1)}},{key:"destroy",value:function(){this.parent&&this.parent._removeChild(this),_get(_getPrototypeOf(n.prototype),"destroy",this).call(this)}}]),n}(function(){function e(){_classCallCheck(this,e),this.selected=new Lc(YO.UNSELECTED),this.loading=!1}return _createClass(e,[{key:"destroy",value:function(){this.selected.complete()}},{key:"setSelected",value:function(e,t,n){e!==this.selected.value&&(this.selected.next(e),n&&e!==YO.INDETERMINATE&&this.children&&this.children.forEach((function(t){return t.setSelected(e,!1,!0)})),t&&this.parent&&this.parent._updateSelectionFromChildren())}},{key:"toggleSelection",value:function(e){this.setSelected(this.selected.value===YO.SELECTED?YO.UNSELECTED:YO.SELECTED,!0,e)}},{key:"computeSelectionStateFromChildren",value:function(){var e,t=!1,n=!1,r=_createForOfIteratorHelper(this.children);try{for(r.s();!(e=r.n()).done;){switch(e.value.selected.value){case YO.INDETERMINATE:return YO.INDETERMINATE;case YO.SELECTED:if(t=!0,n)return YO.INDETERMINATE;break;case YO.UNSELECTED:default:if(n=!0,t)return YO.INDETERMINATE}}}catch(i){r.e(i)}finally{r.f()}return t?n?void 0:YO.SELECTED:YO.UNSELECTED}},{key:"_updateSelectionFromChildren",value:function(){var e=this.computeSelectionStateFromChildren();e!==this.selected.value&&(this.selected.next(e),this.parent&&this.parent._updateSelectionFromChildren())}}]),e}()),ZO=((BO=function e(){_classCallCheck(this,e),this.selectable=!1,this.eager=!0,this.childrenFetched=new x}).\u0275prov=he({token:BO,factory:BO.\u0275fac=function(e){return new(e||BO)}}),BO),XO={provide:ZO,useFactory:function(e){return e||new ZO},deps:[[new oe,new ae,ZO]]},JO=((QO=function(){function e(){_classCallCheck(this,e),this._focusRequest=new x,this._focusChange=new x}return _createClass(e,[{key:"findSiblings",value:function(e){return e.parent?e.parent.children:this.rootNodeModels}},{key:"findLastVisibleInNode",value:function(e){if(e){if(e.expanded&&e.children.length>0){var t=e.children;return this.findLastVisibleInNode(t[t.length-1])}return e}}},{key:"findNextFocusable",value:function(e){if(e){var t=this.findSiblings(e),n=t.indexOf(e);return n<t.length-1?t[n+1]:n===t.length-1?this.findNextFocusable(e.parent):void 0}}},{key:"findLastVisibleInTree",value:function(){return this.findLastVisibleInNode(this.rootNodeModels&&this.rootNodeModels.length&&this.rootNodeModels[this.rootNodeModels.length-1])}},{key:"findNodeAbove",value:function(e){if(e){var t=this.findSiblings(e),n=t.indexOf(e);return 0===n?e.parent:n>0?this.findLastVisibleInNode(t[n-1]):void 0}}},{key:"findNodeBelow",value:function(e){if(e)return e.expanded&&e.children.length>0?e.children[0]:this.findNextFocusable(e)}},{key:"focusNode",value:function(e){e&&this._focusRequest.next(e.nodeId)}},{key:"broadcastFocusedNode",value:function(e){this.focusedNodeId!==e&&(this.focusedNodeId=e,this._focusChange.next(e))}},{key:"focusParent",value:function(e){e&&this.focusNode(e.parent)}},{key:"focusFirstVisibleNode",value:function(){this.focusNode(this.rootNodeModels&&this.rootNodeModels[0])}},{key:"focusLastVisibleNode",value:function(){this.focusNode(this.findLastVisibleInTree())}},{key:"focusNodeAbove",value:function(e){this.focusNode(this.findNodeAbove(e))}},{key:"focusNodeBelow",value:function(e){this.focusNode(this.findNodeBelow(e))}},{key:"focusRequest",get:function(){return this._focusRequest.asObservable()}},{key:"focusChange",get:function(){return this._focusChange.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||QO)},QO.\u0275prov=he({token:QO,factory:QO.\u0275fac}),QO),eD=(($O=function(){function e(t){_classCallCheck(this,e),this.el=t}return _createClass(e,[{key:"activate",value:function(){this.el.nativeElement&&this.el.nativeElement.click&&this.el.nativeElement.click()}}]),e}()).\u0275fac=function(e){return new(e||$O)(Zo(va))},$O.\u0275dir=_t({type:$O,selectors:[["",8,"clr-treenode-link"]]}),$O),tD=((WO=function(){function e(t,n,r,i,o,s,a,u){_classCallCheck(this,e),this.nodeId=t,this.platformId=n,this.featuresService=i,this.expandService=o,this.commonStrings=s,this.focusManager=a,this.STATES=YO,this.skipEmitChange=!1,this.selectedChange=new pu(!1),this.expandedChange=new pu,this.subscriptions=[],this.contentContainerTabindex=-1,this._model=this.featuresService.recursion?u.view?u.view.context.clrModel:u._lView[8].clrModel:new KO(r?r._model:null),this._model.nodeId=this.nodeId}return _createClass(e,[{key:"isExpandable",value:function(){return void 0!==this.expandable?this.expandable:!!this.expandService.expandable||this._model.children&&this._model.children.length>0}},{key:"ngOnInit",value:function(){var e=this;this._model.expanded=this.expanded,this.subscriptions.push(this._model.selected.pipe(qc((function(){return!e.skipEmitChange}))).subscribe((function(t){e.selectedChange.emit(t)}))),this.subscriptions.push(this.expandService.expandChange.subscribe((function(t){e.expandedChange.emit(t),e._model.expanded=t}))),this.subscriptions.push(this.focusManager.focusRequest.subscribe((function(t){e.nodeId===t&&e.focusTreeNode()})),this.focusManager.focusChange.subscribe((function(t){e.checkTabIndex(t)})))}},{key:"ngOnDestroy",value:function(){this._model.destroy(),this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"setTabIndex",value:function(e){this.contentContainerTabindex=e,this.contentContainer.nativeElement.setAttribute("tabindex",e)}},{key:"checkTabIndex",value:function(e){lf(this.platformId)&&this.nodeId!==e&&-1!==this.contentContainerTabindex&&this.setTabIndex(-1)}},{key:"focusTreeNode",value:function(){lf(this.platformId)&&document.activeElement!==this.contentContainer.nativeElement&&(this.setTabIndex(0),this.contentContainer.nativeElement.focus())}},{key:"broadcastFocusOnContainer",value:function(){this.focusManager.broadcastFocusedNode(this.nodeId)}},{key:"onKeyDown",value:function(e){switch(jO(e),VO(e.key)){case LO.ArrowUp:this.focusManager.focusNodeAbove(this._model);break;case LO.ArrowDown:this.focusManager.focusNodeBelow(this._model);break;case LO.ArrowRight:this.expandOrFocusFirstChild();break;case LO.ArrowLeft:this.collapseOrFocusParent();break;case LO.Home:this.focusManager.focusFirstVisibleNode();break;case LO.End:this.focusManager.focusLastVisibleNode();break;case LO.Enter:this.triggerDefaultAction();break;case LO.Space:e.preventDefault(),this.triggerDefaultAction()}}},{key:"expandOrFocusFirstChild",value:function(){this.expanded?this._model.children.length>0&&this.focusManager.focusNodeBelow(this._model):this.isExpandable()&&(this.expandService.expanded=!0)}},{key:"collapseOrFocusParent",value:function(){this.expanded?this.expandService.expanded=!1:this.focusManager.focusParent(this._model)}},{key:"triggerDefaultAction",value:function(){this.treeNodeLink?this.treeNodeLink.activate():this.featuresService.selectable&&this._model.toggleSelection(this.featuresService.eager)}},{key:"selected",get:function(){return this._model.selected.value},set:function(e){this.featuresService.selectable=!0,null==e&&(e=YO.UNSELECTED),"boolean"==typeof e&&(e=e?YO.SELECTED:YO.UNSELECTED),this.skipEmitChange=!0,this._model.setSelected(e,this.featuresService.eager,this.featuresService.eager),this.skipEmitChange=!1}},{key:"ariaSelected",get:function(){return this.featuresService.selectable?this._model.selected.value===YO.SELECTED:null}},{key:"expanded",get:function(){return this.expandService.expanded},set:function(e){this.expandService.expanded=e}},{key:"treeNodeLink",get:function(){return this.treeNodeLinkList&&this.treeNodeLinkList.first}}]),e}()).\u0275fac=function(e){return new(e||WO)(Zo(tS),Zo(Hu),Zo(WO,12),Zo(ZO),Zo(TE),Zo(JC),Zo(JO),Zo(Ro))},WO.\u0275cmp=dt({type:WO,selectors:[["clr-tree-node"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,eD,!1),2&e&&Eu(r=Ru())&&(t.treeNodeLinkList=r)},viewQuery:function(e,t){var n;1&e&&Iu(Aw,!0,va),2&e&&Eu(n=Ru())&&(t.contentContainer=n.first)},hostVars:3,hostBindings:function(e,t){2&e&&($o("role","treeitem"),Os("clr-tree-node",!0))},inputs:{selected:["clrSelected","selected"],expanded:["clrExpanded","expanded"],expandable:["clrExpandable","expandable"]},outputs:{selectedChange:"clrSelectedChange",expandedChange:"clrExpandedChange"},features:[ha([US,XO,TE,{provide:$C,useExisting:TE}])],ngContentSelectors:Mw,decls:12,vars:9,consts:[["role","treeitem","tabindex","-1",1,"clr-tree-node-content-container",3,"keydown","focus"],["contentContainer",""],["aria-hidden","true","type","button","tabindex","-1","class","clr-treenode-caret",3,"click","focus",4,"ngIf"],["class","clr-treenode-spinner-container",4,"ngIf"],["class","clr-checkbox-wrapper clr-treenode-checkbox",4,"ngIf"],[1,"clr-treenode-content",3,"mousedown"],["class","clr-sr-only",4,"ngIf"],[1,"clr-treenode-children"],[3,"parent"],["aria-hidden","true","type","button","tabindex","-1",1,"clr-treenode-caret",3,"click","focus"],["shape","caret",1,"clr-treenode-caret-icon"],[1,"clr-treenode-spinner-container"],[1,"clr-treenode-spinner","spinner"],[1,"clr-checkbox-wrapper","clr-treenode-checkbox"],["aria-hidden","true","type","checkbox","tabindex","-1",1,"clr-checkbox",3,"id","checked","indeterminate","change","focus"],[1,"clr-control-label",3,"for"],[1,"clr-sr-only"],[4,"ngIf"]],template:function(e,t){1&e&&(ms(Lw),ns(0,"div",0,1),hs("keydown",(function(e){return t.onKeyDown(e)}))("focus",(function(){return t.broadcastFocusOnContainer()})),Yo(2,Ow,2,1,"button",2),Yo(3,Dw,2,0,"div",3),Yo(4,Rw,3,4,"div",4),ns(5,"div",5),hs("mousedown",(function(){return t.focusTreeNode()})),_s(6),Yo(7,Fw,3,2,"div",6),rs(),rs(),ns(8,"div",7),_s(9,1),_s(10,2),is(11,"clr-recursive-children",8),rs()),2&e&&($o("aria-expanded",t.isExpandable()?t.expanded:null)("aria-selected",t.ariaSelected),Ur(2),es("ngIf",t.isExpandable()&&!t._model.loading&&!t.expandService.loading),Ur(1),es("ngIf",t.expandService.loading||t._model.loading),Ur(1),es("ngIf",t.featuresService.selectable),Ur(3),es("ngIf",t.featuresService.selectable),Ur(1),es("@toggleChildrenAnim",t.expandService.expanded?"expanded":"collapsed"),$o("role",t.isExpandable()&&!t.featuresService.recursion?"group":null),Ur(3),es("parent",t._model))},directives:function(){return[Hh,rD,yC]},encapsulation:2,data:{animation:[oy("toggleChildrenAnim",[ly("collapsed => expanded",[uy({height:0}),sy(200,uy({height:"*"}))]),ly("expanded => collapsed",[uy({height:"*"}),sy(200,uy({height:0}))]),cy("expanded",uy({height:"*","overflow-y":"visible"})),cy("collapsed",uy({height:0}))])]}}),WO),nD=((qO=function(){function e(t,n,r){_classCallCheck(this,e),this.featuresService=t,this.focusManagerService=n,this.el=r,this.subscriptions=[],this.tabindex=0}return _createClass(e,[{key:"onFocusIn",value:function(e){e.target===this.el.nativeElement&&(this.focusManagerService.focusFirstVisibleNode(),delete this.tabindex)}},{key:"ngAfterContentInit",value:function(){var e=this;this.setRootNodes(),this.subscriptions.push(this.rootNodes.changes.subscribe((function(){e.setRootNodes()})))}},{key:"setRootNodes",value:function(){this.focusManagerService.rootNodeModels=this.rootNodes.map((function(e){return e._model})).filter((function(e){return!e.parent}))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"lazy",set:function(e){this.featuresService.eager=!e}},{key:"isMultiSelectable",get:function(){return this.featuresService.selectable&&this.rootNodes.length>0}}]),e}()).\u0275fac=function(e){return new(e||qO)(Zo(ZO),Zo(JO),Zo(va))},qO.\u0275cmp=dt({type:qO,selectors:[["clr-tree"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,tD,!1),2&e&&Eu(r=Ru())&&(t.rootNodes=r)},hostVars:3,hostBindings:function(e,t){1&e&&hs("focusin",(function(e){return t.onFocusIn(e)})),2&e&&$o("tabindex",t.tabindex)("role","tree")("aria-multiselectable",t.isMultiSelectable)},inputs:{lazy:["clrLazy","lazy"]},features:[ha([XO,JO])],ngContentSelectors:P_,decls:2,vars:1,consts:[[3,"children",4,"ngIf"],[3,"children"]],template:function(e,t){1&e&&(ms(),_s(0),Yo(1,Vw,1,1,"clr-recursive-children",0)),2&e&&(Ur(1),es("ngIf",t.featuresService.recursion))},directives:function(){return[Hh,rD]},encapsulation:2}),qO),rD=((GO=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.featuresService=t,this.expandService=n,n&&(this.subscription=this.expandService.expandChange.subscribe((function(e){!e&&r.parent&&!r.featuresService.eager&&r.featuresService.recursion&&r.parent.clearChildren()})))}return _createClass(e,[{key:"shouldRender",value:function(){return this.featuresService.recursion&&(this.featuresService.eager||!this.expandService||this.expandService.expanded)}},{key:"getContext",value:function(e){return{$implicit:e.model,clrModel:e}}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||GO)(Zo(ZO),Zo(TE,8))},GO.\u0275cmp=dt({type:GO,selectors:[["clr-recursive-children"]],hostVars:1,hostBindings:function(e,t){2&e&&$o("role","group")},inputs:{parent:"parent",children:"children"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&Yo(0,Bw,2,1,"ng-container",0),2&e&&es("ngIf",t.shouldRender())},directives:[Hh,Bh,Xh],encapsulation:2}),GO),iD=((HO=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:HO}),HO.\u0275inj=fe({factory:function(e){return new(e||HO)},imports:[[cf,mC,Ux]]}),HO),oD=((zO=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:zO}),zO.\u0275inj=fe({factory:function(e){return new(e||zO)},imports:[DO,FO,iD]}),zO),sD=function e(){_classCallCheck(this,e)};var aD,uD=function(e){return e.UP="up",e.DOWN="down",e.LEFT="left",e.RIGHT="right",e}({}),cD=((aD=function(){function e(t){_classCallCheck(this,e),this.renderer=t,this._unlistenFuncs=[]}return _createClass(e,[{key:"reset",value:function(e){this._current=e}},{key:"listenToArrowKeys",value:function(e){var t=this;this._unlistenFuncs.push(this.renderer.listen(e,"keydown.arrowup",(function(e){return!t.move(uD.UP)}))),this._unlistenFuncs.push(this.renderer.listen(e,"keydown.arrowdown",(function(e){return!t.move(uD.DOWN)}))),this._unlistenFuncs.push(this.renderer.listen(e,"keydown.arrowleft",(function(e){return!t.move(uD.LEFT)}))),this._unlistenFuncs.push(this.renderer.listen(e,"keydown.arrowright",(function(e){return!t.move(uD.RIGHT)})))}},{key:"registerContainer",value:function(e){var t=this;this.renderer.setAttribute(e,"tabindex","0"),this.listenToArrowKeys(e),this._unlistenFuncs.push(this.renderer.listen(e,"keydown.space",(function(){return!t.activateCurrent()}))),this._unlistenFuncs.push(this.renderer.listen(e,"keydown.enter",(function(){return!t.activateCurrent()})))}},{key:"moveTo",value:function(e){void 0!==e&&(this.current&&this.current.blur(),e.focus(),this._current=e)}},{key:"move",value:function(e){var t,n=this,r=!1;if(this.current){var i=this.current[e];i&&(t=i,t&&(t instanceof w||"function"==typeof t.lift&&"function"==typeof t.subscribe)?i:Bc(i)).subscribe((function(e){e&&(n.moveTo(e),r=!0)}))}return r}},{key:"activateCurrent",value:function(){return!(!this.current||!this.current.activate||(this.current.activate(),0))}},{key:"detachListeners",value:function(){this._unlistenFuncs.forEach((function(e){return e()}))}},{key:"current",get:function(){return this._current}}]),e}()).\u0275fac=function(e){return new(e||aD)(Ye(_a))},aD.\u0275prov=he({token:aD,factory:aD.\u0275fac}),aD),lD={provide:cD,useFactory:function(e,t){return e||new cD(t)},deps:[[new oe,new ae,cD],_a]},hD=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"linkParent",value:function(e,t,n){e.forEach((function(e){return e[n]=t}))}},{key:"linkVertical",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.forEach((function(t,n){n>0&&(t.up=e[n-1]),n<e.length-1&&(t.down=e[n+1])})),t&&e.length>1&&(e[0].up=e[e.length-1],e[e.length-1].down=e[0])}}]),e}();function fD(e,t,n){return w.create((function(r){t(r);var i=e.subscribe(r);return function(){i.unsubscribe(),n&&n(r)}}))}var dD,pD,vD,gD,yD,mD,_D,bD,kD,wD,CD,SD,ED,ID,TD,xD,AD,OD,DD,RD,PD,ND,FD,LD,MD,VD,jD,UD,BD,zD,HD,GD,qD,WD,$D,QD,YD,KD,ZD,XD,JD,eR,tR,nR,rR,iR,oR,sR,aR,uR,cR,lR,hR,fR,dR,pR,vR,gR,yR,mR,_R,bR=((dD=function(){function e(t,n,r,i,o,s){_classCallCheck(this,e),this.id=t,this.renderer=n,this.parent=r,this.toggleService=i,this.focusService=o,this.platformId=s,this._unlistenFuncs=[],this.focusBackOnTrigger=!1,this.resetChildren(),this.moveToFirstItemWhenOpen(),this.parent||this.handleRootFocus()}return _createClass(e,[{key:"moveToFirstItemWhenOpen",value:function(){var e=this;this.toggleService.openChange.subscribe((function(t){t&&e.toggleService.originalEvent&&setTimeout((function(){e.focusService.moveTo(e),e.focusService.move(e.parent?uD.RIGHT:uD.DOWN)}))}))}},{key:"handleRootFocus",value:function(){var e=this;this.toggleService.openChange.subscribe((function(t){t||(e.focusService.reset(e),e.focusBackOnTrigger&&e.focus()),e.focusBackOnTrigger=t}))}},{key:"focus",value:function(){this.trigger&&lf(this.platformId)&&this.trigger.focus()}},{key:"blur",value:function(){this.trigger&&lf(this.platformId)&&this.trigger.blur()}},{key:"activate",value:function(){lf(this.platformId)&&this.trigger.click()}},{key:"openAndGetChildren",value:function(){var e=this;return fD(this.children,(function(){return e.toggleService.open=!0}))}},{key:"closeAndGetThis",value:function(){var e=this;return fD(Bc(this),(function(){return e.toggleService.open=!1}))}},{key:"resetChildren",value:function(){this.children=new ag(1),this.parent?this.right=this.openAndGetChildren().pipe(j((function(e){return e[0]}))):(this.down=this.openAndGetChildren().pipe(j((function(e){return e[0]}))),this.up=this.openAndGetChildren().pipe(j((function(e){return e[e.length-1]}))))}},{key:"addChildren",value:function(e){hD.linkVertical(e),this.parent&&hD.linkParent(e,this.closeAndGetThis(),uD.LEFT),this.children.next(e)}},{key:"ngOnDestroy",value:function(){this._unlistenFuncs.forEach((function(e){return e()})),this.focusService.detachListeners()}},{key:"trigger",get:function(){return this._trigger},set:function(e){var t=this;this._trigger=e,this.parent?this._unlistenFuncs.push(this.renderer.listen(e,"keydown.arrowright",(function(e){return t.toggleService.toggleWithEvent(e)}))):(this._unlistenFuncs.push(this.renderer.listen(e,"keydown.arrowup",(function(e){return t.toggleService.toggleWithEvent(e)}))),this._unlistenFuncs.push(this.renderer.listen(e,"keydown.arrowdown",(function(e){return t.toggleService.toggleWithEvent(e)}))),this.focusService.listenToArrowKeys(e))}},{key:"container",get:function(){return this._container},set:function(e){var t=this;this._container=e,this._unlistenFuncs.push(this.renderer.listen(e,"keydown.tab",(function(e){return t.toggleService.toggleWithEvent(e)}))),this.parent?this._unlistenFuncs.push(this.renderer.listen(e,"keydown.esc",(function(e){t.focusService.move(uD.LEFT),e.stopPropagation()}))):(this.focusService.registerContainer(e),this._unlistenFuncs.push(this.renderer.listen(e,"keydown.esc",(function(e){return t.toggleService.toggleWithEvent(e)}))),this._unlistenFuncs.push(this.renderer.listen(e,"blur",(function(n){t.children.pipe(Ff(1)).subscribe((function(e){return e.forEach((function(e){return e.blur()}))}));var r=n.relatedTarget||document.activeElement;r&&lf(t.platformId)&&(e.contains(r)||r===t.trigger)||(t.focusBackOnTrigger=!1,t.toggleService.open=!1)}))))}}]),e}()).\u0275fac=function(e){return new(e||dD)(Ye(tS),Ye(_a),Ye(dD,12),Ye(_C),Ye(cD),Ye(Hu))},dD.\u0275prov=he({token:dD,factory:dD.\u0275fac}),dD),kR=[US,pD=bR,{provide:sD,useExisting:pD}],wR=((vD=function(){function e(){_classCallCheck(this,e),this._changes=new x}return _createClass(e,[{key:"closeMenus",value:function(){this._changes.next(!1)}},{key:"changes",get:function(){return this._changes.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||vD)},vD.\u0275prov=he({token:vD,factory:vD.\u0275fac}),vD),CR={provide:wR,useFactory:function(e){return e||new wR},deps:[[new oe,new ae,wR]]},SR=((gD=function(){function e(t,n,r,i){var o=this;_classCallCheck(this,e),this.parent=t,this.toggleService=n,this.cdr=r,this.subscriptions=[],this.isMenuClosable=!0,this.subscriptions.push(i.changes.subscribe((function(e){return o.toggleService.open=e}))),this.subscriptions.push(n.openChange.subscribe((function(e){return o.cdr.markForCheck()})))}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||gD)(Zo(gD,12),Zo(_C),Zo(vo),Zo(wR))},gD.\u0275cmp=dt({type:gD,selectors:[["clr-dropdown"]],hostVars:4,hostBindings:function(e,t){2&e&&Os("dropdown",!0)("open",t.toggleService.open)},inputs:{isMenuClosable:["clrCloseMenuOnItemClick","isMenuClosable"]},features:[ha([CR,{provide:VA,useExisting:va},lD,_C,kR])],ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2}),gD),ER=[US,{provide:sD,useClass:(yD=function(){function e(t,n,r,i){_classCallCheck(this,e),this.id=t,this.el=n,this.renderer=r,this.platformId=i,this.disabled=!1,r.setAttribute(n.nativeElement,"id",t),r.setAttribute(n.nativeElement,"tabindex","-1")}return _createClass(e,[{key:"focus",value:function(){lf(this.platformId)&&(this.renderer.setAttribute(this.el.nativeElement,"tabindex","0"),this.el.nativeElement.focus())}},{key:"blur",value:function(){lf(this.platformId)&&(this.renderer.setAttribute(this.el.nativeElement,"tabindex","-1"),this.el.nativeElement.blur())}},{key:"activate",value:function(){lf(this.platformId)&&this.el.nativeElement.click()}}]),e}(),yD.\u0275fac=function(e){return new(e||yD)(Ye(tS),Ye(va),Ye(_a),Ye(Hu))},yD.\u0275prov=he({token:yD,factory:yD.\u0275fac}),yD)}],IR=((mD=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.dropdown=t,this.el=n,this._dropdownService=r,this.renderer=i,this.focusableItem=o,this.setByDeprecatedDisabled=!1}return _createClass(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.unlisten=this.renderer.listen(this.el.nativeElement,"click",(function(){return e.onDropdownItemClick()}))}},{key:"onDropdownItemClick",value:function(){this.dropdown.isMenuClosable&&!this.el.nativeElement.classList.contains("disabled")&&this._dropdownService.closeMenus()}},{key:"ngOnDestroy",value:function(){this.unlisten()}},{key:"disabled",set:function(e){this.focusableItem.disabled=!!e||""===e},get:function(){return this.focusableItem.disabled}},{key:"disabledDeprecated",set:function(e){this.focusableItem.disabled=!!e||""===e,this.setByDeprecatedDisabled=!0},get:function(){return this.focusableItem.disabled}},{key:"dropdownItemId",set:function(e){this.focusableItem.id=e},get:function(){return this.focusableItem.id}}]),e}()).\u0275fac=function(e){return new(e||mD)(Zo(SR),Zo(va),Zo(wR),Zo(_a),Zo(sD))},mD.\u0275dir=_t({type:mD,selectors:[["","clrDropdownItem",""]],hostVars:8,hostBindings:function(e,t){2&e&&($o("role","menuitem")("aria-disabled",t.disabled)("disabled",t.disabled&&t.setByDeprecatedDisabled?"":null)("id",t.dropdownItemId),Os("disabled",t.disabled)("dropdown-item",!0))},inputs:{disabled:["clrDisabled","disabled"],disabledDeprecated:["disabled","disabledDeprecated"],dropdownItemId:["id","dropdownItemId"]},features:[ha([ER])]}),mD),TR=function(e){return e[e.RIGHT_CENTER=0]="RIGHT_CENTER",e[e.RIGHT_TOP=1]="RIGHT_TOP",e[e.RIGHT_BOTTOM=2]="RIGHT_BOTTOM",e[e.TOP_CENTER=3]="TOP_CENTER",e[e.TOP_RIGHT=4]="TOP_RIGHT",e[e.TOP_LEFT=5]="TOP_LEFT",e[e.BOTTOM_CENTER=6]="BOTTOM_CENTER",e[e.BOTTOM_RIGHT=7]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=8]="BOTTOM_LEFT",e[e.LEFT_CENTER=9]="LEFT_CENTER",e[e.LEFT_TOP=10]="LEFT_TOP",e[e.LEFT_BOTTOM=11]="LEFT_BOTTOM",e}({}),xR=function(){function e(t){_classCallCheck(this,e),this.element=t,this.scrollableElements=[],this.boundOnScrollListener=this.emitScrollEvent.bind(this),t.style.position="absolute",t.style.top=0,t.style.bottom="auto",t.style.left=0,t.style.right="auto"}return _createClass(e,[{key:"anchor",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.offsetX,o=void 0===i?0:i,s=r.offsetY,a=void 0===s?0:s,u=r.useAnchorParent,c=void 0!==u&&u;this.addScrollEventListeners(e),c&&(e=e.parentNode),e.style.position="static";var l=e.getBoundingClientRect(),h=this.element.getBoundingClientRect(),f=l.left-h.left+o,d=l.top-h.top+a;switch(t){case TR.LEFT_TOP:case TR.TOP_LEFT:break;case TR.TOP_CENTER:f+=l.width/2;break;case TR.TOP_RIGHT:case TR.RIGHT_TOP:f+=l.width;break;case TR.LEFT_BOTTOM:case TR.BOTTOM_LEFT:d+=l.height;break;case TR.BOTTOM_CENTER:d+=l.height,f+=l.width/2;break;case TR.BOTTOM_RIGHT:case TR.RIGHT_BOTTOM:d+=l.height,f+=l.width;break;case TR.LEFT_CENTER:d+=l.height/2;break;case TR.RIGHT_CENTER:d+=l.height/2,f+=l.width}switch(n){case TR.LEFT_TOP:case TR.TOP_LEFT:break;case TR.TOP_CENTER:f-=h.width/2;break;case TR.TOP_RIGHT:case TR.RIGHT_TOP:f-=h.width;break;case TR.LEFT_BOTTOM:case TR.BOTTOM_LEFT:d-=h.height;break;case TR.BOTTOM_CENTER:d-=h.height,f-=h.width/2;break;case TR.BOTTOM_RIGHT:case TR.RIGHT_BOTTOM:d-=h.height,f-=h.width;break;case TR.LEFT_CENTER:d-=h.height/2;break;case TR.RIGHT_CENTER:d-=h.height/2,f-=h.width}var p=getComputedStyle(this.element),v=parseInt(p.marginLeft,10),g=parseInt(p.marginRight,10),y=parseInt(p.marginTop,10),m=parseInt(p.marginBottom,10);switch(t){case TR.LEFT_TOP:case TR.TOP_LEFT:case TR.TOP_RIGHT:case TR.RIGHT_TOP:n!==TR.BOTTOM_RIGHT&&n!==TR.RIGHT_BOTTOM||(d-=m,f-=g),n!==TR.BOTTOM_LEFT&&n!==TR.LEFT_BOTTOM||(d-=y,f+=v),n!==TR.TOP_LEFT&&n!==TR.LEFT_TOP||(d+=y,f+=v),n!==TR.TOP_RIGHT&&n!==TR.RIGHT_TOP||(d+=y,f-=g);break;case TR.LEFT_BOTTOM:case TR.BOTTOM_LEFT:case TR.BOTTOM_RIGHT:case TR.RIGHT_BOTTOM:n!==TR.BOTTOM_LEFT&&n!==TR.LEFT_BOTTOM||(d-=m,f+=v),n!==TR.BOTTOM_RIGHT&&n!==TR.RIGHT_BOTTOM||(d-=m,f-=g),n!==TR.TOP_LEFT&&n!==TR.LEFT_TOP||(d+=y,f+=v),n!==TR.TOP_RIGHT&&n!==TR.RIGHT_TOP||(d+=y,f-=g);break;case TR.TOP_CENTER:d-=m,f+=v,f-=g;break;case TR.BOTTOM_CENTER:d+=y,f+=v,f-=g;break;case TR.LEFT_CENTER:d+=y,d-=m,f-=g;break;case TR.RIGHT_CENTER:d+=y,d-=m,f+=v}return this.element.style.transform="translateX(".concat(Math.round(f),"px) translateY(").concat(Math.round(d),"px)"),this._scroll.asObservable()}},{key:"release",value:function(){this.element.style.transform="",this.removeScrollEventListeners()}},{key:"isPositioned",value:function(e){var t=getComputedStyle(e).position;return"relative"===t||"absolute"===t||"fixed"===t}},{key:"emitScrollEvent",value:function(){this._scroll.next()}},{key:"addScrollEventListeners",value:function(e){this._scroll=new x;for(var t=e,n=e;n&&n!==document&&(this.scrolls(n)&&(n.addEventListener("scroll",this.boundOnScrollListener),this.scrollableElements.push(n)),n===t||!this.isPositioned(n));)n=n.parentNode}},{key:"removeScrollEventListeners",value:function(){var e,t=_createForOfIteratorHelper(this.scrollableElements);try{for(t.s();!(e=t.n()).done;){e.value.removeEventListener("scroll",this.boundOnScrollListener)}}catch(n){t.e(n)}finally{t.f()}this.scrollableElements.length=0,this._scroll&&(this._scroll.complete(),delete this._scroll)}},{key:"scrolls",value:function(e){var t=getComputedStyle(e);return"scroll"===t.overflowX||"auto"===t.overflowX||"scroll"===t.overflowY||"auto"===t.overflowY}}]),e}(),AR=((wD=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.parentHost=n,this.updateAnchor=!1,this.popoverOptions={},this.closeOnOutsideClick=!1,this.el=t.get(va),this.toggleService=t.get(_C),this.renderer=t.get(_a),this.anchorElem=n.nativeElement,this.popoverInstance=new xR(this.el.nativeElement),this.subscription=this.toggleService.openChange.subscribe((function(e){e?(r.anchor(),r.attachESCListener()):(r.release(),r.detachESCListener())})),this.toggleService.open&&(this.anchor(),this.attachESCListener())}return _createClass(e,[{key:"anchor",value:function(){this.updateAnchor=!0,this.ignore=this.toggleService.originalEvent}},{key:"release",value:function(){this.detachOutsideClickListener(),this.popoverInstance.release()}},{key:"ngAfterViewChecked",value:function(){var e=this;this.updateAnchor&&(this.updateAnchor=!1,this.popoverInstance.anchor(this.anchorElem,this.anchorPoint,this.popoverPoint,this.popoverOptions).subscribe((function(){e.toggleService.open=!1})),this.attachOutsideClickListener())}},{key:"ngOnDestroy",value:function(){this.release(),this.detachESCListener(),this.subscription.unsubscribe()}},{key:"attachESCListener",value:function(){var e=this;this.popoverOptions.ignoreGlobalESCListener||(this.documentESCListener=this.renderer.listen("document","keydown",(function(t){t&&t.key&&("Escape"!==t.key&&"Esc"!==t.key||(e.toggleService.open=!1))})))}},{key:"detachESCListener",value:function(){this.documentESCListener&&(this.documentESCListener(),delete this.documentESCListener)}},{key:"attachOutsideClickListener",value:function(){var e=this;this.closeOnOutsideClick&&(this.hostClickListener=this.renderer.listen(this.el.nativeElement,"click",(function(t){return e.ignore=t})),this.ignoredElement&&(this.ignoredElementClickListener=this.renderer.listen(this.ignoredElement,"click",(function(t){return e.ignore=t}))),this.documentClickListener=this.renderer.listen("document","click",(function(t){t===e.ignore?delete e.ignore:e.toggleService.open=!1})))}},{key:"detachOutsideClickListener",value:function(){this.closeOnOutsideClick&&(this.hostClickListener&&(this.hostClickListener(),delete this.hostClickListener),this.ignoredElementClickListener&&(this.ignoredElementClickListener(),delete this.ignoredElementClickListener),this.documentClickListener&&(this.documentClickListener(),delete this.documentClickListener))}},{key:"isOffScreen",get:function(){return!this.toggleService.open}}]),e}()).\u0275fac=function(e){return new(e||wD)(Ye(Ro),Ye(va,4))},wD.\u0275prov=he({token:wD,factory:wD.\u0275fac}),wD),OR=((kD=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;if(_classCallCheck(this,n),!r)throw new Error("clr-dropdown-menu should only be used inside of a clr-dropdown");return s=t.call(this,e,r),i?(s.anchorPoint=TR.RIGHT_TOP,s.popoverPoint=TR.LEFT_TOP):(s.anchorPoint=TR.BOTTOM_LEFT,s.popoverPoint=TR.LEFT_TOP),s.popoverOptions.allowMultipleOpen=!0,s.popoverOptions.ignoreGlobalESCListener=!0,s.closeOnOutsideClick=!0,s.focusHandler=o,s}return _createClass(n,[{key:"ngAfterContentInit",value:function(){var e=this;this.focusHandler.container=this.el.nativeElement,this.items.changes.subscribe((function(){return e.focusHandler.addChildren(e.items.toArray())})),this.items.notifyOnChanges()}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this),this.focusHandler.resetChildren()}},{key:"position",set:function(e){switch(e){case"top-right":this.anchorPoint=TR.TOP_RIGHT,this.popoverPoint=TR.RIGHT_BOTTOM;break;case"top-left":this.anchorPoint=TR.TOP_LEFT,this.popoverPoint=TR.LEFT_BOTTOM;break;case"bottom-right":this.anchorPoint=TR.BOTTOM_RIGHT,this.popoverPoint=TR.RIGHT_TOP;break;case"bottom-left":this.anchorPoint=TR.BOTTOM_LEFT,this.popoverPoint=TR.LEFT_TOP;break;case"right-top":this.anchorPoint=TR.RIGHT_TOP,this.popoverPoint=TR.LEFT_TOP;break;case"right-bottom":this.anchorPoint=TR.RIGHT_BOTTOM,this.popoverPoint=TR.LEFT_BOTTOM;break;case"left-top":this.anchorPoint=TR.LEFT_TOP,this.popoverPoint=TR.RIGHT_TOP;break;case"left-bottom":this.anchorPoint=TR.LEFT_BOTTOM,this.popoverPoint=TR.RIGHT_BOTTOM;break;default:this.anchorPoint=TR.BOTTOM_LEFT,this.popoverPoint=TR.LEFT_TOP}}}]),n}(AR)).\u0275fac=function(e){return new(e||kD)(Zo(Ro),Zo(VA,8),Zo(kD,12),Zo(bR))},kD.\u0275cmp=dt({type:kD,selectors:[["clr-dropdown-menu"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,sD,!1),2&e&&Eu(r=Ru())&&(t.items=r)},hostVars:3,hostBindings:function(e,t){2&e&&($o("role","menu"),Os("dropdown-menu",!0))},inputs:{position:["clrPosition","position"]},features:[Ys],ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2}),kD),DR=((bD=function(){function e(t,n,r,i){_classCallCheck(this,e),this.toggleService=n,this.isRootLevelToggle=!0,t.parent&&(this.isRootLevelToggle=!1),i.trigger=r.nativeElement}return _createClass(e,[{key:"onDropdownTriggerClick",value:function(e){this.toggleService.toggleWithEvent(e)}},{key:"active",get:function(){return this.toggleService.open}}]),e}()).\u0275fac=function(e){return new(e||bD)(Zo(SR),Zo(_C),Zo(va),Zo(bR))},bD.\u0275dir=_t({type:bD,selectors:[["","clrDropdownTrigger",""],["","clrDropdownToggle",""]],hostVars:10,hostBindings:function(e,t){1&e&&hs("click",(function(e){return t.onDropdownTriggerClick(e)})),2&e&&($o("aria-haspopup","menu")("aria-expanded",t.active),Os("dropdown-toggle",t.isRootLevelToggle)("dropdown-item",!t.isRootLevelToggle)("expandable",!t.isRootLevelToggle)("active",t.active))}}),bD),RR=((_D=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:_D}),_D.\u0275inj=fe({factory:function(e){return new(e||_D)},imports:[[cf],AE,mC]}),_D),PR=["info","warning","danger","success"],NR=((LD=function(){function e(t){_classCallCheck(this,e),this.commonStrings=t,this.defaultIconShape="info-circle",this._alertIconShape="",this._alertType="info"}return _createClass(e,[{key:"iconInfoFromType",value:function(e){var t={shape:"",cssClass:"",title:""};switch(e){case"warning":t.shape="exclamation-triangle",t.cssClass="alert-warning",t.title=this.commonStrings.keys.warning;break;case"danger":t.shape="exclamation-circle",t.cssClass="alert-danger",t.title=this.commonStrings.keys.danger;break;case"success":t.shape="check-circle",t.cssClass="alert-success",t.title=this.commonStrings.keys.success;break;default:t.shape=this.defaultIconShape,t.cssClass="alert-info",t.title=this.commonStrings.keys.info}return t}},{key:"alertType",get:function(){return this._alertType},set:function(e){PR.indexOf(e)>-1&&(this._alertType=e)}},{key:"alertIconShape",get:function(){return""===this._alertIconShape?this.iconInfoFromType(this._alertType).shape:this._alertIconShape},set:function(e){e?e!==this._alertIconShape&&(this._alertIconShape=e):this._alertIconShape=""}},{key:"alertIconTitle",get:function(){return this.iconInfoFromType(this._alertType).title}}]),e}()).\u0275fac=function(e){return new(e||LD)(Ye(JC))},LD.\u0275prov=he({token:LD,factory:LD.\u0275fac}),LD),FR=((FD=function(){function e(){_classCallCheck(this,e),this._change=new x}return _createClass(e,[{key:"manage",value:function(e){var t=this;this.subscription&&this.subscription.unsubscribe(),this.allAlerts=e,this.current="number"==typeof this._current?this._current:0,this._change.next(this.current),this.subscription=this.allAlerts.changes.subscribe((function(){t.current>=t.allAlerts.length&&(t.current=Math.max(0,t.allAlerts.length-1))}))}},{key:"next",value:function(){this.current=this.current===this.activeAlerts.length-1?0:this.current+1}},{key:"previous",value:function(){0!==this.activeAlerts.length&&(this.current=0===this.current?this.activeAlerts.length-1:this.current-1)}},{key:"close",value:function(){this.previous()}},{key:"destroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"changes",get:function(){return this._change.asObservable()}},{key:"current",get:function(){return this._current},set:function(e){e!==this._current&&(this._current=e,this._change.next(e))}},{key:"activeAlerts",get:function(){return this.allAlerts&&this.allAlerts.filter((function(e){return!e._closed}))}},{key:"currentAlert",get:function(){return this.activeAlerts&&this.activeAlerts[this.current]},set:function(e){this.current=this.activeAlerts.indexOf(e)}},{key:"count",get:function(){return this.activeAlerts&&this.activeAlerts.length||0}}]),e}()).\u0275fac=function(e){return new(e||FD)},FD.\u0275prov=he({token:FD,factory:FD.\u0275fac}),FD),LR=((ND=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||ND)},ND.\u0275dir=_t({type:ND,selectors:[["",8,"alert-text"]]}),ND),MR=((PD=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.iconService=t,this.cdr=n,this.multiAlertService=r,this.commonStrings=i,this.ariaLiveService=o,this.subscriptions=[],this.isSmall=!1,this.closable=!0,this.isAppLevel=!1,this.clrCloseButtonAriaLabel=this.commonStrings.keys.alertCloseButtonAriaLabel,this._closed=!1,this._closedChanged=new pu(!1),this.polite=!0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.multiAlertService&&this.subscriptions.push(this.multiAlertService.changes.subscribe((function(){e.hidden=e.multiAlertService.currentAlert!==e})))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"ngAfterViewInit",value:function(){this.announceAriaLiveMessage()}},{key:"announceAriaLiveMessage",value:function(){if(!this.hidden&&this.alertTexts.length){var e=this.alertTexts.map((function(e){return e.nativeElement.textContent})).join(" ");e&&this.ariaLiveService.announce(e,this.ariaLive)}}},{key:"close",value:function(){this.closable&&(this._closed=!0,this.multiAlertService&&this.multiAlertService.close(),this._closedChanged.emit(!0))}},{key:"open",value:function(){this._closed=!1,this._closedChanged.emit(!1)}},{key:"alertType",set:function(e){this.iconService.alertType=e},get:function(){return this.iconService.alertType}},{key:"ariaLive",get:function(){return dI(this.assertive)?XS.assertive:dI(this.off)?XS.off:XS.polite}},{key:"alertIconShape",set:function(e){this.iconService.alertIconShape=e}},{key:"alertClass",get:function(){return this.iconService.iconInfoFromType(this.iconService.alertType).cssClass}},{key:"hidden",set:function(e){e!==this._hidden&&(this._hidden=e,this.cdr.detectChanges())},get:function(){return this._hidden}}]),e}()).\u0275fac=function(e){return new(e||PD)(Zo(NR),Zo(vo),Zo(FR,8),Zo(JC),Zo(JS))},PD.\u0275cmp=dt({type:PD,selectors:[["clr-alert"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,LR,!0,va),2&e&&Eu(r=Ru())&&(t.alertTexts=r)},inputs:{isSmall:["clrAlertSizeSmall","isSmall"],closable:["clrAlertClosable","closable"],isAppLevel:["clrAlertAppLevel","isAppLevel"],clrCloseButtonAriaLabel:"clrCloseButtonAriaLabel",_closed:["clrAlertClosed","_closed"],polite:["clrPolite","polite"],alertType:["clrAlertType","alertType"],alertIconShape:["clrAlertIcon","alertIconShape"],assertive:["clrAssertive","assertive"],off:["clrOff","off"]},outputs:{_closedChanged:"clrAlertClosedChange"},features:[ha([NR,JS])],ngContentSelectors:P_,decls:1,vars:1,consts:[["class","alert",3,"ngClass","alert-hidden","alert-sm","alert-app-level",4,"ngIf"],[1,"alert",3,"ngClass"],[1,"alert-items"],["type","button","class","close",3,"click",4,"ngIf"],["type","button",1,"close",3,"click"],["shape","close"]],template:function(e,t){1&e&&(ms(),Yo(0,Hw,4,8,"div",0)),2&e&&es("ngIf",!t._closed)},directives:[Hh,jh,yC],styles:["[_nghost-%COMP%] { display: block; }"]}),PD),VR=((RD=function e(t){_classCallCheck(this,e),this.iconService=t}).\u0275fac=function(e){return new(e||RD)(Zo(NR))},RD.\u0275cmp=dt({type:RD,selectors:[["clr-alert-item"]],hostAttrs:[1,"alert-item"],ngContentSelectors:P_,decls:3,vars:2,consts:[[1,"alert-icon-wrapper"],[1,"alert-icon"]],template:function(e,t){1&e&&(ms(),ns(0,"div",0),is(1,"clr-icon",1),rs(),_s(2)),2&e&&(Ur(1),$o("shape",t.iconService.alertIconShape)("title",t.iconService.alertIconTitle))},directives:[yC],encapsulation:2}),RD),jR=((DD=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:DD}),DD.\u0275inj=fe({factory:function(e){return new(e||DD)},imports:[[cf,mC,RR]]}),DD),UR=((OD=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:OD}),OD.\u0275inj=fe({factory:function(e){return new(e||OD)},imports:[jR]}),OD),BR=((AD=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:AD}),AD.\u0275inj=fe({factory:function(e){return new(e||AD)},imports:[[cf,mC]]}),AD),zR=((xD=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:xD}),xD.\u0275inj=fe({factory:function(e){return new(e||xD)},imports:[[cf,mC,RR]]}),xD),HR=((TD=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||TD)},TD.\u0275cmp=dt({type:TD,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&Tu(ja,!0),2&e&&Eu(n=Ru())&&(t.template=n.first)},ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),Yo(0,Gw,1,0,"ng-template"))},encapsulation:2}),TD),GR=((ID=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:ID}),ID.\u0275inj=fe({factory:function(e){return new(e||ID)},imports:[[cf]]}),ID),qR=((ED=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(SA)).\u0275fac=function(e){return ZP(e||ED)},ED.\u0275dir=_t({type:ED,selectors:[["clr-tabs"]],features:[Ys]}),ED),WR=((SD=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;if(_classCallCheck(this,n),!r)throw new Error("clrTabLink and clr-tab-content should only be used inside of a clr-tabs");return(s=t.call(this,e,r)).ifActive=o,s.id=i,s}return _createClass(n,[{key:"flavor",get:function(){return this.ifActive.current===this.id}}]),n}(wA)).\u0275fac=function(e){return new(e||SD)(Zo(vo),Zo(qR,8),Zo(wE),Zo(SE))},SD.\u0275dir=_t({type:SD,selectors:[["","clrTabLink",""],["clr-tab-content"]],features:[Ys]}),SD),$R=((CD=function e(){_classCallCheck(this,e)}).\u0275prov=he({token:CD,factory:CD.\u0275fac=function(e){return new(e||CD)}}),CD),QR=function(e){return e.HORIZONTAL="horizontal",e.VERTICAL="vertical",e}({}),YR=((VD=function(){function e(){_classCallCheck(this,e),this._children=[],this.layout=QR.HORIZONTAL}return _createClass(e,[{key:"register",value:function(e){this._children.push(e)}},{key:"unregister",value:function(e){var t=this.children.indexOf(e);t>-1&&this.children.splice(t,1)}},{key:"children",get:function(){return this._children}},{key:"activeTab",get:function(){return this.children.find((function(e){return e.active}))}},{key:"overflowTabs",get:function(){return this.layout===QR.VERTICAL?[]:this.children.filter((function(e){return!0===e.tabLink.inOverflow}))}}]),e}()).\u0275fac=function(e){return new(e||VD)},VD.\u0275prov=he({token:VD,factory:VD.\u0275fac}),VD),KR=0,ZR=((MD=function(){function e(t,n,r,i){_classCallCheck(this,e),this.ifActiveService=t,this.id=n,this.ariaService=r,this.tabsService=i,this.tabContentId||(this.tabContentId="clr-tab-content-"+KR++)}return _createClass(e,[{key:"ngOnDestroy",value:function(){var e=this.tabsService.tabContentViewContainer.indexOf(this.viewRef);e>-1&&this.tabsService.tabContentViewContainer.remove(e)}},{key:"templateRef",set:function(e){this.viewRef=this.tabsService.tabContentViewContainer.createEmbeddedView(e)}},{key:"ariaLabelledBy",get:function(){return this.ariaService.ariaLabelledBy}},{key:"tabContentId",get:function(){return this.ariaService.ariaControls},set:function(e){this.ariaService.ariaControls=e}},{key:"active",get:function(){return this.ifActiveService.current===this.id}}]),e}()).\u0275fac=function(e){return new(e||MD)(Zo(SE),Zo(wE),Zo($R),Zo(YR))},MD.\u0275cmp=dt({type:MD,selectors:[["clr-tab-content"]],viewQuery:function(e,t){var n;1&e&&Iu(qw,!0),2&e&&Eu(n=Ru())&&(t.templateRef=n.first)},inputs:{tabContentId:["id","tabContentId"]},ngContentSelectors:P_,decls:2,vars:0,consts:[["tabContentProjectedRef",""],["role","tabpanel",1,"tab-content",3,"id","hidden"]],template:function(e,t){1&e&&(ms(),Yo(0,Ww,2,7,"ng-template",null,0,Lu))},encapsulation:2}),MD),XR=0,JR=new Ue("TABS_ID"),eP={provide:JR,useFactory:function(){return"clr-tabs-"+XR++}},tP=0,nP=((BD=function(){function e(t,n,r,i,o,s,a,u){_classCallCheck(this,e),this.ifActiveService=t,this.id=n,this.ariaService=r,this.el=i,this.cfr=o,this.viewContainerRef=s,this.tabsService=a,this.tabsId=u,this.tabLinkId||(this.tabLinkId="clr-tab-link-"+tP++);var c=this.cfr.resolveComponentFactory(HR);this.templateRefContainer=this.viewContainerRef.createComponent(c,void 0,void 0,[[this.el.nativeElement]]).instance}return _createClass(e,[{key:"activate",value:function(){this.ifActiveService.current=this.id}},{key:"inOverflow",set:function(e){this._inOverflow=e},get:function(){return this._inOverflow&&this.tabsService.layout!==QR.VERTICAL}},{key:"addLinkClasses",get:function(){return!this.inOverflow}},{key:"ariaControls",get:function(){return this.ariaService.ariaControls}},{key:"tabLinkId",get:function(){return this.ariaService.ariaLabelledBy},set:function(e){this.ariaService.ariaLabelledBy=e}},{key:"active",get:function(){return this.ifActiveService.current===this.id}},{key:"tabindex",get:function(){return this.active?0:-1}}]),e}()).\u0275fac=function(e){return new(e||BD)(Zo(SE),Zo(wE),Zo($R),Zo(va),Zo(pa),Zo(Ba),Zo(YR),Zo(JR))},BD.\u0275dir=_t({type:BD,selectors:[["","clrTabLink",""]],hostAttrs:["role","tab","type","button"],hostVars:13,hostBindings:function(e,t){1&e&&hs("click",(function(){return t.activate()})),2&e&&(Ws("id",t.tabLinkId),$o("aria-hidden",!1)("aria-controls",t.ariaControls)("aria-selected",t.active)("tabindex",t.tabindex),Os("btn",!0)("btn-link",t.addLinkClasses)("nav-link",t.addLinkClasses)("active",t.active))},inputs:{tabLinkId:["id","tabLinkId"],inOverflow:["clrTabLinkInOverflow","inOverflow"]}}),BD),rP=((UD=function(){function e(t,n,r){_classCallCheck(this,e),this.ifActiveService=t,this.id=n,this.tabsService=r,r.register(this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.tabsService.unregister(this)}},{key:"active",get:function(){return this.ifActiveService.current===this.id}}]),e}()).\u0275fac=function(e){return new(e||UD)(Zo(SE),Zo(wE),Zo(YR))},UD.\u0275cmp=dt({type:UD,selectors:[["clr-tab"]],contentQueries:function(e,t,n){var r;1&e&&(Ou(n,nP,!0),Ou(n,ZR,!0)),2&e&&(Eu(r=Ru())&&(t.tabLink=r.first),Eu(r=Ru())&&(t.tabContent=r.first))},features:[ha([CE,$R])],ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2}),UD),iP=((jD=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||jD)},jD.\u0275cmp=dt({type:jD,selectors:[["clr-tab-overflow-content"]],hostVars:2,hostBindings:function(e,t){2&e&&Os("dropdown-menu",!0)},ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2}),jD),oP=function(e){return e.VERTICAL="vertical",e.HORIZONTAL="horizontal",e.BOTH="both",e}({}),sP=((tR=function(){function e(t,n){_classCallCheck(this,e),this.elementRef=t,this.platformId=n}return _createClass(e,[{key:"focus",value:function(){lf(this.platformId)&&this.elementRef.nativeElement.focus()}},{key:"nativeElement",get:function(){return this.elementRef.nativeElement}}]),e}()).\u0275fac=function(e){return new(e||tR)(Zo(va),Zo(Hu))},tR.\u0275dir=_t({type:tR,selectors:[["","clrKeyFocusItem",""]],hostVars:1,hostBindings:function(e,t){2&e&&$o("tabindex",t.tabIndex)}}),tR),aP=((eR=function(){function e(t){_classCallCheck(this,e),this.elementRef=t,this.direction=oP.VERTICAL,this.focusOnLoad=!1,this.focusChange=new pu,this._current=0,this.subscriptions=[]}return _createClass(e,[{key:"focusCurrent",value:function(){this.currentItem.focus(),this.focusChange.next(this._current)}},{key:"moveTo",value:function(e){this.positionInRange(e)&&(this.current=e,this.focusCurrent())}},{key:"ngAfterContentInit",value:function(){this.subscriptions.push(this.listenForItemUpdates()),this.initializeFocus()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"handleKeyboardEvent",value:function(e){if(this.currentItemElement!==e.target){var t=this.getItemPosition(e.target);this.positionInRange(t)&&(this.current=t)}this.prevKeyPressed(e)&&this.currentFocusIsNotFirstItem()?this.moveTo(this.current-1):this.nextKeyPressed(e)&&this.currentFocusIsNotLastItem()?this.moveTo(this.current+1):e.code===LO.Home?this.moveTo(0):e.code===LO.End&&this.moveTo(this.focusableItems.length-1),jO(e)}},{key:"setClickedItemCurrent",value:function(e){var t=this.getItemPosition(e.target);t>-1&&this.moveTo(t)}},{key:"getItemPosition",value:function(e){return this._focusableItems?this.focusableItems.indexOf(e):this.focusableItems.map((function(e){return e.nativeElement})).indexOf(e)}},{key:"positionInRange",value:function(e){return e>=0&&e<this.focusableItems.length}},{key:"currentFocusIsNotFirstItem",value:function(){return this._current-1>=0}},{key:"currentFocusIsNotLastItem",value:function(){return this._current+1<this.focusableItems.length}},{key:"initializeFocus",value:function(){this.focusableItems&&this.focusableItems.length&&(this._current>=this.focusableItems.length&&(this._current=this.focusableItems.length-1),this.focusOnLoad&&(this.currentItem.focus(),this.focusChange.next()))}},{key:"listenForItemUpdates",value:function(){var e=this;return this.clrKeyFocusItems.changes.subscribe((function(){e.initializeFocus()}))}},{key:"nextKeyPressed",value:function(e){var t=UO(e);switch(this.direction){case oP.VERTICAL:return e.key===t.ArrowDown;case oP.HORIZONTAL:return e.key===t.ArrowRight;case oP.BOTH:return e.key===t.ArrowDown||e.key===t.ArrowRight;default:return!1}}},{key:"prevKeyPressed",value:function(e){var t=UO(e);switch(this.direction){case oP.VERTICAL:return e.key===t.ArrowUp;case oP.HORIZONTAL:return e.key===t.ArrowLeft;case oP.BOTH:return e.key===t.ArrowUp||e.key===t.ArrowLeft;default:return!1}}},{key:"focusableItems",set:function(e){e&&e.length&&(this._focusableItems=e,this.initializeFocus())},get:function(){return this._focusableItems?this._focusableItems:this.clrKeyFocusItems.toArray()}},{key:"nativeElement",get:function(){return this.elementRef.nativeElement}},{key:"current",get:function(){return this._current},set:function(e){this._current!==e&&(this._current=e)}},{key:"currentItem",get:function(){return this.focusableItems[this._current]}},{key:"currentItemElement",get:function(){return this.currentItem.nativeElement?this.currentItem.nativeElement:this.currentItem}}]),e}()).\u0275fac=function(e){return new(e||eR)(Zo(va))},eR.\u0275cmp=dt({type:eR,selectors:[["","clrKeyFocus",""]],contentQueries:function(e,t,n){var r;1&e&&Au(n,sP,!0),2&e&&Eu(r=Ru())&&(t.clrKeyFocusItems=r)},hostBindings:function(e,t){1&e&&hs("keydown",(function(e){return t.handleKeyboardEvent(e)}))("click",(function(e){return t.setClickedItemCurrent(e)}))},inputs:{direction:["clrDirection","direction"],focusOnLoad:["clrFocusOnLoad","focusOnLoad"],focusableItems:["clrKeyFocus","focusableItems"]},outputs:{focusChange:"clrFocusChange"},attrs:$w,ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2}),eR),uP=((JD=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.ifActiveService=t,this.toggleService=n,this.tabsService=r,this.tabsId=i,this.commonStrings=o,this.subscriptions=[],this._tabLinkDirectives=[],this.tabLinkElements=[],this._mousedown=!1}return _createClass(e,[{key:"toggleOverflowOnPosition",value:function(e){this.toggleService.open=e>=this.overflowPosition}},{key:"resetKeyFocusCurrentToActive",value:function(e){this.keyFocus.nativeElement.contains(e.relatedTarget)||this.keyFocus.current===this.activeTabPosition||(this.keyFocus.current=this.activeTabPosition)}},{key:"toggleOverflowOnClick",value:function(){this.keyFocus.moveTo(this.isCurrentInOverflow&&this.toggleService.open?this.overflowPosition-1:this.overflowPosition),this._mousedown=!1}},{key:"openOverflowOnFocus",value:function(){this._mousedown||this.toggleService.open||this.keyFocus.moveTo(this.activeTabPosition)}},{key:"closeOnFocusOut",value:function(e){this._tabOverflowEl.contains(e.relatedTarget)||!this.toggleService.open||this._mousedown||(this.toggleService.open=!1,this.tabLinkElements[this.activeTabPosition]===e.relatedTarget&&(this.keyFocus.current=this.activeTabPosition))}},{key:"closeOnEscapeKey",value:function(){this.keyFocus.moveTo(this.overflowPosition-1)}},{key:"closeOnOutsideClick",value:function(e,t){e.target===t||t.contains(e.target)||!this._tabOverflowEl.contains(e.target)&&this.isCurrentInOverflow&&this.keyFocus.moveTo(this.overflowPosition-1)}},{key:"listenForTabLinkChanges",value:function(){var e=this;return this.tabs.changes.pipe(hd(this.tabs.map((function(e){return e.tabLink})))).subscribe((function(){e._tabLinkDirectives=e.tabs.map((function(e){return e.tabLink})),e.tabLinkElements=e._tabLinkDirectives.map((function(e){return e.el.nativeElement}))}))}},{key:"ngAfterContentInit",value:function(){this.subscriptions.push(this.listenForTabLinkChanges()),void 0===this.ifActiveService.current&&this.tabLinkDirectives[0]&&this.tabLinkDirectives[0].activate(),this.keyFocus.current=this.activeTabPosition}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){e.unsubscribe()}))}},{key:"overflowPosition",get:function(){return this._tabLinkDirectives.filter((function(e){return!e.inOverflow})).length}},{key:"tabContentViewContainer",set:function(e){this.tabsService.tabContentViewContainer=e}},{key:"layout",set:function(e){Object.keys(QR).map((function(e){return QR[e]})).indexOf(e)>=0&&(this.tabsService.layout=e)},get:function(){return this.tabsService.layout}},{key:"tabLinkDirectives",get:function(){return this._tabLinkDirectives}},{key:"activeTabInOverflow",get:function(){return this.tabsService.overflowTabs.indexOf(this.tabsService.activeTab)>-1}},{key:"activeTabPosition",get:function(){return this._tabLinkDirectives.findIndex((function(e){return e.active}))}},{key:"tabIds",get:function(){return this.tabsService.children.map((function(e){return e.tabLink.tabLinkId})).join(" ")}},{key:"isCurrentInOverflow",get:function(){return this.keyFocus.current>=this.overflowPosition}},{key:"isVertical",get:function(){return this.layout===QR.VERTICAL}},{key:"tabOverflowEl",set:function(e){this._tabOverflowEl=e&&e.nativeElement,this.toggleService.open&&e&&this.keyFocus.focusCurrent()}}]),e}()).\u0275fac=function(e){return new(e||JD)(Zo(SE),Zo(_C),Zo(YR),Zo(JR),Zo(JC))},JD.\u0275cmp=dt({type:JD,selectors:[["clr-tabs"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,rP,!1),2&e&&Eu(r=Ru())&&(t.tabs=r)},viewQuery:function(e,t){var n;1&e&&(Iu(Qw,!0,Ba),Tu(iP,!0,va),Iu(aP,!0)),2&e&&(Eu(n=Ru())&&(t.tabContentViewContainer=n.first),Eu(n=Ru())&&(t.tabOverflowEl=n.first),Eu(n=Ru())&&(t.keyFocus=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&Os("tabs-vertical",t.isVertical)},inputs:{layout:["clrLayout","layout"]},features:[ha([SE,_C,YR,eP])],decls:5,vars:4,consts:[["role","tablist","clrDirection","both",1,"nav",3,"clrKeyFocus","clrFocusChange","focusout"],[4,"ngFor","ngForOf"],[4,"ngIf"],["tabContentViewContainer",""],["role","presentation",1,"nav-item"],[3,"ngTemplateOutlet"],["role","presentation",1,"tabs-overflow","bottom-right"],["role","application",1,"nav-item"],["type","button","aria-hidden","true",1,"btn","btn-link","nav-link","dropdown-toggle",3,"mousedown","focus","click"],["tabOverflowTrigger",""],["shape","ellipsis-horizontal"],[3,"keydown.esc","click","focusout",4,"ngIf"],[3,"keydown.esc","click","focusout"],[3,"ngTemplateOutlet",4,"ngIf"]],template:function(e,t){1&e&&(ns(0,"ul",0),hs("clrFocusChange",(function(e){return t.toggleOverflowOnPosition(e)}))("focusout",(function(e){return t.resetKeyFocusCurrentToActive(e)})),Yo(1,Kw,2,1,"ng-container",1),Yo(2,eC,7,11,"ng-container",2),rs(),as(3,null,3)),2&e&&(es("clrKeyFocus",t.tabLinkElements),$o("aria-owns",t.tabIds),Ur(1),es("ngForOf",t.tabLinkDirectives),Ur(1),es("ngIf",t.tabsService.overflowTabs.length>0))},directives:[aP,Bh,Hh,Xh,yC,iP],encapsulation:2}),JD),cP=((XD=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:XD}),XD.\u0275inj=fe({factory:function(e){return new(e||XD)},imports:[[cf]]}),XD),lP=((ZD=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:ZD}),ZD.\u0275inj=fe({factory:function(e){return new(e||ZD)},imports:[[cf,AE,mC,GR,cP],AE]}),ZD),hP=((KD=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:KD}),KD.\u0275inj=fe({factory:function(e){return new(e||KD)},imports:[[cf,mC,AE,aA],AE,mC,aA]}),KD),fP=((YD=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:YD}),YD.\u0275inj=fe({factory:function(e){return new(e||YD)},imports:[BR,zR,lP,hP]}),YD),dP=((QD=function(){function e(t){_classCallCheck(this,e),this._document=t}return _createClass(e,[{key:"stopScrolling",value:function(){this._document.body.classList.add("no-scrolling")}},{key:"resumeScrolling",value:function(){this._document.body.classList.contains("no-scrolling")&&this._document.body.classList.remove("no-scrolling")}}]),e}()).\u0275fac=function(e){return new(e||QD)(Ye(Fl))},QD.\u0275prov=he({token:QD,factory:QD.\u0275fac}),QD),pP=(($D=function(){function e(t,n,r){_classCallCheck(this,e),this._scrollingService=t,this.commonStrings=n,this.modalId=r,this._open=!1,this._openChanged=new pu(!1),this.closable=!0,this.staticBackdrop=!0,this.skipAnimation="false",this.bypassScrollService=!1,this.stopClose=!1,this.altClose=new pu(!1)}return _createClass(e,[{key:"ngOnChanges",value:function(e){!this.bypassScrollService&&e&&e.hasOwnProperty("_open")&&(e._open.currentValue?this._scrollingService.stopScrolling():this._scrollingService.resumeScrolling())}},{key:"ngOnDestroy",value:function(){this._scrollingService.resumeScrolling()}},{key:"open",value:function(){this._open||(this._open=!0,this._openChanged.emit(!0))}},{key:"close",value:function(){this.stopClose?this.altClose.emit(!1):this.closable&&this._open&&(this._open=!1,this.focusTrap.setPreviousFocus())}},{key:"fadeDone",value:function(e){"void"===e.toState&&this._openChanged.emit(!1)}}]),e}()).\u0275fac=function(e){return new(e||$D)(Zo(dP),Zo(JC),Zo(tS))},$D.\u0275cmp=dt({type:$D,selectors:[["clr-modal"]],viewQuery:function(e,t){var n;1&e&&Tu(DE,!0),2&e&&Eu(n=Ru())&&(t.focusTrap=n.first)},hostVars:2,hostBindings:function(e,t){1&e&&hs("keyup.escape",(function(){return t.close()}),!1,Hn),2&e&&Os("open",t._open)},inputs:{_open:["clrModalOpen","_open"],closable:["clrModalClosable","closable"],staticBackdrop:["clrModalStaticBackdrop","staticBackdrop"],skipAnimation:["clrModalSkipAnimation","skipAnimation"],bypassScrollService:["clrModalOverrideScrollService","bypassScrollService"],stopClose:["clrModalPreventClose","stopClose"],size:["clrModalSize","size"]},outputs:{_openChanged:"clrModalOpenChange",altClose:"clrModalAlternateClose"},features:[ha([US],[dP]),ta],ngContentSelectors:iC,decls:1,vars:1,consts:[["clrFocusTrap","","class","modal",4,"ngIf"],["clrFocusTrap","",1,"modal"],["role","dialog","aria-modal","true",1,"modal-dialog"],[1,"clr-sr-only"],[1,"modal-content-wrapper"],[1,"modal-content"],[1,"modal-header"],["type","button","class","close",3,"click",4,"ngIf"],["clrFocusOnViewInit","",1,"modal-title-wrapper",3,"id"],["aria-hidden","true",1,"modal-backdrop",3,"click"],["type","button",1,"close",3,"click"],["shape","close"]],template:function(e,t){1&e&&(ms(rC),Yo(0,nC,16,14,"div",0)),2&e&&es("ngIf",t._open)},directives:[Hh,DE,sA,yC],styles:["[_nghost-%COMP%] { display: none; }\n        .open[_nghost-%COMP%] { display: inline; }"],data:{animation:[oy("fadeDown",[ly("* => false",[uy({opacity:0,transform:"translate(0, -25%)"}),sy("0.2s ease-in-out")]),ly("false => *",[sy("0.2s ease-in-out",uy({opacity:0,transform:"translate(0, -25%)"}))])]),oy("fade",[ly("void => *",[uy({opacity:0}),sy("0.2s ease-in-out",uy({opacity:.85}))]),ly("* => void",[sy("0.2s ease-in-out",uy({opacity:0}))])])]}}),$D),vP=((WD=function(){function e(){_classCallCheck(this,e),this.tabindex=0}return _createClass(e,[{key:"mouseDown",value:function(){delete this.tabindex}},{key:"mouseUp",value:function(){this.tabindex=0}}]),e}()).\u0275fac=function(e){return new(e||WD)},WD.\u0275dir=_t({type:WD,selectors:[["",8,"modal-body"]],hostVars:1,hostBindings:function(e,t){1&e&&hs("mousedown",(function(){return t.mouseDown()}))("mouseup",(function(){return t.mouseUp()})),2&e&&$o("tabindex",t.tabindex)}}),WD),gP=((qD=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:qD}),qD.\u0275inj=fe({factory:function(e){return new(e||qD)},imports:[[cf,mC,RE,aA],mC,aA]}),qD),yP=((GD=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:GD}),GD.\u0275inj=fe({factory:function(e){return new(e||GD)},imports:[[cf,mC,aA],AE]}),GD),mP=((HD=function(){function e(){_classCallCheck(this,e),this._id=new x}return _createClass(e,[{key:"updateId",value:function(e){this._id.next(e)}},{key:"id",get:function(){return this._id.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||HD)},HD.\u0275prov=he({token:HD,factory:HD.\u0275fac}),HD),_P=((zD=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||zD)},zD.\u0275cmp=dt({type:zD,selectors:[["clr-tooltip"]],hostVars:2,hostBindings:function(e,t){2&e&&Os("tooltip",!0)},features:[ha([_C,{provide:VA,useExisting:va},US,mP])],ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2}),zD),bP=["bottom-left","bottom-right","top-left","top-right","right","left"],kP=["xs","sm","md","lg"],wP=((sR=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;if(_classCallCheck(this,n),(s=t.call(this,e,r)).uniqueId=i,s.tooltipIdService=o,!r)throw new Error("clr-tooltip-content should only be used inside of a clr-tooltip");return s.position="right",s.size="sm",s.updateId(i),_possibleConstructorReturn(s)}return _createClass(n,[{key:"updateId",value:function(e){this._id=e,this.tooltipIdService.updateId(e)}},{key:"position",get:function(){return this._position},set:function(e){switch(this.renderer.removeClass(this.el.nativeElement,"tooltip-"+this.position),this._position=e&&bP.indexOf(e)>-1?e:"right",this.renderer.addClass(this.el.nativeElement,"tooltip-"+this.position),e){case"top-right":this.anchorPoint=TR.TOP_CENTER,this.popoverPoint=TR.LEFT_BOTTOM;break;case"top-left":this.anchorPoint=TR.TOP_CENTER,this.popoverPoint=TR.RIGHT_BOTTOM;break;case"bottom-right":this.anchorPoint=TR.BOTTOM_CENTER,this.popoverPoint=TR.LEFT_TOP;break;case"bottom-left":this.anchorPoint=TR.BOTTOM_CENTER,this.popoverPoint=TR.RIGHT_TOP;break;case"right":this.anchorPoint=TR.RIGHT_CENTER,this.popoverPoint=TR.LEFT_TOP;break;case"left":this.anchorPoint=TR.LEFT_CENTER,this.popoverPoint=TR.RIGHT_TOP;break;default:this.anchorPoint=TR.RIGHT_CENTER,this.popoverPoint=TR.LEFT_TOP}}},{key:"id",get:function(){return this._id},set:function(e){this.updateId(e||"")}},{key:"size",get:function(){return this._size},set:function(e){this.renderer.removeClass(this.el.nativeElement,"tooltip-"+this.size),this._size=e&&kP.indexOf(e)>-1?e:"sm",this.renderer.addClass(this.el.nativeElement,"tooltip-"+this.size)}}]),n}(AR)).\u0275fac=function(e){return new(e||sR)(Zo(Ro),Zo(VA,8),Zo(tS),Zo(mP))},sR.\u0275cmp=dt({type:sR,selectors:[["clr-tooltip-content"]],hostVars:6,hostBindings:function(e,t){2&e&&(Ws("id",t.id),$o("role","tooltip"),As("opacity",1),Os("tooltip-content",!0))},inputs:{position:["clrPosition","position"],size:["clrSize","size"],id:"id"},features:[Ys],ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2}),sR),CP=((oR=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.toggleService=t,this.tooltipIdService=n,this.subs=[],this.subs.push(this.tooltipIdService.id.subscribe((function(e){return r.ariaDescribedBy=e})))}return _createClass(e,[{key:"showTooltip",value:function(){this.toggleService.open=!0}},{key:"hideTooltip",value:function(){this.toggleService.open=!1}},{key:"ngOnDestroy",value:function(){this.subs.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||oR)(Zo(_C),Zo(mP))},oR.\u0275dir=_t({type:oR,selectors:[["","clrTooltipTrigger",""]],hostAttrs:["tabindex","0"],hostVars:4,hostBindings:function(e,t){1&e&&hs("mouseenter",(function(){return t.showTooltip()}))("focus",(function(){return t.showTooltip()}))("mouseleave",(function(){return t.hideTooltip()}))("blur",(function(){return t.hideTooltip()})),2&e&&($o("aria-describedby",t.ariaDescribedBy)("role","button"),Os("tooltip-trigger",!0))}}),oR),SP=((iR=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:iR}),iR.\u0275inj=fe({factory:function(e){return new(e||iR)},imports:[[cf],AE,mC]}),iR),EP=((rR=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:rR}),rR.\u0275inj=fe({factory:function(e){return new(e||rR)},imports:[RR,yP,SP]}),rR),IP=((nR=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:nR}),nR.\u0275inj=fe({factory:function(e){return new(e||nR)},imports:[[cf,gP,jR]]}),nR),TP=function(e){return e.Default="default",e.Multi="multi",e}({}),xP=function(e){return e.Inactive="inactive",e.Error="error",e.Complete="complete",e}({}),AP=0,OP=function e(t,n){_classCallCheck(this,e),this.id=t,this.accordionId=n,this.status=xP.Inactive,this.index=null,this.disabled=!1,this.open=!1,this.templateId="".concat(this.id,"-").concat(this.accordionId)},DP=function(){function e(){_classCallCheck(this,e),this.strategy=TP.Default,this.accordionCount=AP++,this._panels={}}return _createClass(e,[{key:"setStrategy",value:function(e){this.strategy=e}},{key:"updatePanelOrder",value:function(e){var t=this;e.forEach((function(e,n){return t._panels[e].index=n})),this.removeOldPanels(e)}},{key:"addPanel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._panels[e]=new OP(e,this.accordionCount),this._panels[e].open=t}},{key:"togglePanel",value:function(e,t){var n=this._panels[e].open;this.strategy===TP.Default&&this.closeAllPanels(),this._panels[e].open=void 0!==t?t:!n}},{key:"disablePanel",value:function(e,t){this._panels[e].disabled=t}},{key:"closeAllPanels",value:function(){var e=this;this.panels.forEach((function(t){return e._panels[t.id].open=!1}))}},{key:"removeOldPanels",value:function(e){var t=this;this.panels.filter((function(t){return void 0===e.find((function(e){return e===t.id}))})).forEach((function(e){return delete t._panels[e.id]}))}},{key:"panels",get:function(){var e=this;return Object.keys(this._panels).map((function(t){return e._panels[t]}))}}]),e}(),RP=((aR=function(){function e(){_classCallCheck(this,e),this.accordion=new DP,this._panelsChanges=new Lc(this.accordion.panels)}return _createClass(e,[{key:"getPanelChanges",value:function(e){return this._panelsChanges.pipe(j((function(t){return t.find((function(t){return t.id===e}))})))}},{key:"setStrategy",value:function(e){this.accordion.setStrategy(e)}},{key:"addPanel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.accordion.addPanel(e,t),this.emitUpdatedPanels()}},{key:"togglePanel",value:function(e,t){this.accordion.togglePanel(e,t),this.emitUpdatedPanels()}},{key:"disablePanel",value:function(e,t){this.accordion.disablePanel(e,t),this.emitUpdatedPanels()}},{key:"updatePanelOrder",value:function(e){this.accordion.updatePanelOrder(e),this.emitUpdatedPanels()}},{key:"emitUpdatedPanels",value:function(){this._panelsChanges.next(this.accordion.panels)}}]),e}()).\u0275fac=function(e){return new(e||aR)},aR.\u0275prov=he({token:aR,factory:aR.\u0275fac}),aR),PP=[oy("skipInitialRender",[ly(":enter",[])]),oy("toggle",[ly("void => *",[uy({display:"block",height:0}),sy("0.2s ease-in-out",uy({height:"*"}))])])],NP=((_R=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||_R)},_R.\u0275cmp=dt({type:_R,selectors:[["clr-accordion-description"],["clr-step-description"]],hostVars:2,hostBindings:function(e,t){2&e&&Os("clr-accordion-description",!0)},ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2,changeDetection:0}),_R),FP=((mR=function(){function e(t,n,r,i){_classCallCheck(this,e),this.commonStrings=t,this.accordionService=n,this.ifExpandService=r,this.id=i,this.disabled=!1,this.panelOpen=!1,this.panelOpenChange=new pu,this.AccordionStatus=xP,this.isAccordion=!0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.panel=this.accordionService.getPanelChanges(this.id).pipe(ol((function(t){return e.emitPanelChange(t)}))),this.accordionService.addPanel(this.id,this.panelOpen),this.accordionService.togglePanel(this.id,this.panelOpen),this.accordionService.disablePanel(this.id,this.disabled)}},{key:"ngOnChanges",value:function(e){this.panel&&e.panelOpen&&e.panelOpen.currentValue!==e.panelOpen.previousValue&&this.accordionService.togglePanel(this.id,e.panelOpen.currentValue),this.panel&&e.disabled&&e.disabled.currentValue!==e.disabled.previousValue&&this.accordionService.disablePanel(this.id,e.disabled.currentValue)}},{key:"togglePanel",value:function(){this.accordionService.togglePanel(this.id)}},{key:"collapsePanelOnAnimationDone",value:function(e){e.open||(this.ifExpandService.expanded=!1)}},{key:"getPanelStateClasses",value:function(e){return"clr-accordion-panel-".concat(e.status," ").concat(e.open?"clr-accordion-panel-open":"")}},{key:"getAccordionContentId",value:function(e){return"clr-accordion-content-".concat(e,"'")}},{key:"getAccordionHeaderId",value:function(e){return"clr-accordion-header-"+e}},{key:"emitPanelChange",value:function(e){this.panelOpenChange.emit(e.open),e.open&&(this.ifExpandService.expanded=!0)}}]),e}()).\u0275fac=function(e){return new(e||mR)(Zo(JC),Zo(RP),Zo(TE),Zo(tS))},mR.\u0275cmp=dt({type:mR,selectors:[["clr-accordion-panel"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,NP,!1),2&e&&Eu(r=Ru())&&(t.accordionDescription=r)},hostVars:2,hostBindings:function(e,t){2&e&&Os("clr-accordion-panel",!0)},inputs:{disabled:["clrAccordionPanelDisabled","disabled"],panelOpen:["clrAccordionPanelOpen","panelOpen"]},outputs:{panelOpenChange:"clrAccordionPanelOpenChange"},features:[ha([TE,US]),ta],ngContentSelectors:gC,decls:2,vars:3,consts:[[4,"ngIf"],["aria-live","assertive","class","clr-sr-only",4,"ngIf"],["role","group",3,"ngClass"],[1,"clr-accordion-header"],["type","button",1,"clr-accordion-header-button",3,"id","disabled","click"],["headerButton",""],[1,"clr-sr-only"],[1,"clr-accordion-status"],["shape","angle","dir","right",1,"clr-accordion-angle"],[1,"clr-accordion-number"],["shape","exclamation-circle",1,"clr-accordion-error-icon"],["shape","check-circle",1,"clr-accordion-complete-icon"],["role","region",3,"id"],["class","clr-accordion-content",4,"ngIf"],["aria-live","assertive",1,"clr-sr-only"],[1,"clr-accordion-content"],[1,"clr-accordion-inner-content"]],template:function(e,t){1&e&&(ms(vC),Yo(0,lC,19,18,"ng-container",0),cu(1,"async")),2&e&&es("ngIf",lu(1,1,t.panel))},directives:[Hh,jh,yC],pipes:[af],encapsulation:2,data:{animation:PP},changeDetection:0}),mR),LP=((yR=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||yR)},yR.\u0275cmp=dt({type:yR,selectors:[["clr-accordion-title"],["clr-step-title"]],hostVars:2,hostBindings:function(e,t){2&e&&Os("clr-accordion-title",!0)},ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2,changeDetection:0}),yR),MP=((gR=function(){function e(t){_classCallCheck(this,e),this.accordionService=t,this.multiPanel=!1,this.subscriptions=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.setAccordionStrategy()}},{key:"ngOnChanges",value:function(e){e.multiPanel.currentValue!==e.multiPanel.previousValue&&this.setAccordionStrategy()}},{key:"ngAfterViewInit",value:function(){this.subscriptions.push(this.listenForDOMChanges())}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"setAccordionStrategy",value:function(){this.accordionService.setStrategy(this.multiPanel?TP.Multi:TP.Default)}},{key:"listenForDOMChanges",value:function(){var e=this;return this.panels.changes.pipe(hd(this.panels)).subscribe((function(t){return e.accordionService.updatePanelOrder(t.toArray().map((function(e){return e.id})))}))}}]),e}()).\u0275fac=function(e){return new(e||gR)(Zo(RP))},gR.\u0275cmp=dt({type:gR,selectors:[["clr-accordion"]],contentQueries:function(e,t,n){var r;1&e&&Au(n,FP,!0),2&e&&Eu(r=Ru())&&(t.panels=r)},hostVars:2,hostBindings:function(e,t){2&e&&Os("clr-accordion",!0)},inputs:{multiPanel:["clrAccordionMultiPanel","multiPanel"]},features:[ha([RP]),ta],ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2,changeDetection:0}),gR),VP=((vR=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||vR)},vR.\u0275cmp=dt({type:vR,selectors:[["clr-accordion-content"],["clr-step-content"]],ngContentSelectors:P_,decls:1,vars:0,template:function(e,t){1&e&&(ms(),_s(0))},encapsulation:2,changeDetection:0}),vR),jP=((pR=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(SA)).\u0275fac=function(e){return XP(e||pR)},pR.\u0275dir=_t({type:pR,selectors:[["clr-accordion"]],features:[Ys]}),pR),UP=((dR=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;if(_classCallCheck(this,n),!r)throw new Error("clr-accordion-panel should only be used inside of clr-accordion");return(o=t.call(this,e,r)).expand=i,o}return _createClass(n,[{key:"flavor",get:function(){return this.expand.expanded}}]),n}(wA)).\u0275fac=function(e){return new(e||dR)(Zo(vo),Zo(jP,8),Zo(TE))},dR.\u0275dir=_t({type:dR,selectors:[["clr-accordion-panel"]],features:[Ys]}),dR),BP=((fR=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:fR}),fR.\u0275inj=fe({factory:function(e){return new(e||fR)},imports:[[cf,mC]]}),fR),zP=((hR=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:hR}),hR.\u0275inj=fe({factory:function(e){return new(e||hR)},imports:[[cf,mC,BP],BP]}),hR),HP=((lR=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:lR}),lR.\u0275inj=fe({factory:function(e){return new(e||lR)},imports:[[cf]]}),lR),GP=((cR=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:cR}),cR.\u0275inj=fe({factory:function(e){return new(e||cR)},imports:[[cf,mC,rA],mC,rA]}),cR),qP=((uR=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:uR}),uR.\u0275inj=fe({factory:function(e){return new(e||uR)},imports:[UR,oD,mC,gP,Ux,AE,RE,aA,$S,jx,fP,EP,IP,Jx,zP,rA,HP,WC,GP]}),uR),WP=ar(_E),$P=ar(bx),QP=ar(Dx),YP=ar(Nx),KP=ar(EA),ZP=ar(qR),XP=ar(jP);function JP(e){if("string"!=typeof e||!e)throw new Error("expected a non-empty string, got: "+e)}function eN(e){if("number"!=typeof e)throw new Error("expected a number, got: "+e)}var tN="eTag",nN="url";function rN(e){return function(e,t){var n,r=new Set,i=[],o=_createForOfIteratorHelper(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,a=s.unicode;r.has(a)||(r.add(a),i.push(s))}}catch(u){o.e(u)}finally{o.f()}return i}(e)}var iN=[{version:1,migration:function(e,t,n){function r(t,n,r){var i=n?e.createObjectStore(t,{keyPath:n}):e.createObjectStore(t);if(r)for(var o=0,s=Object.entries(r);o<s.length;o++){var a=_slicedToArray(s[o],2),u=a[0],c=_slicedToArray(a[1],2),l=c[0],h=c[1];i.createIndex(u,l,{multiEntry:h})}return i}r("keyvalue"),r("emoji","unicode",{tokens:["tokens",!0],"group-order":[["group","order"]],skinUnicodes:["skinUnicodes",!0]}),r("favorites",void 0,{count:[""]}),n()}}],oN={},sN={},aN={};function uN(e,t,n){n.onerror=function(){return t(n.error)},n.onblocked=function(){return t(new Error("IDB blocked"))},n.onsuccess=function(){return e(n.result)}}function cN(e,t,n,r){return new Promise((function(i,o){var s,a=e.transaction(t,n),u="string"==typeof t?a.objectStore(t):t.map((function(e){return a.objectStore(e)}));r(u,(function(e){s=e})),a.oncomplete=function(){return i(s)},a.onerror=function(){return o(a.error)}}))}function lN(e){var t=oN[e],n=t&&t.result;if(n){n.close();var r=aN[e];if(r){var i,o=_createForOfIteratorHelper(r);try{for(o.s();!(i=o.n()).done;){(0,i.value)()}}catch(s){o.e(s)}finally{o.f()}}}delete oN[e],delete sN[e],delete aN[e]}var hN=new Set([":D","xD",":'D","o:)",":x",":p",";p","xp",":l",":z",":j","8D","xo","8)",":B",":o",":s",":'o","Dx","x(","D:",":c",">0)",":3","</3","<3","\\m/",":E","8#"]);function fN(e){return e.split(/[\s_]+/).map((function(e){return!e.match(/\w/)||hN.has(e)?e.toLowerCase():e.replace(/[)(:,]/g,"").replace(/\u2019/g,"'").toLowerCase()})).filter(Boolean)}function dN(e,t,n,r){e[t](n).onsuccess=function(e){return r&&r(e.target.result)}}function pN(e,t,n){dN(e,"get",t,n)}function vN(e,t,n){dN(e,"getAll",t,n)}function gN(e,t){var n,r=function(e,t){for(var n=e[0],r=1;r<e.length;r++){var i=e[r];t(n)>t(i)&&(n=i)}return n}(e,(function(e){return e.length})),i=[],o=_createForOfIteratorHelper(r);try{var s=function(){var r=n.value;e.some((function(e){return-1===e.findIndex((function(e){return t(e)===t(r)}))}))||i.push(r)};for(o.s();!(n=o.n()).done;)s()}catch(a){o.e(a)}finally{o.f()}return i}function yN(e,t,n,r){return mN.apply(this,arguments)}function mN(){return(mN=_asyncToGenerator(regeneratorRuntime.mark((function e(t,n,r,i){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=function(e){return e.map((function(e){var t=e.annotation,n=e.emoticon,r=e.group,i=e.order,o=e.shortcodes,s=e.skins,a=e.tags,u=e.emoji,c=e.version,l=_toConsumableArray(new Set([].concat(_toConsumableArray(o.map(fN).flat()),_toConsumableArray(a.map(fN).flat()),_toConsumableArray(fN(t)),[n]).filter(Boolean).map((function(e){return e.toLowerCase()})).filter((function(e){return e.length>=2})))).sort(),h={annotation:t,group:r,order:i,shortcodes:o,tags:a,tokens:l,unicode:u,version:c};if(n&&(h.emoticon=n),s){h.skinTones=[],h.skinUnicodes=[],h.skinVersions=[];var f,d=_createForOfIteratorHelper(s);try{for(d.s();!(f=d.n()).done;){var p=f.value,v=p.tone,g=p.emoji,y=p.version;h.skinTones.push(v),h.skinUnicodes.push(g),h.skinVersions.push(y)}}catch(m){d.e(m)}finally{d.f()}}return h}))}(n),e.next=4,cN(t,["emoji","keyvalue"],"readwrite",(function(e){var t,n,s,a=_slicedToArray(e,2),u=a[0],c=a[1],l=0;function h(){3==++l&&function(){if(t!==i||n!==r){var e,a=_createForOfIteratorHelper(s);try{for(a.s();!(e=a.n()).done;){var l=e.value;u.delete(l)}}catch(p){a.e(p)}finally{a.f()}var h,f=_createForOfIteratorHelper(o);try{for(f.s();!(h=f.n()).done;){var d=h.value;u.put(d)}}catch(p){f.e(p)}finally{f.f()}c.put(i,tN),c.put(r,nN)}}()}pN(c,tN,(function(e){t=e,h()})),pN(c,nN,(function(e){n=e,h()})),dN(u,"getAllKeys",void 0,(function(e){s=e,h()}))}));case 4:return e.prev=4,e.finish(4);case 6:case"end":return e.stop()}}),e,null,[[0,,4,6]])})))).apply(this,arguments)}function _N(e,t){return bN.apply(this,arguments)}function bN(){return(bN=_asyncToGenerator(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fN(n),e.abrupt("return",cN(t,"emoji","readonly",(function(e,t){for(var n=[],i=0;i<r.length;i++){var o=r[i],s=i===r.length-1?IDBKeyRange.bound(o,o+"\uffff",!1,!0):IDBKeyRange.only(o);vN(e.index("tokens"),s,(function(e){var i;n.push(e),n.length===r.length&&(i=gN(n,(function(e){return e.unicode})),t(i.sort((function(e,t){return e.order<t.order?-1:1}))))}))}})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kN(e,t,n){return cN(e,t,"readonly",(function(e,t){return pN(e,n,t)}))}var wN=["name","shortcodes","url"];function CN(e){!function(e){var t=e&&Array.isArray(e),n=t&&e.length&&(!e[0]||wN.some((function(t){return!(t in e[0])})));if(!t||n)throw new Error("Expected custom emojis to be in correct format")}(e);var t,n=function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:1},r=e.sort(n),i=function(e,t){var n,r=new Map,i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o,s=n.value,a=_createForOfIteratorHelper(_toConsumableArray(new Set(s.shortcodes.map((function(e){return fN(e)})).flat())));try{for(a.s();!(o=a.n()).done;){for(var u=o.value,c=r,l=0;l<u.length;l++){var h=u.charAt(l),f=c.get(h);f||(f=new Map,c.set(h,f)),c=f}var d=c.get("");d||(d=[],c.set("",d)),d.push(s)}}catch(p){a.e(p)}finally{a.f()}}}catch(p){i.e(p)}finally{i.f()}return function(e,t){for(var n=r,i=0;i<e.length;i++){var o=e.charAt(i),s=n.get(o);if(!s)return[];n=s}if(t)return n.get("")||[];for(var a=[],u=n?[n]:[];u.length;){var c,l=_createForOfIteratorHelper(_toConsumableArray(u.shift().entries()).sort((function(e,t){return e[0]<t[0]?-1:1})));try{for(l.s();!(c=l.n()).done;){var h=_slicedToArray(c.value,2),f=h[0],d=h[1];""===f?a.push.apply(a,_toConsumableArray(d)):u.push(d)}}catch(p){l.e(p)}finally{l.f()}}return a}}(e),o=function(e){return i(e,!0)},s=function(e){return i(e,!1)},a=new Map,u=new Map,c=_createForOfIteratorHelper(e);try{for(c.s();!(t=c.n()).done;){var l=t.value;u.set(l.name.toLowerCase(),l);var h,f=_createForOfIteratorHelper(l.shortcodes);try{for(f.s();!(h=f.n()).done;){var d=h.value;a.set(d.toLowerCase(),l)}}catch(p){f.e(p)}finally{f.f()}}}catch(p){c.e(p)}finally{c.f()}return{all:r,search:function(e){var t=fN(e);return gN(t.map((function(e,n){return(n<t.length-1?o:s)(e)})),(function(e){return e.name})).sort(n)},byShortcode:function(e){return a.get(e.toLowerCase())},byName:function(e){return u.get(e.toLowerCase())}}}function SN(e){if(!e)return e;if(delete e.tokens,e.skinTones){var t=e.skinTones.length;e.skins=Array(t);for(var n=0;n<t;n++)e.skins[n]={tone:e.skinTones[n],unicode:e.skinUnicodes[n],version:e.skinVersions[n]};delete e.skinTones,delete e.skinUnicodes,delete e.skinVersions}return e}function EN(e){e||function(){var e;(e=console).warn.apply(e,arguments)}("emoji-picker-element is more efficient if the dataSource server exposes an ETag header.")}var IN,TN=["annotation","emoji","emoticon","group","order","shortcodes","tags","version"];function xN(e,t){if(2!==Math.floor(e.status/100))throw new Error("Failed to fetch: "+t+":  "+e.status)}function AN(e){return ON.apply(this,arguments)}function ON(){return(ON=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return xN(n=e.sent,t),EN(r=n.headers.get("etag")),e.next=8,n.json();case 8:return i=e.sent,e.abrupt("return",(function(e){if(!e||!Array.isArray(e)||!e[0]||"object"!=typeof e[0]||TN.some((function(t){return!(t in e[0])})))throw new Error("Expected emojibase full (not compact) data, but data is in wrong format")}(i),[r,i]));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function DN(e){return RN.apply(this,arguments)}function RN(){return(RN=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=-1;++i<t;)r[i]=e.charCodeAt(i);return n}(JSON.stringify(t)),e.t0=function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=-1;++i<r;)t+=String.fromCharCode(n[i]);return t},e.next=4,crypto.subtle.digest("SHA-1",n);case 4:return e.t1=e.sent,r=(0,e.t0)(e.t1),e.abrupt("return",btoa(r));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PN(){}function NN(e){return e()}function FN(){return Object.create(null)}function LN(e){e.forEach(NN)}function MN(e){return"function"==typeof e}function VN(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function jN(e){return e&&MN(e.destroy)?e.destroy:PN}function UN(e,t){e.appendChild(t)}function BN(e,t,n){e.insertBefore(t,n||null)}function zN(e){e.parentNode.removeChild(e)}function HN(e){return document.createElement(e)}function GN(e){return document.createTextNode(e)}function qN(e,t,n,r){return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}function WN(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function $N(e,t){e.data!==(t=""+t)&&(e.data=t)}function QN(e,t){(null!=t||e.value)&&(e.value=t)}function YN(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}function KN(e){IN=e}function ZN(){if(!IN)throw new Error("Function called outside component initialization");return IN}var XN=[],JN=[],eF=[],tF=[],nF=Promise.resolve(),rF=!1;function iF(){rF||(rF=!0,nF.then(cF))}function oF(){return iF(),nF}function sF(e){eF.push(e)}var aF=!1,uF=new Set;function cF(){if(!aF){aF=!0;do{for(var e=0;e<XN.length;e+=1){var t=XN[e];KN(t),lF(t.$$)}for(XN.length=0;JN.length;)JN.pop()();for(var n=0;n<eF.length;n+=1){var r=eF[n];uF.has(r)||(uF.add(r),r())}eF.length=0}while(XN.length);for(;tF.length;)tF.pop()();rF=!1,aF=!1,uF.clear()}}function lF(e){if(null!==e.fragment){e.update(),LN(e.before_update);var t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(sF)}}var hF=new Set;function fF(e,t){e&&e.i&&(hF.delete(e),e.i(t))}var dF,pF="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function vF(e,t){e.d(1),t.delete(e.key)}function gF(e,t,n,r,i,o,s,a,u,c,l,h){for(var f=e.length,d=o.length,p=f,v={};p--;)v[e[p].key]=p;var g=[],y=new Map,m=new Map;for(p=d;p--;){var _=h(i,o,p),b=n(_),k=s.get(b);k?r&&k.p(_,t):(k=c(b,_)).c(),y.set(b,g[p]=k),b in v&&m.set(b,Math.abs(p-v[b]))}var w=new Set,C=new Set;function S(e){fF(e,1),e.m(a,l,s.has(e.key)),s.set(e.key,e),l=e.first,d--}for(;f&&d;){var E=g[d-1],I=e[f-1],T=E.key,x=I.key;E===I?(l=E.first,f--,d--):y.has(x)?!s.has(T)||w.has(T)?S(E):C.has(x)?f--:m.get(T)>m.get(x)?(C.add(T),S(E)):(w.add(x),f--):(u(I,s),f--)}for(;f--;){var A=e[f];y.has(A.key)||u(A,s)}for(;d;)S(g[d-1]);return g}"function"==typeof HTMLElement&&(dF=function(e){_inherits(n,_wrapNativeSuper(HTMLElement));var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).attachShadow({mode:"open"}),e}return _createClass(n,[{key:"connectedCallback",value:function(){for(var e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}},{key:"attributeChangedCallback",value:function(e,t,n){this[e]=n}},{key:"$destroy",value:function(){var e;null!==(e=this.$$).fragment&&(LN(e.on_destroy),e.fragment&&e.fragment.d(1),e.on_destroy=e.fragment=null,e.ctx=[]),this.$destroy=PN}},{key:"$on",value:function(e,t){var n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}}},{key:"$set",value:function(){}}]),n}());var yF={categoriesLabel:"Categories",emojiUnsupportedMessage:"Your browser does not support color emoji.",favoritesLabel:"Favorites",loadingMessage:"Loading\u2026",networkErrorMessage:"Could not load emoji. Try refreshing.",regionLabel:"Emoji picker",searchDescription:"When search results are available, press up or down to select and enter to choose.",searchLabel:"Search",searchResultsLabel:"Search results",skinToneDescription:"When expanded, press up or down to select and enter to choose.",skinToneLabel:"Choose a skin tone (currently {skinTone})",skinTonesLabel:"Skin tones",skinTones:["Default","Light","Medium-Light","Medium","Medium-Dark","Dark"],categories:{custom:"Custom","smileys-emotion":"Smileys and emoticons","people-body":"People and body","animals-nature":"Animals and nature","food-drink":"Food and drink","travel-places":"Travel and places",activities:"Activities",objects:"Objects",symbols:"Symbols",flags:"Flags"}},mF=[[-1,"\u2728","custom"],[0,"\ud83d\ude00","smileys-emotion"],[1,"\ud83d\udc4b","people-body"],[3,"\ud83d\udc31","animals-nature"],[4,"\ud83c\udf4e","food-drink"],[5,"\ud83c\udfe0\ufe0f","travel-places"],[6,"\u26bd","activities"],[7,"\ud83d\udcdd","objects"],[8,"\u26d4\ufe0f","symbols"],[9,"\ud83c\udfc1","flags"]].map((function(e){var t=_slicedToArray(e,3);return{id:t[0],emoji:t[1],name:t[2]}})),_F=mF.slice(1),bF=mF[0],kF="function"==typeof requestIdleCallback?requestIdleCallback:setTimeout;function wF(e){return e.unicode.includes("\u200d")}var CF={"\ud83d\ude03":.6,"\ud83d\ude10\ufe0f":.7,"\ud83d\ude00":1,"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f":2,"\ud83e\udd23":3,"\ud83d\udc71\u200d\u2640\ufe0f":4,"\ud83e\udd29":5,"\ud83e\udd70":11,"\ud83e\udd7b":12,"\ud83e\uddd1\u200d\ud83e\uddb0":12.1,"\ud83e\udd72":13},SF=["\ud83d\ude0a","\ud83d\ude12","\u2665\ufe0f","\ud83d\udc4d\ufe0f","\ud83d\ude0d","\ud83d\ude02","\ud83d\ude2d","\u263a\ufe0f","\ud83d\ude14","\ud83d\ude29","\ud83d\ude0f","\ud83d\udc95","\ud83d\ude4c","\ud83d\ude18"],EF='"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Twemoji Mozilla","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif',IF=function(e,t){try{var n=document.createElement("canvas");n.width=n.height=1;var r=n.getContext("2d");return r.textBaseline="top",r.font="100px "+EF,r.fillStyle=t,r.scale(.01,.01),r.fillText(e,0,0),r.getImageData(0,0,1,1).data}catch(i){}};var TF=new Promise((function(e){return kF((function(){return e(function(){for(var e,t,n,r,i=0,o=Object.entries(CF);i<o.length;i++){var s=_slicedToArray(o[i],2),a=s[0],u=s[1];if(n=void 0,r=void 0,n=IF(t=a,"#000"),r=IF(t,"#fff"),!(n&&r&&function(e,t){var n=_toConsumableArray(e).join(",");return n===_toConsumableArray(t).join(",")&&"0,0,0,0"!==n}(n,r)))break;e=u}return e}())}))})),xF=new Map;function AF(e){e.preventDefault(),e.stopPropagation()}function OF(e,t,n){return(t+=e?-1:1)<0?t=n.length-1:t>=n.length&&(t=0),t}function DF(e,t){var n,r=new Set,i=[],o=_createForOfIteratorHelper(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,a=t(s);r.has(a)||(r.add(a),i.push(s))}}catch(u){o.e(u)}finally{o.f()}return i}var RF,PF=requestAnimationFrame,NF="function"==typeof ResizeObserver;function FF(e,t){var n;return NF?(n=new ResizeObserver((function(e){return t(e[0].contentRect.width)}))).observe(e):PF((function(){return t(e.getBoundingClientRect().width)})),{destroy:function(){n&&n.disconnect()}}}function LF(e){var t=document.createRange();return t.selectNode(e.firstChild),t.getBoundingClientRect().width}var MF=pF.Map;function VF(e,t,n){var r=e.slice();return r[64]=t[n],r[66]=n,r}function jF(e,t,n){var r=e.slice();return r[64]=t[n],r[66]=n,r}function UF(e,t,n){var r=e.slice();return r[67]=t[n],r[66]=n,r}function BF(e,t,n){var r=e.slice();return r[70]=t[n],r}function zF(e,t,n){var r=e.slice();return r[73]=t[n],r[66]=n,r}function HF(e,t){var n,r,i,o,s,a,u,c=t[73]+"";return{key:e,first:null,c:function(){n=HN("div"),r=GN(c),WN(n,"id",i="skintone-"+t[66]),WN(n,"class",o="emoji skintone-option cursor-pointer hide-focus "+(t[66]===t[15]?"active":"")),WN(n,"aria-selected",s=t[66]===t[15]),WN(n,"role","option"),WN(n,"title",a=t[0].skinTones[t[66]]),WN(n,"tabindex","-1"),WN(n,"aria-label",u=t[0].skinTones[t[66]]),this.first=n},m:function(e,t){BN(e,n,t),UN(n,r)},p:function(e,t){524288&t[0]&&c!==(c=e[73]+"")&&$N(r,c),524288&t[0]&&i!==(i="skintone-"+e[66])&&WN(n,"id",i),557056&t[0]&&o!==(o="emoji skintone-option cursor-pointer hide-focus "+(e[66]===e[15]?"active":""))&&WN(n,"class",o),557056&t[0]&&s!==(s=e[66]===e[15])&&WN(n,"aria-selected",s),524289&t[0]&&a!==(a=e[0].skinTones[e[66]])&&WN(n,"title",a),524289&t[0]&&u!==(u=e[0].skinTones[e[66]])&&WN(n,"aria-label",u)},d:function(e){e&&zN(n)}}}function GF(e,t){var n,r,i,o,s,a,u,c,l=t[70].emoji+"";function h(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t)[60].apply(e,[t[70]].concat(r))}return{key:e,first:null,c:function(){n=HN("button"),r=HN("div"),i=GN(l),WN(r,"class","emoji"),WN(n,"role","tab"),WN(n,"class","nav-button"),WN(n,"aria-controls",o="tab-"+t[70].id),WN(n,"aria-label",s=t[0].categories[t[70].name]),WN(n,"aria-selected",a=!t[7]&&t[23].id===t[70].id),WN(n,"title",u=t[0].categories[t[70].name]),this.first=n},m:function(e,t,o){BN(e,n,t),UN(n,r),UN(r,i),o&&c(),c=qN(n,"click",h)},p:function(e,r){t=e,4194304&r[0]&&l!==(l=t[70].emoji+"")&&$N(i,l),4194304&r[0]&&o!==(o="tab-"+t[70].id)&&WN(n,"aria-controls",o),4194305&r[0]&&s!==(s=t[0].categories[t[70].name])&&WN(n,"aria-label",s),12583040&r[0]&&a!==(a=!t[7]&&t[23].id===t[70].id)&&WN(n,"aria-selected",a),4194305&r[0]&&u!==(u=t[0].categories[t[70].name])&&WN(n,"title",u)},d:function(e){e&&zN(n),c()}}}function qF(e){var t;return{c:function(){WN(t=HN("div"),"class","custom-emoji"),YN(t,"background-image","url("+e[64].url+")")},m:function(e,n){BN(e,t,n)},p:function(e,n){4&n[0]&&YN(t,"background-image","url("+e[64].url+")")},d:function(e){e&&zN(t)}}}function WF(e){var t,n=JF(e[64],e[14])+"";return{c:function(){t=GN(n)},m:function(e,n){BN(e,t,n)},p:function(e,r){16388&r[0]&&n!==(n=JF(e[64],e[14])+"")&&$N(t,n)},d:function(e){e&&zN(t)}}}function $F(e,t){var n,r,i,o,s,a,u;function c(e,t){return e[64].unicode?WF:qF}var l=c(t),h=l(t);return{key:e,first:null,c:function(){n=HN("button"),h.c(),WN(n,"role",r=t[7]?"option":"menuitem"),WN(n,"aria-selected",i=t[7]?t[66]==t[8]:""),WN(n,"aria-label",o=t[26](t[64],t[14])),WN(n,"title",s=t[64].title),WN(n,"class",a="emoji "+(t[7]&&t[66]===t[8]?"active":"")),WN(n,"id",u="emo-"+t[64].id),this.first=n},m:function(e,t){BN(e,n,t),h.m(n,null)},p:function(e,t){l===(l=c(e))&&h?h.p(e,t):(h.d(1),(h=l(e))&&(h.c(),h.m(n,null))),128&t[0]&&r!==(r=e[7]?"option":"menuitem")&&WN(n,"role",r),388&t[0]&&i!==(i=e[7]?e[66]==e[8]:"")&&WN(n,"aria-selected",i),16388&t[0]&&o!==(o=e[26](e[64],e[14]))&&WN(n,"aria-label",o),4&t[0]&&s!==(s=e[64].title)&&WN(n,"title",s),388&t[0]&&a!==(a="emoji "+(e[7]&&e[66]===e[8]?"active":""))&&WN(n,"class",a),4&t[0]&&u!==(u="emo-"+e[64].id)&&WN(n,"id",u)},d:function(e){e&&zN(n),h.d()}}}function QF(e,t){for(var n,r,i,o,s,a,u,c,l,h=(t[7]?t[0].searchResultsLabel:t[67].category?t[67].category:t[2].length>1?t[0].categories.custom:t[0].categories[t[23].name])+"",f=[],d=new MF,p=t[67].emojis,v=function(e){return e[64].id},g=0;g<p.length;g+=1){var y=jF(t,p,g),m=v(y);d.set(m,f[g]=$F(m,y))}return{key:e,first:null,c:function(){n=HN("div"),r=GN(h),s=HN("div");for(var e=0;e<f.length;e+=1)f[e].c();WN(n,"id",i="menu-label-"+t[66]),WN(n,"class",o="category "+(t[2].length>1?"":"gone")),WN(n,"aria-hidden","true"),WN(s,"class","emoji-menu"),WN(s,"role",a=t[7]?"listbox":"menu"),WN(s,"aria-labelledby",u="menu-label-"+t[66]),WN(s,"id",c=t[7]?"search-results":""),this.first=n},m:function(e,i,o){BN(e,n,i),UN(n,r),BN(e,s,i);for(var a=0;a<f.length;a+=1)f[a].m(s,null);o&&l(),l=jN(t[27].call(null,s))},p:function(e,t){8388741&t[0]&&h!==(h=(e[7]?e[0].searchResultsLabel:e[67].category?e[67].category:e[2].length>1?e[0].categories.custom:e[0].categories[e[23].name])+"")&&$N(r,h),4&t[0]&&i!==(i="menu-label-"+e[66])&&WN(n,"id",i),4&t[0]&&o!==(o="category "+(e[2].length>1?"":"gone"))&&WN(n,"class",o),67125636&t[0]&&(f=gF(f,t,v,1,e,e[67].emojis,d,s,vF,$F,null,jF)),128&t[0]&&a!==(a=e[7]?"listbox":"menu")&&WN(s,"role",a),4&t[0]&&u!==(u="menu-label-"+e[66])&&WN(s,"aria-labelledby",u),128&t[0]&&c!==(c=e[7]?"search-results":"")&&WN(s,"id",c)},d:function(e){e&&zN(n),e&&zN(s);for(var t=0;t<f.length;t+=1)f[t].d();l()}}}function YF(e){var t,n;return{c:function(){WN(t=HN("img"),"class","custom-emoji"),t.src!==(n=e[64].url)&&WN(t,"src",n),WN(t,"loading","lazy"),WN(t,"alt","")},m:function(e,n){BN(e,t,n)},p:function(e,r){1048576&r[0]&&t.src!==(n=e[64].url)&&WN(t,"src",n)},d:function(e){e&&zN(t)}}}function KF(e){var t,n=JF(e[64],e[14])+"";return{c:function(){t=GN(n)},m:function(e,n){BN(e,t,n)},p:function(e,r){1064960&r[0]&&n!==(n=JF(e[64],e[14])+"")&&$N(t,n)},d:function(e){e&&zN(t)}}}function ZF(e,t){var n,r,i,o;function s(e,t){return e[64].unicode?KF:YF}var a=s(t),u=a(t);return{key:e,first:null,c:function(){n=HN("button"),u.c(),WN(n,"role","menuitem"),WN(n,"aria-label",r=t[26](t[64],t[14])),WN(n,"title",i=t[64].title),WN(n,"class","emoji"),WN(n,"id",o="fav-"+t[64].id),this.first=n},m:function(e,t){BN(e,n,t),u.m(n,null)},p:function(e,t){a===(a=s(e))&&u?u.p(e,t):(u.d(1),(u=a(e))&&(u.c(),u.m(n,null))),1064960&t[0]&&r!==(r=e[26](e[64],e[14]))&&WN(n,"aria-label",r),1048576&t[0]&&i!==(i=e[64].title)&&WN(n,"title",i),1048576&t[0]&&o!==(o="fav-"+e[64].id)&&WN(n,"id",o)},d:function(e){e&&zN(n),u.d()}}}function XF(e){for(var t,n,r,i,o,s,a,u,c,l,h,f,d,p,v,g,y,m,_,b,k,w,C,S,E,I,T,x,A,O,D,R,P,N,F,L,M,V,j,U,B,z,H,G,q=e[0].searchLabel+"",W=e[0].searchDescription+"",$=e[0].skinToneDescription+"",Q=[],Y=new MF,K=[],Z=new MF,X=[],J=new MF,ee=[],te=new MF,ne=e[19],re=function(e){return e[73]},ie=0;ie<ne.length;ie+=1){var oe=zF(e,ne,ie),se=re(oe);Y.set(se,Q[ie]=HF(se,oe))}for(var ae=e[22],ue=function(e){return e[70].id},ce=0;ce<ae.length;ce+=1){var le=BF(e,ae,ce),he=ue(le);Z.set(he,K[ce]=GF(he,le))}for(var fe=e[2],de=function(e){return e[67].category},pe=0;pe<fe.length;pe+=1){var ve=UF(e,fe,pe),ge=de(ve);J.set(ge,X[pe]=QF(ge,ve))}for(var ye=e[20],me=function(e){return e[64].id},_e=0;_e<ye.length;_e+=1){var be=VF(e,ye,_e),ke=me(be);te.set(ke,ee[_e]=ZF(ke,be))}return{c:function(){t=HN("section"),n=HN("div"),r=HN("div"),i=HN("div"),o=HN("input"),c=HN("label"),l=GN(q),h=HN("span"),f=GN(W),d=HN("div"),p=HN("button"),v=GN(e[16]),m=HN("span"),_=GN($),b=HN("div");for(var G=0;G<Q.length;G+=1)Q[G].c();I=HN("div");for(var Y=0;Y<K.length;Y+=1)K[Y].c();x=HN("div"),A=HN("div"),O=HN("div"),D=GN(e[9]),P=HN("div");for(var Z=0;Z<X.length;Z+=1)X[Z].c();V=HN("div");for(var J=0;J<ee.length;J+=1)ee[J].c();B=HN("div"),(z=HN("button")).textContent="\ud83d\ude00",this.c=PN,WN(n,"class","pad-top"),WN(o,"id","search"),WN(o,"class","search"),WN(o,"type","search"),WN(o,"role","combobox"),WN(o,"enterkeyhint","search"),WN(o,"placeholder",s=e[0].searchLabel),WN(o,"autocapitalize","none"),WN(o,"autocomplete","off"),WN(o,"spellcheck","true"),WN(o,"aria-expanded",a=!(!e[7]||!e[1].length)),WN(o,"aria-controls","search-results"),WN(o,"aria-owns","search-results"),WN(o,"aria-describedby","search-description"),WN(o,"aria-autocomplete","list"),WN(o,"aria-activedescendant",u=e[25]?"emo-"+e[25]:""),WN(c,"class","sr-only"),WN(c,"for","search"),WN(h,"id","search-description"),WN(h,"class","sr-only"),WN(i,"class","search-wrapper"),WN(p,"id","skintone-button"),WN(p,"class",g="emoji "+(e[11]?"hide-focus":"")),WN(p,"aria-label",e[18]),WN(p,"title",e[18]),WN(p,"aria-describedby","skintone-description"),WN(p,"aria-haspopup","listbox"),WN(p,"aria-expanded",e[11]),WN(p,"aria-controls","skintone-list"),WN(d,"class",y="skintone-button-wrapper "+(e[12]?"expanded":"")),WN(m,"id","skintone-description"),WN(m,"class","sr-only"),WN(b,"id","skintone-list"),WN(b,"class",k="skintone-list "+(e[11]?"":"hidden no-animate")),WN(b,"style",w=e[11]?"transform: translateY(0);":"transform: translateY(calc(-1 * var(--num-skintones) * var(--total-emoji-size)))"),WN(b,"role","listbox"),WN(b,"aria-label",C=e[0].skinTonesLabel),WN(b,"aria-activedescendant",S="skintone-"+e[15]),WN(b,"aria-hidden",E=!e[11]),WN(r,"class","search-row"),WN(I,"class","nav"),WN(I,"role","tablist"),YN(I,"grid-template-columns","repeat("+e[22].length+", 1fr)"),WN(I,"aria-label",T=e[0].categoriesLabel),WN(A,"class","indicator"),WN(A,"style",e[10]),WN(x,"class","indicator-wrapper"),WN(x,"aria-hidden","true"),WN(O,"class",R="message "+(e[9]?"":"gone")),WN(O,"role","alert"),WN(O,"aria-live","polite"),WN(P,"class",N="tabpanel "+(!e[24]||e[9]?"gone":"")),WN(P,"role",F=e[7]?"region":"tabpanel"),WN(P,"aria-label",L=e[7]?e[0].searchResultsLabel:e[0].categories[e[23].name]),WN(P,"id",M=e[7]?"":"tab-"+e[23].id),WN(P,"tabindex","0"),WN(V,"class",j="favorites emoji-menu "+(e[9]?"gone":"")),WN(V,"role","menu"),WN(V,"aria-label",U=e[0].favoritesLabel),YN(V,"padding-right",e[21]+"px"),WN(z,"tabindex","-1"),WN(z,"class","emoji baseline-emoji"),WN(B,"aria-hidden","true"),WN(B,"class","hidden abs-pos"),WN(t,"class","picker"),WN(t,"aria-label",H=e[0].regionLabel),WN(t,"style",e[17])},m:function(s,a,u){BN(s,t,a),UN(t,n),UN(t,r),UN(r,i),UN(i,o),QN(o,e[3]),UN(i,c),UN(c,l),UN(i,h),UN(h,f),UN(r,d),UN(d,p),UN(p,v),UN(r,m),UN(m,_),UN(r,b);for(var g=0;g<Q.length;g+=1)Q[g].m(b,null);e[59](b),UN(t,I);for(var y=0;y<K.length;y+=1)K[y].m(I,null);UN(t,x),UN(x,A),UN(t,O),UN(O,D),UN(t,P);for(var k=0;k<X.length;k+=1)X[k].m(P,null);e[61](P),UN(t,V);for(var w=0;w<ee.length;w+=1)ee[w].m(V,null);UN(t,B),UN(B,z),e[62](z),e[63](t),u&&LN(G),G=[qN(o,"input",e[58]),qN(o,"keydown",e[29]),qN(p,"click",e[34]),qN(b,"focusout",e[37]),qN(b,"click",e[33]),qN(b,"keydown",e[35]),qN(b,"keyup",e[36]),qN(I,"keydown",e[31]),jN(e[28].call(null,A)),qN(P,"click",e[32]),qN(V,"click",e[32])]},p:function(e,n){1&n[0]&&s!==(s=e[0].searchLabel)&&WN(o,"placeholder",s),130&n[0]&&a!==(a=!(!e[7]||!e[1].length))&&WN(o,"aria-expanded",a),33554432&n[0]&&u!==(u=e[25]?"emo-"+e[25]:"")&&WN(o,"aria-activedescendant",u),8&n[0]&&QN(o,e[3]),1&n[0]&&q!==(q=e[0].searchLabel+"")&&$N(l,q),1&n[0]&&W!==(W=e[0].searchDescription+"")&&$N(f,W),65536&n[0]&&$N(v,e[16]),2048&n[0]&&g!==(g="emoji "+(e[11]?"hide-focus":""))&&WN(p,"class",g),262144&n[0]&&WN(p,"aria-label",e[18]),262144&n[0]&&WN(p,"title",e[18]),2048&n[0]&&WN(p,"aria-expanded",e[11]),4096&n[0]&&y!==(y="skintone-button-wrapper "+(e[12]?"expanded":""))&&WN(d,"class",y),1&n[0]&&$!==($=e[0].skinToneDescription+"")&&$N(_,$),557057&n[0]&&(Q=gF(Q,n,re,1,e,e[19],Y,b,vF,HF,null,zF)),2048&n[0]&&k!==(k="skintone-list "+(e[11]?"":"hidden no-animate"))&&WN(b,"class",k),2048&n[0]&&w!==(w=e[11]?"transform: translateY(0);":"transform: translateY(calc(-1 * var(--num-skintones) * var(--total-emoji-size)))")&&WN(b,"style",w),1&n[0]&&C!==(C=e[0].skinTonesLabel)&&WN(b,"aria-label",C),32768&n[0]&&S!==(S="skintone-"+e[15])&&WN(b,"aria-activedescendant",S),2048&n[0]&&E!==(E=!e[11])&&WN(b,"aria-hidden",E),1086324865&n[0]&&(K=gF(K,n,ue,1,e,e[22],Z,I,vF,GF,null,BF)),4194304&n[0]&&YN(I,"grid-template-columns","repeat("+e[22].length+", 1fr)"),1&n[0]&&T!==(T=e[0].categoriesLabel)&&WN(I,"aria-label",T),1024&n[0]&&WN(A,"style",e[10]),512&n[0]&&$N(D,e[9]),512&n[0]&&R!==(R="message "+(e[9]?"":"gone"))&&WN(O,"class",R),75514245&n[0]&&(X=gF(X,n,de,1,e,e[2],J,P,vF,QF,null,UF)),16777728&n[0]&&N!==(N="tabpanel "+(!e[24]||e[9]?"gone":""))&&WN(P,"class",N),128&n[0]&&F!==(F=e[7]?"region":"tabpanel")&&WN(P,"role",F),8388737&n[0]&&L!==(L=e[7]?e[0].searchResultsLabel:e[0].categories[e[23].name])&&WN(P,"aria-label",L),8388736&n[0]&&M!==(M=e[7]?"":"tab-"+e[23].id)&&WN(P,"id",M),68173824&n[0]&&(ee=gF(ee,n,me,1,e,e[20],te,V,vF,ZF,null,VF)),512&n[0]&&j!==(j="favorites emoji-menu "+(e[9]?"gone":""))&&WN(V,"class",j),1&n[0]&&U!==(U=e[0].favoritesLabel)&&WN(V,"aria-label",U),2097152&n[0]&&YN(V,"padding-right",e[21]+"px"),1&n[0]&&H!==(H=e[0].regionLabel)&&WN(t,"aria-label",H),131072&n[0]&&WN(t,"style",e[17])},i:PN,o:PN,d:function(n){n&&zN(t);for(var r=0;r<Q.length;r+=1)Q[r].d();e[59](null);for(var i=0;i<K.length;i+=1)K[i].d();for(var o=0;o<X.length;o+=1)X[o].d();e[61](null);for(var s=0;s<ee.length;s+=1)ee[s].d();e[62](null),e[63](null),LN(G)}}}function JF(e,t){return t&&e.skins&&e.skins[t]||e.unicode}function eL(e,t,n){var r,i,o,s,a,u,c,l,h,f,d,p=t.locale,v=void 0===p?null:p,g=t.dataSource,y=void 0===g?null:g,m=t.skinToneEmoji,_=void 0===m?"\ud83d\udd90\ufe0f":m,b=t.i18n,k=void 0===b?yF:b,w=t.database,C=void 0===w?null:w,S=t.customEmoji,E=void 0===S?null:S,I=[],T=[],x="",A="",O=!1,D=-1,R=0,P="",N=!1,F=!1,L=0,M=0,V="",j=[],U=[],B=8,z=0,H=0,G=_F,q=!1;function W(e){r.getRootNode().getElementById(e).focus()}function $(e,t){r.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,composed:!0}))}function Q(e){var t=r.getRootNode();!function(e,t,n){var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var o=r.value,s=LF(n(o));void 0===RF&&(RF=LF(t));var a=s.toFixed(1)===RF.toFixed(1);xF.set(o.unicode,a)}}catch(u){i.e(u)}finally{i.f()}}(e,i,(function(e){return t.getElementById("emo-"+e.id)})),n(1,I=I)}function Y(e){return!e.unicode||!wF(e)||xF.get(e.unicode)}function K(e){return Z.apply(this,arguments)}function Z(){return(Z=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,TF;case 2:return n=e.sent,e.abrupt("return",t.filter((function(e){var t=e.version;return!t||t<=n})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){return J.apply(this,arguments)}function J(){return(J=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=function(e,t){var n=function(e){var n,r={},i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;"number"==typeof o.tone&&o.version<=t&&(r[o.tone]=o.unicode)}}catch(s){i.e(s)}finally{i.f()}return r};return e.map((function(e){var t=e.unicode,r=e.skins,i=e.shortcodes,o=e.url,s=e.name;return{unicode:t,name:s,shortcodes:i,url:o,category:e.category,id:t||s,skins:r&&n(r),title:i.join(", ")}}))},e.t1=t,e.next=4,TF;case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=2;break}return e.abrupt("return",[]);case 2:if(-1!==t){e.next=6;break}e.t0=E,e.next=9;break;case 6:return e.next=8,C.getEmojiByGroup(t);case 8:e.t0=e.sent;case 9:return n=e.t0,e.t1=X,e.next=13,K(n);case 13:return e.t2=e.sent,e.abrupt("return",(0,e.t1)(e.t2));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){return re.apply(this,arguments)}function re(){return(re=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=X,e.t1=K,e.next=4,C.getEmojiBySearchQuery(t);case 4:return e.t2=e.sent,e.next=7,(0,e.t1)(e.t2);case 7:return e.t3=e.sent,e.abrupt("return",(0,e.t0)(e.t3));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e){n(3,x=""),n(44,A=""),n(8,D=-1),n(48,H=G.findIndex((function(t){return t.id===e.id})))}function oe(e){return se.apply(this,arguments)}function se(){return(se=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.getEmojiByUnicodeOrName(t);case 2:return r=e.sent,i=[].concat(_toConsumableArray(I),_toConsumableArray(U)).find((function(e){return e.id===t})),o=i.unicode&&JF(i,L),e.next=7,C.incrementFavoriteEmojiCount(t);case 7:n(46,l=l),$("emoji-click",_objectSpread(_objectSpread({emoji:r,skinTone:L},o&&{unicode:o}),i.name&&{name:i.name}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){return ue.apply(this,arguments)}function ue(){return(ue=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t.target).classList.contains("skintone-option")){e.next=3;break}return e.abrupt("return");case 3:AF(t),i=parseInt(r.id.slice(9),10),n(14,L=i),n(11,N=!1),W("skintone-button"),$("skin-tone-change",{skinTone:i}),C.setPreferredSkinTone(i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return TF.then((function(e){e||n(9,s=k.emojiUnsupportedMessage)})),d=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oF();case 2:n(38,v=v||"en"),n(39,y=y||"https://cdn.jsdelivr.net/npm/emojibase-data@5/en/data.json");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ZN().$$.on_mount.push(d),ZN().$$.on_destroy.push(_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=C,!e.t0){e.next=4;break}return e.next=4,C.close();case 4:case"end":return e.stop()}}),e)})))),e.$set=function(e){"locale"in e&&n(38,v=e.locale),"dataSource"in e&&n(39,y=e.dataSource),"skinToneEmoji"in e&&n(41,_=e.skinToneEmoji),"i18n"in e&&n(0,k=e.i18n),"database"in e&&n(40,C=e.database),"customEmoji"in e&&n(42,E=e.customEmoji)},e.$$.update=function(){if(896&e.$$.dirty[1]&&v&&y&&(!C||C.locale!==v&&C.dataSource!==y)&&n(40,C=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.dataSource,r=void 0===n?"https://cdn.jsdelivr.net/npm/emojibase-data@5/en/data.json":n,i=t.locale,o=void 0===i?"en":i,s=t.customEmoji,a=void 0===s?[]:s;_classCallCheck(this,e),this.dataSource=r,this.locale=o,this._dbName="emoji-picker-element-"+this.locale,this._db=void 0,this._lazyUpdate=void 0,this._custom=CN(a),this._clear=this._clear.bind(this),this._ready=this._init()}var t,n,r,i,o,s,a,u,c,l,h,f,d;return _createClass(e,[{key:"_init",value:(d=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n=this._dbName,sN[n]||(sN[n]=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){var r=indexedDB.open(t,1);oN[t]=r,r.onupgradeneeded=function(e){var t=r.result,n=e.currentTarget.transaction,i=iN.filter((function(t){var n=t.version;return e.oldVersion<n}));!function e(){i.length&&(0,i.shift().migration)(t,n,e)}()},uN(e,n,r)}));case 2:return n=e.sent,e.abrupt("return",(n.onclose=function(){return lN(t)},n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(n)),sN[n];case 2:return t=this._db=e.sent,function(e,t){var n=aN[e];n||(n=aN[e]=[]),n.push(t)}(this._dbName,this._clear),r=this.dataSource,e.next=7,function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kN(t,"keyvalue",nN);case 2:return e.abrupt("return",!e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(t);case 7:if(!e.sent){e.next=12;break}return e.next=10,function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,n){var r,i,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,AN(n);case 2:if(r=e.sent,i=_slicedToArray(r,2),o=i[0],s=i[1],e.t0=o,e.t0){e.next=11;break}return e.next=10,DN(s);case 10:o=e.sent;case 11:return e.next=13,yN(t,s,n,o);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,r);case 10:e.next=13;break;case 12:this._lazyUpdate=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,n){var r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"HEAD"});case 2:return xN(n=e.sent,t),r=n.headers.get("etag"),e.abrupt("return",(EN(r),r));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(n);case 2:if(i=e.sent){e.next=14;break}return e.next=6,AN(n);case 6:if(o=e.sent,i=o[0],r=o[1],e.t0=i,e.t0){e.next=14;break}return e.next=13,DN(r);case 13:i=e.sent;case 14:return e.next=16,function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,n,r){var i,o,s,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([tN,nN].map((function(e){return kN(t,"keyvalue",e)})));case 2:return i=e.sent,o=_slicedToArray(i,2),s=o[0],a=o[1],e.abrupt("return",s===r&&a===n);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(t,n,i);case 16:if(e.t1=e.sent,e.t1){e.next=25;break}if(e.t2=r,e.t2){e.next=23;break}return e.next=22,AN(n);case 22:r=e.sent[1];case 23:return e.next=25,yN(t,r,n,i);case 25:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,r);case 13:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"ready",value:(f=_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this._ready||(this._ready=this._init()),this._ready));case 1:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"getEmojiByGroup",value:(h=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return eN(t),e.next=3,this.ready();case 3:return e.t0=rN,e.next=6,function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cN(t,"emoji","readonly",(function(e,t){var r=IDBKeyRange.bound([n,0],[n+1,0],!1,!0);vN(e.index("group-order"),r,t)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this._db,t);case 6:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1).map(SN));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"getEmojiBySearchQuery",value:(l=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return JP(t),e.next=3,this.ready();case 3:return e.t0=[],e.t1=_toConsumableArray(this._custom.search(t)),e.t2=_toConsumableArray,e.t3=rN,e.next=9,_N(this._db,t);case 9:return e.t4=e.sent,e.t5=(0,e.t3)(e.t4).map(SN),e.t6=(0,e.t2)(e.t5),e.abrupt("return",e.t0.concat.call(e.t0,e.t1,e.t6));case 13:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"getEmojiByShortcode",value:(c=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return JP(t),e.next=3,this.ready();case 3:if(e.t0=this._custom.byShortcode(t),e.t0){e.next=10;break}return e.t1=SN,e.next=8,function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_N(t,n);case 2:if(e.t0=e.sent.filter((function(e){return e.shortcodes.map((function(e){return e.toLowerCase()})).includes(n.toLowerCase())}))[0],e.t0){e.next=5;break}e.t0=null;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this._db,t);case 8:e.t2=e.sent,e.t0=(0,e.t1)(e.t2);case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"getEmojiByUnicodeOrName",value:(u=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return JP(t),e.next=3,this.ready();case 3:if(e.t0=this._custom.byName(t),e.t0){e.next=10;break}return e.t1=SN,e.next=8,function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cN(t,"emoji","readonly",(function(e,t){return pN(e,n,(function(r){if(r)return t(r);pN(e.index("skinUnicodes"),n,(function(e){return t(e||null)}))}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this._db,t);case 8:e.t2=e.sent,e.t0=(0,e.t1)(e.t2);case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"getPreferredSkinTone",value:(a=_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ready();case 2:return e.next=4,kN(this._db,"keyvalue","skinTone");case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0=0;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"setPreferredSkinTone",value:(s=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return eN(t),e.next=3,this.ready();case 3:return n=t,e.abrupt("return",cN(this._db,"keyvalue","readwrite",(function(e){return e.put(n,"skinTone")})));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"incrementFavoriteEmojiCount",value:(o=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return JP(t),e.next=3,this.ready();case 3:return n=t,e.abrupt("return",cN(this._db,"favorites","readwrite",(function(e){pN(e,n,(function(t){return e.put((t||0)+1,n)}))})));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"getTopFavoriteEmoji",value:(i=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return eN(t),e.next=3,this.ready();case 3:return e.next=5,function(e,t,n){return 0===n?[]:cN(e,["favorites","emoji"],"readonly",(function(e,r){var i=_slicedToArray(e,2),o=i[0],s=i[1],a=[];o.index("count").openCursor(void 0,"prev").onsuccess=function(e){var i=e.target.result;if(!i)return r(a);function o(e){if(a.push(e),a.length===n)return r(a);i.continue()}var u=i.primaryKey,c=t.byName(u);if(c)return o(c);pN(s,u,(function(e){if(e)return o(e);i.continue()}))}}))}(this._db,this._custom,t);case 5:return e.abrupt("return",e.sent.map(SN));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"_shutdown",value:(r=_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ready();case 2:return e.prev=2,e.next=5,this._lazyUpdate;case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:if(!this._db){e.next=11;break}return e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e,this,[[2,7]])}))),function(){return r.apply(this,arguments)})},{key:"_clear",value:function(){this._db=this._ready=this._lazyUpdate=void 0}},{key:"close",value:(n=_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._shutdown();case 2:if(e.t0=e.sent,!e.t0){e.next=6;break}return e.next=6,lN(this._dbName);case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"delete",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._shutdown();case 2:if(e.t0=e.sent,!e.t0){e.next=6;break}return e.next=6,t=this._dbName,new Promise((function(e,n){lN(t),uN(e,n,indexedDB.deleteDatabase(t))}));case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"customEmoji",set:function(e){this._custom=CN(e)},get:function(){return this._custom.all}}]),e}())({dataSource:y,locale:v})),2560&e.$$.dirty[1]&&E&&C&&n(40,C.customEmoji=E,C),513&e.$$.dirty[0]|512&e.$$.dirty[1]&&C&&_asyncToGenerator(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=setTimeout((function(){n(9,s=k.loadingMessage)}),1e3),e.prev=1,e.next=4,C.ready();case 4:n(24,q=!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0),n(9,s=k.networkErrorMessage);case 10:return e.prev=10,clearTimeout(t),s===k.loadingMessage&&n(9,s=""),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,7,10,13]])})))(),4194304&e.$$.dirty[0]|2048&e.$$.dirty[1]&&(E&&E.length?n(22,G=[bF].concat(_toConsumableArray(_F))):G!==_F&&n(22,G=_F)),8&e.$$.dirty[0]&&kF((function(){n(44,A=(x||"").trim()),n(8,D=-1)})),4194304&e.$$.dirty[0]|131072&e.$$.dirty[1]&&n(23,h=G[H]),8388608&e.$$.dirty[0]|8704&e.$$.dirty[1]&&_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C){e.next=20;break}if(!(A.length>=2)){e.next=10;break}return e.t0=n,e.next=5,ne(A);case 5:e.t1=I=e.sent,(0,e.t0)(1,e.t1),n(7,O=!0),e.next=18;break;case 10:if(e.t2=h,!e.t2){e.next=18;break}return e.t3=n,e.next=15,ee(h.id);case 15:e.t4=I=e.sent,(0,e.t3)(1,e.t4),n(7,O=!1);case 18:e.next=21;break;case 20:n(1,I=[]),n(7,O=!1);case 21:case"end":return e.stop()}}),e)})))(),4194432&e.$$.dirty[0]&&n(17,c="\n  --font-family: ".concat(EF,";\n  --num-groups: ").concat(G.length,"; \n  --indicator-opacity: ").concat(O?0:1,"; \n  --num-skintones: 6;")),512&e.$$.dirty[1]&&_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=C,!e.t0){e.next=7;break}return e.t1=n,e.next=5,C.getPreferredSkinTone();case 5:e.t2=L=e.sent,(0,e.t1)(14,e.t2);case 7:case"end":return e.stop()}}),e)})))(),1024&e.$$.dirty[1]&&n(19,j=Array(6).fill().map((function(e,t){return function(e,t){if(0===t)return e;var n=e.indexOf("\u200d");return-1!==n?e.substring(0,n)+String.fromCodePoint(127995+t-1)+e.substring(n):(e.endsWith("\ufe0f")&&(e=e.substring(0,e.length-1)),e+"\ud83c"+String.fromCodePoint(57339+t-1))}(_,t)}))),540672&e.$$.dirty[0]&&n(16,u=j[L]),16385&e.$$.dirty[0]&&n(18,V=k.skinToneLabel.replace("{skinTone}",k.skinTones[L])),512&e.$$.dirty[1]&&C&&_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,Promise.all(SF.map((function(e){return C.getEmojiByUnicodeOrName(e)})));case 3:e.t1=l=e.sent.filter(Boolean),(0,e.t0)(46,e.t1);case 5:case"end":return e.stop()}}),e)})))(),98816&e.$$.dirty[1]&&C&&l&&_asyncToGenerator(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.getTopFavoriteEmoji(B);case 2:return t=e.sent,e.next=5,X(DF([].concat(_toConsumableArray(t),_toConsumableArray(l)),(function(e){return e.unicode||e.name})).slice(0,B));case 5:r=e.sent,n(20,U=r);case 7:case"end":return e.stop()}}),e)})))(),147456&e.$$.dirty[1]&&n(10,P=NF?"transform: translateX(".concat(H*R,"px);"):"transform: translateX(".concat(100*H,"%);")),2&e.$$.dirty[0]){var t=I.filter((function(e){return e.unicode})).filter((function(e){return wF(e)&&!xF.has(e.unicode)}));t.length?PF((function(){return Q(t)})):(n(1,I=I.filter(Y)),PF((function(){n(6,o.scrollTop=0,o)})))}130&e.$$.dirty[0]&&n(2,T=function(){if(O)return[{category:"",emojis:I}];var e,t=new Map,n=_createForOfIteratorHelper(I);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=r.category||"",o=t.get(i);o||(o=[],t.set(i,o)),o.push(r)}}catch(s){n.e(s)}finally{n.f()}return _toConsumableArray(t.entries()).map((function(e){var t=_slicedToArray(e,2);return{category:t[0],emojis:t[1]}})).sort((function(e,t){return e.category<t.category?-1:1}))}()),258&e.$$.dirty[0]&&n(25,f=-1!==D&&I[D].id),10240&e.$$.dirty[0]&&(N?a.addEventListener("transitionend",(function(){n(12,F=!0)}),{once:!0}):n(12,F=!1))},[k,I,T,x,r,i,o,O,D,s,P,N,F,a,L,M,u,c,V,j,U,z,G,h,q,f,function(e,t){return(n=[e.name||JF(e,t)].concat(_toConsumableArray(e.shortcodes)),DF(n,(function(e){return e}))).join(", ");var n},function(e){return FF(e,(function(t){var i=parseInt(getComputedStyle(r).getPropertyValue("--num-columns"),10),o=e.parentElement.getBoundingClientRect().width-t;n(47,B=i),n(21,z=o)}))},function(e){return FF(e,(function(e){n(45,R=e)}))},function(e){if(O&&I.length){var t=function(t){AF(e),n(8,D=OF(t,D,I))};switch(e.key){case"ArrowDown":return t(!1);case"ArrowUp":return t(!0);case"Enter":if(-1!==D)return AF(e),oe(I[D].id);I.length&&n(8,D=0)}}},ie,function(e){var t=e.target,n=function(t){t&&(AF(e),t.focus())};switch(e.key){case"ArrowLeft":return n(t.previousSibling);case"ArrowRight":return n(t.nextSibling)}},function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=t.target).classList.contains("emoji")&&(AF(t),oe(n.id.substring(4)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae,function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(11,N=!N),n(15,M=L),N&&(AF(t),PF((function(){return W("skintone-"+M)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(e){if(N){var t=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return AF(e),n(15,M=OF(r,M,j)),t.next=4,oF();case 4:W("skintone-"+M);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();switch(e.key){case"ArrowUp":return t(!0);case"ArrowDown":return t(!1);case"Enter":return ae(e)}}},function(e){if(N)switch(e.key){case" ":return ae(e)}},function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=t.relatedTarget)&&r.classList.contains("skintone-option")||n(11,N=!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v,y,C,_,E,!0,A,R,l,B,H,W,$,Q,Y,K,X,ee,ne,oe,function(){x=this.value,n(3,x)},function(e){JN[e?"unshift":"push"]((function(){n(13,a=e)}))},function(e){return ie(e)},function(e){JN[e?"unshift":"push"]((function(){n(6,o=e)}))},function(e){JN[e?"unshift":"push"]((function(){n(5,i=e)}))},function(e){JN[e?"unshift":"push"]((function(){n(4,r=e)}))}]}var tL=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).shadowRoot.innerHTML="<style>:host{--emoji-padding:0.5rem;--emoji-size:1.375rem;--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555;--button-hover-background:#484848}@media(prefers-color-scheme:dark){:host{--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555;--button-hover-background:#484848}}button{margin:0;padding:0;border:none;background:none;box-shadow:none;cursor:pointer;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:none}:focus:not(:focus-visible){outline:none}.hide-focus{outline:none}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + 2*var(--emoji-padding))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.cursor-pointer{cursor:pointer}.skintone-button-wrapper{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;right:0;top:0;z-index:2;overflow:visible;background:var(--background);border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media(prefers-reduced-motion:reduce){.skintone-list{transition-duration:1ms}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;height:var(--total-emoji-size);width:var(--total-emoji-size);line-height:1;overflow:hidden;font-family:var(--font-family)}@media(hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.custom-emoji{height:var(--total-emoji-size);width:var(--total-emoji-size);padding:var(--emoji-padding);object-fit:contain;pointer-events:none;background-repeat:no-repeat;background-position:50%;background-size:var(--emoji-size) var(--emoji-size)}.nav{display:grid;justify-content:space-between;contain:content}.nav,.nav-button{align-items:center}.nav-button{display:flex;justify-content:center}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media(prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top{width:100%;height:var(--emoji-padding);z-index:3;background:var(--background)}.search-row{display:flex;align-items:center;position:relative;padding-left:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);background:var(--background);color:var(--input-font-color);width:100%;font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}</style>",function(e,t,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[-1],a=IN;KN(e);var u=t.props||{},c=e.$$={fragment:null,ctx:null,props:o,update:PN,not_equal:i,bound:FN(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:FN(),dirty:s},l=!1;if(c.ctx=n?n(e,u,(function(t,n){var r=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return c.ctx&&i(c.ctx[t],c.ctx[t]=r)&&(c.bound[t]&&c.bound[t](r),l&&function(e,t){-1===e.$$.dirty[0]&&(XN.push(e),iF(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],c.update(),l=!0,LN(c.before_update),c.fragment=!!r&&r(c.ctx),t.target){if(t.hydrate){var h=Array.from(t.target.childNodes);c.fragment&&c.fragment.l(h),h.forEach(zN)}else c.fragment&&c.fragment.c();t.intro&&fF(e.$$.fragment),function(e,t,n){var r=e.$$,i=r.fragment,o=r.on_mount,s=r.on_destroy,a=r.after_update;i&&i.m(t,n),sF((function(){var t=o.map(NN).filter(MN);s?s.push.apply(s,_toConsumableArray(t)):LN(t),e.$$.on_mount=[]})),a.forEach(sF)}(e,t.target,t.anchor),cF()}KN(a)}(_assertThisInitialized(r),{target:r.shadowRoot},eL,XF,VN,{locale:38,dataSource:39,skinToneEmoji:41,i18n:0,database:40,customEmoji:42},[-1,-1,-1]),e&&(e.target&&BN(e.target,_assertThisInitialized(r),e.anchor),e.props&&(r.$set(e.props),cF())),r}return _createClass(n,[{key:"locale",get:function(){return this.$$.ctx[38]},set:function(e){this.$set({locale:e}),cF()}},{key:"dataSource",get:function(){return this.$$.ctx[39]},set:function(e){this.$set({dataSource:e}),cF()}},{key:"skinToneEmoji",get:function(){return this.$$.ctx[41]},set:function(e){this.$set({skinToneEmoji:e}),cF()}},{key:"i18n",get:function(){return this.$$.ctx[0]},set:function(e){this.$set({i18n:e}),cF()}},{key:"database",get:function(){return this.$$.ctx[40]},set:function(e){this.$set({database:e}),cF()}},{key:"customEmoji",get:function(){return this.$$.ctx[42]},set:function(e){this.$set({customEmoji:e}),cF()}}],[{key:"observedAttributes",get:function(){return["locale","dataSource","skinToneEmoji","i18n","database","customEmoji"]}}]),n}(dF);customElements.define("emoji-picker",function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,{props:e})}return _createClass(n,[{key:"disconnectedCallback",value:function(){this.$destroy()}}]),n}(tL));var nL,rL=((nL=function(){function e(){_classCallCheck(this,e),this.title="error",this.subtitle=null,this.data=null,this.constants={}}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"checkTitle",value:function(){return"Regular programs"==this.title}},{key:"getTitle",value:function(){return this.title}},{key:"isType",value:function(e,t){if(e.type==t)return!0}},{key:"getCheckboxControl",value:function(e,t,n){return n&&n.controls?n.controls[e].controls[t]:(console.error("[Abstract Section] Form array is empty. Has it been built?"),[])}}]),e}()).\u0275fac=function(e){return new(e||nL)},nL.\u0275cmp=dt({type:nL,selectors:[["abstract-section"]],inputs:{title:"title",subtitle:"subtitle",data:"data",interface:"interface",constants:"constants",order:"order"},decls:4,vars:2,consts:[[1,"subtitle"]],template:function(e,t){1&e&&(ns(0,"h2"),zs(1),rs(),ns(2,"h6",0),zs(3),rs()),2&e&&(Ur(1),Gs(" ",t.title,"\n"),Ur(2),Hs(t.subtitle))},styles:[".subtitle[_ngcontent-%COMP%]{margin-top:0}"]}),nL);function iL(e,t){if(1&e&&(ns(0,"h5",6),zs(1),rs()),2&e){var n=gs();Ur(1),Hs(n.interface.subtitle)}}function oL(e,t){if(1&e&&(ns(0,"clr-dg-column"),zs(1),rs()),2&e){var n=t.$implicit;Ur(1),Hs(n.label)}}function sL(e,t){if(1&e&&(ns(0,"span"),zs(1),cu(2,"date"),rs()),2&e){var n=gs(2).$implicit;Ur(1),Hs(hu(2,1,n,"MM/dd/yyyy"))}}function aL(e,t){1&e&&zs(0),2&e&&Gs(" ",gs(2).$implicit," ")}function uL(e,t){if(1&e&&(ns(0,"span"),Yo(1,sL,3,4,"span",8),Yo(2,aL,1,1,"ng-template",null,10,Lu),rs()),2&e){var n=Ko(3),r=gs().index,i=gs(2);Ur(1),es("ngIf",i.isDate(r))("ngIfElse",n)}}function cL(e,t){if(1&e&&(ns(0,"span"),ns(1,"span",11),zs(2),rs(),rs()),2&e){var n=t.$implicit;Ur(1),bs("title",n.label),Ur(1),Hs(n.icon)}}function lL(e,t){1&e&&Yo(0,cL,3,2,"span",2),2&e&&es("ngForOf",gs().$implicit.tags)}function hL(e,t){if(1&e&&(ns(0,"clr-dg-cell"),Yo(1,uL,4,2,"span",8),Yo(2,lL,1,1,"ng-template",null,9,Lu),rs()),2&e){var n=t.$implicit,r=Ko(3),i=gs(2);Ur(1),es("ngIf",!i.isTagObj(n))("ngIfElse",r)}}function fL(e,t){if(1&e){var n=us();ns(0,"clr-dg-row"),ns(1,"clr-dg-action-overflow"),ns(2,"button",7),hs("click",(function(){Kt(n);var e=t.index;return gs().openEditModal(e)})),zs(3,"Edit"),rs(),ns(4,"button",7),hs("click",(function(){Kt(n);var e=t.index;return gs().deleteRow(e)})),zs(5,"Delete"),rs(),rs(),Yo(6,hL,4,2,"clr-dg-cell",2),rs()}if(2&e){var r=t.$implicit;Ur(6),es("ngForOf",r.row)}}function dL(e,t){if(1&e&&(ns(0,"clr-date-container"),ns(1,"label",25),zs(2),rs(),is(3,"input",26),rs()),2&e){var n=gs(),r=n.$implicit,i=n.index,o=gs(2);Ur(2),Hs(r.label),Ur(1),es("formControl",o.formArray.controls[i])}}function pL(e,t){if(1&e&&(ns(0,"option",30),zs(1),rs()),2&e){var n=t.$implicit;es("value",n.label),Ur(1),Gs(" ",n.label,"")}}function vL(e,t){if(1&e&&(ns(0,"select",28),Yo(1,pL,2,2,"option",29),rs()),2&e){var n=gs(2).index,r=gs(2);es("formControl",r.formArray.controls[n]),Ur(1),es("ngForOf",r.constants.divisions)}}function gL(e,t){if(1&e&&(ns(0,"clr-select-container"),ns(1,"label",25),zs(2),rs(),Yo(3,vL,2,2,"select",27),rs()),2&e){var n=gs().$implicit,r=gs(2);Ur(2),Hs(n.label),Ur(1),es("ngIf",r.constants)}}function yL(e,t){if(1&e&&(ns(0,"clr-input-container"),ns(1,"label",25),zs(2),rs(),is(3,"input",31),rs()),2&e){var n=gs(),r=n.$implicit,i=n.index,o=gs(2);Ur(2),Hs(r.label),Ur(1),es("formControl",o.formArray.controls[i])}}function mL(e,t){if(1&e&&(ns(0,"clr-input-container"),ns(1,"label",25),zs(2),rs(),is(3,"input",32),rs()),2&e){var n=gs(),r=n.$implicit,i=n.index,o=gs(2);Ur(2),Hs(r.label),Ur(1),es("formControl",o.formArray.controls[i])}}function _L(e,t){if(1&e&&(ns(0,"clr-checkbox-wrapper"),is(1,"input",33),ns(2,"label"),zs(3),rs(),rs()),2&e){var n=t.$implicit,r=t.index,i=gs(2).index,o=gs(2);Ur(1),es("formControl",o.getCheckboxControl(i,r,o.formArray)),Ur(2),qs("",n.icon," ",n.label,"")}}function bL(e,t){if(1&e&&(ns(0,"clr-checkbox-container"),ns(1,"label",25),zs(2),rs(),Yo(3,_L,4,3,"clr-checkbox-wrapper",2),rs()),2&e){var n=gs().$implicit;Ur(2),Hs(n.label),Ur(1),es("ngForOf",n.tags)}}function kL(e,t){if(1&e&&(ns(0,"form",23),Yo(1,dL,4,2,"clr-date-container",24),Yo(2,gL,4,2,"clr-select-container",24),Yo(3,yL,4,2,"clr-input-container",24),Yo(4,mL,4,2,"clr-input-container",24),Yo(5,bL,4,2,"clr-checkbox-container",24),rs()),2&e){var n=t.$implicit,r=gs(2);es("formGroup",r.formGroup),Ur(1),es("ngIf",r.isType(n,"date-select")),Ur(1),es("ngIf",r.isType(n,"division-select")),Ur(1),es("ngIf",r.isType(n,"text")),Ur(1),es("ngIf",r.isType(n,"number")),Ur(1),es("ngIf",r.isType(n,"tag-select"))}}function wL(e,t){if(1&e){var n=us();ns(0,"clr-modal",12,13),hs("clrModalOpenChange",(function(e){return Kt(n),gs().addModalOpened=e})),ns(2,"h3",14),zs(3,"Add row"),rs(),ns(4,"div",15),ns(5,"clr-alert",16),hs("clrAlertClosedChange",(function(e){return Kt(n),!(gs().showItemAddConfirmation=e)})),ns(6,"clr-alert-item"),ns(7,"span",17),zs(8,"Item successfully added."),rs(),rs(),rs(),Yo(9,kL,6,6,"form",18),rs(),ns(10,"div",19),ns(11,"button",20),hs("click",(function(){return Kt(n),gs().addModalCancel()})),zs(12," Cancel "),rs(),ns(13,"button",21),hs("click",(function(){return Kt(n),gs().addAnother()})),zs(14," Add another "),rs(),ns(15,"button",22),hs("click",(function(){return Kt(n),gs().finishAddModal()})),zs(16," Add and finish "),rs(),rs(),rs()}if(2&e){var r=gs();es("clrModalOpen",r.addModalOpened),Ur(5),es("clrAlertType","success")("clrAlertClosed",!r.showItemAddConfirmation),Ur(4),es("ngForOf",r.interface.columns),Ur(4),es("disabled",r.formArray.invalid),Ur(2),es("disabled",r.formArray.invalid)}}function CL(e,t){if(1&e&&(ns(0,"clr-date-container"),ns(1,"label",25),zs(2),rs(),is(3,"input",26),rs()),2&e){var n=gs(),r=n.$implicit,i=n.index,o=gs(2);Ur(2),Hs(r.label),Ur(1),es("formControl",o.formArray.controls[i])}}function SL(e,t){if(1&e&&(ns(0,"option",30),zs(1),rs()),2&e){var n=t.$implicit;es("value",n.label),Ur(1),Gs(" ",n.label,"")}}function EL(e,t){if(1&e&&(ns(0,"select",28),Yo(1,SL,2,2,"option",29),rs()),2&e){var n=gs(2).index,r=gs(2);es("formControl",r.formArray.controls[n]),Ur(1),es("ngForOf",r.constants.divisions)}}function IL(e,t){if(1&e&&(ns(0,"clr-select-container"),ns(1,"label",25),zs(2),rs(),Yo(3,EL,2,2,"select",27),rs()),2&e){var n=gs().$implicit,r=gs(2);Ur(2),Hs(n.label),Ur(1),es("ngIf",r.constants)}}function TL(e,t){if(1&e&&(ns(0,"clr-input-container"),ns(1,"label",25),zs(2),rs(),is(3,"input",31),rs()),2&e){var n=gs(),r=n.$implicit,i=n.index,o=gs(2);Ur(2),Hs(r.label),Ur(1),es("formControl",o.formArray.controls[i])}}function xL(e,t){if(1&e&&(ns(0,"clr-input-container"),ns(1,"label",25),zs(2),rs(),is(3,"input",32),rs()),2&e){var n=gs(),r=n.$implicit,i=n.index,o=gs(2);Ur(2),Hs(r.label),Ur(1),es("formControl",o.formArray.controls[i])}}function AL(e,t){if(1&e&&is(0,"input",33),2&e){var n=gs().index,r=gs(2).index,i=gs(2);es("formControl",i.getCheckboxControl(r,n,i.formArray))}}function OL(e,t){if(1&e&&(ns(0,"clr-checkbox-wrapper"),Yo(1,AL,1,1,"input",35),ns(2,"label"),zs(3),rs(),rs()),2&e){var n=t.$implicit,r=gs(4);Ur(1),es("ngIf",r.editModalOpened),Ur(2),qs("",n.icon," ",n.label,"")}}function DL(e,t){if(1&e&&(ns(0,"clr-checkbox-container"),ns(1,"label",25),zs(2),rs(),Yo(3,OL,4,3,"clr-checkbox-wrapper",2),rs()),2&e){var n=gs().$implicit;Ur(2),Hs(n.label),Ur(1),es("ngForOf",n.tags)}}function RL(e,t){if(1&e&&(ns(0,"form",23),Yo(1,CL,4,2,"clr-date-container",24),Yo(2,IL,4,2,"clr-select-container",24),Yo(3,TL,4,2,"clr-input-container",24),Yo(4,xL,4,2,"clr-input-container",24),Yo(5,DL,4,2,"clr-checkbox-container",24),rs()),2&e){var n=t.$implicit,r=gs(2);es("formGroup",r.formGroup),Ur(1),es("ngIf",r.isType(n,"date-select")),Ur(1),es("ngIf",r.isType(n,"division-select")),Ur(1),es("ngIf",r.isType(n,"text")),Ur(1),es("ngIf",r.isType(n,"number")),Ur(1),es("ngIf",r.isType(n,"tag-select"))}}function PL(e,t){if(1&e){var n=us();ns(0,"clr-modal",12,34),hs("clrModalOpenChange",(function(e){return Kt(n),gs().editModalOpened=e})),ns(2,"h3",14),zs(3,"Edit row"),rs(),ns(4,"div",15),Yo(5,RL,6,6,"form",18),rs(),ns(6,"div",19),ns(7,"button",20),hs("click",(function(){return Kt(n),gs().editModalCancel()})),zs(8," Cancel "),rs(),ns(9,"button",22),hs("click",(function(){return Kt(n),gs().finishEdits()})),zs(10," Apply "),rs(),rs(),rs()}if(2&e){var r=gs();es("clrModalOpen",r.editModalOpened),Ur(5),es("ngForOf",r.interface.columns),Ur(4),es("disabled",r.formArray.invalid)}}var NL,FL=((NL=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).constantService=e,r.formArray=new $m([]),r.formLabels=[],r.sectionChanged=new pu,r.addModalOpened=!1,r.editModalOpened=!1,r.showItemAddConfirmation=!1,r}return _createClass(n,[{key:"ngOnInit",value:function(){var e=this;this.constantService.constants.subscribe((function(t){e.constants=t})),this.interface.value||(this.interface.value=[],console.warn("No value supplied for datagrid "+this.interface.title)),this.formGroup=new Wm({array:this.formArray})}},{key:"hasTag",value:function(e,t){var n=[];return e.forEach((function(e){n.push(e.label)})),n.includes(t.label)}},{key:"convertISOtoTraditional",value:function(e){if(!e)return null;var t=new Date(e),n=t.getFullYear(),r=(t.getMonth()+1).toString(),i=t.getDate().toString();t.getDate()<10&&(i="0"+i.toString()),t.getMonth()<10&&(r="0"+r);var o=r+"/"+i+"/"+n;return console.log("Converting: "+e+" to "+o),o}},{key:"convertTraditionalToISO",value:function(e){if(!e)return null;var t=e.split("/");if(3!==t.length)return console.warn("Invalid date: "+e),null;var n=+t[0]-1,r=+t[1],i=+t[2],o=new Date;o.setMonth(n),o.setDate(r),o.setFullYear(i);var s=o.toISOString();return console.log("Converting: "+e+" to "+s),s}},{key:"buildFormFromInterface",value:function(e){var t=this;console.log(e);var n=this.interface.columns;this.formArray=new $m([]),this.formLabels=[],n?(n.forEach((function(n,r){if(t.formLabels.push(n.label),"tag-select"===n.type){var i=new $m([]);n.tags&&(n.tags.forEach((function(o,s){var a=new qm(!1);e&&e[r]&&e[r].tags&&(a.setValue(t.hasTag(e[r].tags,o)),console.log(o,t.hasTag(n.tags,o))),i.push(a)})),console.log(i.value),t.formArray.push(i))}else e&&e[r]?(console.log("Pushing "+e[r]),t.formArray.push(new qm("date-select"===n.type?t.convertISOtoTraditional(e[r]):e[r]))):t.formArray.push(new qm)})),console.log(this.formArray.value)):console.warn("[Datagrid] Cannot build form. No columns could be found.")}},{key:"addRowFromFormArray",value:function(){var e=this,t=[];this.interface.columns.forEach((function(n,r){if("tag-select"===n.type){var i=[];n.tags.forEach((function(t,n){!0===e.formArray.at(r).at(n).value&&i.push(t)})),t.push({tags:i})}else t.push("date-select"===n.type?e.convertTraditionalToISO(e.formArray.at(r).value):e.formArray.at(r).value)})),console.log(this.interface),this.interface.value.push({row:t}),this.sectionChanged.emit(this.interface)}},{key:"deleteRow",value:function(e){this.interface.value.splice(e,1),this.sectionChanged.emit(this.interface)}},{key:"finishAddModal",value:function(){this.addModalOpened=!1,this.addRowFromFormArray(),this.formArray.reset()}},{key:"openEditModal",value:function(e){this.selectedRow=e,this.buildFormFromInterface(this.interface.value[e].row),this.editModalOpened=!0}},{key:"finishEdits",value:function(){this.editModalOpened=!1,this.editRow(this.selectedRow),this.formArray.reset()}},{key:"editRow",value:function(e){var t=this,n=[];this.interface.columns.forEach((function(e,r){if("tag-select"===e.type){var i=[];e.tags.forEach((function(e,n){!0===t.formArray.at(r).at(n).value&&i.push(e)})),n.push({tags:i})}else n.push("date-select"===e.type?t.convertTraditionalToISO(t.formArray.at(r).value):t.formArray.at(r).value)})),console.log("Finished edits: "+n),this.interface.value[e]={row:n},this.sectionChanged.emit(this.interface)}},{key:"isDate",value:function(e){var t=this.interface.columns[e].type;return"date-select"===t||"month-select"===t}},{key:"openAddModal",value:function(){this.buildFormFromInterface(),this.addModalOpened=!0}},{key:"addAnother",value:function(){var e=this;this.addRowFromFormArray(),this.buildFormFromInterface(),console.log(this.interface.value),this.showItemAddConfirmation=!0,setTimeout((function(){e.showItemAddConfirmation=!1}),3e3)}},{key:"addModalCancel",value:function(){this.addModalOpened=!1,this.formArray.reset()}},{key:"editModalCancel",value:function(){this.editModalOpened=!1,this.formArray.reset()}},{key:"isTagObj",value:function(e){return!(null==e||!e.tags)}},{key:"checkArrayValidity",value:function(){this.formArray.controls.forEach((function(e){console.log(e.value+" | "+e.status)})),console.log(this.formArray.status),console.log(this.formArray.valid)}}]),n}(rL)).\u0275fac=function(e){return new(e||NL)(Zo(Rf))},NL.\u0275cmp=dt({type:NL,selectors:[["datagrid-section"]],inputs:{interface:"interface"},outputs:{sectionChanged:"sectionChanged"},features:[Ys],decls:14,vars:6,consts:[["class","subtitle",4,"ngIf"],[4,"clrDgItems","clrDgItemsOf"],[4,"ngFor","ngForOf"],[1,"btn-group","btn-link","btn-sm"],[1,"btn",3,"click"],[3,"clrModalOpen","clrModalOpenChange",4,"ngIf"],[1,"subtitle"],[1,"action-item",3,"click"],[4,"ngIf","ngIfElse"],["tagRenderer",""],["plainCell",""],[3,"title"],[3,"clrModalOpen","clrModalOpenChange"],["addModal",""],[1,"modal-title"],[1,"modal-body"],[3,"clrAlertType","clrAlertClosed","clrAlertClosedChange"],[1,"alert-text"],["clrForm","","clrLayout","vertical",3,"formGroup",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn",3,"disabled","click"],["type","button",1,"btn","btn-success",3,"disabled","click"],["clrForm","","clrLayout","vertical",3,"formGroup"],[4,"ngIf"],["for",""],["type","date","clrDate","",3,"formControl"],["clrSelect","",3,"formControl",4,"ngIf"],["clrSelect","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["clrInput","","type","text",3,"formControl"],["clrInput","","type","number",3,"formControl"],["type","checkbox","clrCheckbox","",3,"formControl"],["editModal",""],["type","checkbox","clrCheckbox","",3,"formControl",4,"ngIf"]],template:function(e,t){1&e&&(ns(0,"h1"),zs(1),rs(),Yo(2,iL,2,1,"h5",0),ns(3,"clr-datagrid"),ns(4,"clr-dg-placeholder"),zs(5,"Nothing to see here. Try adding more content."),rs(),Yo(6,oL,2,1,"clr-dg-column",1),Yo(7,fL,7,1,"clr-dg-row",2),ns(8,"clr-dg-footer"),ns(9,"div",3),ns(10,"button",4),hs("click",(function(){return t.openAddModal()})),zs(11,"Add new"),rs(),rs(),rs(),rs(),Yo(12,wL,17,6,"clr-modal",5),Yo(13,PL,11,3,"clr-modal",5)),2&e&&(Ur(1),Hs(t.interface.title),Ur(1),es("ngIf",t.interface.subtitle),Ur(4),es("clrDgItemsOf",t.interface.columns),Ur(1),es("ngForOf",t.interface.value),Ur(5),es("ngIf",t.addModalOpened),Ur(1),es("ngIf",t.editModalOpened))},directives:[Hh,uO,OO,EA,IA,AA,MA,LA,Bh,kO,NA,IO,nO,xO,lO,GA,EO,pP,vP,MR,VR,LR,o_,Ny,cE,lE,l_,fI,aE,Sy,fx,Py,u_,Dx,lm,Rx,hm,ym,bx,kx,Ky,_E,yE,ky,mE],pipes:[uf],styles:[".subtitle[_ngcontent-%COMP%]{margin-top:0}"]}),NL);function LL(e,t){if(1&e&&(ns(0,"option",7),zs(1),rs()),2&e){var n=t.$implicit;es("value",n),Ur(1),Gs(" ",n,"")}}var ML,VL=((ML=function(){function e(){_classCallCheck(this,e),this.year=(new Date).getFullYear(),this.onChange=function(e){},this.onTouched=function(){},this._monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"]}return _createClass(e,[{key:"writeValue",value:function(e){e||(e=(new Date).toISOString()),this.dateString=e,console.log(e),this.year=new Date(e).getFullYear(),this.monthIndex=new Date(e).getMonth(),console.log(this._monthNames[this.monthIndex]),this.formGroup.get("yearInput").setValue(this.year),this.formGroup.get("monthInput").setValue(this._monthNames[this.monthIndex])}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){e?this.formGroup.disable():this.formGroup.enable()}},{key:"ngOnInit",value:function(){var e=this;this.formGroup=new Wm({monthInput:new qm,yearInput:new qm(this.year)}),console.log("Initial is ",this.monthIndex),this.formGroup.valueChanges.subscribe((function(t){e.monthIndex!==e._monthNames.indexOf(t.monthInput)&&(console.log(e._monthNames.indexOf(t.monthInput)),e._monthNames.indexOf(t.monthInput)>-1&&(e.monthIndex=e._monthNames.indexOf(t.monthInput))),e.year=t.yearInput;var n=new Date;n.setMonth(e.monthIndex),n.setFullYear(e.year),e.dateString=n.toISOString(),e.value=e.dateString}))}},{key:"value",set:function(e){this.dateString=e,this.onChange(e),this.onTouched(e)}}]),e}()).\u0275fac=function(e){return new(e||ML)},ML.\u0275cmp=dt({type:ML,selectors:[["month-select"]],inputs:{label:"label"},features:[ha([{provide:_y,useExisting:Se((function(){return ML})),multi:!0}])],decls:10,vars:3,consts:[[3,"formGroup"],["for","",1,"p4"],[1,"clr-row","clr-align-items-start",2,"margin","0"],["clrSelect","","formControlName","monthInput",1,"clr-col"],[3,"value",4,"ngFor","ngForOf"],[1,"clr-col"],["clrInput","","type","number","placeholder","Year","formControlName","yearInput",2,"margin-left","0.5rem"],[3,"value"]],template:function(e,t){1&e&&(ns(0,"form",0),ns(1,"label",1),zs(2),rs(),ns(3,"div",2),ns(4,"select",3),Yo(5,LL,2,2,"option",4),rs(),ns(6,"clr-input-container",5),is(7,"input",6),ns(8,"clr-control-error"),zs(9,"Does this year make sense?"),rs(),rs(),rs(),rs()),2&e&&(es("formGroup",t.formGroup),Ur(2),Hs(t.label),Ur(3),es("ngForOf",t._monthNames))},directives:[o_,Ny,l_,aE,lm,Rx,Py,C_,Bh,bx,Ky,Sy,kx,rE,hm,ym],styles:[""]}),ML);function jL(e,t){if(1&e&&(ns(0,"h5",2),zs(1),rs()),2&e){var n=gs();Ur(1),Hs(n.interface.subtitle)}}function UL(e,t){if(1&e&&(ns(0,"clr-date-container"),ns(1,"label",6),zs(2),rs(),is(3,"input",7),rs()),2&e){var n=gs(),r=n.$implicit,i=n.index,o=gs();Ur(2),Hs(r.label),Ur(1),es("formControl",o.formArray.controls[i])}}function BL(e,t){if(1&e&&(ns(0,"option",10),zs(1),rs()),2&e){var n=t.$implicit;es("value",n.label),Ur(1),Gs(" ",n.label,"")}}function zL(e,t){if(1&e&&(ns(0,"clr-select-container"),ns(1,"label",6),zs(2),rs(),ns(3,"select",8),Yo(4,BL,2,2,"option",9),rs(),rs()),2&e){var n=gs(),r=n.$implicit,i=n.index,o=gs();Ur(2),Hs(r.label),Ur(1),es("formControl",o.formArray.controls[i]),Ur(1),es("ngForOf",o.getConstant("divisions"))}}function HL(e,t){if(1&e&&is(0,"month-select",11),2&e){var n=gs(),r=n.$implicit,i=n.index,o=gs();es("label",r.label)("formControl",o.formArray.controls[i])}}function GL(e,t){if(1&e&&(ns(0,"clr-input-container"),ns(1,"label",6),zs(2),rs(),is(3,"input",12),rs()),2&e){var n=gs(),r=n.$implicit,i=n.index,o=gs();Ur(2),Hs(r.label),Ur(1),es("formControl",o.formArray.controls[i])}}function qL(e,t){if(1&e&&(ns(0,"clr-input-container"),ns(1,"label",6),zs(2),rs(),is(3,"input",13),rs()),2&e){var n=gs(),r=n.$implicit,i=n.index,o=gs();Ur(2),Hs(r.label),Ur(1),es("formControl",o.formArray.controls[i])}}function WL(e,t){if(1&e&&(ns(0,"clr-checkbox-wrapper"),is(1,"input",15),ns(2,"label"),zs(3),rs(),rs()),2&e){var n=t.$implicit,r=t.index,i=gs(2).index,o=gs();Ur(1),es("formControl",o.getCheckboxControl(i,r,o.formArray)),Ur(2),qs("",n.icon," ",n.label,"")}}function $L(e,t){if(1&e&&(ns(0,"clr-checkbox-container"),ns(1,"label",6),zs(2),rs(),Yo(3,WL,4,3,"clr-checkbox-wrapper",14),rs()),2&e){var n=gs().$implicit;Ur(2),Hs(n.label),Ur(1),es("ngForOf",n.tags)}}function QL(e,t){if(1&e&&(ns(0,"clr-textarea-container"),ns(1,"label"),zs(2),rs(),is(3,"textarea",16),rs()),2&e){var n=gs(),r=n.$implicit,i=n.index,o=gs();Ur(2),Hs(r.label),Ur(1),es("formControl",o.formArray.controls[i])}}function YL(e,t){if(1&e&&(ns(0,"form",3),Yo(1,UL,4,2,"clr-date-container",4),Yo(2,zL,5,3,"clr-select-container",4),Yo(3,HL,1,2,"month-select",5),Yo(4,GL,4,2,"clr-input-container",4),Yo(5,qL,4,2,"clr-input-container",4),Yo(6,$L,4,2,"clr-checkbox-container",4),Yo(7,QL,4,2,"clr-textarea-container",4),rs()),2&e){var n=t.$implicit,r=gs();es("formGroup",r.formGroup),Ur(1),es("ngIf",r.isType(n,"date-select")),Ur(1),es("ngIf",r.isType(n,"division-select")),Ur(1),es("ngIf",r.isType(n,"month-select")),Ur(1),es("ngIf",r.isType(n,"text")),Ur(1),es("ngIf",r.isType(n,"number")),Ur(1),es("ngIf",r.isType(n,"tag-select")),Ur(1),es("ngIf",r.isType(n,"textarea"))}}var KL,ZL=((KL=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._ReportService=e,r.formArray=new $m([],{updateOn:"blur"}),r.formLabels=[],r.sectionChanged=new pu,r}return _createClass(n,[{key:"hasTag",value:function(e,t){var n=[];return e&&e.forEach((function(e){n.push(e.label)})),n.includes(t.label)}},{key:"convertISOtoTraditional",value:function(e){var t=new Date(e),n=t.getFullYear(),r=(t.getMonth()+1).toString(),i=t.getDate().toString();t.getDate()<10&&(i="0"+i.toString()),t.getMonth()<10&&(r="0"+r);var o=r+"/"+i+"/"+n;return console.log("Converting: "+e+" to "+o),o}},{key:"convertTraditionalToISO",value:function(e){var t=e.split("/"),n=+t[0]-1,r=+t[1],i=+t[2],o=new Date;o.setMonth(n),o.setDate(r),o.setFullYear(i);var s=o.toISOString();return console.log("Converting: "+e+" to "+s),s}},{key:"buildForm",value:function(){var e=this;this.inputs?(this.inputs.forEach((function(t,n){if(e.formLabels.push(t.label),e.interface.value){var r=e.interface.value;if("tag-select"===t.type){var i=new $m([]);console.log(r),t.tags.forEach((function(t){i.push(r[n]?new qm(e.hasTag(r[n].tags,t)):new qm)})),e.formArray.push(i)}else e.formArray.push(new qm("month-select"===t.type?r[n]:"date-select"===t.typle?e.convertISOtoTraditional(r[n]):r[n]))}else if("tag-select"===t.type){var o=new $m([]);t.tags.forEach((function(e){o.push(new qm(null))})),e.formArray.push(o)}else if("month-select"===t.type){var s=new Date;e.formArray.push(new qm(s.toISOString()))}else e.formArray.push(new qm(null))})),console.log(this.formArray)):console.error("No inputs were found for "+this.title)}},{key:"ngOnInit",value:function(){var e=this;this.inputs=this.interface.inputs,this.buildForm(),this.formGroup=new Wm({array:this.formArray},{updateOn:"blur"}),this.formArray.valueChanges.subscribe((function(t){"meta"===e.interface.type&&e._ReportService.report&&e.interface.inputs.forEach((function(t,n){var r=t.link;console.log(r),"coverageDate"===r?e._ReportService.setCoverageDate(e.formArray.value[n]):"additionalInfo"===r?e._ReportService.setAdditionalInfo(e.formArray.value[n]):"title"===r?e._ReportService.setTitle(e.formArray.value[n]):"subject"===r?e._ReportService.setSubject(e.formArray.value[n]):"tags"===r&&e._ReportService.setTags(e.formArray.value[n])})),console.log(t);var n=[];t.forEach((function(r,i){var o=e.interface.inputs[i].type;if("tag-select"===o){var s=[],a=e.interface.inputs[i].tags;r.forEach((function(e,t){e&&s.push(a[t])})),n.push({tags:s})}else n.push("date-select"===o?e.convertTraditionalToISO(t[i]):t[i])})),console.log(n),e.interface.value=n,e.sectionChanged.emit(e.interface)}))}},{key:"getConstant",value:function(e){return["a","b","c"]}}]),n}(rL)).\u0275fac=function(e){return new(e||KL)(Zo(bg))},KL.\u0275cmp=dt({type:KL,selectors:[["simple-input"]],inputs:{interface:"interface",meta:"meta",constants:"constants"},outputs:{sectionChanged:"sectionChanged"},features:[Ys],decls:4,vars:3,consts:[["class","subtitle",4,"ngIf"],["clrForm","","clrLayout","vertical",3,"formGroup",4,"ngFor","ngForOf"],[1,"subtitle"],["clrForm","","clrLayout","vertical",3,"formGroup"],[4,"ngIf"],[3,"label","formControl",4,"ngIf"],["for",""],["type","date","clrDate","",3,"formControl"],["clrSelect","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"label","formControl"],["clrInput","","type","text",3,"formControl"],["clrInput","","type","number",3,"formControl"],[4,"ngFor","ngForOf"],["type","checkbox","clrCheckbox","",3,"formControl"],["clrTextarea","","name","description",3,"formControl"]],template:function(e,t){1&e&&(ns(0,"h1"),zs(1),rs(),Yo(2,jL,2,1,"h5",0),Yo(3,YL,8,8,"form",1)),2&e&&(Ur(1),Hs(t.interface.title),Ur(1),es("ngIf",t.interface.subtitle),Ur(1),es("ngForOf",t.inputs))},directives:[Hh,Bh,o_,Ny,cE,lE,l_,fI,aE,Sy,fx,Py,u_,Dx,lm,Rx,hm,ym,VL,bx,kx,Ky,_E,yE,ky,mE,Nx,Fx],styles:[".clr-textarea-wrapper[_ngcontent-%COMP%]{width:100%}"]}),KL);function XL(e,t){if(1&e){var n=us();ns(0,"input",10),hs("ngModelChange",(function(e){return Kt(n),gs()._template.templateID=e})),rs()}2&e&&es("ngModel",gs()._template.templateID)}function JL(e,t){1&e&&(ns(0,"span",11),is(1,"clr-icon",12),ns(2,"em"),zs(3,"No pages yet."),rs(),rs())}function eM(e,t){1&e&&(ns(0,"clr-tooltip-content",20),ns(1,"span"),zs(2,'Double click on a page or section below to open the properties pane. Use the "+" buttons to add content.'),rs(),rs())}function tM(e,t){if(1&e){var n=us();ns(0,"clr-tree-node"),ns(1,"h4",15),zs(2,"Overview"),rs(),ns(3,"clr-tooltip"),is(4,"clr-icon",16),Yo(5,eM,3,0,"clr-tooltip-content",17),rs(),ns(6,"button",18),hs("click",(function(){return Kt(n),gs(2).addPage()})),is(7,"clr-icon",19),rs(),rs()}}function nM(e,t){if(1&e){var n=us();ns(0,"button",28),hs("click",(function(){Kt(n);var e=gs().index;return gs(2).addMetaSection(e)})),zs(1," Add Meta Section "),is(2,"clr-icon",19),rs()}}function rM(e,t){if(1&e){var n=us();ns(0,"clr-tree-node",29),hs("dblclick",(function(){Kt(n);var e=t.$implicit;return gs(3).openEditSection(e)})),ns(1,"div",30),zs(2),is(3,"clr-icon",31),rs(),rs()}if(2&e){var r=t.$implicit;Ur(2),Gs(" ",r.title,"")}}function iM(e,t){if(1&e){var n=us();ns(0,"clr-tree-node",29),hs("dblclick",(function(){Kt(n);var e=t.$implicit;return gs(3).openEditSection(e)})),is(1,"clr-icon",32),ns(2,"div",30),zs(3),rs(),rs()}if(2&e){var r=t.$implicit;Ur(3),Hs(r.title)}}function oM(e,t){if(1&e){var n=us();ns(0,"clr-tree-node",29),hs("dblclick",(function(){Kt(n);var e=t.$implicit;return gs(3).openEditSection(e)})),is(1,"clr-icon",33),ns(2,"div",30),zs(3),rs(),rs()}if(2&e){var r=t.$implicit;Ur(3),Gs(" ",r.title," ")}}function sM(e,t){if(1&e){var n=us();ns(0,"clr-tree-node",21),hs("clrExpandedChange",(function(e){Kt(n);var r=t.index;return gs(2).pageExpansions[r]=e}))("click",(function(){Kt(n);var e=t.index;return gs(2).setCurrentPage(e)})),ns(1,"div",22),hs("dblclick",(function(){Kt(n);var e=t.index;return gs(2).openEditPage(e)})),ns(2,"div"),is(3,"clr-icon",23),zs(4),rs(),rs(),ns(5,"clr-tree-node"),is(6,"p",24),Yo(7,nM,3,0,"button",25),rs(),Yo(8,rM,4,1,"clr-tree-node",26),ns(9,"clr-tree-node"),ns(10,"p",24),zs(11,"Datagrids"),rs(),ns(12,"button",27),hs("click",(function(){Kt(n);var e=t.index;return gs(2).addDatagrid(e)})),is(13,"clr-icon",19),rs(),rs(),Yo(14,iM,4,1,"clr-tree-node",26),ns(15,"clr-tree-node"),ns(16,"p",24),zs(17,"SimpleInputs"),rs(),ns(18,"button",27),hs("click",(function(){Kt(n);var e=t.index;return gs(2).addSimpleInput(e)})),is(19,"clr-icon",19),rs(),rs(),Yo(20,oM,4,1,"clr-tree-node",26),rs()}if(2&e){var r=t.$implicit,i=t.index,o=gs(2);es("clrExpanded",o.pageExpansions[i]),Ur(4),Gs(" ",r.title,""),Ur(3),es("ngIf",!o.hasMetaSection),Ur(1),es("ngForOf",o.getSectionsByType(i,"meta")),Ur(6),es("ngForOf",o.getDatagrids(i)),Ur(6),es("ngForOf",o.getSimpleInputs(i))}}function aM(e,t){if(1&e&&(ns(0,"div",11),ns(1,"clr-tree"),Yo(2,tM,8,0,"clr-tree-node",13),Yo(3,sM,21,6,"clr-tree-node",14),rs(),rs()),2&e){var n=gs();Ur(2),es("ngIf",n._template.pages),Ur(1),es("ngForOf",n._template.pages)}}function uM(e,t){if(1&e){var n=us();ns(0,"datagrid-section",65),hs("sectionChanged",(function(e){Kt(n);var t=gs().$implicit;return gs(2).setSection(t,e)})),rs()}2&e&&es("interface",gs().$implicit)}function cM(e,t){if(1&e){var n=us();ns(0,"simple-input",65),hs("sectionChanged",(function(e){Kt(n);var t=gs().$implicit;return gs(2).setSection(t,e)})),rs()}2&e&&es("interface",gs().$implicit)}function lM(e,t){if(1&e){var n=us();ns(0,"div",11),ns(1,"div",35),ns(2,"div",62),ns(3,"button",37),hs("click",(function(){Kt(n);var e=t.$implicit;return gs(2).openEditSection(e)})),is(4,"clr-icon",38),rs(),rs(),rs(),ns(5,"div",39),Yo(6,uM,1,1,"datagrid-section",63),Yo(7,cM,1,1,"ng-template",null,64,Lu),is(9,"div"),rs(),rs()}if(2&e){var r=t.$implicit,i=Ko(8),o=gs(2);Ur(6),es("ngIf",o.isDatagrid(r))("ngIfElse",i)}}function hM(e,t){1&e&&(ns(0,"clr-tooltip-content",74),ns(1,"span"),ns(2,"em"),zs(3,"Datagrids"),rs(),zs(4," are tables, good for lots of data."),is(5,"br"),ns(6,"em"),zs(7,"SimpleInputs"),rs(),zs(8," are basic forms, good for a few questions."),is(9,"br"),ns(10,"em"),zs(11,"Meta sections"),rs(),zs(12," are SimpleInputs that link to properties in the report-- i.e. coverage date."),rs(),rs())}function fM(e,t){1&e&&(ns(0,"clr-tooltip-content",79),ns(1,"span"),zs(2,"Modifying this section might "),ns(3,"b"),zs(4,"clear existing prefill"),rs(),zs(5,"."),rs(),rs())}function dM(e,t){1&e&&(ns(0,"clr-tooltip"),is(1,"clr-icon",77),Yo(2,fM,6,0,"clr-tooltip-content",78),rs())}function pM(e,t){if(1&e&&(ns(0,"span"),zs(1),rs()),2&e){var n=gs(4);Ur(1),Gs("",n.sectionInEdit.columns.length," columns")}}function vM(e,t){if(1&e){var n=us();ns(0,"clr-accordion-content",94),ns(1,"label",56),zs(2,"Tag label"),rs(),ns(3,"input",54),hs("ngModelChange",(function(e){return Kt(n),gs().$implicit.label=e})),rs(),ns(4,"label",56),zs(5,"Tag icon"),rs(),ns(6,"emoji-picker",95),hs("emoji-click",(function(e){Kt(n);var t=gs().index,r=gs(2).$implicit;return gs(4).editTagEmoji(r,t,e)})),rs(),rs()}if(2&e){var r=gs().$implicit;Ur(3),es("ngModel",r.label)}}function gM(e,t){if(1&e){var n=us();ns(0,"clr-accordion-panel"),ns(1,"clr-accordion-title"),zs(2),ns(3,"button",91),hs("click",(function(){Kt(n);var e=t.index,r=gs(2).$implicit;return gs(4).deleteTag(r,e)})),is(4,"clr-icon",92),rs(),rs(),Yo(5,vM,7,1,"clr-accordion-content",93),rs()}if(2&e){var r=t.$implicit;Ur(2),qs("",r.icon," ",r.label," ")}}function yM(e,t){if(1&e){var n=us();ns(0,"div",89),ns(1,"div",11),ns(2,"label",56),zs(3,"Tags"),rs(),rs(),ns(4,"clr-accordion"),Yo(5,gM,6,2,"clr-accordion-panel",76),rs(),ns(6,"div",11),ns(7,"button",90),hs("click",(function(e){Kt(n);var t=gs().$implicit;return gs(4).addTag(t,e)})),zs(8," Add tag "),rs(),rs(),rs()}if(2&e){var r=gs().$implicit;Ur(5),es("ngForOf",r.tags)}}function mM(e,t){if(1&e){var n=us();ns(0,"clr-stack-block"),ns(1,"clr-stack-label"),zs(2),ns(3,"button",80),hs("click",(function(){Kt(n);var e=t.index;return gs(4).deleteColumn(e)})),is(4,"clr-icon",81),rs(),rs(),ns(5,"clr-stack-content"),ns(6,"input",82),hs("ngModelChange",(function(e){Kt(n);var r=t.index;return gs(4).sectionInEdit.columns[r].label=e})),rs(),ns(7,"select",70),hs("ngModelChange",(function(e){Kt(n);var r=t.index;return gs(4).sectionInEdit.columns[r].type=e}))("ngModelChange",(function(e){Kt(n);var r=t.$implicit;return gs(4).typeChanged(r,e)})),ns(8,"option",83),zs(9,"Division Select"),rs(),ns(10,"option",84),zs(11,"Text"),rs(),ns(12,"option",85),zs(13,"Number"),rs(),ns(14,"option",86),zs(15,"Date"),rs(),ns(16,"option",87),zs(17,"Tag Select"),rs(),rs(),Yo(18,yM,9,1,"div",88),rs(),rs()}if(2&e){var r=t.$implicit,i=t.index,o=gs(4);Ur(2),Gs("Column ",i+1," "),Ur(4),es("ngModel",o.sectionInEdit.columns[i].label),Ur(1),es("ngModel",o.sectionInEdit.columns[i].type),Ur(11),es("ngIf",o.isEqual(r.type,"tag-select"))}}function _M(e,t){if(1&e){var n=us();ns(0,"clr-stack-block"),ns(1,"clr-stack-label"),zs(2," Columns "),Yo(3,dM,3,0,"clr-tooltip",13),rs(),ns(4,"clr-stack-content"),Yo(5,pM,2,1,"span",13),ns(6,"button",75),hs("click",(function(e){return Kt(n),gs(3).addColumn(e)})),is(7,"clr-icon",19),rs(),rs(),Yo(8,mM,19,4,"clr-stack-block",76),rs()}if(2&e){var r=gs(3);Ur(3),es("ngIf",r.hasPrefill(r.sectionInEdit)),Ur(2),es("ngIf",r.sectionInEdit.columns),Ur(3),es("ngForOf",r.sectionInEdit.columns)}}function bM(e,t){1&e&&(ns(0,"clr-tooltip-content",79),ns(1,"span"),zs(2,"Modifying this section might "),ns(3,"b"),zs(4,"clear existing prefill"),rs(),zs(5,"."),rs(),rs())}function kM(e,t){1&e&&(ns(0,"clr-tooltip"),is(1,"clr-icon",77),Yo(2,bM,6,0,"clr-tooltip-content",78),rs())}function wM(e,t){if(1&e){var n=us();ns(0,"clr-stack-content"),zs(1),ns(2,"button",96),hs("click",(function(e){return Kt(n),gs(4).addInput(e)})),is(3,"clr-icon",19),rs(),rs()}if(2&e){var r=gs(4);Ur(1),Gs(" ",r.sectionInEdit.inputs.length," inputs ")}}function CM(e,t){if(1&e){var n=us();ns(0,"div",100),hs("click",(function(){Kt(n);var e=gs(2).index,t=gs(4);return t.moveInArray(e,e-1,t.sectionInEdit.inputs)})),zs(1," Move up "),rs()}}function SM(e,t){if(1&e){var n=us();ns(0,"div",100),hs("click",(function(){Kt(n);var e=gs(2).index,t=gs(4);return t.moveInArray(e,e+1,t.sectionInEdit.inputs)})),zs(1," Move down "),rs()}}function EM(e,t){if(1&e){var n=us();ns(0,"clr-dropdown-menu"),ns(1,"div",100),hs("click",(function(){Kt(n);var e=gs().index,t=gs(4);return t.deleteInArray(e,t.sectionInEdit.inputs)})),zs(2," Delete input "),rs(),Yo(3,CM,2,0,"div",101),Yo(4,SM,2,0,"div",101),rs()}if(2&e){var r=gs().index,i=gs(4);Ur(3),es("ngIf",r>0),Ur(1),es("ngIf",r<i.sectionInEdit.inputs.length-1)}}function IM(e,t){if(1&e){var n=us();ns(0,"clr-accordion-content",94),ns(1,"label",56),zs(2,"Tag label"),rs(),ns(3,"input",54),hs("ngModelChange",(function(e){return Kt(n),gs().$implicit.label=e})),rs(),ns(4,"label",56),zs(5,"Tag icon"),rs(),ns(6,"emoji-picker",95),hs("emoji-click",(function(e){Kt(n);var t=gs().index,r=gs(3).$implicit;return gs(4).editTagEmoji(r,t,e)})),rs(),rs()}if(2&e){var r=gs().$implicit;Ur(3),es("ngModel",r.label)}}function TM(e,t){if(1&e){var n=us();ns(0,"clr-accordion-panel"),ns(1,"clr-accordion-title"),zs(2),ns(3,"button",91),hs("click",(function(){Kt(n);var e=t.index,r=gs(3).$implicit;return gs(4).deleteTag(r,e)})),is(4,"clr-icon",92),rs(),rs(),Yo(5,IM,7,1,"clr-accordion-content",93),rs()}if(2&e){var r=t.$implicit;Ur(2),qs("",r.icon," ",r.label," ")}}function xM(e,t){if(1&e){var n=us();ns(0,"div",89),ns(1,"div",11),ns(2,"label",56),zs(3,"Tags"),rs(),rs(),ns(4,"clr-accordion"),Yo(5,TM,6,2,"clr-accordion-panel",76),rs(),ns(6,"div",11),ns(7,"button",90),hs("click",(function(e){Kt(n);var t=gs(2).$implicit;return gs(4).addTag(t,e)})),zs(8," Add tag "),rs(),rs(),rs()}if(2&e){var r=gs(2).$implicit;Ur(5),es("ngForOf",r.tags)}}function AM(e,t){if(1&e){var n=us();ns(0,"clr-select-container"),ns(1,"label"),zs(2,"Type"),rs(),ns(3,"select",102),hs("ngModelChange",(function(e){return Kt(n),gs().$implicit.type=e}))("ngModelChange",(function(e){Kt(n);var t=gs().$implicit;return gs(4).typeChanged(t,e)})),ns(4,"option",83),zs(5,"Division Select"),rs(),ns(6,"option",84),zs(7,"Text"),rs(),ns(8,"option",85),zs(9,"Number"),rs(),ns(10,"option",86),zs(11,"Date"),rs(),ns(12,"option",87),zs(13,"Tag Select"),rs(),ns(14,"option",103),zs(15,"Month"),rs(),ns(16,"option",104),zs(17,"Multiline text"),rs(),rs(),Yo(18,xM,9,1,"div",88),rs()}if(2&e){var r=gs().$implicit,i=gs(4);Ur(3),es("ngModel",r.type),Ur(15),es("ngIf",i.isEqual(r.type,"tag-select"))}}function OM(e,t){if(1&e){var n=us();ns(0,"clr-select-container"),ns(1,"label"),zs(2,"Link"),rs(),ns(3,"select",102),hs("ngModelChange",(function(e){return Kt(n),gs().$implicit.link=e}))("ngModelChange",(function(e){Kt(n);var t=gs().$implicit;return gs(4).linkChanged(t,e)})),ns(4,"option",105),zs(5,"Report coverage date"),rs(),ns(6,"option",106),zs(7,"Additional info"),rs(),ns(8,"option",107),zs(9,"Report title"),rs(),ns(10,"option",108),zs(11,"Report subject"),rs(),ns(12,"option",109),zs(13,"Report tags"),rs(),rs(),rs()}if(2&e){var r=gs().$implicit;Ur(3),es("ngModel",r.link)}}function DM(e,t){if(1&e){var n=us();ns(0,"clr-accordion-content",94),ns(1,"label",56),zs(2,"Tag label"),rs(),ns(3,"input",54),hs("ngModelChange",(function(e){return Kt(n),gs().$implicit.label=e})),rs(),ns(4,"label",56),zs(5,"Tag icon"),rs(),ns(6,"emoji-picker",95),hs("emoji-click",(function(e){Kt(n);var t=gs().index,r=gs(2).$implicit;return gs(4).editTagEmoji(r,t,e)})),rs(),rs()}if(2&e){var r=gs().$implicit;Ur(3),es("ngModel",r.label)}}function RM(e,t){if(1&e){var n=us();ns(0,"clr-accordion-panel"),ns(1,"clr-accordion-title"),zs(2),ns(3,"button",91),hs("click",(function(){Kt(n);var e=t.index,r=gs(2).$implicit;return gs(4).deleteTag(r,e)})),is(4,"clr-icon",92),rs(),rs(),Yo(5,DM,7,1,"clr-accordion-content",93),rs()}if(2&e){var r=t.$implicit;Ur(2),qs("",r.icon," ",r.label," ")}}function PM(e,t){if(1&e){var n=us();ns(0,"div",89),ns(1,"div",11),ns(2,"label",56),zs(3,"Tags"),rs(),rs(),ns(4,"clr-accordion"),Yo(5,RM,6,2,"clr-accordion-panel",76),rs(),ns(6,"div",11),ns(7,"button",90),hs("click",(function(e){Kt(n);var t=gs().$implicit;return gs(4).addTag(t,e)})),zs(8," Add tag "),rs(),rs(),rs()}if(2&e){var r=gs().$implicit;Ur(5),es("ngForOf",r.tags)}}function NM(e,t){if(1&e){var n=us();ns(0,"clr-stack-block"),ns(1,"clr-stack-label"),zs(2),ns(3,"clr-dropdown"),ns(4,"button",97),is(5,"clr-icon",98),rs(),Yo(6,EM,5,2,"clr-dropdown-menu",99),rs(),rs(),ns(7,"clr-stack-content"),ns(8,"clr-input-container"),ns(9,"label"),zs(10,"Label"),rs(),ns(11,"input",54),hs("ngModelChange",(function(e){return Kt(n),t.$implicit.label=e})),rs(),rs(),Yo(12,AM,19,2,"clr-select-container",13),Yo(13,OM,14,1,"clr-select-container",13),Yo(14,PM,9,1,"div",88),rs(),rs()}if(2&e){var r=t.$implicit,i=t.index,o=gs(4);Ur(2),Gs(" Input ",i+1," "),Ur(9),es("ngModel",r.label),Ur(1),es("ngIf",o.isSectionType(o.sectionInEdit,"simple-input")),Ur(1),es("ngIf",o.isSectionType(o.sectionInEdit,"meta")),Ur(1),es("ngIf",o.isEqual(r.type,"tag-select"))}}function FM(e,t){if(1&e&&(ns(0,"clr-stack-block"),ns(1,"clr-stack-label"),zs(2," Inputs "),Yo(3,kM,3,0,"clr-tooltip",13),rs(),Yo(4,wM,4,1,"clr-stack-content",13),Yo(5,NM,15,5,"clr-stack-block",76),rs()),2&e){var n=gs(3);Ur(3),es("ngIf",n.hasPrefill(n.sectionInEdit)),Ur(1),es("ngIf",n.sectionInEdit),Ur(1),es("ngForOf",n.sectionInEdit.inputs)}}function LM(e,t){if(1&e){var n=us();ns(0,"clr-tab-content",66),ns(1,"clr-stack-view"),ns(2,"clr-stack-block"),ns(3,"clr-stack-label"),zs(4,"Title"),rs(),ns(5,"clr-stack-content"),ns(6,"input",67),hs("ngModelChange",(function(e){return Kt(n),gs(2).sectionInEdit.title=e})),rs(),rs(),rs(),ns(7,"clr-stack-block"),ns(8,"clr-stack-label"),zs(9,"Subtitle (optional)"),rs(),ns(10,"clr-stack-content"),ns(11,"input",67),hs("ngModelChange",(function(e){return Kt(n),gs(2).sectionInEdit.subtitle=e})),rs(),rs(),rs(),ns(12,"clr-stack-block"),ns(13,"clr-stack-label"),zs(14,"Type"),ns(15,"clr-tooltip"),is(16,"clr-icon",68),Yo(17,hM,13,0,"clr-tooltip-content",69),rs(),rs(),ns(18,"clr-stack-content"),ns(19,"select",70),hs("ngModelChange",(function(e){return Kt(n),gs(2).sectionInEdit.type=e}))("ngModelChange",(function(){Kt(n);var e=gs(2);return e.sectionTypeChanged(e.sectionInEdit)})),ns(20,"option",71),zs(21,"Datagrid"),rs(),ns(22,"option",72),zs(23,"SimpleInput"),rs(),ns(24,"option",73),zs(25,"Meta"),rs(),rs(),rs(),rs(),ns(26,"clr-stack-block"),ns(27,"clr-stack-label"),zs(28,"Order"),rs(),ns(29,"clr-stack-content"),ns(30,"button",57),hs("click",(function(){Kt(n);var e=gs(2);return e.sectionInEdit.index=e.sectionInEdit.index-1})),is(31,"clr-icon",58),rs(),zs(32),ns(33,"button",59),hs("click",(function(){Kt(n);var e=gs(2);return e.sectionInEdit.index=e.sectionInEdit.index+1})),is(34,"clr-icon",60),rs(),rs(),rs(),Yo(35,_M,9,3,"clr-stack-block",13),Yo(36,FM,6,3,"clr-stack-block",13),rs(),rs()}if(2&e){var r=gs(2);Ur(6),es("ngModel",r.sectionInEdit.title),Ur(5),es("ngModel",r.sectionInEdit.subtitle),Ur(8),es("ngModel",r.sectionInEdit.type),Ur(11),es("disabled",r.sectionInEdit.index<1),Ur(2),qs(" ",r.sectionInEdit.index+1,"/",r.currentPage.sections.length," "),Ur(1),es("disabled",r.sectionInEdit.index>r.currentPage.sections.length-2),Ur(2),es("ngIf",r.isDatagrid(r.sectionInEdit)),Ur(1),es("ngIf",r.isSimpleInput(r.sectionInEdit)||r.isSectionType(r.sectionInEdit,"meta"))}}function MM(e,t){1&e&&is(0,"simple-input",111),2&e&&es("interface",gs(3).sectionInEdit)}function VM(e,t){1&e&&is(0,"datagrid-section",111),2&e&&es("interface",gs(3).sectionInEdit)}function jM(e,t){if(1&e&&(ns(0,"clr-tab-content"),ns(1,"p"),is(2,"clr-icon",12),zs(3," Prefill is the default information present in each section. You can use it to offer hints on how a form should be filled. "),rs(),Yo(4,MM,1,1,"simple-input",110),Yo(5,VM,1,1,"datagrid-section",110),rs()),2&e){var n=gs(2);Ur(4),es("ngIf",n.isSimpleInput(n.sectionInEdit)||n.isSectionType(n.sectionInEdit,"meta")),Ur(1),es("ngIf",n.isDatagrid(n.sectionInEdit))}}function UM(e,t){if(1&e){var n=us();ns(0,"div",34),ns(1,"div",11),ns(2,"div",35),ns(3,"div",36),ns(4,"button",37),hs("click",(function(){Kt(n);var e=gs();return e.openEditPage(e.currentPage)})),is(5,"clr-icon",38),rs(),rs(),rs(),ns(6,"div",39),ns(7,"h1"),zs(8),rs(),rs(),rs(),is(9,"hr"),Yo(10,lM,10,2,"div",40),ns(11,"clr-modal",41),hs("clrModalOpenChange",(function(e){return Kt(n),gs().editSectionOpened=e})),ns(12,"h3",42),zs(13,"Section properties"),rs(),ns(14,"div",43),ns(15,"clr-tabs"),ns(16,"clr-tab"),ns(17,"button",44),zs(18,"Properties"),rs(),Yo(19,LM,37,9,"clr-tab-content",45),rs(),ns(20,"clr-tab"),ns(21,"button",46),zs(22,"Preview & prefill"),rs(),Yo(23,jM,6,2,"clr-tab-content",47),rs(),rs(),rs(),ns(24,"div",48),ns(25,"button",49),hs("click",(function(){return Kt(n),gs().cancelEditSection()})),zs(26," Cancel "),rs(),ns(27,"button",50),hs("click",(function(){Kt(n);var e=gs();return e.deleteSection(e.sectionInEdit)})),zs(28," Delete section "),rs(),ns(29,"button",51),hs("click",(function(){return Kt(n),gs().finishEditSection()})),zs(30," Apply changes "),rs(),rs(),rs(),ns(31,"clr-modal",52),hs("clrModalOpenChange",(function(e){return Kt(n),gs().editPageOpened=e})),ns(32,"h3",42),zs(33,"Page properties"),rs(),ns(34,"div",43),ns(35,"div",53),ns(36,"div",11),ns(37,"clr-input-container"),ns(38,"label"),zs(39,"Page title"),rs(),ns(40,"input",54),hs("ngModelChange",(function(e){return Kt(n),gs().currentPage.title=e})),rs(),rs(),rs(),ns(41,"div",55),ns(42,"label",56),zs(43,"Page order "),rs(),ns(44,"button",57),hs("click",(function(){return Kt(n),gs().movePageUp()})),is(45,"clr-icon",58),rs(),zs(46),ns(47,"button",59),hs("click",(function(){return Kt(n),gs().movePageDown()})),is(48,"clr-icon",60),rs(),rs(),rs(),rs(),ns(49,"div",48),ns(50,"button",61),hs("click",(function(){Kt(n);var e=gs();return e.deletePage(e.currentPage.index)})),zs(51," Delete page "),rs(),ns(52,"button",51),hs("click",(function(){return Kt(n),gs().finishEditPage()})),zs(53," Finish "),rs(),rs(),rs(),rs()}if(2&e){var r=gs();Ur(8),Hs(r.currentPage.title),Ur(2),es("ngForOf",r.currentPage.sections),Ur(1),es("clrModalOpen",r.editSectionOpened)("clrModalSize","xl"),Ur(12),es("clrIfActive",!0),Ur(8),es("clrModalOpen",r.editPageOpened),Ur(9),es("ngModel",r.currentPage.title),Ur(4),es("disabled",r.currentPage.index<1),Ur(2),qs(" ",r.currentPage.index+1,"/",r._template.pages.length," "),Ur(1),es("disabled",r.currentPage.index>r._template.pages.length-2)}}function BM(e,t){if(1&e&&(ns(0,"span"),ns(1,"b"),zs(2,"Original title: "),rs(),zs(3),is(4,"br"),rs()),2&e){var n=gs(2);Ur(3),Gs("",n.originalTemplateName," ")}}function zM(e,t){if(1&e){var n=us();ns(0,"clr-modal",41),hs("clrModalOpenChange",(function(e){return Kt(n),gs().saveTemplateOpen=e})),ns(1,"h3",42),zs(2,"Save template?"),rs(),ns(3,"div",112),ns(4,"b"),zs(5,"Title: "),rs(),zs(6),is(7,"br"),Yo(8,BM,5,1,"span",13),ns(9,"b"),zs(10,"Page count: "),rs(),zs(11),is(12,"br"),is(13,"hr"),ns(14,"div",113),ns(15,"b"),zs(16,"Magic text (for nerds):"),rs(),ns(17,"pre",114),zs(18),rs(),rs(),rs(),ns(19,"div",48),ns(20,"button",49),hs("click",(function(){return Kt(n),gs().cancelSaveTemplate()})),zs(21," Cancel "),rs(),ns(22,"button",115),hs("click",(function(){return Kt(n),gs().saveTemplate()})),zs(23," Save template "),rs(),rs(),rs()}if(2&e){var r=gs();es("clrModalOpen",r.saveTemplateOpen)("clrModalSize","lg"),Ur(6),Gs("",r._template.templateID," "),Ur(2),es("ngIf",r.originalTemplateName),Ur(3),Gs("",r._template.pages.length," "),Ur(7),Hs(r.getMagicText()),Ur(4),es("clrLoading",r.saveLoadingStatus)}}var HM,GM=((HM=function(){function e(t,n,r,i,o,s){_classCallCheck(this,e),this._ActivatedRoute=t,this._AngularFirestore=n,this._ConstantService=r,this._TS=i,this._UserService=o,this._Router=s,this.editSectionOpened=!1,this.editPageOpened=!1,this.saveTemplateOpen=!1,this.emojiPickerOpened=!1,this.saveLoadingStatus=QC.DEFAULT,this.inputsForm=new Wm({array:new $m([])}),this.columnsForm=new Wm({array:new $m([])})}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.constants$=this._ConstantService.constants,this._UserService.getUserObservable().subscribe((function(t){console.log(t),t&&"admin"!==t.role&&(console.error("The Builder is for admins only. Redirecting home."),e._Router.navigate([""]))})),this._ActivatedRoute.queryParamMap.subscribe((function(t){var n=t.get("open");n?e.openTemplate(n).then((function(){e.originalTemplateName=e._template.templateID,console.log(e._template)})).catch((function(){})):(e._template={id:null,templateID:"",pageStatuses:[],pageCount:0,completionStatus:"incomplete",pages:[]},e.templateChanged())})),this.tempPropsGroup=new Wm({templateTitle:new qm("")}),this.tempPropsGroup.valueChanges.subscribe((function(){e.setTemplateTitle(e.tempPropsGroup.get("templateTitle").value)}))}},{key:"openTemplate",value:function(e){var t=this;return new Promise((function(n,r){console.log("[Builder] Opening "+e+"...");var i=t._AngularFirestore.doc("/templates/"+e);i.get().pipe(qf()).subscribe((function(o){o.exists?function(){for(var e=o.data(),s=[],a=[],u=function(e){s.push(new Promise((function(t,n){i.collection("pages").doc(e.toString()).valueChanges().pipe(qf()).subscribe((function(e){a.push(e),t()}),n)})))},c=0;c<e.pageCount;c++)u(c);Promise.all(s).then((function(){t._template={id:null,templateID:e.templateID,pageStatuses:e.pageStatuses,pageCount:e.pageCount,completionStatus:e.completionStatus,pages:a},t.templateChanged(),n()}),(function(){r()}))}():(console.warn("Template "+e+" does not exist. Setting to empty template instead."),t._TS.newTemplate(),r())}),r)}))}},{key:"pushTemplateObjectToDB",value:function(e,t){var n=this._AngularFirestore.doc("/templates/"+e.templateID);n.set(e).then((function(){var e=n.collection("pages");t.forEach((function(t,n){console.log(t),e.doc(n.toString()).set(t)}))})).catch((function(e){console.log(e)})).finally((function(){return console.log("Template "+e.templateID+" pushed")}))}},{key:"setTemplateTitle",value:function(e){this._template&&(this._template.title=e,console.log("[Builder] Template title is now "+e))}},{key:"templateChanged",value:function(){this.updateSidebar()}},{key:"updateSidebar",value:function(){var e=this;this._template&&(this.pageExpansions=[],this.pageHovers=[],this.sectionHovers=[[]],this._template.pages.forEach((function(t,n){e.pageExpansions.push(!1),e.pageHovers.push(!1);var r=[];t.sections.forEach((function(){r.push(!1)})),e.sectionHovers.push(r)})),console.log(this.sectionHovers))}},{key:"addPage",value:function(){this._template.pages.push({title:"Untitled page",index:this._template.pages.length,sections:[]}),this._template.pageStatuses||(this._template.pageStatuses=[]),this._template.pageStatuses.push("incomplete"),this._template.pageCount++,console.log(this._template.pages.length)}},{key:"setCurrentPage",value:function(e){this.currentPage=this._template.pages[e]}},{key:"isDatagrid",value:function(e){return!(!e||"datagrid"!==e.type)}},{key:"isSimpleInput",value:function(e){return!(!e||"simple-input"!==e.type)}},{key:"hasInputs",value:function(e){return!(!e||"simple-input"!==e.type||!e.inputs||e.inputs.length<1)}},{key:"getDatagrids",value:function(e){var t=[];return this._template&&this._template.pages&&this._template.pages[e].sections.forEach((function(e){"datagrid"===e.type&&t.push(e)})),t}},{key:"addDatagrid",value:function(e){this._template&&this._template.pages&&(this._template.pages[e].sections.push({title:"Untitled",columns:[],value:[],type:"datagrid",index:this._template.pages[e].sections.length}),console.log("Datagrid added. Sections now: "+this._template.pages[e].sections))}},{key:"getMagicText",value:function(){return this._template?JSON.stringify(this._template,null,4):"No template open"}},{key:"getSectionsByType",value:function(e,t){var n=[];return this._template.pages[e].sections.forEach((function(e){e.type===t&&n.push(e)})),n}},{key:"addMetaSection",value:function(e){if(this._template&&this._template.pages){var t={title:"Untitled",inputs:[],value:[],type:"meta",index:this._template.pages[e].sections.length};this._template.pages[e].sections.push(t),this.metaSection=t,console.log("Meta added. Sections now: "+this._template.pages[e].sections)}}},{key:"getSimpleInputs",value:function(e){var t=[];return this._template&&this._template.pages&&this._template.pages[e].sections.forEach((function(e){"simple-input"===e.type&&t.push(e)})),t}},{key:"addSimpleInput",value:function(e){this._template&&this._template.pages&&(this._template.pages[e].sections.push({title:"Untitled",inputs:[],value:[],type:"simple-input",index:this._template.pages[e].sections.length}),console.log("SimpleInput added. Sections now: "+this._template.pages[e].sections))}},{key:"sectionTypeChanged",value:function(e){"simple-input"===e.type?e.inputs||(e.inputs=[]):"datagrid"===e.type?e.columns||(e.columns=[]):console.error("New section type unrecognized: "+e.type)}},{key:"setSection",value:function(e,t){}},{key:"cancelEditSection",value:function(){this.editSectionOpened=!1}},{key:"openSaveTemplate",value:function(){this.saveTemplateOpen=!0}},{key:"cancelSaveTemplate",value:function(){this.saveTemplateOpen=!1}},{key:"openEditSection",value:function(e){this.sectionInEdit=JSON.parse(JSON.stringify(e)),this.originalSectionIndex=this.sectionInEdit.index,this.editSectionOpened=!0}},{key:"openEditPage",value:function(e){this.editPageOpened=!0,console.log("Opening page")}},{key:"closeEditPage",value:function(){this.editPageOpened=!1}},{key:"movePageUp",value:function(){var e=this.currentPage.index;this.movePage(e,e-1),this.resetPageIndices()}},{key:"movePageDown",value:function(){var e=this.currentPage.index;this.movePage(e,e+1),this.resetPageIndices()}},{key:"movePage",value:function(e,t){if(console.log("Moving to "+t),t>=0&&t<this._template.pages.length){var n=this._template.pages;n.splice(t,0,n.splice(e,1)[0])}else console.error("Can't move page. Out of bounds.")}},{key:"moveInArray",value:function(e,t,n){console.log("Moving to "+t),t>=0&&t<n.length?n.splice(t,0,n.splice(e,1)[0]):console.error("Can't move page. Out of bounds.")}},{key:"deleteInArray",value:function(e,t){e>=0&&e<t.length?t.splice(e,1):console.error("Can't delete element. Out of bounds.")}},{key:"linkChanged",value:function(e,t){console.log("Link changed"),"title"===e.link?e.type="text":"coverageDate"===e.link?e.type="month-select":"additionalInfo"===e.link?e.type="textarea":"subject"===e.link?e.type="text":"tags"===e.link&&(e.type="tag-select",e.tags||(e.tags=[])),this.refreshValueFromFields()}},{key:"resetPageIndices",value:function(){this._template.pages.forEach((function(e,t){e.index=t}))}},{key:"resetSectionIndices",value:function(){this.currentPage.sections.forEach((function(e,t){e.index=t}))}},{key:"finishEditSection",value:function(){console.log(this.sectionInEdit),this.moveSection(this.originalSectionIndex,this.sectionInEdit.index),this._template.pages[this.currentPage.index].sections[this.sectionInEdit.index]=this.sectionInEdit,this.currentPage.sections.forEach((function(e,t){e.index=t})),this.editSectionOpened=!1}},{key:"finishEditPage",value:function(){this.editPageOpened=!1}},{key:"isDatatype",value:function(e,t){return!(!this.sectionInEdit.columns||this.sectionInEdit.columns[e].type!==t)||!(!this.sectionInEdit.inputs||this.sectionInEdit.inputs[e].type!==t)}},{key:"isEqual",value:function(e,t){return e===t}},{key:"isSectionType",value:function(e,t){return!!e&&e.type===t}},{key:"isPlainDt",value:function(e){var t=this.sectionInEdit.columns[e].type;return"tag-select"!==t&&"date-select"!==t&&"month-select"!==t}},{key:"toggleTag",value:function(e,t,n,r){var i=this.sectionInEdit.value[e].row[t].tags;!0===n?i.push(r):i.forEach((function(e,t){r.label===e.label&&i.splice(t,1)})),console.log(this.sectionInEdit)}},{key:"renderDgCell",value:function(e,t){var n=this.sectionInEdit.value[e].row[t];if("tag-select"===this.sectionInEdit.columns[t].type){var r="";return n.tags.forEach((function(e){r=r+" "+e.icon})),r}return n}},{key:"moveSection",value:function(e,t){if(console.log("Moving to "+t),t>=0&&t<this.currentPage.sections.length){var n=this.currentPage.sections;n.splice(t,0,n.splice(e,1)[0])}else console.error("Can't move section. Out of bounds.")}},{key:"addColumn",value:function(e){e.stopPropagation(),this.sectionInEdit.columns?(this.sectionInEdit.columns.push({label:"New column",type:"text",tags:[]}),this.sectionInEdit.value.forEach((function(e){e.row.push("")}))):this.sectionInEdit.columns=[{label:"New column",type:"text"}]}},{key:"clearPrefill",value:function(){this.sectionInEdit.value&&(this.sectionInEdit.value=[])}},{key:"deleteColumn",value:function(e){this.clearPrefill(),console.log(this.sectionInEdit.columns),this.sectionInEdit.columns.splice(e,1),console.log(this.sectionInEdit.columns)}},{key:"deleteInput",value:function(e){this.clearPrefill(),this.sectionInEdit.inputs.splice(e,1)}},{key:"deleteSection",value:function(e){confirm('Are you sure you want to delete "'+e.title+'"?')&&(this.currentPage.sections.splice(e.index,1),this.resetSectionIndices(),console.log("Section @ "+e.index+" deleted."),this.cancelEditSection())}},{key:"deletePage",value:function(e){confirm("Delete page "+(e+1)+" ("+this._template.pages[e].title+")?")&&(this.currentPage.index===e&&(this.currentPage=null),this._template.pages.splice(e,1),this._template.pageCount--,this.closeEditPage())}},{key:"addInput",value:function(e){e.stopPropagation();var t=this.sectionInEdit.inputs;t||(t=[]),t.push("meta"===this.sectionInEdit.type?{label:"Untitled",type:"month-select",link:"coverageDate",tags:[]}:{label:"Untitled",type:"text",link:null,tags:[]}),this.refreshValueFromFields()}},{key:"hoverEnterPageSB",value:function(e){this.pageHovers[e]=!0}},{key:"hoverLeavePageSB",value:function(e){this.pageHovers[e]=!1}},{key:"hasTagSelect",value:function(e){var t=!1;return e.inputs?e.inputs.forEach((function(e){"tag-select"===e.type&&(t=!0)})):e.columns&&e.columns.forEach((function(e){"tag-select"===e.type&&(t=!0)})),t}},{key:"hasTag",value:function(e,t,n){var r=[];return this.sectionInEdit.value[e].row[t].tags.forEach((function(e){r.push(e.icon)})),r.includes(n.icon)}},{key:"hasPrefill",value:function(e){return!!(e.value&&e.value.length>0)}},{key:"addTag",value:function(e,t){t.stopPropagation(),console.log(e),e.tags||(e.tags=[]),e.tags.push({icon:"\u2753",label:"Untitled"}),console.log(e),this.refreshValueFromFields()}},{key:"refreshValueFromFields",value:function(){var e=[];this.sectionInEdit.inputs?(this.sectionInEdit.inputs.forEach((function(t){e.push("tag-select"===t.type?{tags:[]}:null)})),this.sectionInEdit.value=e,console.log("Value refreshed: "),console.log(this.sectionInEdit.value)):this.sectionInEdit.columns?(this.sectionInEdit.columns.forEach((function(t){e.push("tag-select"===t.type?{tags:[]}:null)})),this.sectionInEdit.value=[{row:e}],console.log("Value refreshed: "),console.log(this.sectionInEdit.value)):console.error("Could not refresh value from fields: no columns or inputs were found.")}},{key:"typeChanged",value:function(e,t){this.refreshValueFromFields(),console.log(this.sectionInEdit)}},{key:"deleteTag",value:function(e,t){console.log(e.tags.splice(t,1))}},{key:"editTagEmoji",value:function(e,t,n){console.log(t,n.detail),e.tags[t].icon=n.detail.unicode,console.log(this.sectionInEdit)}},{key:"saveTemplate",value:function(){var e=this;this.saveLoadingStatus=QC.LOADING,this._TS.saveTemplate(this._template).then((function(){e.saveLoadingStatus=QC.SUCCESS,setTimeout((function(){e.saveTemplateOpen=!1}),500),e._TS.openTemplate(e._template.templateID)})).catch((function(t){console.error("Save failed: "+t),alert("Save failed: "+t),e.saveLoadingStatus=QC.ERROR}))}},{key:"hasMetaSection",get:function(){var e=this,t=!1;return this._template.pages.forEach((function(n){n.sections.forEach((function(n){"meta"===n.type&&(e.metaSection=n,t=!0)}))})),t}},{key:"templateValid",get:function(){return this._template?!this._template.templateID||this._template.templateID.length<1?(this.validMessage="Template title is missing.",!1):(this.validMessage="Ready to save.",!0):(this.validMessage="Template is missing.",!1)}},{key:"pagesEmpty",get:function(){return!this._template||!this._template.pages||this._template.pages.length<1}},{key:"tag",get:function(){return"Hello"}}]),e}()).\u0275fac=function(e){return new(e||HM)(Zo(Cp),Zo(Df),Zo(Rf),Zo(kg),Zo(_g),Zo(Rv))},HM.\u0275cmp=dt({type:HM,selectors:[["app-builder"]],decls:14,vars:7,consts:[[1,"clr-row","clr-justify-content-between",2,"width","100vw","overflow","hidden"],[1,"clr-col-3","builder-sidebar",2,"box-shadow","0px 10px 18px #c7c6c6","margin-left","10px","overflow-y","auto"],[1,"clr-row",2,"margin","1rem 0 1rem 0"],[2,"margin-top","3rem"],["class","templateTitle","clrInput","","placeholder","Untitled template","name","name",3,"ngModel","ngModelChange",4,"ngIf"],["class","clr-row",4,"ngIf"],["class","clr-col preview-area",4,"ngIf"],[1,"btn","btn-primary","builder-save-button",3,"disabled","title","click"],["shape","floppy"],[3,"clrModalOpen","clrModalSize","clrModalOpenChange",4,"ngIf"],["clrInput","","placeholder","Untitled template","name","name",1,"templateTitle",3,"ngModel","ngModelChange"],[1,"clr-row"],["shape","help-info"],[4,"ngIf"],[3,"clrExpanded","clrExpandedChange","click",4,"ngFor","ngForOf"],[2,"margin","0"],["clrTooltipTrigger","","shape","help-info","size","16","aria-label","Uniq tooltip 3"],["clrPosition","bottom-right","clrSize","md",4,"clrIfOpen"],["title","Add page",1,"btn","btn-sm","btn-link","btn-icon",3,"click"],["shape","plus"],["clrPosition","bottom-right","clrSize","md"],[3,"clrExpanded","clrExpandedChange","click"],[1,"tree-text","clr-row",3,"dblclick"],["shape","file"],[1,"p4",2,"margin","0"],["class","btn btn-sm btn-link","title","Add Meta Section",3,"click",4,"ngIf"],["style","width: 100%;",3,"dblclick",4,"ngFor","ngForOf"],["title","Add Datagrid",1,"btn","btn-sm","btn-link","btn-icon",3,"click"],["title","Add Meta Section",1,"btn","btn-sm","btn-link",3,"click"],[2,"width","100%",3,"dblclick"],[1,"tree-text"],["shape","flag","title","Meta section",1,"is-solid","is-error"],["shape","table"],["shape","form"],[1,"clr-col","preview-area"],[1,"clr-col-1","clr-align-self-center",2,"padding","0"],[1,"clr-row","clr-justify-content-end","clr-align-items-end"],[1,"btn","btn-link","btn-icon",2,"margin-right","1rem",3,"click"],["shape","pencil",2,"color","black"],[1,"clr-col-11",2,"padding","0"],["class","clr-row",4,"ngFor","ngForOf"],[3,"clrModalOpen","clrModalSize","clrModalOpenChange"],[1,"modal-title"],[1,"modal-body",2,"overflow","auto"],["clrTabLink","","id","link1"],["id","content1",4,"clrIfActive"],["clrTabLink",""],[4,"clrIfActive"],[1,"modal-footer"],["type","button",1,"btn",3,"click"],[1,"btn","btn-warning-outline",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[3,"clrModalOpen","clrModalOpenChange"],[1,"clr-col-12"],["clrInput","",3,"ngModel","ngModelChange"],[1,"clr-row",2,"padding-top","1rem"],[1,"clr-control-label"],["title","Move up",1,"btn","btn-link","btn-sm",2,"margin","0",3,"disabled","click"],["shape","angle","dir","up"],["title","Move down",1,"btn","btn-link","btn-sm",2,"margin","0",3,"disabled","click"],["shape","angle","dir","down"],["type","button",1,"btn","btn-danger",3,"click"],[1,"clr-row","clr-justify-content-end"],["class","grayout",3,"interface","sectionChanged",4,"ngIf","ngIfElse"],["simpleInput",""],[1,"grayout",3,"interface","sectionChanged"],["id","content1"],["type","text",1,"clr-input",3,"ngModel","ngModelChange"],["clrTooltipTrigger","","shape","help-info","size","16"],["clrPosition","right","clrSize","lg",4,"clrIfOpen"],[1,"clr-select",3,"ngModel","ngModelChange"],["value","datagrid"],["value","simple-input"],["value","meta"],["clrPosition","right","clrSize","lg"],["title","Add column",1,"btn","btn-sm","btn-link","btn-icon",2,"margin","0",3,"click"],[4,"ngFor","ngForOf"],["clrTooltipTrigger","","shape","warning-standard","size","16",1,"is-warning","is-solid"],["clrPosition","top-right","clrSize","md",4,"clrIfOpen"],["clrPosition","top-right","clrSize","md"],[1,"btn","btn-sm","btn-link","btn-icon",3,"click"],["shape","trash"],["type","text","placeholder","Label",1,"clr-input",3,"ngModel","ngModelChange"],["value","division-select"],["value","text"],["value","number"],["value","date-select"],["value","tag-select"],["class","clr-col",4,"ngIf"],[1,"clr-col"],[1,"btn","btn-link","btn-sm",3,"click"],[1,"btn","btn-link","btn-sm","btn-icon",2,"margin","0",3,"click"],["shape","trash",1,"is-danger"],["class","tagAccordion",4,"clrIfExpanded"],[1,"tagAccordion"],[3,"emoji-click"],["title","Add input",1,"btn","btn-sm","btn-link","btn-icon",2,"margin","0",3,"click"],["clrDropdownTrigger",""],["shape","ellipsis-vertical","size","16"],[4,"clrIfOpen"],["clrDropdownItem","",3,"click"],["clrDropdownItem","",3,"click",4,"ngIf"],["clrSelect","",3,"ngModel","ngModelChange"],["value","month-select"],["value","textarea"],["value","coverageDate"],["value","additionalInfo"],["value","title"],["value","subject"],["value","tags"],[3,"interface",4,"ngIf"],[3,"interface"],[1,"modal-body",2,"overflow-y","auto"],[2,"overflow-y","auto","overflow-x","hidden","height","75%"],[2,"max-height","400px","overflow-y","auto"],["type","button",1,"btn","btn-success",3,"clrLoading","click"]],template:function(e,t){1&e&&(ns(0,"div",0),ns(1,"div",1),ns(2,"div",2),ns(3,"clr-input-container",3),Yo(4,XL,1,1,"input",4),ns(5,"clr-control-helper"),zs(6,"Template title"),rs(),rs(),rs(),Yo(7,JL,4,0,"span",5),Yo(8,aM,4,2,"div",5),rs(),Yo(9,UM,54,11,"div",6),ns(10,"button",7),hs("click",(function(){return t.openSaveTemplate()})),is(11,"clr-icon",8),zs(12," Save template "),rs(),Yo(13,zM,24,7,"clr-modal",9),rs()),2&e&&(Ur(4),es("ngIf",t._template),Ur(3),es("ngIf",t.pagesEmpty),Ur(1),es("ngIf",t._template),Ur(1),es("ngIf",t.currentPage),Ur(1),es("disabled",!t.templateValid)("title",t.validMessage),Ur(3),es("ngIf",t.saveTemplateOpen))},directives:[bx,Hh,iE,yC,Sy,kx,Py,i_,nD,Bh,tD,_P,CP,IE,wP,pP,vP,uP,qR,rP,nP,WR,EE,aE,FL,ZL,ZR,PO,RO,NO,lm,hm,ym,MP,jP,FP,UP,LP,gO,xE,VP,SR,DR,OR,IR,Dx,Rx,qS,YC],styles:[".templateTitle[_ngcontent-%COMP%]{font-size:1rem!important;width:100%!important}.builder-sidebar[_ngcontent-%COMP%], .preview-area[_ngcontent-%COMP%]{height:calc(100vh - 61px)}.preview-area[_ngcontent-%COMP%]{overflow-y:auto}.builder-save-button[_ngcontent-%COMP%]{position:absolute;right:1vw;bottom:1vh}.tree-text[_ngcontent-%COMP%]{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}emoji-picker[_ngcontent-%COMP%]{width:100%;max-height:15rem;--emoji-size:1.2rem;--emoji-padding:0.3rem;--input-font-size:0.67rem;--input-line-height:1rem;--num-columns:8}.tagAccordion[_ngcontent-%COMP%]{height:20rem}.clr-form-control[_ngcontent-%COMP%]{margin:0!important}"]}),HM);function qM(e,t){if(1&e&&(ns(0,"option",10),zs(1),rs()),2&e){var n=t.$implicit;es("value",n),Ur(1),Hs(n)}}var WM,$M=((WM=function(){function e(t,n,r){_classCallCheck(this,e),this._ConstantService=t,this._UserService=n,this._Router=r,this.saveBtnState=QC.DEFAULT}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.formGroup=new Wm({branchSelect:new qm("")}),this.constants=this._ConstantService.constants,this._UserService.getUserObservable().subscribe((function(t){t&&e.formGroup.get("branchSelect").setValue(t.branch)}))}},{key:"saveChanges",value:function(){var e=this;this.saveBtnState=QC.LOADING,this._UserService.setBranch(this.formGroup.get("branchSelect").value).then((function(){e.saveBtnState=QC.SUCCESS,console.log("[Preferences Component] Changes saved. Redirecting to home."),e._Router.navigate([""])})).catch((function(){e.saveBtnState=QC.ERROR}))}}]),e}()).\u0275fac=function(e){return new(e||WM)(Zo(Rf),Zo(_g),Zo(Rv))},WM.\u0275cmp=dt({type:WM,selectors:[["app-preferences"]],decls:20,vars:5,consts:[[1,"clr-row","clr-justify-content-center",2,"width","100vw","margin-left","1rem"],[1,"clr-col","clr-col-md-6","clr-col-xl-6"],[1,"clr-row","clr-justify-content-between","clr-align-items-end"],[1,"clr-row"],["clrForm","",3,"formGroup"],[1,"clr-sr-only"],["clrSelect","","name","type","formControlName","branchSelect"],[3,"value",4,"ngFor","ngForOf"],[1,"clr-row",2,"margin-top","3rem"],[1,"btn","btn-primary",3,"clrLoading","click"],[3,"value"]],template:function(e,t){if(1&e&&(ns(0,"div",0),ns(1,"div",1),ns(2,"div",2),ns(3,"h1"),zs(4,"User preferences"),rs(),rs(),ns(5,"div",3),ns(6,"form",4),ns(7,"h3"),zs(8,"Change your branch affiliation"),rs(),ns(9,"clr-select-container"),ns(10,"label",5),zs(11,"Which branch do you work for?"),rs(),ns(12,"select",6),Yo(13,qM,2,2,"option",7),cu(14,"async"),rs(),ns(15,"clr-control-helper"),zs(16,"Which branch do you work for?"),rs(),rs(),rs(),rs(),ns(17,"div",8),ns(18,"button",9),hs("click",(function(){return t.saveChanges()})),zs(19," Save changes "),rs(),rs(),rs(),rs()),2&e){var n,r=null==(n=lu(14,3,t.constants))?null:n.branches;Ur(6),es("formGroup",t.formGroup),Ur(7),es("ngForOf",r),Ur(5),es("clrLoading",t.saveBtnState)}},directives:[o_,Ny,cE,l_,Dx,aE,lm,Rx,Py,C_,Bh,iE,qS,YC,hm,ym],pipes:[af],styles:[""]}),WM);function QM(e,t){1&e&&(ns(0,"clr-alert",28),ns(1,"clr-alert-item"),ns(2,"span",29),zs(3," You're viewing a submitted report. It cannot be edited. "),rs(),rs(),rs()),2&e&&es("clrAlertClosable",!1)}function YM(e,t){1&e&&(ns(0,"clr-alert",30),ns(1,"clr-alert-item"),ns(2,"span",29),zs(3," You're viewing a submitted report. Only admins can edit it. "),rs(),rs(),rs()),2&e&&es("clrAlertClosable",!1)("clrAlertType","warning")("clrAlertIcon","administrator")}function KM(e,t){if(1&e){var n=us();ns(0,"datagrid-section",33),hs("sectionChanged",(function(e){Kt(n);var t=gs().$implicit;return gs().setSection(t,e)})),rs()}2&e&&es("interface",gs().$implicit)}function ZM(e,t){if(1&e){var n=us();ns(0,"simple-input",33),hs("sectionChanged",(function(e){Kt(n);var t=gs().$implicit;return gs().setSection(t,e)})),rs()}2&e&&es("interface",gs().$implicit)}function XM(e,t){if(1&e&&(ns(0,"div"),Yo(1,KM,1,1,"datagrid-section",31),Yo(2,ZM,1,1,"ng-template",null,32,Lu),rs()),2&e){var n=t.$implicit,r=Ko(3),i=gs();Ur(1),es("ngIf",i.isDatagrid(n))("ngIfElse",r)}}function JM(e,t){1&e&&(ns(0,"clr-alert",34),ns(1,"clr-alert-item"),ns(2,"span",29),zs(3," Heads up: not all pages have been marked as complete. "),rs(),rs(),rs()),2&e&&es("clrAlertType","warning")("clrAlertClosable",!1)}function eV(e,t){1&e&&(ns(0,"div",35),ns(1,"div",36),ns(2,"div",37),ns(3,"div",38),is(4,"clr-icon",39),rs(),ns(5,"span",29),zs(6,"Page saved"),rs(),rs(),rs(),rs())}function tV(e,t){if(1&e){var n=us();ns(0,"button",40),hs("click",(function(){return Kt(n),gs().savePage()})),is(1,"clr-icon",41),zs(2),rs()}if(2&e){var r=gs();Os("btn-primary",r.saveStale)("btn-link",!r.saveStale),es("clrLoading",r.saveButtonState),Ur(1),Os("has-alert",r.saveStale),Ur(1),Gs(" ",r.saveTimeElapsed," ")}}function nV(e,t){1&e&&is(0,"clr-icon",47)}function rV(e,t){1&e&&zs(0),2&e&&Gs(" ",gs().index," ")}function iV(e,t){1&e&&is(0,"clr-icon",48)}function oV(e,t){if(1&e){var n=us();ns(0,"clr-button",43),hs("click",(function(){Kt(n);var e=t.index;return gs(2).goToPage(e)})),Yo(1,nV,1,0,"clr-icon",44),Yo(2,rV,1,1,"ng-template",null,45,Lu),Yo(4,iV,1,0,"clr-icon",46),rs()}if(2&e){var r=t.index,i=Ko(3),o=gs(2);Ds(o.getPageButtonClass(r)),Ur(1),es("ngIf",r<1)("ngIfElse",i),Ur(3),es("ngIf",o.pageComplete(r))}}function sV(e,t){if(1&e&&(ns(0,"clr-button-group"),Yo(1,oV,5,5,"clr-button",42),cu(2,"async"),rs()),2&e){var n,r=null==(n=lu(2,1,gs().report$))?null:n.pageStatuses;Ur(1),es("ngForOf",r)}}function aV(e,t){if(1&e){var n=us();ns(0,"button",49),hs("click",(function(){return Kt(n),gs().confirmSubmitReport()})),zs(1," Finish report"),is(2,"clr-icon",50),rs()}if(2&e){var r=gs();Os("btn-success",r.reportFullyComplete),es("clrLoading",r.submitButtonState)}}function uV(e,t){1&e&&(ns(0,"label"),zs(1,"Complete"),rs())}function cV(e,t){1&e&&(ns(0,"label"),zs(1,"Incomplete"),rs())}function lV(e,t){if(1&e&&(ns(0,"div",51),ns(1,"clr-toggle-container",null,52),ns(3,"label",53),zs(4,"Mark this page:"),rs(),ns(5,"clr-toggle-wrapper"),is(6,"input",54),Yo(7,uV,2,0,"label",55),Yo(8,cV,2,0,"ng-template",null,56,Lu),rs(),rs(),rs()),2&e){var n=Ko(9),r=gs();Ur(6),es("formControl",r.markCompleteControl),Ur(1),es("ngIf",r.pageComplete(r.currentPageIndex))("ngIfElse",n)}}var hV,fV,dV,pV=((hV=function(){function e(t,n,r,i){_classCallCheck(this,e),this.activeRoute=t,this._Router=n,this._ReportService=r,this._UserService=i,this.datagrids=[],this.simpleInputs=[],this.markCompleteControl=new qm,this.submitButtonState=QC.DEFAULT,this.saveButtonState=QC.DEFAULT,this.saveSuccessful=!1,this.submitConfirmationVisible=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.report$=this._ReportService.getReportObservable(),this.page$=this._ReportService.getPageObservable(),this.activeRoute.paramMap.subscribe((function(t){e.urlPageNumber=+t.get("page-number"),null!=e.urlPageNumber&&e.urlPageNumber!==e.currentPageIndex&&e._ReportService.report&&e._ReportService.openPage(e.urlPageNumber)})),this.markCompleteControl.valueChanges.subscribe((function(t){e._ReportService.setPageStatus(e.currentPageIndex,!0===t?"complete":"incomplete"),e._ReportService.saveReportOnline()})),this.report$.subscribe((function(t){if(!t){var n=e.activeRoute.snapshot.paramMap.get("report-id"),r=e.activeRoute.snapshot.paramMap.get("page-number");e._ReportService.openReport(n,+r)}})),this.page$.subscribe((function(t){t&&(e.datagrids=[],e.simpleInputs=[],t.sections.forEach((function(t){"datagrid"==t.type?e.datagrids.push(t):"simple-input"!==t.type&&"meta"!==t.type||e.simpleInputs.push(t)})),e.markCompleteControl.setValue("complete"===e._ReportService.report.pageStatuses[t.index]))}))}},{key:"getPageButtonClass",value:function(e){return e==this.currentPageIndex?"btn btn-primary":"btn"}},{key:"pageComplete",value:function(e){return!!this._ReportService.report&&"complete"===this._ReportService.report.pageStatuses[e]}},{key:"isDatagrid",value:function(e){return!(!e||"datagrid"!==e.type)}},{key:"ngOnDestroy",value:function(){this._ReportService.closeReport()}},{key:"savePage",value:function(){var e=this;this.saveButtonState=QC.LOADING,this._ReportService.page.sections.forEach((function(t){"meta"===t.type&&e._ReportService.saveReportOnline()})),this._ReportService.savePageOnline().then((function(){e.saveButtonState=QC.DEFAULT,e.saveSuccessful=!0,e.saveTime=Date.now(),setTimeout((function(){return e.saveSuccessful=!1}),2500)})).catch((function(){e.saveButtonState=QC.ERROR}))}},{key:"goToPage",value:function(e){this.editable&&this.savePage(),this._Router.navigate(["report",this._ReportService.report.id,e])}},{key:"confirmSubmitReport",value:function(){this.submitConfirmationVisible=!0}},{key:"cancelSubmitReport",value:function(){this.submitConfirmationVisible=!1}},{key:"submitReport",value:function(){var e=this;console.log("[R Comp] Submitting report..."),this.submitButtonState=QC.LOADING,this._ReportService.submitReport().then((function(){e.submitButtonState=QC.SUCCESS,e._Router.navigate([""])}))}},{key:"setSection",value:function(e,t){this._ReportService.setSectionValue(this.currentPageIndex,e.order,t),e.meta&&this._ReportService.saveReportOnline()}},{key:"reportFullyComplete",get:function(){var e=!0;return this._ReportService.report&&this._ReportService.report.pageStatuses.forEach((function(t){"complete"!==t&&(e=!1)})),e}},{key:"currentPageIndex",get:function(){return this._ReportService.page?this._ReportService.page.index:null}},{key:"currentSections",get:function(){return this._ReportService.page.sections}},{key:"saveTimeElapsed",get:function(){return this.saveTime?((Date.now()-this.saveTime)/6e4).toFixed()+" min since save":null}},{key:"saveStale",get:function(){return!this.saveTime||(Date.now()-this.saveTime)/6e4>10}},{key:"editable",get:function(){return!this._ReportService.report||"admin"===this._UserService.getUserSnapshot().role||"complete"!==this._ReportService.report.completionStatus}},{key:"adminSubmitted",get:function(){return!(!this._UserService.getUserSnapshot()||"admin"!==this._UserService.getUserSnapshot().role||!this._ReportService.report||"complete"!==this._ReportService.report.completionStatus)}}]),e}()).\u0275fac=function(e){return new(e||hV)(Zo(Cp),Zo(Rv),Zo(bg),Zo(_g))},hV.\u0275cmp=dt({type:hV,selectors:[["app-report"]],decls:44,vars:22,consts:[[1,"topDiv","clr-col"],[1,"clr-row","clr-justify-content-center"],[1,"clr-col","clr-col-lg-10","clr-col-xl-8","sectionCol"],[3,"clrAlertClosable",4,"ngIf"],[3,"clrAlertClosable","clrAlertType","clrAlertIcon",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"clr-col-md-6","clr-offset-md-3","clr-align-self-end"],["shape","help-info"],[2,"height","48px"],[3,"clrModalOpen","clrModalOpenChange"],[1,"modal-title"],[1,"modal-body"],[3,"clrAlertType","clrAlertClosable",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn","btn-primary",3,"clrLoading","click"],["class","alert alert-success","role","alert","style","\n      position: fixed;\n      bottom: 54px;\n      left: 6px;\n      width: 10rem;\n      z-index: 1000;\n    ",4,"ngIf"],[1,"stickybar","clr-row"],[1,"clr-col-8","clr-col-md-10"],[1,"clr-row","clr-justify-content-center","clr-align-items-center"],["type","button","class","btn","aria-label","save page","title","Save current page",3,"btn-primary","btn-link","clrLoading","click",4,"ngIf"],["type","button","aria-label","previous page",1,"btn","btn-icon","btn-link",3,"disabled","click"],["shape","angle","dir","left"],[4,"ngIf"],["type","button","aria-label","next page",1,"btn","btn-icon","btn-link",3,"disabled","click"],["shape","angle","dir","right"],["type","button","class","btn","aria-label","next page",3,"btn-success","clrLoading","click",4,"ngIf"],["class","clr-col-4 clr-col-md-2",4,"ngIf"],[3,"clrAlertClosable"],[1,"alert-text"],[3,"clrAlertClosable","clrAlertType","clrAlertIcon"],[3,"interface","sectionChanged",4,"ngIf","ngIfElse"],["simpleInput",""],[3,"interface","sectionChanged"],[3,"clrAlertType","clrAlertClosable"],["role","alert",1,"alert","alert-success",2,"position","fixed","bottom","54px","left","6px","width","10rem","z-index","1000"],[1,"alert-items"],[1,"alert-item","static"],[1,"alert-icon-wrapper"],["shape","check-circle",1,"alert-icon"],["type","button","aria-label","save page","title","Save current page",1,"btn",3,"clrLoading","click"],["shape","floppy"],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"],["shape","home",4,"ngIf","ngIfElse"],["showPageNumber",""],["shape","check","title","Marked complete",4,"ngIf"],["shape","home"],["shape","check","title","Marked complete"],["type","button","aria-label","next page",1,"btn",3,"clrLoading","click"],["shape","step-forward-2"],[1,"clr-col-4","clr-col-md-2"],["markCompleteToggle",""],[1,"p6",2,"margin-top","0.3rem"],["type","checkbox","clrToggle","","value","option1","name","options",3,"formControl"],[4,"ngIf","ngIfElse"],["incompleteLabel",""]],template:function(e,t){if(1&e&&(ns(0,"div",0),ns(1,"div",1),ns(2,"div",2),Yo(3,QM,4,1,"clr-alert",3),Yo(4,YM,4,3,"clr-alert",4),ns(5,"h1"),zs(6),cu(7,"async"),rs(),is(8,"hr"),Yo(9,XM,4,2,"div",5),ns(10,"div",6),is(11,"clr-icon",7),ns(12,"em"),zs(13,"Try the buttons below to continue the report."),rs(),rs(),is(14,"div",8),rs(),rs(),ns(15,"clr-modal",9),hs("clrModalOpenChange",(function(e){return t.submitConfirmationVisible=e})),ns(16,"h3",10),zs(17,"Ready to submit?"),rs(),ns(18,"div",11),Yo(19,JM,4,2,"clr-alert",12),is(20,"hr"),zs(21," Once a report is submitted, "),ns(22,"b"),zs(23,"it cannot be edited again"),rs(),zs(24,". Double-check to make sure that all sections are filled out. "),rs(),ns(25,"div",13),ns(26,"button",14),hs("click",(function(){return t.cancelSubmitReport()})),zs(27," Cancel "),rs(),ns(28,"button",15),hs("click",(function(){return t.submitReport()})),zs(29," Submit "),rs(),rs(),rs(),Yo(30,eV,7,0,"div",16),ns(31,"div",17),ns(32,"div",18),ns(33,"div",19),Yo(34,tV,3,8,"button",20),ns(35,"button",21),hs("click",(function(){return t.goToPage(t.currentPageIndex-1)})),is(36,"clr-icon",22),rs(),Yo(37,sV,3,3,"clr-button-group",23),cu(38,"async"),ns(39,"button",24),hs("click",(function(){return t.goToPage(t.currentPageIndex+1)})),cu(40,"async"),is(41,"clr-icon",25),rs(),Yo(42,aV,3,3,"button",26),rs(),rs(),Yo(43,lV,10,3,"div",27),rs(),rs()),2&e){var n,r,i,o=null==(r=lu(38,18,t.report$))?null:r.id,s=t.currentPageIndex>(null==(i=lu(40,20,t.report$))?null:i.pageCount)-2;Ur(1),Os("block-clicks",!t.editable),Ur(2),es("ngIf",!t.editable),Ur(1),es("ngIf",t.adminSubmitted),Ur(2),Gs(" ",null==(n=lu(7,16,t.page$))?null:n.title," "),Ur(3),es("ngForOf",t.currentSections),Ur(6),es("clrModalOpen",t.submitConfirmationVisible),Ur(4),es("ngIf",!t.reportFullyComplete),Ur(9),es("clrLoading",t.submitButtonState),Ur(2),es("ngIf",t.saveSuccessful),Ur(4),es("ngIf",t.editable),Ur(1),es("disabled",t.currentPageIndex<1),Ur(2),es("ngIf",o),Ur(2),es("disabled",s),Ur(3),es("ngIf",t.editable),Ur(1),es("ngIf",t.editable)}},directives:[Hh,Bh,yC,pP,vP,qS,YC,MR,VR,LR,FL,ZL,HS,ZC,_E,aE,yE,ky,mE,Py,u_],pipes:[af],styles:[".topDiv[_ngcontent-%COMP%]{width:100vw!important;height:100%;margin:0!important;padding:0!important}.startSection[_ngcontent-%COMP%]{height:calc(100% - 48px)}.sectionCol[_ngcontent-%COMP%]{width:100%!important;padding:0 48px!important}.stickybar[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;margin:0;z-index:1000;width:100%;height:48px;background-color:#f5f5f5;border-top:1px solid #a89f9f}clr-toggle-container[_ngcontent-%COMP%]{margin:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.save-success[_ngcontent-%COMP%]{position:fixed;bottom:54;left:6}.block-clicks[_ngcontent-%COMP%]{pointer-events:none}"]}),hV),vV=new Ue("WindowToken","undefined"!=typeof window&&window.document?{providedIn:"root",factory:function(){return window}}:void 0),gV=((dV=function(){function e(t,n){_classCallCheck(this,e),this.document=t,this.window=n,this.copySubject=new x,this.copyResponse$=this.copySubject.asObservable(),this.config={}}return _createClass(e,[{key:"configure",value:function(e){this.config=e}},{key:"copy",value:function(e){if(!this.isSupported||!e)return this.pushCopyResponse({isSuccess:!1,content:e});var t=this.copyFromContent(e);return this.pushCopyResponse(t?{content:e,isSuccess:t}:{isSuccess:!1,content:e})}},{key:"isTargetValid",value:function(e){if(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement){if(e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');return!0}throw new Error("Target should be input or textarea")}},{key:"copyFromInputElement",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{this.selectTarget(e);var n=this.copyText();return this.clearSelection(t?e:void 0,this.window),n&&this.isCopySuccessInIE11()}catch(r){return!1}}},{key:"isCopySuccessInIE11",value:function(){var e=this.window.clipboardData;return!(e&&e.getData&&!e.getData("Text"))}},{key:"copyFromContent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.document.body;if(this.tempTextArea&&!t.contains(this.tempTextArea)&&this.destroy(this.tempTextArea.parentElement||void 0),!this.tempTextArea){this.tempTextArea=this.createTempTextArea(this.document,this.window);try{t.appendChild(this.tempTextArea)}catch(r){throw new Error("Container should be a Dom element")}}this.tempTextArea.value=e;var n=this.copyFromInputElement(this.tempTextArea,!1);return this.config.cleanUpAfterCopy&&this.destroy(this.tempTextArea.parentElement||void 0),n}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.document.body;this.tempTextArea&&(e.removeChild(this.tempTextArea),this.tempTextArea=void 0)}},{key:"selectTarget",value:function(e){return e.select(),e.setSelectionRange(0,e.value.length),e.value.length}},{key:"copyText",value:function(){return this.document.execCommand("copy")}},{key:"clearSelection",value:function(e,t){var n;e&&e.focus(),null===(n=t.getSelection())||void 0===n||n.removeAllRanges()}},{key:"createTempTextArea",value:function(e,t){var n,r="rtl"===e.documentElement.getAttribute("dir");return(n=e.createElement("textarea")).style.fontSize="12pt",n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[r?"right":"left"]="-9999px",n.style.top=(t.pageYOffset||e.documentElement.scrollTop)+"px",n.setAttribute("readonly",""),n}},{key:"pushCopyResponse",value:function(e){this.copySubject.next(e)}},{key:"pushCopyReponse",value:function(e){this.pushCopyResponse(e)}},{key:"isSupported",get:function(){return!!this.document.queryCommandSupported&&!!this.document.queryCommandSupported("copy")&&!!this.window}}]),e}()).\u0275fac=function(e){return new(e||dV)(Ye(Fl),Ye(vV,8))},dV.\u0275prov=he({factory:function(){return new dV(Ye(Fl),Ye(vV,8))},token:dV,providedIn:"root"}),dV),yV=((fV=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:fV}),fV.\u0275inj=fe({factory:function(e){return new(e||fV)},imports:[[cf]]}),fV);function mV(e,t){if(1&e){var n=us();ns(0,"div",4),ns(1,"div",5),ns(2,"div",6),ns(3,"div",7),is(4,"clr-icon",8),rs(),ns(5,"span",9),zs(6," In order to continue, please verify your account using the link emailed to you, then refresh this page. If you don't receive a verification email (check your spam), "),ns(7,"a",10),hs("click",(function(){return Kt(n),gs().resendVerification()})),zs(8,"click here to resend one"),rs(),zs(9,". "),rs(),rs(),rs(),rs()}}function _V(e,t){1&e&&(ns(0,"div",11),ns(1,"div",5),ns(2,"div",6),ns(3,"div",7),is(4,"clr-icon",8),rs(),ns(5,"span",9),zs(6," A new email has been sent to you. "),rs(),rs(),rs(),rs())}function bV(e,t){if(1&e&&(ns(0,"h1"),zs(1),cu(2,"async"),rs()),2&e){var n,r=gs(2);Ur(1),Gs("Reports for ",null==(n=lu(2,1,r.user))?null:n.branch,"")}}function kV(e,t){1&e&&(ns(0,"h1"),zs(1,"Reports for all branches"),rs())}function wV(e,t){if(1&e){var n=us();ns(0,"button",45),hs("click",(function(){return Kt(n),gs(2).showTemplateModal()})),is(1,"clr-icon",46),zs(2," Templates "),rs()}}function CV(e,t){if(1&e){var n=us();os(0),ns(1,"button",49),hs("click",(function(){Kt(n);var e=t.$implicit,r=t.index;return gs(3).createReport(e.templateID,r)})),zs(2),rs(),ss()}if(2&e){var r=t.$implicit,i=t.index,o=gs(3);Ur(1),es("clrLoading",o.templateLoadStatuses[i]),Ur(1),Gs(" ",r.templateID," ")}}function SV(e,t){1&e&&(os(0),is(1,"clr-icon",50),zs(2," No templates are available right now."),ss())}function EV(e,t){if(1&e&&(ns(0,"clr-dropdown-menu",47),Yo(1,CV,3,2,"ng-container",48),Yo(2,SV,3,0,"ng-container",14),rs()),2&e){var n=gs(2);Ur(1),es("ngForOf",n._TemplateService.visibleTemplates),Ur(1),es("ngIf",n._TemplateService.visibleTemplates.length<1)}}function IV(e,t){if(1&e){var n=us();ns(0,"button",52),hs("click",(function(){Kt(n);var e=gs().$implicit;return gs(2).showDelete(e)})),is(1,"clr-icon",58),zs(2," Delete report "),ns(3,"span",59),zs(4,"Admin"),rs(),rs()}}function TV(e,t){if(1&e){var n=us();ns(0,"button",52),hs("click",(function(){Kt(n);var e=gs().$implicit;return gs(2).showDelete(e)})),is(1,"clr-icon",58),zs(2," Delete draft "),rs()}}function xV(e,t){if(1&e){var n=us();ns(0,"button",52),hs("click",(function(){Kt(n);var e=gs().$implicit;return gs(2).copyMagic(e)})),is(1,"clr-icon",60),zs(2," Copy magic text "),rs()}}function AV(e,t){1&e&&(ns(0,"span"),ns(1,"em"),zs(2,"Unsubmitted"),rs(),rs())}function OV(e,t){1&e&&(ns(0,"span",61),zs(1,"Draft"),rs())}function DV(e,t){if(1&e){var n=us();ns(0,"clr-dg-row",51),ns(1,"clr-dg-action-overflow"),ns(2,"button",52),hs("click",(function(){Kt(n);var e=t.$implicit;return gs(2).navigate(e)})),is(3,"clr-icon",53),zs(4," Open report "),rs(),ns(5,"button",52),hs("click",(function(){Kt(n);var e=t.$implicit;return gs(2).showCopy(e)})),is(6,"clr-icon",54),zs(7," Duplicate to new report "),rs(),Yo(8,IV,5,0,"button",55),Yo(9,TV,3,0,"button",55),Yo(10,xV,3,0,"button",55),rs(),ns(11,"clr-dg-cell",56),hs("click",(function(){Kt(n);var e=t.$implicit;return gs(2).navigate(e)})),zs(12),rs(),ns(13,"clr-dg-cell",56),hs("click",(function(){Kt(n);var e=t.$implicit;return gs(2).navigate(e)})),zs(14),cu(15,"date"),Yo(16,AV,3,0,"span",14),rs(),ns(17,"clr-dg-cell",56),hs("click",(function(){Kt(n);var e=t.$implicit;return gs(2).navigate(e)})),zs(18),Yo(19,OV,2,0,"span",57),rs(),ns(20,"clr-dg-cell",56),hs("click",(function(){Kt(n);var e=t.$implicit;return gs(2).navigate(e)})),zs(21),rs(),ns(22,"clr-dg-cell",56),hs("click",(function(){Kt(n);var e=t.$implicit;return gs(2).navigate(e)})),zs(23),cu(24,"date"),rs(),rs()}if(2&e){var r=t.$implicit,i=gs(2);es("clrDgItem",r),Ur(8),es("ngIf",!i.isUnfinished(r)&&i.isAdmin),Ur(1),es("ngIf",i.isUnfinished(r)),Ur(1),es("ngIf",i.isUnfinished(r)),Ur(2),Hs(r.id),Ur(2),Hs(hu(15,11,r.submitDate,"shortDate")),Ur(2),es("ngIf",!r.submitDate),Ur(2),Gs("",r.templateID," "),Ur(1),es("ngIf",i.isUnfinished(r)),Ur(2),Hs(r.author),Ur(2),Hs(hu(24,14,r.coverageDate,"MMMM \u2019yy"))}}function RV(e,t){if(1&e&&(ns(0,"clr-dg-detail"),ns(1,"clr-dg-detail-header"),zs(2,"Report details"),rs(),ns(3,"clr-dg-detail-body"),ns(4,"b"),zs(5,"ID: "),rs(),zs(6),is(7,"br"),ns(8,"b"),zs(9,"Coverage date: "),rs(),zs(10),cu(11,"date"),is(12,"br"),ns(13,"b"),zs(14,"Submitted: "),rs(),zs(15),cu(16,"date"),is(17,"br"),ns(18,"b"),zs(19,"Author: "),rs(),zs(20),is(21,"br"),ns(22,"b"),zs(23,"Branch: "),rs(),zs(24),is(25,"br"),ns(26,"b"),zs(27,"Page count: "),rs(),zs(28),is(29,"br"),ns(30,"b"),zs(31,"Completion: "),rs(),zs(32),is(33,"br"),ns(34,"b"),zs(35,"Additional info: "),rs(),zs(36),is(37,"br"),rs(),rs()),2&e){var n=t.$implicit;Ur(6),Gs(" ",n.id," "),Ur(4),Gs(" ",hu(11,8,n.coverageDate,"MMMM \u2019yy")," "),Ur(5),Gs(" ",hu(16,11,n.submitDate,"longDate")," "),Ur(5),Gs(" ",n.author," "),Ur(4),Gs(" ",n.branch," "),Ur(4),Gs(" ",n.pageCount," "),Ur(4),Gs(" ",n.completionStatus," "),Ur(4),Gs("",n.additionalInfo," ")}}function PV(e,t){1&e&&(ns(0,"span",61),zs(1,"Draft"),rs())}function NV(e,t){if(1&e&&(ns(0,"div",38),ns(1,"p"),ns(2,"strong"),zs(3,"Template: "),rs(),zs(4),Yo(5,PV,2,0,"span",57),rs(),ns(6,"p"),ns(7,"strong"),zs(8,"Coverage date: "),rs(),zs(9),rs(),ns(10,"p"),ns(11,"strong"),zs(12,"Author: "),rs(),zs(13),rs(),rs()),2&e){var n=gs(2);Ur(4),Hs(n.selectedReport.templateID),Ur(1),es("ngIf",n.isUnfinished(n.selectedReport)),Ur(4),Gs("",n.selectedReport.coverageDate," "),Ur(4),Hs(n.selectedReport.author)}}function FV(e,t){1&e&&(ns(0,"span",61),zs(1,"Draft"),rs())}function LV(e,t){if(1&e&&(ns(0,"div",38),ns(1,"p"),zs(2,"This will open the new report in the editor."),rs(),ns(3,"p"),ns(4,"strong"),zs(5,"Template: "),rs(),zs(6),is(7,"br"),ns(8,"strong"),zs(9,"ID: "),rs(),zs(10),is(11,"br"),ns(12,"b"),zs(13,"Submitted: "),rs(),zs(14),cu(15,"date"),Yo(16,FV,2,0,"span",57),rs(),rs()),2&e){var n=gs(2);Ur(6),Hs(n.selectedReport.templateID),Ur(4),Hs(n.selectedReport.id),Ur(4),Hs(lu(15,4,n.selectedReport.submitDate)),Ur(2),es("ngIf",n.isUnfinished(n.selectedReport))}}function MV(e,t){if(1&e){var n=us();ns(0,"div",68),hs("click",(function(){Kt(n);var e=gs(2).$implicit;return gs(2)._TemplateService.markHidden(e)})),is(1,"clr-icon",72),zs(2," Hide from users "),rs()}}function VV(e,t){if(1&e){var n=us();ns(0,"div",68),hs("click",(function(){Kt(n);var e=gs(2).$implicit;return gs(2)._TemplateService.markVisible(e)})),is(1,"clr-icon",73),zs(2," Show to users "),rs()}}function jV(e,t){if(1&e){var n=us();ns(0,"clr-dropdown-menu",66),ns(1,"label",67),zs(2,"Template actions"),rs(),ns(3,"div",68),hs("click",(function(){Kt(n);var e=gs().$implicit;return gs(2)._TemplateService.openTemplate(e)})),is(4,"clr-icon",69),zs(5," Edit "),rs(),ns(6,"div",68),hs("click",(function(){Kt(n);var e=gs().$implicit;return gs(2).showDuplicateTemplate(e)})),is(7,"clr-icon",54),zs(8," Duplicate as... "),rs(),Yo(9,MV,3,0,"div",70),Yo(10,VV,3,0,"ng-template",null,71,Lu),ns(12,"div",68),hs("click",(function(){Kt(n);var e=gs().$implicit;return gs(2).deleteTemplate(e)})),is(13,"clr-icon",58),zs(14," Delete "),rs(),rs()}if(2&e){var r=Ko(11),i=gs().$implicit,o=gs(2);Ur(9),es("ngIf",!o.isHidden(i))("ngIfElse",r)}}function UV(e,t){if(1&e&&(ns(0,"div",62),zs(1),ns(2,"clr-dropdown"),ns(3,"button",63),is(4,"clr-icon",64),rs(),Yo(5,jV,15,2,"clr-dropdown-menu",65),rs(),rs()),2&e){var n=t.$implicit;Ur(1),Gs(" ",n," ")}}function BV(e,t){if(1&e){var n=us();ns(0,"div",12),ns(1,"div",13),Yo(2,bV,3,3,"h1",14),Yo(3,kV,2,0,"h1",14),Yo(4,wV,3,0,"button",15),ns(5,"clr-dropdown",16),ns(6,"button",17),is(7,"clr-icon",18),zs(8," New report "),rs(),Yo(9,EV,3,2,"clr-dropdown-menu",19),rs(),rs(),ns(10,"div",20),ns(11,"clr-datagrid",21),ns(12,"clr-dg-placeholder"),zs(13,"No reports found."),rs(),ns(14,"clr-dg-column",22),zs(15,"ID"),rs(),ns(16,"clr-dg-column",22),zs(17,"Submitted"),rs(),ns(18,"clr-dg-column",22),zs(19,"Template"),rs(),ns(20,"clr-dg-column",22),zs(21,"Author"),rs(),ns(22,"clr-dg-column",22),zs(23,"Coverage date"),rs(),Yo(24,DV,25,17,"clr-dg-row",23),Yo(25,RV,38,14,"clr-dg-detail",24),ns(26,"clr-dg-footer"),zs(27,"Show "),ns(28,"select",25),hs("ngModelChange",(function(e){return Kt(n),gs().sizeLimit=e})),ns(29,"option",26),zs(30,"10"),rs(),ns(31,"option",27),zs(32,"30"),rs(),ns(33,"option",28),zs(34,"100"),rs(),ns(35,"option",29),zs(36,"all"),rs(),rs(),zs(37),rs(),rs(),ns(38,"clr-modal",30),hs("clrModalOpenChange",(function(e){return Kt(n),gs().deleteVisible=e})),ns(39,"h3",31),zs(40," Are you sure you want to delete this report? "),rs(),Yo(41,NV,14,4,"div",32),ns(42,"div",33),ns(43,"button",34),hs("click",(function(){return Kt(n),gs().hideDelete()})),zs(44," Cancel "),rs(),ns(45,"button",35),hs("click",(function(){Kt(n);var e=gs();return e.deleteReport(e.selectedReport)})),zs(46," Delete "),rs(),rs(),rs(),ns(47,"clr-modal",30),hs("clrModalOpenChange",(function(e){return Kt(n),gs().copyVisible=e})),ns(48,"h3",31),zs(49,"Create a deplicate report?"),rs(),Yo(50,LV,17,6,"div",32),ns(51,"div",33),ns(52,"button",34),hs("click",(function(){return Kt(n),gs().hideCopy()})),zs(53," Cancel "),rs(),ns(54,"button",36),hs("click",(function(){Kt(n);var e=gs();return e.duplicateReport(e.selectedReport)})),zs(55," Duplicate "),rs(),rs(),rs(),ns(56,"clr-modal",37),hs("clrModalOpenChange",(function(e){return Kt(n),gs().templateModalVisible=e})),ns(57,"h3",31),zs(58),rs(),ns(59,"div",38),Yo(60,UV,6,1,"div",39),ns(61,"div",40),ns(62,"button",41),hs("click",(function(){return Kt(n),gs()._TemplateService.newTemplate()})),zs(63," Create new "),is(64,"clr-icon",42),rs(),rs(),rs(),ns(65,"div",33),ns(66,"button",34),hs("click",(function(){return Kt(n),gs().hideTemplateModal()})),zs(67," Close "),rs(),rs(),rs(),ns(68,"clr-modal",30),hs("clrModalOpenChange",(function(e){return Kt(n),gs().tempDuplicateVisible=e})),ns(69,"h3",31),zs(70),rs(),ns(71,"div",38),ns(72,"clr-input-container"),ns(73,"label"),zs(74,"New template name"),rs(),ns(75,"input",43),hs("ngModelChange",(function(e){return Kt(n),gs().newTemplateName=e})),rs(),ns(76,"clr-control-helper"),zs(77,"What should the new template be named?"),rs(),rs(),rs(),ns(78,"div",33),ns(79,"button",34),hs("click",(function(){return Kt(n),gs().hideTemplateModal()})),zs(80," Cancel "),rs(),ns(81,"button",44),hs("click",(function(){Kt(n);var e=gs();return e.duplicateTemplate(e.selectedTemplateName,e.newTemplateName)})),zs(82," Duplicate "),rs(),rs(),rs(),rs(),rs()}if(2&e){var r=gs();Ur(2),es("ngIf",!r.isAdmin),Ur(1),es("ngIf",r.isAdmin),Ur(1),es("ngIf",r.isAdmin),Ur(1),es("clrCloseMenuOnItemClick",!1),Ur(9),es("clrDgField","id"),Ur(2),es("clrDgField","submitDate"),Ur(2),es("clrDgField","templateID"),Ur(2),es("clrDgField","author"),Ur(2),es("clrDgField","coverageDate"),Ur(2),es("clrDgItemsOf",r.reports),Ur(4),es("ngModel",r.sizeLimit),Ur(9),qs(" reports | ",r.reports.length," of ",r.reportCount,""),Ur(1),es("clrModalSize","sm")("clrModalOpen",r.deleteVisible),Ur(3),es("ngIf",r.selectedReport),Ur(4),es("clrLoading",r.deleteLoading),Ur(2),es("clrModalSize","sm")("clrModalOpen",r.copyVisible),Ur(3),es("ngIf",r.selectedReport),Ur(4),es("clrLoading",r.templateDupStatus),Ur(2),es("clrModalOpen",r.templateModalVisible),Ur(2),Gs(" ",r._TemplateService.templateNames.length," templates "),Ur(2),es("ngForOf",r._TemplateService.templateNames),Ur(8),es("clrModalSize","sm")("clrModalOpen",r.tempDuplicateVisible),Ur(2),Gs("Duplicate ",r.selectedTemplateName,""),Ur(5),es("ngModel",r.newTemplateName),Ur(6),es("disabled",r.newTemplateName.length<1)}}var zV,HV=((zV=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this._TemplateService=t,this._ReportService=n,this._UserService=r,this._Router=i,this._clipboardService=o,this.detailState=!1,this.editVisible=!1,this.copyVisible=!1,this.deleteVisible=!1,this.exportVisible=!1,this.newTemplateName="",this.emailSent=!1,this.user=this._UserService.getUserObservable(),this.reports=[],this.templateDupStatus=QC.DEFAULT,this.templateModalVisible=!1,this.tempDuplicateVisible=!1,this.reportCount=-1,this._sizeLimit="10"}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.user.subscribe((function(t){t&&(e.showUnverifiedAlert=!t.emailVerified,"admin"===t.role?"all"!==e._sizeLimit?e._ReportService.fetchAllReportsWithLimit(+e._sizeLimit).then((function(t){e.reports=t,console.log(t)})).catch((function(){console.error("Could not fetch reports for "+t.email)})):e._ReportService.fetchAllReports().then((function(t){e.reports=t,console.log(t)})).catch((function(){console.error("Could not fetch reports for "+t.email)})):"all"!==e._sizeLimit?e._ReportService.fetchReportsByBranchWithLimit(t.branch,+e._sizeLimit).then((function(t){e.reports=t,console.log(t)})).catch((function(){console.error("Could not fetch reports for "+t.email)})):e._ReportService.fetchReportsByBranch(t.branch).then((function(t){e.reports=t,console.log(t)})).catch((function(){console.error("Could not fetch reports for "+t.email)})),e.getReportCount().then((function(t){e.reportCount=t})))})),this.templates=this._TemplateService.templateObservable,this.templateLoadStatuses=[],this._TemplateService.templateNames.forEach((function(){e.templateLoadStatuses.push(QC.DEFAULT)}))}},{key:"getReportCount",value:function(){return"admin"===this._UserService.getUserSnapshot().role?this._ReportService.getFullReportCount():this._ReportService.getReportCountByBranch(this._UserService.getUserSnapshot().branch)}},{key:"showExport",value:function(e){this.selectedReport=e,this.exportVisible=!0}},{key:"hideExport",value:function(){this.exportVisible=!1}},{key:"isHidden",value:function(e){var t=this._TemplateService.templateSnapshot;return!(!t||!t.get(e))&&t.get(e).hidden}},{key:"duplicateReport",value:function(e){var t=this;console.log(e.id),this._ReportService.duplicateReport(e.id).then((function(e){t._ReportService.openReport(e).then((function(){t._Router.navigate(["report",e,0])})).catch((function(t){console.error("Error opening new report with ID "+e+": "+t)}))}),(function(){console.error("Error duplicating report "+e.id)}))}},{key:"showCopy",value:function(e){this.selectedReport=e,this.copyVisible=!0}},{key:"hideCopy",value:function(){this.copyVisible=!1}},{key:"deleteReport",value:function(e){var t=this;this.deleteLoading=QC.LOADING,this._ReportService.deleteReport(e).then((function(){var e=t._UserService.getUserSnapshot();"admin"===e.role?"all"!==t._sizeLimit?t._ReportService.fetchAllReportsWithLimit(+t._sizeLimit).then((function(e){t.reports=e,console.log(e)})).catch((function(){console.error("Could not fetch reports for "+e.email)})):t._ReportService.fetchAllReports().then((function(e){t.reports=e,console.log(e)})).catch((function(){console.error("Could not fetch reports for "+e.email)})):"all"!==t._sizeLimit?t._ReportService.fetchReportsByBranchWithLimit(e.branch,+t._sizeLimit).then((function(e){t.reports=e,console.log(e)})).catch((function(){console.error("Could not fetch reports for "+e.email)})):t._ReportService.fetchReportsByBranch(e.branch).then((function(e){t.reports=e,console.log(e)})).catch((function(){console.error("Could not fetch reports for "+e.email)})),t.deleteLoading=QC.SUCCESS,t.deleteVisible=!1}))}},{key:"showDelete",value:function(e){this.selectedReport=e,this.deleteVisible=!0}},{key:"copyMagic",value:function(e){var t=this;this._ReportService.getMagicString(e.id).then((function(e){t._clipboardService.copyFromContent(e),alert("\u2705 Magic string copied to clipboard.")}))}},{key:"hideDelete",value:function(){this.deleteVisible=!1}},{key:"isUnfinished",value:function(e){return!!e&&"incomplete"===e.completionStatus}},{key:"resendVerification",value:function(){var e=this;this._UserService.sendVerificationEmail().then((function(){e.emailSent=!0,e.showUnverifiedAlert=!1}))}},{key:"createReport",value:function(e,t){var n=this;this.templateLoadStatuses[t]=QC.LOADING,this._ReportService.createNewReport(e).then((function(e){n._ReportService.openReport(e).then((function(){console.log("Created report: "),console.log(n._ReportService.report),n._Router.navigate(["report",e,0])})).catch((function(t){console.error("Error opening new report with ID "+e+": "+t)}))}),(function(){console.error("Error creating new report with template "+e)}))}},{key:"navigate",value:function(e){console.log("Opening: "+e.id),this._Router.navigate(["report",e.id,0])}},{key:"json",value:function(e){return JSON.stringify(e)}},{key:"showTemplateModal",value:function(){console.log(this._TemplateService.templateNames),this.templateModalVisible=!0}},{key:"hideTemplateModal",value:function(){this.templateModalVisible=!1}},{key:"showDuplicateTemplate",value:function(e){this.selectedTemplateName=e,this.tempDuplicateVisible=!0}},{key:"hideDuplicateTemplate",value:function(){this.tempDuplicateVisible=!1}},{key:"duplicateTemplate",value:function(e,t){var n=this;this.templateDupStatus=QC.LOADING,this._TemplateService.duplicateTemplate(e,t).then((function(){n.templateDupStatus=QC.SUCCESS,n.tempDuplicateVisible=!1}))}},{key:"deleteTemplate",value:function(e){var t=this;this._TemplateService.deleteTemplate(e).then((function(){console.log("Success"),console.log(t._TemplateService.templateNames)}),(function(e){console.log("Error "+e)}))}},{key:"sizeLimit",get:function(){return this._sizeLimit},set:function(e){var t=this;this._sizeLimit=e;var n=this._UserService.getUserSnapshot();this.showUnverifiedAlert=!n.emailVerified,"admin"===n.role?"all"!==this._sizeLimit?this._ReportService.fetchAllReportsWithLimit(+this._sizeLimit).then((function(e){t.reports=e,console.log(e)})).catch((function(){console.error("Could not fetch reports for "+n.email)})):this._ReportService.fetchAllReports().then((function(e){t.reports=e,console.log(e)})).catch((function(){console.error("Could not fetch reports for "+n.email)})):"all"!==this._sizeLimit?this._ReportService.fetchReportsByBranchWithLimit(n.branch,+this._sizeLimit).then((function(e){t.reports=e,console.log(e)})).catch((function(){console.error("Could not fetch reports for "+n.email)})):this._ReportService.fetchReportsByBranch(n.branch).then((function(e){t.reports=e,console.log(e)})).catch((function(){console.error("Could not fetch reports for "+n.email)}))}},{key:"isAdmin",get:function(){var e=this._UserService.getUserSnapshot();return!(!e||"admin"!==e.role)}}]),e}()).\u0275fac=function(e){return new(e||zV)(Zo(kg),Zo(bg),Zo(_g),Zo(Rv),Zo(gV))},zV.\u0275cmp=dt({type:zV,selectors:[["app-start"]],decls:5,vars:5,consts:[[1,"clr-row","clr-justify-content-center",2,"width","100vw"],["class","clr-col-md-6 alert alert-warning",4,"ngIf"],["class","clr-col-md-6 alert",4,"ngIf"],["class","clr-col clr-col-md-10 clr-col-xl-8",4,"ngIf"],[1,"clr-col-md-6","alert","alert-warning"],[1,"alert-items"],["role","alert",1,"alert-item","static"],[1,"alert-icon-wrapper"],["shape","exclamation-circle",1,"alert-icon"],[1,"alert-text"],["href","javascript://",3,"click"],[1,"clr-col-md-6","alert"],[1,"clr-col","clr-col-md-10","clr-col-xl-8"],[1,"clr-row","clr-justify-content-between","clr-align-items-end"],[4,"ngIf"],["class","btn",3,"click",4,"ngIf"],[3,"clrCloseMenuOnItemClick"],["clrDropdownTrigger","",1,"btn","btn-primary"],["shape","plus"],["clrPosition","bottom-right",4,"clrIfOpen"],[1,"clr-row"],[2,"width","100%"],[3,"clrDgField"],[3,"clrDgItem",4,"clrDgItems","clrDgItemsOf"],[4,"clrIfDetail"],["name","options",3,"ngModel","ngModelChange"],["value","10"],["value","30"],["value","100"],["value","all"],[3,"clrModalSize","clrModalOpen","clrModalOpenChange"],[1,"modal-title"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn","btn-danger",3,"clrLoading","click"],["type","button",1,"btn","btn-primary",3,"clrLoading","click"],[3,"clrModalOpen","clrModalOpenChange"],[1,"modal-body"],["class","clr-row clr-align-items-center template-row","style","padding-left: 12px;",4,"ngFor","ngForOf"],[1,"clr-row","clr-justify-content-end"],[1,"btn","btn-sm","btn-link","btn-icon",2,"margin","24px 0 0 0",3,"click"],["shape","plus","dir","right","title","This will open a blank template in the builder."],["clrInput","","required","",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"btn",3,"click"],["shape","scroll"],["clrPosition","bottom-right"],[4,"ngFor","ngForOf"],["clrDropdownItem","",3,"clrLoading","click"],["shape","exclamation-triangle"],[3,"clrDgItem"],[1,"action-item",3,"click"],["shape","login"],["shape","copy"],["class","action-item",3,"click",4,"ngIf"],[1,"clickable",3,"click"],["class","label label-warning",4,"ngIf"],["shape","trash",1,"is-danger"],[1,"badge","badge-light-blue"],["shape","wand"],[1,"label","label-warning"],[1,"clr-row","clr-align-items-center","template-row",2,"padding-left","12px"],["clrDropdownTrigger","",1,"btn","btn-link","btn-sm","btn-icon",2,"padding","0 12px 0 12px"],["shape","angle","dir","down"],["clrPosition","top-left",4,"clrIfOpen"],["clrPosition","top-left"],["aria-hidden","true",1,"dropdown-header"],["clrDropdownItem","",3,"click"],["shape","angle-double","dir","right",1,"is-highlight"],["clrDropdownItem","",3,"click",4,"ngIf","ngIfElse"],["showTempl",""],["shape","eye-hide"],["shape","eye"]],template:function(e,t){if(1&e&&(ns(0,"div",0),Yo(1,mV,10,0,"div",1),Yo(2,_V,7,0,"div",2),Yo(3,BV,83,29,"div",3),cu(4,"async"),rs()),2&e){var n,r=null==(n=lu(4,3,t.user))?null:n.emailVerified;Ur(1),es("ngIf",t.showUnverifiedAlert),Ur(1),es("ngIf",t.emailSent),Ur(1),es("ngIf",r)}},directives:[Hh,yC,LR,SR,DR,IE,uO,OO,EA,IA,AA,MA,NA,IO,LA,_O,kO,lm,Py,i_,hm,ym,pP,qS,YC,vP,Bh,bx,aE,Sy,kx,E_,iE,OR,IR,nO,xO,lO,GA,EO,mO,yO,bO],pipes:[af,uf],styles:["clr-dropdown[_ngcontent-%COMP%]{margin:6px 0}.template-row[_ngcontent-%COMP%]{border-radius:5px;border:1px solid grey}"]}),zV);function GV(e,t){1&e&&(ns(0,"h5",14),zs(1," Use your staff email to sign in, or create a new account now "),rs())}function qV(e,t){if(1&e){var n=us();ns(0,"clr-password-container"),ns(1,"label",8),zs(2,"Password"),rs(),is(3,"input",15),ns(4,"clr-control-helper"),zs(5,"Forgot your password? "),ns(6,"a",16),hs("click",(function(){return Kt(n),gs(2).showReset()})),zs(7,"Reset it here."),rs(),rs(),rs()}}function WV(e,t){if(1&e&&(ns(0,"div",17),ns(1,"div",18),ns(2,"div",19),ns(3,"span",20),zs(4),rs(),rs(),rs(),rs()),2&e){var n=gs(2);es("className",n.alertClass),Ur(4),Gs(" ",n.alertMessage," ")}}function $V(e,t){if(1&e){var n=us();ns(0,"button",21),hs("click",(function(){return Kt(n),gs(2).tryLogin()})),zs(1," LOG IN "),rs()}2&e&&es("disabled",gs(2).loginGroup.invalid)}function QV(e,t){if(1&e){var n=us();ns(0,"a",22),hs("click",(function(){return Kt(n),gs(2).showSignup()})),zs(1,"Or create a new account"),rs()}}function YV(e,t){if(1&e&&(ns(0,"form",3),ns(1,"section",4),ns(2,"h3",5),zs(3,"Welcome to the"),rs(),zs(4," EBRPL Report Assistant "),Yo(5,GV,2,0,"h5",6),rs(),ns(6,"div",7),ns(7,"clr-input-container"),ns(8,"label",8),zs(9,"Staff email"),rs(),is(10,"input",9),rs(),Yo(11,qV,8,0,"clr-password-container",10),Yo(12,WV,5,2,"div",11),Yo(13,$V,2,1,"button",12),Yo(14,QV,2,0,"a",13),rs(),rs()),2&e){var n=gs();es("formGroup",n.loginGroup),Ur(5),es("ngIf",!n.resetVisible),Ur(6),es("ngIf",n.loginVisible),Ur(1),es("ngIf",n.alert),Ur(1),es("ngIf",n.loginVisible),Ur(1),es("ngIf",n.loginVisible)}}function KV(e,t){if(1&e&&(ns(0,"option",27),zs(1),rs()),2&e){var n=t.$implicit;es("value",n),Ur(1),Hs(n)}}function ZV(e,t){if(1&e&&(ns(0,"div",17),ns(1,"div",18),ns(2,"div",19),ns(3,"span",20),zs(4),rs(),rs(),rs(),rs()),2&e){var n=gs(2);es("className",n.alertClass),Ur(4),Gs(" ",n.alertMessage," ")}}function XV(e,t){if(1&e){var n=us();ns(0,"a",22),hs("click",(function(){return Kt(n),gs(2).showLogin()})),zs(1,"Already have an account? Log in"),rs()}}function JV(e,t){if(1&e){var n=us();ns(0,"form",3),ns(1,"section",4),ns(2,"h3",5),zs(3,"Welcome to the"),rs(),zs(4," EBRPL Report Assistant "),ns(5,"h5",14),zs(6," Use your staff email to sign in, or create a new account now "),rs(),rs(),ns(7,"div",7),ns(8,"clr-input-container"),ns(9,"label",8),zs(10,"Staff email"),rs(),is(11,"input",9),rs(),ns(12,"clr-select-container"),ns(13,"label",8),zs(14,"Which branch do you work for?"),rs(),ns(15,"select",23),Yo(16,KV,2,2,"option",24),rs(),ns(17,"clr-control-helper"),zs(18,"Which branch do you work for?"),rs(),rs(),ns(19,"clr-password-container"),ns(20,"label",8),zs(21,"New password"),rs(),is(22,"input",25),rs(),ns(23,"clr-password-container"),ns(24,"label",8),zs(25,"Confirm password"),rs(),is(26,"input",26),rs(),Yo(27,ZV,5,2,"div",11),ns(28,"button",21),hs("click",(function(){return Kt(n),gs().createAccount()})),zs(29," Create account "),rs(),Yo(30,XV,2,0,"a",13),rs(),rs()}if(2&e){var r=gs();es("formGroup",r.createAccountGroup),Ur(16),es("ngForOf",r.getConstant("branches")),Ur(11),es("ngIf",r.alert),Ur(1),es("disabled",r.createAccountGroup.invalid),Ur(2),es("ngIf",r.signupVisible)}}function ej(e,t){if(1&e&&(ns(0,"div",17),ns(1,"div",18),ns(2,"div",19),ns(3,"span",20),zs(4),rs(),rs(),rs(),rs()),2&e){var n=gs(2);es("className",n.alertClass),Ur(4),Gs(" ",n.alertMessage," ")}}function tj(e,t){if(1&e){var n=us();ns(0,"button",21),hs("click",(function(){return Kt(n),gs(2).sendResetEmail()})),zs(1," Send reset email "),rs()}2&e&&es("disabled",gs(2).forgotPasswordGroup.invalid)}function nj(e,t){if(1&e){var n=us();ns(0,"form",3),ns(1,"section",4),ns(2,"h3",5),zs(3,"Welcome to the"),rs(),zs(4," EBRPL Report Assistant "),ns(5,"h5",14),is(6,"hr"),zs(7," Reset your password "),rs(),rs(),ns(8,"div",7),ns(9,"clr-input-container"),ns(10,"label",8),zs(11,"Staff email"),rs(),is(12,"input",9),rs(),Yo(13,ej,5,2,"div",11),Yo(14,tj,2,1,"button",12),ns(15,"a",22),hs("click",(function(){return Kt(n),gs().showLogin()})),zs(16,"Back to login"),rs(),rs(),rs()}if(2&e){var r=gs();es("formGroup",r.forgotPasswordGroup),Ur(13),es("ngIf",!r.forgotPasswordGroup.valid),Ur(1),es("ngIf",r.resetVisible)}}function rj(e){return e.get("newPasswordInput").value!==e.get("confirmPasswordInput").value?{notMatching:!0}:null}function ij(e){var t=e.get("emailInput").value.split("@")[1];return"ebrpl.com"!==t&&"brla.gov"!==t?{outsideEmail:!0}:null}var oj,sj,aj=((oj=function(){function e(t,n){_classCallCheck(this,e),this._Router=t,this.userv=n,this.currentScreen="login",this.alert=null,this.alertMessage=""}return _createClass(e,[{key:"ngOnInit",value:function(){this.loginGroup=new Wm({emailInput:new qm("",jy.required),passwordInput:new qm("",jy.required)}),this.createAccountGroup=new Wm({emailInput:new qm("",jy.required),newPasswordInput:new qm("",jy.required),confirmPasswordInput:new qm("",jy.required),branchSelect:new qm("Branch",jy.required)},[rj,ij]),this.forgotPasswordGroup=new Wm({emailInput:new qm("",jy.required)})}},{key:"tryLogin",value:function(){var e=this;console.log("Logging in...");var t=this.loginGroup.get("emailInput").value,n=this.loginGroup.get("passwordInput").value;console.log(this.loginGroup.get("emailInput").value),this.userv.logIn(t,n).then((function(){console.log("Login successful."),e._Router.navigate([""])})).catch((function(t){console.log(t),e.showErrorAlert("Invalid username or password. Does this account exist?")}))}},{key:"createAccount",value:function(){var e=this,t=this.createAccountGroup.get("emailInput").value,n=this.createAccountGroup.get("newPasswordInput").value,r=(this.createAccountGroup.get("confirmPasswordInput"),this.createAccountGroup.get("branchSelect").value);this.createAccountGroup.errors?this.createAccountGroup.getError("notMatching")?(console.error("Passwords do not match"),this.showErrorAlert("Passwords do not match.")):this.createAccountGroup.getError("outsideEmail")?(console.error("Employee email required."),this.showErrorAlert("Please use your employee email.")):console.error(this.createAccountGroup.errors):(console.log("Creating account"),this.hideAlert(),this.userv.createAccount({email:t,emailVerified:!1,branch:r,role:"user"},n).then((function(){Object(ml.auth)().currentUser.sendEmailVerification(),e.showSuccessAlert("Account successfully created. Please check your email to finish up. Redirecting..."),setTimeout((function(){e._Router.navigate([""])}),5e3)})).catch((function(t){console.error("ERROR"+t),e.showErrorAlert(t),e.createAccountGroup.setErrors({firebase:!0})})))}},{key:"sendResetEmail",value:function(){Object(ml.auth)().sendPasswordResetEmail(this.forgotPasswordGroup.get("emailInput").value).catch((function(e){console.log(e.code)})),this.showSuccessAlert("If that account exists, a reset email has been sent."),this.showLogin()}},{key:"showErrorAlert",value:function(e){this.alert="danger",this.alertMessage=e}},{key:"showSuccessAlert",value:function(e){this.alert="success",this.alertMessage=e}},{key:"hideAlert",value:function(){this.alert=null,this.alertMessage=""}},{key:"showSignup",value:function(){this.currentScreen="signup",this.hideAlert()}},{key:"showLogin",value:function(){this.currentScreen="login"}},{key:"showReset",value:function(){this.currentScreen="reset",this.hideAlert()}},{key:"getConstant",value:function(e){return["Main Library","Baker Branch","Bluebonnet Regional Branch","Carver Branch","Central Branch","Delmont Gardens Branch","Eden Park Branch","Fairwood Branch","Greenwell Springs Rd. Regional Branch","Jones Creek Regional Branch","Pride-Chaneyville Branch","River Center Branch","Scotlandville Branch","Zachary Branch"]}},{key:"alertClass",get:function(){return"danger"===this.alert?"alert alert-danger":"warning"===this.alert?"alert alert-warning":"info"===this.alert?"alert alert-info":"success"===this.alert?"alert alert-success":null}},{key:"loginVisible",get:function(){return"login"===this.currentScreen}},{key:"signupVisible",get:function(){return"signup"===this.currentScreen}},{key:"resetVisible",get:function(){return"reset"===this.currentScreen}}]),e}()).\u0275fac=function(e){return new(e||oj)(Zo(Rv),Zo(_g))},oj.\u0275cmp=dt({type:oj,selectors:[["app-login"]],decls:5,vars:3,consts:[[1,"clr-row","clr-justify-content-center",2,"width","95vw"],[1,"clr-col","clr-offset-md-4","login-wrapper"],["class","login",3,"formGroup",4,"ngIf"],[1,"login",3,"formGroup"],[1,"title"],[1,"welcome"],["class","hint",4,"ngIf"],[1,"login-group"],[1,"clr-sr-only"],["type","email","formControlName","emailInput","clrInput","","placeholder","Staff email"],[4,"ngIf"],["role","alert",3,"className",4,"ngIf"],["class","btn btn-primary",3,"disabled","click",4,"ngIf"],["class","signup",3,"click",4,"ngIf"],[1,"hint"],["type","password","formControlName","passwordInput","clrPassword","","placeholder","Password","autocomplete","current-password"],[3,"click"],["role","alert",3,"className"],[1,"alert-items"],[1,"alert-item","static"],[1,"alert-text"],[1,"btn","btn-primary",3,"disabled","click"],[1,"signup",3,"click"],["clrSelect","","name","type","formControlName","branchSelect"],[3,"value",4,"ngFor","ngForOf"],["type","password","formControlName","newPasswordInput","clrPassword","","placeholder","New password","autocomplete","new-password"],["type","password","formControlName","confirmPasswordInput","clrPassword","","placeholder","Confirm password"],[3,"value"]],template:function(e,t){1&e&&(ns(0,"div",0),ns(1,"div",1),Yo(2,YV,15,6,"form",2),Yo(3,JV,31,5,"form",2),Yo(4,nj,17,3,"form",2),rs(),rs()),2&e&&(Ur(2),es("ngIf",t.loginVisible),Ur(1),es("ngIf",t.signupVisible),Ur(1),es("ngIf",t.resetVisible))},directives:[Hh,o_,Ny,l_,bx,aE,Sy,Py,C_,kx,Ex,Ix,iE,LR,Dx,lm,Rx,Bh,hm,ym],styles:[""]}),oj),uj=j((function(e){return!!e})),cj=((sj=function e(t,r,i,o){var s=this;_classCallCheck(this,e),this.router=o,this.canActivate=function(e,t){var n=e.data.authGuardPipe||function(){return uj};return s.authState.pipe(Ff(1),n(e,t),j((function(e){return"boolean"==typeof e?e:s.router.createUrlTree(e)})))};var a=Cl(new wl(i)),u=Bc(void 0).pipe(Xc(new wl(i).outsideAngular),ad((function(){return i.runOutsideAngular((function(){return n.e(1).then(n.bind(null,"6nsN"))}))})),j((function(){return xl(t,i,r)})),j((function(e){return i.runOutsideAngular((function(){return e.auth()}))})),cg({bufferSize:1,refCount:!1}));this.authState=u.pipe(ad((function(e){return new w(e.onAuthStateChanged.bind(e))})),a)}).\u0275fac=function(e){return new(e||sj)(Ye(El),Ye(Il,8),Ye(oc),Ye(Rv))},sj.\u0275prov=he({factory:function(){return new sj(Ye(El),Ye(Il,8),Ye(oc),Ye(Rv))},token:sj,providedIn:"any"}),sj),lj=j((function(e){return!!e&&e.emailVerified})),hj=function(){return lj};j((function(e){console.log(e)}));var fj,dj=[{path:"report/:report-id/:page-number",component:pV,canActivate:[cj],data:{authGuardPipe:hj}},{path:"preferences",component:$M,canActivate:[cj],data:{authGuardPipe:hj}},{path:"builder",component:GM,canActivate:[cj],data:{authGuardPipe:hj}},{path:"",component:HV,canActivate:[cj],data:{authGuardPipe:function(){return e=["login"],_(uj,j((function(t){return t||e})));var e}}},{path:"login",component:aj}],pj=((fj=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:fj}),fj.\u0275inj=fe({factory:function(e){return new(e||fj)},imports:[[Zv.forRoot(dj)],Zv]}),fj);function vj(e,t){1&e&&(ns(0,"clr-alert",9),ns(1,"clr-alert-item"),ns(2,"span",10),zs(3," It looks like you aren't connected to the internet. "),rs(),rs(),rs()),2&e&&es("clrAlertType","warning")("clrAlertAppLevel",!0)("clrAlertClosable",!1)}function gj(e,t){1&e&&is(0,"img",11)}function yj(e,t){1&e&&(ns(0,"span",12),zs(1,"Admin"),rs())}function mj(e,t){if(1&e&&(ns(0,"p",15),zs(1),cu(2,"date"),rs()),2&e){var n=gs(2);Ur(1),qs(" ",n.report.templateID,": ",hu(2,2,n.report.coverageDate,"MMMM \u2019yy")," ")}}function _j(e,t){if(1&e&&(ns(0,"div",13),Yo(1,mj,3,5,"p",14),rs()),2&e){var n=gs();Ur(1),es("ngIf",n.report.coverageDate)}}function bj(e,t){if(1&e&&(ns(0,"span"),zs(1),rs()),2&e){var n=gs().ngIf;Ur(1),Hs(n.email)}}var kj=function(){return["preferences"]};function wj(e,t){if(1&e){var n=us();ns(0,"clr-dropdown-menu",22),ns(1,"a",23),zs(2,"Preferences"),rs(),ns(3,"a",24),hs("click",(function(){return Kt(n),gs(3).logout()})),zs(4,"Log out"),rs(),rs()}2&e&&(Ur(1),es("routerLink",ou(1,kj)))}function Cj(e,t){if(1&e&&(ns(0,"clr-dropdown"),ns(1,"button",19),is(2,"clr-icon"),Yo(3,bj,2,1,"span",20),rs(),Yo(4,wj,5,2,"clr-dropdown-menu",21),rs()),2&e){var n=gs(2);Ur(2),$o("shape",n.userShape),Ur(1),es("ngIf",n.vw>769)}}function Sj(e,t){if(1&e){var n=us();ns(0,"a",25),hs("click",(function(){return Kt(n),gs(2).login()})),zs(1,"LOGIN"),rs()}}function Ej(e,t){if(1&e&&(ns(0,"div",16),Yo(1,Cj,5,2,"clr-dropdown",17),cu(2,"async"),Yo(3,Sj,2,0,"ng-template",null,18,Lu),rs()),2&e){var n=Ko(4),r=gs();Ur(1),es("ngIf",lu(2,2,r.auth.user))("ngIfElse",n)}}var Ij,Tj=((Ij=function(){function e(t,n,r,i){_classCallCheck(this,e),this._ReportService=t,this.auth=n,this._Router=r,this.userv=i,this.vw=0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this._ReportService.getReportObservable().subscribe((function(t){e.report=t})),this.vw=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),window.onresize=function(t){e.vw=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0)},onoffline=function(){e.offline=!navigator.onLine},ononline=function(){e.offline=!navigator.onLine}}},{key:"login",value:function(){this._Router.navigate(["login"])}},{key:"logout",value:function(){this.userv.logOut(),this._Router.navigate(["login"])}},{key:"userShape",get:function(){return this.userv.getUserSnapshot()&&"admin"===this.userv.getUserSnapshot().role?"administrator":"user"}},{key:"isAdmin",get:function(){var e=this.userv.getUserSnapshot();return!(!e||"admin"!==e.role)}}]),e}()).\u0275fac=function(e){return new(e||Ij)(Zo(bg),Zo(mg),Zo(Rv),Zo(_g))},Ij.\u0275cmp=dt({type:Ij,selectors:[["app-navbar"]],decls:10,vars:5,consts:[[3,"clrAlertType","clrAlertAppLevel","clrAlertClosable",4,"ngIf"],[1,"header","header-7"],[1,"branding","app-title",2,"z-index","1000"],["routerLink","",1,"nav-link"],["src","assets/logo.svg",4,"ngIf"],[1,"title"],["class","badge badge-light-blue",4,"ngIf"],["class","reportTitle",4,"ngIf"],["class","header-actions navbar-links",4,"ngIf"],[3,"clrAlertType","clrAlertAppLevel","clrAlertClosable"],[1,"alert-text"],["src","assets/logo.svg"],[1,"badge","badge-light-blue"],[1,"reportTitle"],["class","titleText",4,"ngIf"],[1,"titleText"],[1,"header-actions","navbar-links"],[4,"ngIf","ngIfElse"],["logIn",""],["clrDropdownTrigger","","aria-label","open user profile",1,"nav-text"],[4,"ngIf"],["clrPosition","bottom-right",4,"clrIfOpen"],["clrPosition","bottom-right"],["clrDropdownItem","",3,"routerLink"],["clrDropdownItem","",3,"click"],[1,"nav-link","nav-text",3,"click"]],template:function(e,t){1&e&&(Yo(0,vj,4,3,"clr-alert",0),ns(1,"header",1),ns(2,"div",2),ns(3,"a",3),Yo(4,gj,1,0,"img",4),ns(5,"span",5),zs(6,"Report Assistant "),Yo(7,yj,2,0,"span",6),rs(),rs(),rs(),Yo(8,_j,2,1,"div",7),Yo(9,Ej,5,4,"div",8),rs()),2&e&&(es("ngIf",t.offline),Ur(4),es("ngIf",t.vw>600),Ur(3),es("ngIf",t.isAdmin),Ur(1),es("ngIf",t.report),Ur(1),es("ngIf",!t.offline))},directives:[Hh,Pv,MR,VR,LR,SR,DR,yC,IE,OR,IR],pipes:[uf,af],styles:["img[_ngcontent-%COMP%]{max-height:2rem;padding-right:.5rem}.reportTitle[_ngcontent-%COMP%]{max-width:30vw;height:60px;left:35vw;display:flex;align-items:center}.app-title[_ngcontent-%COMP%]{min-width:40vw!important;position:relative;top:0;left:0}.navbar-links[_ngcontent-%COMP%]{max-width:30vw!important;position:fixed;top:0;right:0}.titleText[_ngcontent-%COMP%]{margin:auto;text-align:center;color:grey}"]}),Ij);function xj(e,t){1&e&&is(0,"app-navbar")}var Aj,Oj=((Aj=function(){function e(t,n){_classCallCheck(this,e),this.router=t,this.tserv=n}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.router.events.subscribe((function(t){e.navHidden="/login"===e.router.url}))}}]),e}()).\u0275fac=function(e){return new(e||Aj)(Zo(Rv),Zo(kg))},Aj.\u0275cmp=dt({type:Aj,selectors:[["app-root"]],decls:4,vars:1,consts:[[1,"main-container"],[4,"ngIf"],[1,"content-container"]],template:function(e,t){1&e&&(ns(0,"div",0),Yo(1,xj,1,0,"app-navbar",1),ns(2,"div",2),is(3,"router-outlet"),rs(),rs()),2&e&&(Ur(1),es("ngIf",!t.navHidden))},directives:[Hh,Uv,Tj],styles:[".content-container[_ngcontent-%COMP%]{overflow-x:hidden;margin:0}"]}),Aj);function Dj(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Rj(e){switch(e.length){case 0:return new fy;case 1:return e[0];default:return new dy(e)}}function Pj(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=[],a=[],u=-1,c=null;if(r.forEach((function(e){var n=e.offset,r=n==u,l=r&&c||{};Object.keys(e).forEach((function(n){var r=n,a=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,s),a){case"!":a=i[n];break;case"*":a=o[n];break;default:a=t.normalizeStyleValue(n,r,a,s)}l[r]=a})),r||a.push(l),c=l,u=n})),s.length){var l="\n - ";throw new Error("Unable to animate due to the following errors:".concat(l).concat(s.join(l)))}return a}function Nj(e,t,n,r){switch(t){case"start":e.onStart((function(){return r(n&&Fj(n,"start",e))}));break;case"done":e.onDone((function(){return r(n&&Fj(n,"done",e))}));break;case"destroy":e.onDestroy((function(){return r(n&&Fj(n,"destroy",e))}))}}function Fj(e,t,n){var r=n.totalTime,i=Lj(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),o=e._data;return null!=o&&(i._data=o),i}function Lj(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6?arguments[6]:void 0;return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Mj(e,t,n){var r;return e instanceof Map?(r=e.get(t))||e.set(t,r=n):(r=e[t])||(r=e[t]=n),r}function Vj(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var jj=function(e,t){return!1},Uj=function(e,t){return!1},Bj=function(e,t,n){return[]},zj=Dj();(zj||"undefined"!=typeof Element)&&(jj=function(e,t){return e.contains(t)},Uj=function(){if(zj||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:Uj}(),Bj=function(e,t,n){var r=[];if(n)r.push.apply(r,_toConsumableArray(e.querySelectorAll(t)));else{var i=e.querySelector(t);i&&r.push(i)}return r});var Hj=null,Gj=!1;function qj(e){Hj||(Hj=("undefined"!=typeof document?document.body:null)||{},Gj=!!Hj.style&&"WebkitAppearance"in Hj.style);var t=!0;return Hj.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(!(t=e in Hj.style)&&Gj)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in Hj.style),t}var Wj=Uj,$j=jj,Qj=Bj;function Yj(e){var t={};return Object.keys(e).forEach((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]})),t}var Kj,Zj=((Kj=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return qj(e)}},{key:"matchesElement",value:function(e,t){return Wj(e,t)}},{key:"containsElement",value:function(e,t){return $j(e,t)}},{key:"query",value:function(e,t,n){return Qj(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,r,i){return arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6],new fy(n,r)}}]),e}()).\u0275fac=function(e){return new(e||Kj)},Kj.\u0275prov=he({token:Kj,factory:Kj.\u0275fac}),Kj),Xj=function(){var e=function e(){_classCallCheck(this,e)};return e.NOOP=new Zj,e}();function Jj(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:eU(parseFloat(t[1]),t[2])}function eU(e,t){switch(t){case"s":return 1e3*e;default:return e}}function tU(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var r,i=0,o="";if("string"==typeof e){var s=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};r=eU(parseFloat(s[1]),s[2]);var a=s[3];null!=a&&(i=eU(parseFloat(a),s[4]));var u=s[5];u&&(o=u)}else r=e;if(!n){var c=!1,l=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),c=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&t.splice(l,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(e,t,n)}function nU(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach((function(n){t[n]=e[n]})),t}function rU(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var r in e)n[r]=e[r];else nU(e,n);return n}function iU(e,t,n){return n?t+":"+n+";":""}function oU(e){for(var t="",n=0;n<e.style.length;n++){var r=e.style.item(n);t+=iU(0,r,e.style.getPropertyValue(r))}for(var i in e.style)e.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=iU(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[i]));e.setAttribute("style",t)}function sU(e,t,n){e.style&&(Object.keys(t).forEach((function(r){var i=pU(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]})),Dj()&&oU(e))}function aU(e,t){e.style&&(Object.keys(t).forEach((function(t){var n=pU(t);e.style[n]=""})),Dj()&&oU(e))}function uU(e){return Array.isArray(e)?1==e.length?e[0]:ay(e):e}var cU=new RegExp("{{\\s*(.+?)\\s*}}","g");function lU(e){var t=[];if("string"==typeof e){for(var n;n=cU.exec(e);)t.push(n[1]);cU.lastIndex=0}return t}function hU(e,t,n){var r=e.toString(),i=r.replace(cU,(function(e,r){var i=t[r];return t.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()}));return i==r?e:i}function fU(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var dU=/-+([a-z0-9])/g;function pU(e){return e.replace(dU,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()}))}function vU(e,t){return 0===e||0===t}function gU(e,t,n){var r=Object.keys(n);if(r.length&&t.length){var i=t[0],o=[];if(r.forEach((function(e){i.hasOwnProperty(e)||o.push(e),i[e]=n[e]})),o.length)for(var s=function(){var n=t[a];o.forEach((function(t){n[t]=mU(e,t)}))},a=1;a<t.length;a++)s()}return t}function yU(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function mU(e,t){return window.getComputedStyle(e)[t]}var _U=new Set(["true","1"]),bU=new Set(["false","0"]);function kU(e,t){var n=_U.has(e)||bU.has(e),r=_U.has(t)||bU.has(t);return function(i,o){var s="*"==e||e==i,a="*"==t||t==o;return!s&&n&&"boolean"==typeof i&&(s=i?_U.has(e):bU.has(e)),!a&&r&&"boolean"==typeof o&&(a=o?_U.has(t):bU.has(t)),s&&a}}var wU=new RegExp("s*:selfs*,?","g");function CU(e,t,n){return new SU(e).build(t,n)}var SU=function(){function e(t){_classCallCheck(this,e),this._driver=t}return _createClass(e,[{key:"build",value:function(e,t){var n=new EU(t);return this._resetContextStyleTimingState(n),yU(this,uU(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach((function(e){if(n._resetContextStyleTimingState(t),0==e.type){var a=e,u=a.name;u.toString().split(/\s*,\s*/).forEach((function(e){a.name=e,o.push(n.visitState(a,t))})),a.name=u}else if(1==e.type){var c=n.visitTransition(e,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach((function(e){if(IU(e)){var t=e;Object.keys(t).forEach((function(e){lU(t[e]).forEach((function(e){o.hasOwnProperty(e)||i.add(e)}))}))}})),i.size){var s=fU(i.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(s.join(", ")))}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n,r,i,o=yU(this,uU(e.animation),t);return{type:1,matchers:(n=e.expr,r=t.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(e){return function(e,t,n){if(":"==e[0]){var r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}var i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var o=i[1],s=i[2],a=i[3];t.push(kU(o,a)),"<"!=s[0]||"*"==o&&"*"==a||t.push(kU(a,o))}(e,i,r)})):i.push(n),i),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:TU(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map((function(e){return yU(n,e,t)})),options:TU(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,r=t.currentTime,i=0,o=e.steps.map((function(e){t.currentTime=r;var o=yU(n,e,t);return i=Math.max(i,t.currentTime),o}));return t.currentTime=i,{type:3,steps:o,options:TU(e.options)}}},{key:"visitAnimate",value:function(e,t){var n,r=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return xU(tU(e,t).duration,0,"");var r=e;if(r.split(/\s+/).some((function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)}))){var i=xU(0,0,"");return i.dynamic=!0,i.strValue=r,i}return xU((n=n||tU(r,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;var i=e.styles?e.styles:uy({});if(5==i.type)n=this.visitKeyframes(i,t);else{var o=e.styles,s=!1;if(!o){s=!0;var a={};r.easing&&(a.easing=r.easing),o=uy(a)}t.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,t);u.isEmptyStep=s,n=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach((function(e){"string"==typeof e?"*"==e?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)})):n.push(e.styles);var r=!1,i=null;return n.forEach((function(e){if(IU(e)){var t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(var o in t)if(t[o].toString().indexOf("{{")>=0){r=!0;break}}})),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach((function(e){"string"!=typeof e&&Object.keys(e).forEach((function(r){if(n._driver.validateStyleProperty(r)){var s,a,u,c,l,h=t.collectedStyles[t.currentQuerySelector],f=h[r],d=!0;f&&(o!=i&&o>=f.startTime&&i<=f.endTime&&(t.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),d=!1),o=f.startTime),d&&(h[r]={startTime:o,endTime:i}),t.options&&(s=e[r],a=t.options,u=t.errors,c=a.params||{},(l=lU(s)).length&&l.forEach((function(e){c.hasOwnProperty(e)||u.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))})))}else t.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(e,t){var n=this,r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],s=!1,a=!1,u=0,c=e.steps.map((function(e){var r=n._makeStyleAst(e,t),c=null!=r.offset?r.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach((function(e){if(IU(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}}));else if(IU(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(r.styles),l=0;return null!=c&&(i++,l=r.offset=c),a=a||l<0||l>1,s=s||l<u,u=l,o.push(l),r}));a&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&t.errors.push("Please ensure that all keyframe offsets are in order");var l=e.steps.length,h=0;i>0&&i<l?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(l-1));var f=l-1,d=t.currentTime,p=t.currentAnimateTimings,v=p.duration;return c.forEach((function(e,i){var s=h>0?i==f?1:h*i:o[i],a=s*v;t.currentTime=d+p.delay+a,p.duration=a,n._validateStyleAst(e,t),e.offset=s,r.styles.push(e)})),r}},{key:"visitReference",value:function(e,t){return{type:8,animation:yU(this,uU(e.animation),t),options:TU(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:TU(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:TU(e.options)}}},{key:"visitQuery",value:function(e,t){var n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;var i=_slicedToArray(function(e){var t=!!e.split(/\s*,\s*/).find((function(e){return":self"==e}));return t&&(e=e.replace(wU,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(e){return".ng-trigger-"+e.substr(1)})).replace(/:animating/g,".ng-animating"),t]}(e.selector),2),o=i[0],s=i[1];t.currentQuerySelector=n.length?n+" "+o:o,Mj(t.collectedStyles,t.currentQuerySelector,{});var a=yU(this,uU(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:TU(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:tU(e.timings,t.errors,!0);return{type:12,animation:yU(this,uU(e.animation),t),timings:n,options:null}}}]),e}(),EU=function e(t){_classCallCheck(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function IU(e){return!Array.isArray(e)&&"object"==typeof e}function TU(e){var t;return e?(e=nU(e)).params&&(e.params=(t=e.params)?nU(t):null):e={},e}function xU(e,t,n){return{duration:e,delay:t,easing:n}}function AU(e,t,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var OU=function(){function e(){_classCallCheck(this,e),this._map=new Map}return _createClass(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n,r=this._map.get(e);r||this._map.set(e,r=[]),(n=r).push.apply(n,_toConsumableArray(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),DU=new RegExp(":enter","g"),RU=new RegExp(":leave","g");function PU(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},a=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new NU).buildKeyframes(e,t,n,r,i,o,s,a,u,c)}var NU=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"buildKeyframes",value:function(e,t,n,r,i,o,s,a,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new OU;var l=new LU(e,t,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([o],null,l.errors,a),yU(this,n,l);var h=l.timelines.filter((function(e){return e.containsAnimation()}));if(h.length&&Object.keys(s).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([s],null,l.errors,a)}return h.length?h.map((function(e){return e.buildKeyframes()})):[AU(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var r=t.currentTimeline.currentTime,i=null!=n.duration?Jj(n.duration):null,o=null!=n.delay?Jj(n.delay):null;return 0!==i&&e.forEach((function(e){var n=t.appendInstructionToTimeline(e,i,o);r=Math.max(r,n.duration+n.delay)})),r}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),yU(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&((i=t.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=FU);var s=Jj(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach((function(e){return yU(n,e,i)})),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Jj(e.options.delay):0;e.steps.forEach((function(s){var a=t.createSubContext(e.options);o&&a.delayNextStep(o),yU(n,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)})),r.forEach((function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)})),t.transformIntoNewTimeline(i),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return tU(t.params?hU(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());var i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach((function(e){o.forwardTime((e.offset||0)*i),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()})),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(r+i),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Jj(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=FU);var s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;var u=null;a.forEach((function(r,i){t.currentQueryIndex=i;var a=t.createSubContext(e.options,r);o&&a.delayNextStep(o),r===t.element&&(u=a.currentTimeline),yU(n,e.animation,a),a.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,a.currentTimeline.currentTime)})),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,r=t.currentTimeline,i=e.timings,o=Math.abs(i.duration),s=o*(t.currentQueryTotal-1),a=o*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}var u=t.currentTimeline;a&&u.delayNextStep(a);var c=u.currentTime;yU(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}]),e}(),FU={},LU=function(){function e(t,n,r,i,o,s,a,u){_classCallCheck(this,e),this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=FU,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new MU(this._driver,n,0),a.push(this.currentTimeline)}return _createClass(e,[{key:"updateOptions",value:function(e,t){var n=this;if(e){var r=e,i=this.options;null!=r.duration&&(i.duration=Jj(r.duration)),null!=r.delay&&(i.delay=Jj(r.delay));var o=r.params;if(o){var s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach((function(e){t&&s.hasOwnProperty(e)||(s[e]=hU(o[e],s,n.errors))}))}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach((function(e){n[e]=t[e]}))}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new e(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=FU,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new VU(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,r,i,o){var s=[];if(r&&s.push(this.element),e.length>0){e=(e=e.replace(DU,"."+this._enterClassName)).replace(RU,"."+this._leaveClassName);var a=this._driver.query(this.element,e,1!=n);0!==n&&(a=n<0?a.slice(a.length+n,a.length):a.slice(0,n)),s.push.apply(s,_toConsumableArray(a))}return i||0!=s.length||o.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),s}},{key:"params",get:function(){return this.options.params}}]),e}(),MU=function(){function e(t,n,r,i){_classCallCheck(this,e),this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach((function(e){t._backFill[e]=t._globalTimelineStyles[e]||"*",t._currentKeyframe[e]="*"})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,r){var i=this;t&&(this._previousKeyframe.easing=t);var o=r&&r.params||{},s=function(e,t){var n,r={};return e.forEach((function(e){"*"===e?(n=n||Object.keys(t)).forEach((function(e){r[e]="*"})):rU(e,!1,r)})),r}(e,this._globalTimelineStyles);Object.keys(s).forEach((function(e){var t=hU(s[e],o,n);i._pendingStyles[e]=t,i._localTimelineStyles.hasOwnProperty(e)||(i._backFill[e]=i._globalTimelineStyles.hasOwnProperty(e)?i._globalTimelineStyles[e]:"*"),i._updateStyle(e,t)}))}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){e._currentKeyframe[n]=t[n]})),Object.keys(this._localTimelineStyles).forEach((function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])})))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach((function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach((function(n){var r=t._styleSummary[n],i=e._styleSummary[n];(!r||i.time>r.time)&&t._updateStyle(n,i.value)}))}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach((function(o,s){var a=rU(o,!0);Object.keys(a).forEach((function(e){var r=a[e];"!"==r?t.add(e):"*"==r&&n.add(e)})),r||(a.offset=s/e.duration),i.push(a)}));var o=t.size?fU(t.values()):[],s=n.size?fU(n.values()):[];if(r){var a=i[0],u=nU(a);a.offset=0,u.offset=1,i=[a,u]}return AU(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}}]),e}(),VU=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s,a){var u,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,n),(u=t.call(this,e,r,a.delay)).element=r,u.keyframes=i,u.preStyleProps=o,u.postStyleProps=s,u._stretchStartingKeyframe=c,u.timings={duration:a.duration,delay:a.delay,easing:a.easing},u}return _createClass(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,r=t.duration,i=t.easing;if(this._stretchStartingKeyframe&&n){var o=[],s=r+n,a=n/s,u=rU(e[0],!1);u.offset=0,o.push(u);var c=rU(e[0],!1);c.offset=jU(a),o.push(c);for(var l=e.length-1,h=1;h<=l;h++){var f=rU(e[h],!1);f.offset=jU((n+f.offset*r)/s),o.push(f)}r=s,n=0,i="",e=o}return AU(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(MU);function jU(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var UU=function e(){_classCallCheck(this,e)},BU=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"normalizePropertyName",value:function(e,t){return pU(e)}},{key:"normalizeStyleValue",value:function(e,t,n,r){var i="",o=n.toString().trim();if(zU[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&r.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return o+i}}]),n}(UU),zU=function(e){var t={};return e.forEach((function(e){return t[e]=!0})),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function HU(e,t,n,r,i,o,s,a,u,c,l,h,f){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}var GU={},qU=function(){function e(t,n,r){_classCallCheck(this,e),this._triggerName=t,this.ast=n,this._stateStyles=r}return _createClass(e,[{key:"match",value:function(e,t,n,r){return function(e,t,n,r,i){return e.some((function(e){return e(t,n,r,i)}))}(this.ast.matchers,e,t,n,r)}},{key:"buildStyles",value:function(e,t,n){var r=this._stateStyles["*"],i=this._stateStyles[e],o=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):o}},{key:"build",value:function(e,t,n,r,i,o,s,a,u,c){var l=[],h=this.ast.options&&this.ast.options.params||GU,f=this.buildStyles(n,s&&s.params||GU,l),d=a&&a.params||GU,p=this.buildStyles(r,d,l),v=new Set,g=new Map,y=new Map,m="void"===r,_={params:Object.assign(Object.assign({},h),d)},b=c?[]:PU(e,t,this.ast.animation,i,o,f,p,_,u,l),k=0;if(b.forEach((function(e){k=Math.max(e.duration+e.delay,k)})),l.length)return HU(t,this._triggerName,n,r,m,f,p,[],[],g,y,k,l);b.forEach((function(e){var n=e.element,r=Mj(g,n,{});e.preStyleProps.forEach((function(e){return r[e]=!0}));var i=Mj(y,n,{});e.postStyleProps.forEach((function(e){return i[e]=!0})),n!==t&&v.add(n)}));var w=fU(v.values());return HU(t,this._triggerName,n,r,m,f,p,b,w,g,y,k)}}]),e}(),WU=function(){function e(t,n){_classCallCheck(this,e),this.styles=t,this.defaultParams=n}return _createClass(e,[{key:"buildStyles",value:function(e,t){var n={},r=nU(this.defaultParams);return Object.keys(e).forEach((function(t){var n=e[t];null!=n&&(r[t]=n)})),this.styles.styles.forEach((function(e){if("string"!=typeof e){var i=e;Object.keys(i).forEach((function(e){var o=i[e];o.length>1&&(o=hU(o,r,t)),n[e]=o}))}})),n}}]),e}(),$U=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.name=t,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(e){r.states[e.name]=new WU(e.style,e.options&&e.options.params||{})})),QU(this.states,"true","1"),QU(this.states,"false","0"),n.transitions.forEach((function(e){r.transitionFactories.push(new qU(t,e,r.states))})),this.fallbackTransition=new qU(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(e,[{key:"matchTransition",value:function(e,t,n,r){return this.transitionFactories.find((function(i){return i.match(e,t,n,r)}))||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),e}();function QU(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var YU=new OU,KU=function(){function e(t,n,r){_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return _createClass(e,[{key:"register",value:function(e,t){var n=[],r=CU(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[e]=r}},{key:"_buildPlayer",value:function(e,t,n){var r=e.element,i=Pj(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],s=this._animations[e],a=new Map;if(s?(n=PU(this._driver,t,s,"ng-enter","ng-leave",{},{},i,YU,o)).forEach((function(e){var t=Mj(a,e.element,{});e.postStyleProps.forEach((function(e){return t[e]=null}))})):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));a.forEach((function(e,t){Object.keys(e).forEach((function(n){e[n]=r._driver.computeStyle(t,n,"*")}))}));var u=Rj(n.map((function(e){var t=a.get(e.element);return r._buildPlayer(e,{},t)})));return this._playersById[e]=u,u.onDestroy((function(){return r.destroy(e)})),this.players.push(u),u}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t}},{key:"listen",value:function(e,t,n,r){var i=Lj(t,"","","");return Nj(this._getPlayer(e),n,i,r),function(){}}},{key:"command",value:function(e,t,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,r[0]||{});else this.register(e,r[0])}}]),e}(),ZU=[],XU={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},JU={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},eB=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,e),this.namespaceId=n;var r,i=t&&t.hasOwnProperty("value");if(this.value=null!=(r=i?t.value:t)?r:null,i){var o=nU(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return _createClass(e,[{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach((function(e){null==n[e]&&(n[e]=t[e])}))}}},{key:"params",get:function(){return this.options.params}}]),e}(),tB=new eB("void"),nB=function(){function e(t,n,r){_classCallCheck(this,e),this.id=t,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,cB(n,this._hostClassName)}return _createClass(e,[{key:"listen",value:function(e,t,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var s=Mj(this._elementListeners,e,[]),a={name:t,phase:n,callback:r};s.push(a);var u=Mj(this._engine.statesByElement,e,{});return u.hasOwnProperty(t)||(cB(e,"ng-trigger"),cB(e,"ng-trigger-"+t),u[t]=tB),function(){o._engine.afterFlush((function(){var e=s.indexOf(a);e>=0&&s.splice(e,1),o._triggers[t]||delete u[t]}))}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(t),s=new iB(this.id,t,e),a=this._engine.statesByElement.get(e);a||(cB(e,"ng-trigger"),cB(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,a={}));var u=a[t],c=new eB(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),a[t]=c,u||(u=tB),"void"===c.value||u.value!==c.value){var l=Mj(this._engine.playersByElement,e,[]);l.forEach((function(e){e.namespaceId==r.id&&e.triggerName==t&&e.queued&&e.destroy()}));var h=o.matchTransition(u.value,c.value,e,c.params),f=!1;if(!h){if(!i)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:u,toState:c,player:s,isFallbackTransition:f}),f||(cB(e,"ng-animate-queued"),s.onStart((function(){lB(e,"ng-animate-queued")}))),s.onDone((function(){var t=r.players.indexOf(s);t>=0&&r.players.splice(t,1);var n=r._engine.playersByElement.get(e);if(n){var i=n.indexOf(s);i>=0&&n.splice(i,1)}})),this.players.push(s),l.push(s),s}if(!function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}(u.params,c.params)){var d=[],p=o.matchStyles(u.value,u.params,d),v=o.matchStyles(c.value,c.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush((function(){aU(e,p),sU(e,v)}))}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach((function(t,n){delete t[e]})),this._elementListeners.forEach((function(n,r){t._elementListeners.set(r,n.filter((function(t){return t.name!=e})))}))}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach((function(e){return e.destroy()})),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this,r=this._engine.driver.query(e,".ng-trigger",!0);r.forEach((function(e){if(!e.__ng_removed){var r=n._engine.fetchNamespacesByElement(e);r.size?r.forEach((function(n){return n.triggerLeaveAnimation(e,t,!1,!0)})):n.clearElementCache(e)}})),this._engine.afterFlushAnimationsDone((function(){return r.forEach((function(e){return n.clearElementCache(e)}))}))}},{key:"triggerLeaveAnimation",value:function(e,t,n,r){var i=this,o=this._engine.statesByElement.get(e);if(o){var s=[];if(Object.keys(o).forEach((function(t){if(i._triggers[t]){var n=i.trigger(e,t,"void",r);n&&s.push(n)}})),s.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&Rj(s).onDone((function(){return i._engine.processLeaveNode(e)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e);if(n){var r=new Set;n.forEach((function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=t._triggers[i].fallbackTransition,s=t._engine.statesByElement.get(e)[i]||tB,a=new eB("void"),u=new iB(t.id,i,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:i,transition:o,fromState:s,toState:a,player:u,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(e,t){var n=this,r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else for(var s=e;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{var a=e.__ng_removed;a&&a!==XU||(r.afterFlush((function(){return n.clearElementCache(e)})),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}}},{key:"insertNode",value:function(e,t){cB(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach((function(r){var i=r.player;if(!i.destroyed){var o=r.element,s=t._elementListeners.get(o);s&&s.forEach((function(t){if(t.name==r.triggerName){var n=Lj(o,r.triggerName,r.fromState.value,r.toState.value);n._data=e,Nj(r.player,t.phase,n,t.callback)}})),i.markedForDestroy?t._engine.afterFlush((function(){i.destroy()})):n.push(r)}})),this._queue=[],n.sort((function(e,n){var r=e.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:t._engine.driver.containsElement(e.element,n.element)?1:-1}))}},{key:"destroy",value:function(e){this.players.forEach((function(e){return e.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find((function(t){return t.element===e}))||t}}]),e}(),rB=function(){function e(t,n,r){_classCallCheck(this,e),this.bodyNode=t,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return _createClass(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"createNamespace",value:function(e,t){var n=new nB(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var r=this._fetchNamespace(e);this.afterFlush((function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(r);t>=0&&n._namespaceList.splice(t,1)})),this.afterFlushAnimationsDone((function(){return r.destroy(t)}))}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var s=this._fetchNamespace(o);s&&t.add(s)}}return t}},{key:"trigger",value:function(e,t,n,r){if(oB(t)){var i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}},{key:"insertNode",value:function(e,t,n,r){if(oB(t)){var i=t.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){var s=this._fetchNamespace(e);s&&s.insertNode(t,n)}r&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),cB(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),lB(e,"ng-animate-disabled"))}},{key:"removeNode",value:function(e,t,n,r){if(oB(t)){var i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){var o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}},{key:"markElementAsRemoved",value:function(e,t,n,r){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,r,i){return oB(t)?this._fetchNamespace(e).listen(t,n,r,i):function(){}}},{key:"_buildInstruction",value:function(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,".ng-trigger",!0);n.forEach((function(e){return t.destroyActiveAnimationsForElement(e)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,".ng-animating",!0)).forEach((function(e){return t.finishActiveQueriedAnimationOnElement(e)}))}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach((function(e){e.queued?e.markedForDestroy=!0:e.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach((function(e){return e.finish()}))}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise((function(t){if(e.players.length)return Rj(e.players).onDone((function(){return t()}));t()}))}},{key:"processLeaveNode",value:function(e){var t=this,n=e.__ng_removed;if(n&&n.setForRemoval){if(e.__ng_removed=XU,n.namespaceId){this.destroyInnerAnimations(e);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach((function(e){t.markElementAsDisabled(e,!1)}))}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(t,n){return e._balanceNamespaceList(t,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)cB(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,t)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(e){return e()})),this._flushFns=[],this._whenQuietFns.length){var a=this._whenQuietFns;this._whenQuietFns=[],n.length?Rj(n).onDone((function(){a.forEach((function(e){return e()}))})):a.forEach((function(e){return e()}))}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))}},{key:"_flushAnimations",value:function(e,t){var n=this,r=new OU,i=[],o=new Map,s=[],a=new Map,u=new Map,c=new Map,l=new Set;this.disabledNodes.forEach((function(e){l.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),r=0;r<t.length;r++)l.add(t[r])}));var h=this.bodyNode,f=Array.from(this.statesByElement.keys()),d=uB(f,this.collectedEnterElements),p=new Map,v=0;d.forEach((function(e,t){var n="ng-enter"+v++;p.set(t,n),e.forEach((function(e){return cB(e,n)}))}));for(var g=[],y=new Set,m=new Set,_=0;_<this.collectedLeaveElements.length;_++){var b=this.collectedLeaveElements[_],k=b.__ng_removed;k&&k.setForRemoval&&(g.push(b),y.add(b),k.hasAnimation?this.driver.query(b,".ng-star-inserted",!0).forEach((function(e){return y.add(e)})):m.add(b))}var w=new Map,C=uB(f,Array.from(y));C.forEach((function(e,t){var n="ng-leave"+v++;w.set(t,n),e.forEach((function(e){return cB(e,n)}))})),e.push((function(){d.forEach((function(e,t){var n=p.get(t);e.forEach((function(e){return lB(e,n)}))})),C.forEach((function(e,t){var n=w.get(t);e.forEach((function(e){return lB(e,n)}))})),g.forEach((function(e){n.processLeaveNode(e)}))}));for(var S=[],E=[],I=this._namespaceList.length-1;I>=0;I--)this._namespaceList[I].drainQueuedTransitions(t).forEach((function(e){var t=e.player,o=e.element;if(S.push(t),n.collectedEnterElements.length){var l=o.__ng_removed;if(l&&l.setForMove)return void t.destroy()}var f=!h||!n.driver.containsElement(h,o),d=w.get(o),v=p.get(o),g=n._buildInstruction(e,r,v,d,f);if(g.errors&&g.errors.length)E.push(g);else{if(f)return t.onStart((function(){return aU(o,g.fromStyles)})),t.onDestroy((function(){return sU(o,g.toStyles)})),void i.push(t);if(e.isFallbackTransition)return t.onStart((function(){return aU(o,g.fromStyles)})),t.onDestroy((function(){return sU(o,g.toStyles)})),void i.push(t);g.timelines.forEach((function(e){return e.stretchStartingKeyframe=!0})),r.append(o,g.timelines),s.push({instruction:g,player:t,element:o}),g.queriedElements.forEach((function(e){return Mj(a,e,[]).push(t)})),g.preStyleProps.forEach((function(e,t){var n=Object.keys(e);if(n.length){var r=u.get(t);r||u.set(t,r=new Set),n.forEach((function(e){return r.add(e)}))}})),g.postStyleProps.forEach((function(e,t){var n=Object.keys(e),r=c.get(t);r||c.set(t,r=new Set),n.forEach((function(e){return r.add(e)}))}))}}));if(E.length){var T=[];E.forEach((function(e){T.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach((function(e){return T.push("- ".concat(e,"\n"))}))})),S.forEach((function(e){return e.destroy()})),this.reportError(T)}var x=new Map,A=new Map;s.forEach((function(e){var t=e.element;r.has(t)&&(A.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,x))})),i.forEach((function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach((function(e){Mj(x,t,[]).push(e),e.destroy()}))}));var O=g.filter((function(e){return fB(e,u,c)})),D=new Map;aB(D,this.driver,m,c,"*").forEach((function(e){fB(e,u,c)&&O.push(e)}));var R=new Map;d.forEach((function(e,t){aB(R,n.driver,new Set(e),u,"!")})),O.forEach((function(e){var t=D.get(e),n=R.get(e);D.set(e,Object.assign(Object.assign({},t),n))}));var P=[],N=[],F={};s.forEach((function(e){var t=e.element,s=e.player,a=e.instruction;if(r.has(t)){if(l.has(t))return s.onDestroy((function(){return sU(t,a.toStyles)})),s.disabled=!0,s.overrideTotalTime(a.totalTime),void i.push(s);var u=F;if(A.size>1){for(var c=t,h=[];c=c.parentNode;){var f=A.get(c);if(f){u=f;break}h.push(c)}h.forEach((function(e){return A.set(e,u)}))}var d=n._buildAnimation(s.namespaceId,a,x,o,R,D);if(s.setRealPlayer(d),u===F)P.push(s);else{var p=n.playersByElement.get(u);p&&p.length&&(s.parentPlayer=Rj(p)),i.push(s)}}else aU(t,a.fromStyles),s.onDestroy((function(){return sU(t,a.toStyles)})),N.push(s),l.has(t)&&i.push(s)})),N.forEach((function(e){var t=o.get(e.element);if(t&&t.length){var n=Rj(t);e.setRealPlayer(n)}})),i.forEach((function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()}));for(var L=0;L<g.length;L++){var M=g[L],V=M.__ng_removed;if(lB(M,"ng-leave"),!V||!V.hasAnimation){var j=[];if(a.size){var U=a.get(M);U&&U.length&&j.push.apply(j,_toConsumableArray(U));for(var B=this.driver.query(M,".ng-animating",!0),z=0;z<B.length;z++){var H=a.get(B[z]);H&&H.length&&j.push.apply(j,_toConsumableArray(H))}}var G=j.filter((function(e){return!e.destroyed}));G.length?hB(this,M,G):this.processLeaveNode(M)}}return g.length=0,P.forEach((function(e){n.players.push(e),e.onDone((function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)})),e.play()})),P}},{key:"elementContainsData",value:function(e,t){var n=!1,r=t.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,r,i){var o=[];if(t){var s=this.playersByQueriedElement.get(e);s&&(o=s)}else{var a=this.playersByElement.get(e);if(a){var u=!i||"void"==i;a.forEach((function(e){e.queued||(u||e.triggerName==r)&&o.push(e)}))}}return(n||r)&&(o=o.filter((function(e){return!(n&&n!=e.namespaceId||r&&r!=e.triggerName)}))),o}},{key:"_beforeAnimationBuild",value:function(e,t,n){var r,i=this,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName,u=_createForOfIteratorHelper(t.timelines);try{var c=function(){var e=r.value.element,u=e!==o,c=Mj(n,e,[]);i._getPreviousPlayers(e,u,s,a,t.toState).forEach((function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),c.push(e)}))};for(u.s();!(r=u.n()).done;)c()}catch(l){u.e(l)}finally{u.f()}aU(o,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,r,i,o){var s=this,a=t.triggerName,u=t.element,c=[],l=new Set,h=new Set,f=t.timelines.map((function(t){var f=t.element;l.add(f);var d=f.__ng_removed;if(d&&d.removedBeforeQueried)return new fy(t.duration,t.delay);var p,v,g=f!==u,y=(p=(n.get(f)||ZU).map((function(e){return e.getRealPlayer()})),v=[],function e(t,n){for(var r=0;r<t.length;r++){var i=t[r];i instanceof dy?e(i.players,n):n.push(i)}}(p,v),v).filter((function(e){return!!e.element&&e.element===f})),m=i.get(f),_=o.get(f),b=Pj(0,s._normalizer,0,t.keyframes,m,_),k=s._buildPlayer(t,b,y);if(t.subTimeline&&r&&h.add(f),g){var w=new iB(e,a,f);w.setRealPlayer(k),c.push(w)}return k}));c.forEach((function(e){Mj(s.playersByQueriedElement,e.element,[]).push(e),e.onDone((function(){return function(e,t,n){var r;if(e instanceof Map){if(r=e.get(t)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}}else if(r=e[t]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete e[t]}return r}(s.playersByQueriedElement,e.element,e)}))})),l.forEach((function(e){return cB(e,"ng-animating")}));var d=Rj(f);return d.onDestroy((function(){l.forEach((function(e){return lB(e,"ng-animating")})),sU(u,t.toStyles)})),h.forEach((function(e){Mj(r,e,[]).push(d)})),d}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new fy(e.duration,e.delay)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach((function(t){t.players.forEach((function(t){t.queued&&e.push(t)}))})),e}}]),e}(),iB=function(){function e(t,n,r){_classCallCheck(this,e),this.namespaceId=t,this.triggerName=n,this.element=r,this._player=new fy,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach((function(n){t._queuedCallbacks[n].forEach((function(t){return Nj(e,n,void 0,t)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart((function(){return n.triggerCallback("start")})),e.onDone((function(){return t.finish()})),e.onDestroy((function(){return t.destroy()}))}},{key:"_queueEvent",value:function(e,t){Mj(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function oB(e){return e&&1===e.nodeType}function sB(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function aB(e,t,n,r,i){var o=[];n.forEach((function(e){return o.push(sB(e))}));var s=[];r.forEach((function(n,r){var o={};n.forEach((function(e){var n=o[e]=t.computeStyle(r,e,i);n&&0!=n.length||(r.__ng_removed=JU,s.push(r))})),e.set(r,o)}));var a=0;return n.forEach((function(e){return sB(e,o[a++])})),s}function uB(e,t){var n=new Map;if(e.forEach((function(e){return n.set(e,[])})),0==t.length)return n;var r=new Set(t),i=new Map;return t.forEach((function(e){var t=function e(t){if(!t)return 1;var o=i.get(t);if(o)return o;var s=t.parentNode;return o=n.has(s)?s:r.has(s)?1:e(s),i.set(t,o),o}(e);1!==t&&n.get(t).push(e)})),n}function cB(e,t){if(e.classList)e.classList.add(t);else{var n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function lB(e,t){if(e.classList)e.classList.remove(t);else{var n=e.$$classes;n&&delete n[t]}}function hB(e,t,n){Rj(n).onDone((function(){return e.processLeaveNode(t)}))}function fB(e,t,n){var r=n.get(e);if(!r)return!1;var i=t.get(e);return i?r.forEach((function(e){return i.add(e)})):t.set(e,r),n.delete(e),!0}var dB=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new rB(t,n,r),this._timelineEngine=new KU(t,n,r),this._transitionEngine.onRemovalComplete=function(e,t){return i.onRemovalComplete(e,t)}}return _createClass(e,[{key:"registerTrigger",value:function(e,t,n,r,i){var o=e+"-"+r,s=this._triggerCache[o];if(!s){var a=[],u=CU(this._driver,i,a);if(a.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(a.join("\n - ")));s=function(e,t){return new $U(e,t)}(r,u),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(t,r,s)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}},{key:"onRemove",value:function(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,n,r){if("@"==n.charAt(0)){var i=_slicedToArray(Vj(n),2),o=i[0],s=i[1];this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,n,r)}},{key:"listen",value:function(e,t,n,r,i){if("@"==n.charAt(0)){var o=_slicedToArray(Vj(n),2),s=o[0],a=o[1];return this._timelineEngine.listen(s,t,a,i)}return this._transitionEngine.listen(e,t,n,r,i)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),e}();function pB(e,t){var n=null,r=null;return Array.isArray(t)&&t.length?(n=gB(t[0]),t.length>1&&(r=gB(t[t.length-1]))):t&&(n=gB(t)),n||r?new vB(e,n,r):null}var vB=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;var i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}return _createClass(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&sU(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(sU(this._element,this._initialStyles),this._endStyles&&(sU(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(aU(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(aU(this._element,this._endStyles),this._endStyles=null),sU(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function gB(e){for(var t=null,n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];yB(i)&&((t=t||{})[i]=e[i])}return t}function yB(e){return"display"===e||"position"===e}var mB=function(){function e(t,n,r,i,o,s,a){var u=this;_classCallCheck(this,e),this._element=t,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=s,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return u._handleCallback(e)}}return _createClass(e,[{key:"apply",value:function(){var e,t,n;e=this._element,t="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=SB(e,"").trim()).length&&(function(e,t){for(var n=0;n<e.length;n++)e.charAt(n)}(n),t="".concat(n,", ").concat(t)),CB(e,"",t),wB(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){_B(this._element,this._name,"paused")}},{key:"resume",value:function(){_B(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=bB(this._element,this._name);this._position=e*this._duration,CB(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),wB(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){var n=SB(e,"").split(","),r=kB(n,t);r>=0&&(n.splice(r,1),CB(e,"",n.join(",")))}(this._element,this._name))}}]),e}();function _B(e,t,n){CB(e,"PlayState",n,bB(e,t))}function bB(e,t){var n=SB(e,"");return n.indexOf(",")>0?kB(n.split(","),t):kB([n],t)}function kB(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function wB(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function CB(e,t,n,r){var i="animation"+t;if(null!=r){var o=e.style[i];if(o.length){var s=o.split(",");s[r]=n,n=s.join(",")}}e.style[i]=n}function SB(e,t){return e.style["animation"+t]}var EB=function(){function e(t,n,r,i,o,s,a,u){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=a,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=i+o,this._buildStyler()}return _createClass(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new mB(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return e.finish()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(r){"offset"!=r&&(t[r]=n?e._finalStyles[r]:mU(e.element,r))}))}this.currentSnapshot=t}}]),e}(),IB=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).element=e,i._startingStyles={},i.__initialized=!1,i._styles=Yj(r),i}return _createClass(n,[{key:"init",value:function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(t){e._startingStyles[t]=e.element.style[t]})),_get(_getPrototypeOf(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(t){return e.element.style.setProperty(t,e._styles[t])})),_get(_getPrototypeOf(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)})),this._startingStyles=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this))}}]),n}(fy),TB=function(){function e(){_classCallCheck(this,e),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return qj(e)}},{key:"matchesElement",value:function(e,t){return Wj(e,t)}},{key:"containsElement",value:function(e,t){return $j(e,t)}},{key:"query",value:function(e,t,n){return Qj(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map((function(e){return Yj(e)}));var r="@keyframes ".concat(t," {\n"),i="";n.forEach((function(e){i=" ";var t=parseFloat(e.offset);r+="".concat(i).concat(100*t,"% {\n"),i+=" ",Object.keys(e).forEach((function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(t,": ").concat(n,";\n"))}})),r+=i+"}\n"})),r+="}\n";var o=document.createElement("style");return o.innerHTML=r,o}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0;s&&this._notifyFaultyScrubber();var a=o.filter((function(e){return e instanceof EB})),u={};vU(n,r)&&a.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return u[e]=t[e]}))}));var c=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach((function(e){Object.keys(e).forEach((function(n){"offset"!=n&&"easing"!=n&&(t[n]=e[n])}))})),t}(t=gU(e,t,u));if(0==n)return new IB(e,c);var l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,l,t);document.querySelector("head").appendChild(h);var f=pB(e,t),d=new EB(e,t,l,n,r,i,c,f);return d.onDestroy((function(){var e;(e=h).parentNode.removeChild(e)})),d}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),e}(),xB=function(){function e(t,n,r,i){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return e._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:mU(e.element,n))})),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),e}(),AB=function(){function e(){_classCallCheck(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(OB().toString()),this._cssKeyframesDriver=new TB}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return qj(e)}},{key:"matchesElement",value:function(e,t){return Wj(e,t)}},{key:"containsElement",value:function(e,t){return $j(e,t)}},{key:"query",value:function(e,t,n){return Qj(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0;if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,o);var a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);var u={},c=o.filter((function(e){return e instanceof xB}));vU(n,r)&&c.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return u[e]=t[e]}))}));var l=pB(e,t=gU(e,t=t.map((function(e){return rU(e,!1)})),u));return new xB(e,t,a,l)}}]),e}();function OB(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var DB,RB=((DB=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._nextAnimationId=0,i._renderer=e.createRenderer(r.body,{id:"0",encapsulation:ct.None,styles:[],data:{animation:[]}}),i}return _createClass(n,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?ay(e):e;return FB(this._renderer,null,t,"register",[n]),new PB(t,this._renderer)}}]),n}(iy)).\u0275fac=function(e){return new(e||DB)(Ye(ya),Ye(Fl))},DB.\u0275prov=he({token:DB,factory:DB.\u0275fac}),DB),PB=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._id=e,i._renderer=r,i}return _createClass(n,[{key:"create",value:function(e,t){return new NB(this._id,e,t||{},this._renderer)}}]),n}(function(){return function e(){_classCallCheck(this,e)}}()),NB=function(){function e(t,n,r,i){_classCallCheck(this,e),this.id=t,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return _createClass(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return FB(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){return 0}}]),e}();function FB(e,t,n,r,i){return e.setProperty(t,"@@".concat(n,":").concat(r),i)}var LB,MB,VB,jB,UB=((LB=function(){function e(t,n,r){_classCallCheck(this,e),this.delegate=t,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return _createClass(e,[{key:"createRenderer",value:function(e,t){var n=this,r=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var i=this._rendererCache.get(r);return i||(i=new BB("",r,this.engine),this._rendererCache.set(r,i)),i}var o=t.id,s=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(s,e),t.data.animation.forEach((function t(r){Array.isArray(r)?r.forEach(t):n.engine.registerTrigger(o,s,e,r.name,r)})),new zB(this,s,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then((function(){e._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(e,t,n){var r=this;e>=0&&e<this._microtaskId?this._zone.run((function(){return t(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){r._zone.run((function(){r._animationCallbacksBuffer.forEach((function(e){var t=_slicedToArray(e,2);(0,t[0])(t[1])})),r._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([t,n]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}()).\u0275fac=function(e){return new(e||LB)(Ye(ya),Ye(dB),Ye(oc))},LB.\u0275prov=he({token:LB,factory:LB.\u0275fac}),LB),BB=function(){function e(t,n,r){_classCallCheck(this,e),this.namespaceId=t,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return _createClass(e,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}},{key:"data",get:function(){return this.delegate.data}}]),e}(),zB=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;return _classCallCheck(this,n),(s=t.call(this,r,i,o)).factory=e,s.namespaceId=r,s}return _createClass(n,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){var r,i,o=this;if("@"==t.charAt(0)){var s,a=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),u=t.substr(1),c="";return"@"!=u.charAt(0)&&(i=(r=u).indexOf("."),u=(s=_slicedToArray([r.substring(0,i),r.substr(i+1)],2))[0],c=s[1]),this.engine.listen(this.namespaceId,a,u,c,(function(e){o.factory.scheduleListenerCallback(e._data||-1,n,e)}))}return this.delegate.listen(e,t,n)}}]),n}(BB),HB=((MB=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e.body,r,i)}return n}(dB)).\u0275fac=function(e){return new(e||MB)(Ye(Fl),Ye(Xj),Ye(UU))},MB.\u0275prov=he({token:MB,factory:MB.\u0275fac}),MB),GB=[{provide:Xj,useFactory:function(){return"function"==typeof OB()?new AB:new TB}},{provide:new Ue("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:iy,useClass:RB},{provide:UU,useFactory:function(){return new BU}},{provide:dB,useClass:HB},{provide:ya,useFactory:function(e,t,n){return new UB(e,t,n)},deps:[Ug,dB,oc]}],qB=((jB=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:jB}),jB.\u0275inj=fe({factory:function(e){return new(e||jB)},providers:GB,imports:[Xg]}),jB),WB=((VB=function e(){_classCallCheck(this,e)}).\u0275mod=yt({type:VB,bootstrap:[Oj]}),VB.\u0275inj=fe({factory:function(e){return new(e||VB)},providers:[kg,_g,Rf,bg],imports:[[Xg,pj,qP,qB,A_,x_,yV,Dl.initializeApp(Fc)]]}),VB);(function(){if(vr)throw new Error("Cannot enable prod mode after platform setup.");pr=!1})(),Kg().bootstrapModule(WB).catch((function(e){return console.error(e)}))},zVF4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw s(t)},s=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},a=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,a=s?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{o=e[n++];var a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0,a=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=l(e[n],t[n]));return e}var h=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}var p=function(e){function t(n,r){var i=e.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,v.prototype.create),i}return r.__extends(t,e),t}(Error),v=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],s=o?g(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new p(i,a),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},e}();function g(e,t){return e.replace(y,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var y=/\{\$([^}]+)}/g;function m(e){return JSON.parse(e)}var _=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=m(c(o[0])||""),n=m(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:t,claims:n,data:r,signature:i}},b=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}(),k=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=w),void 0===r.error&&(r.error=w),void 0===r.complete&&(r.complete=w);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function w(){}function C(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return e+" failed: "+r+" argument "}t.CONSTANTS=i,t.Deferred=h,t.ErrorFactory=v,t.FirebaseError=p,t.Sha1=b,t.assert=o,t.assertionError=s,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}},t.base64=u,t.base64Decode=c,t.base64Encode=function(e){var t=a(e);return u.encodeByteArray(t,!0)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createSubscribe=function(e,t){var n=new k(e,t);return n.subscribe.bind(n)},t.decode=_,t.deepCopy=function(e){return l(void 0,e)},t.deepExtend=l,t.errorPrefix=C,t.getUA=f,t.isAdmin=function(e){var t=_(e).claims;return"object"==typeof t&&!0===t.admin},t.isBrowser=function(){return"object"==typeof self&&self.self===self},t.isBrowserExtension=function(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id},t.isElectron=function(){return f().indexOf("Electron/")>=0},t.isEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isIE=function(){var e=f();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0},t.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},t.isNode=d,t.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},t.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.isSafari=function(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},t.isUWP=function(){return f().indexOf("MSAppHost/")>=0},t.isValidFormat=function(e){var t=_(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t=_(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},t.issuedAtTime=function(e){var t=_(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=m,t.map=function(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},t.querystring=function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.validateArgCount=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(C(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(C(e,t,r)+"must be a valid context object.")},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(C(e,t,r)+"must be a valid firebase namespace.")}},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);