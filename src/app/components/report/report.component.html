<div class="clr-col" style="width: 90vw;" *ngIf="page$ | async">
  <h1>({{ pageNumber }}/{{ pageCount }}) {{ (page$ | async)?.title }}</h1>
  <hr />
  <datagrid-section
    *ngFor="let section of datagrids$ | async"
    [title]="section.title"
    [subtitle]="section.subtitle"
    [templateObj]="section.templateObj"
  ></datagrid-section>
  <simple-input
    *ngFor="let section of simpleInputs$ | async"
    [title]="section.title"
    [subtitle]="section.subtitle"
    [templateObj]="section.templateObj"
  ></simple-input>
  <div
    class="clr-row clr-justify-content-center stickybar clr-align-items-center"
  >
    <button
      type="button"
      class="btn btn-icon btn-link"
      aria-label="previous page"
      [disabled]="pageNumber == 1"
      [routerLink]="['/report', templateId, pageNumber - 1]"
    >
      <clr-icon shape="angle" dir="left"></clr-icon>
    </button>
    <clr-button-group>
      <clr-button
        [class]="getPageButtonClass(i + 1)"
        *ngFor="let pageTitle of pageTitles; index as i"
        [routerLink]="['/report', templateId, i + 1]"
        >{{ i + 1 }}
        <clr-icon
          shape="check"
          *ngIf="pageCompleted(i + 1)"
          title="Marked complete"
        ></clr-icon
      ></clr-button>
    </clr-button-group>
    <button
      type="button"
      class="btn btn-icon btn-link"
      aria-label="next page"
      *ngIf="pageNumber < pageCount"
      [routerLink]="['/report', templateId, pageNumber + 1]"
    >
      <clr-icon shape="angle" dir="right"></clr-icon>
    </button>
    <button
      type="button"
      class="btn btn-icon btn-success"
      aria-label="next page"
      *ngIf="pageNumber == pageCount"
      [routerLink]="['/report', templateId, pageNumber + 1]"
    >
      Finish report<clr-icon shape="angle" dir="right"></clr-icon>
    </button>
  </div>
</div>
